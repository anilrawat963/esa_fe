import {
  a as a3
} from "./chunk-UQXJMFRI.js";
import {
  m as m2,
  p
} from "./chunk-DY7N5RAZ.js";
import {
  i as i2
} from "./chunk-FMOL5XMB.js";
import {
  i as i3,
  l as l2,
  n as n4,
  p as p2
} from "./chunk-OEBAFVQK.js";
import {
  D,
  F,
  g2 as g,
  x as x2
} from "./chunk-23NJHA5Q.js";
import {
  e,
  v,
  x as x3
} from "./chunk-MC6NAKKX.js";
import {
  c
} from "./chunk-EDA5QFHZ.js";
import {
  n as n3,
  r as r2
} from "./chunk-W6J7XCPU.js";
import {
  l
} from "./chunk-T7F6Q6JJ.js";
import {
  o as o3
} from "./chunk-CSMCPN64.js";
import {
  s as s4
} from "./chunk-WRA2WBYC.js";
import {
  o as o2
} from "./chunk-XWE6BM2U.js";
import {
  r
} from "./chunk-SOIZOFSB.js";
import {
  n as n2
} from "./chunk-XXLHAM2M.js";
import {
  b,
  m
} from "./chunk-5EI5H4QX.js";
import {
  a2,
  s2,
  s3,
  u,
  x
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  o
} from "./chunk-65HD3WXL.js";
import {
  a,
  i3 as i,
  n,
  s2 as s
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/renderers/support/AuthoringInfoClassBreakInfo.js
var s5;
var p3 = s5 = class extends n2 {
  constructor(r3) {
    super(r3), this.minValue = 0, this.maxValue = 0;
  }
  clone() {
    return new s5({ minValue: this.minValue, maxValue: this.maxValue });
  }
};
__decorate([m({ type: Number, json: { write: true } })], p3.prototype, "minValue", void 0), __decorate([m({ type: Number, json: { write: true } })], p3.prototype, "maxValue", void 0), p3 = s5 = __decorate([a2("esri.renderers.support.AuthoringInfoClassBreakInfo")], p3);

// node_modules/@arcgis/core/renderers/support/AuthoringInfoFieldInfo.js
var n5;
var a4 = n5 = class extends n2 {
  constructor(o4) {
    super(o4), this.field = "", this.normalizationField = "", this.label = "", this.classBreakInfos = new Array();
  }
  clone() {
    return new n5({ field: this.field, normalizationField: this.normalizationField, label: this.label, classBreakInfos: a(this.classBreakInfos) });
  }
};
__decorate([m({ type: String, json: { write: true } })], a4.prototype, "field", void 0), __decorate([m({ type: String, json: { write: true } })], a4.prototype, "normalizationField", void 0), __decorate([m({ type: String, json: { write: true } })], a4.prototype, "label", void 0), __decorate([m({ type: [p3], json: { write: true } })], a4.prototype, "classBreakInfos", void 0), a4 = n5 = __decorate([a2("esri.renderers.support.AuthoringInfoFieldInfo")], a4);

// node_modules/@arcgis/core/renderers/support/AuthoringInfoSizeStop.js
var s6;
var p4 = s6 = class extends n2 {
  constructor(r3) {
    super(r3), this.label = null, this.size = null, this.value = null;
  }
  clone() {
    return new s6({ label: this.label, value: this.value, size: this.size });
  }
};
__decorate([m({ type: String, json: { write: true } })], p4.prototype, "label", void 0), __decorate([m({ type: Number, json: { write: true } })], p4.prototype, "size", void 0), __decorate([m({ type: Number, json: { write: true } })], p4.prototype, "value", void 0), p4 = s6 = __decorate([a2("esri.renderers.support.AuthoringInfoSizeStop")], p4);
var i4 = p4;

// node_modules/@arcgis/core/renderers/support/AuthoringInfoVisualVariable.js
var p5;
var a5 = new o({ percentTotal: "percent-of-total", ratio: "ratio", percent: "percent" });
var u2 = new o({ sizeInfo: "size", colorInfo: "color", transparencyInfo: "opacity", rotationInfo: "rotation" });
var y = { key: (e3) => "number" == typeof e3 ? "number" : "string", typeMap: { number: Number, string: String }, base: null };
var m3 = ["high-to-low", "above-and-below", "centered-on", "extremes"];
var c2 = [.../* @__PURE__ */ new Set([...["high-to-low", "above-and-below", "centered-on", "extremes", "above", "below"], ...["high-to-low", "above-and-below", "above", "below", "reference-size", "spike"]])];
var S = ["seconds", "minutes", "hours", "days", "months", "years"];
var h = ["circle", "diamond", "hexagon-flat", "hexagon-pointy", "square"];
var d = ["triangle-closed-outline", "triangle-gradient-fill-closed", "triangle-gradient-fill-closed-outline", "triangle-gradient-fill-open", "triangle-gradient-fill-open-outline", "triangle-open-outline", "triangle-solid-fill-closed", "triangle-solid-fill-closed-outline", "triangle-solid-fill-open", "triangle-solid-fill-open-outline"];
var f = p5 = class extends n2 {
  constructor(e3) {
    super(e3), this.endTime = null, this.field = null, this.maxSliderValue = null, this.minSliderValue = null, this.startTime = null, this.type = null, this.units = null;
  }
  castEndTime(e3) {
    return "string" == typeof e3 || "number" == typeof e3 ? e3 : null;
  }
  get normalizationField() {
    return "reference-size" === this.theme || "spike" === this.theme ? this._get("normalizationField") : null;
  }
  set normalizationField(e3) {
    this._set("normalizationField", e3);
  }
  get referenceSizeScale() {
    return "reference-size" === this.theme ? this._get("referenceSizeScale") : null;
  }
  set referenceSizeScale(e3) {
    this._set("referenceSizeScale", e3);
  }
  get referenceSizeSymbolStyle() {
    return "reference-size" === this.theme ? this._get("referenceSizeSymbolStyle") : null;
  }
  set referenceSizeSymbolStyle(e3) {
    this._set("referenceSizeSymbolStyle", e3);
  }
  get spikeSymbolStyle() {
    return "spike" === this.theme ? this._get("spikeSymbolStyle") : null;
  }
  set spikeSymbolStyle(e3) {
    this._set("spikeSymbolStyle", e3);
  }
  castStartTime(e3) {
    return "string" == typeof e3 || "number" == typeof e3 ? e3 : null;
  }
  get sizeStops() {
    return "reference-size" === this.theme || "spike" === this.theme ? this._get("sizeStops") : null;
  }
  set sizeStops(e3) {
    this._set("sizeStops", e3);
  }
  get style() {
    return "color" === this.type ? this._get("style") : null;
  }
  set style(e3) {
    this._set("style", e3);
  }
  get theme() {
    return "color" === this.type || "size" === this.type ? this._get("theme") || "high-to-low" : null;
  }
  set theme(e3) {
    this._set("theme", e3);
  }
  clone() {
    return new p5({ endTime: this.endTime, field: this.field, maxSliderValue: this.maxSliderValue, minSliderValue: this.minSliderValue, normalizationField: this.normalizationField, referenceSizeScale: this.referenceSizeScale, referenceSizeSymbolStyle: this.referenceSizeSymbolStyle, spikeSymbolStyle: this.spikeSymbolStyle, sizeStops: a(this.sizeStops), startTime: this.startTime, style: this.style, theme: this.theme, type: this.type, units: this.units });
  }
};
__decorate([m({ types: y, json: { write: true } })], f.prototype, "endTime", void 0), __decorate([s4("endTime")], f.prototype, "castEndTime", null), __decorate([m({ type: String, json: { write: true } })], f.prototype, "field", void 0), __decorate([m({ type: Number, json: { write: true } })], f.prototype, "maxSliderValue", void 0), __decorate([m({ type: Number, json: { write: true } })], f.prototype, "minSliderValue", void 0), __decorate([m({ type: String, json: { origins: { "web-scene": { write: false } }, write: true } })], f.prototype, "normalizationField", null), __decorate([m({ type: Number, value: null, json: { origins: { "web-scene": { write: false } }, write: true } })], f.prototype, "referenceSizeScale", null), __decorate([m({ type: h, value: null, json: { origins: { "web-scene": { write: false } }, write: true } })], f.prototype, "referenceSizeSymbolStyle", null), __decorate([m({ type: d, value: null, json: { origins: { "web-scene": { write: false } }, write: true } })], f.prototype, "spikeSymbolStyle", null), __decorate([m({ types: y, json: { write: true } })], f.prototype, "startTime", void 0), __decorate([s4("startTime")], f.prototype, "castStartTime", null), __decorate([m({ type: [i4], json: { origins: { "web-scene": { write: false } }, write: true } })], f.prototype, "sizeStops", null), __decorate([m({ type: a5.apiValues, value: null, json: { type: a5.jsonValues, read: a5.read, write: a5.write } })], f.prototype, "style", null), __decorate([m({ type: c2, value: null, json: { type: c2, origins: { "web-scene": { type: m3, write: { writer: (e3, t2) => {
  m3.includes(e3) && (t2.theme = e3);
} } } }, write: true } })], f.prototype, "theme", null), __decorate([m({ type: u2.apiValues, json: { type: u2.jsonValues, read: u2.read, write: u2.write } })], f.prototype, "type", void 0), __decorate([m({ type: S, json: { type: S, write: true } })], f.prototype, "units", void 0), f = p5 = __decorate([a2("esri.renderers.support.AuthoringInfoVisualVariable")], f);
var g2 = f;

// node_modules/@arcgis/core/renderers/support/AuthoringInfo.js
var c3;
var h2 = new o({ esriClassifyDefinedInterval: "defined-interval", esriClassifyEqualInterval: "equal-interval", esriClassifyManual: "manual", esriClassifyNaturalBreaks: "natural-breaks", esriClassifyQuantile: "quantile", esriClassifyStandardDeviation: "standard-deviation" });
var y2 = new o({ classedSize: "class-breaks-size", classedColor: "class-breaks-color", univariateColorSize: "univariate-color-size", relationship: "relationship", predominance: "predominance", dotDensity: "dot-density", flow: "flow" });
var m4 = ["inches", "feet", "yards", "miles", "nautical-miles", "millimeters", "centimeters", "decimeters", "meters", "kilometers"];
var f2 = ["high-to-low", "above-and-below", "above", "below"];
var v2 = ["flow-line", "wave-front"];
var w = ["caret", "circle-caret", "arrow", "circle-arrow", "plus-minus", "circle-plus-minus", "square", "circle", "triangle", "happy-sad", "thumb", "custom"];
var b2 = c3 = class extends n2 {
  constructor(e3) {
    super(e3), this.colorRamp = null, this.fadeRatio = null, this.isAutoGenerated = false, this.lengthUnit = null, this.maxSliderValue = null, this.minSliderValue = null, this.visualVariables = null;
  }
  get classificationMethod() {
    const e3 = this._get("classificationMethod"), t2 = this.type;
    return t2 && "relationship" !== t2 ? "class-breaks-size" === t2 || "class-breaks-color" === t2 ? e3 || "manual" : null : e3;
  }
  set classificationMethod(e3) {
    this._set("classificationMethod", e3);
  }
  readColorRamp(e3) {
    return e3 ? p(e3) : void 0;
  }
  get fields() {
    return this.type && "predominance" !== this.type ? null : this._get("fields");
  }
  set fields(e3) {
    this._set("fields", e3);
  }
  get field1() {
    return this.type && "relationship" !== this.type ? null : this._get("field1");
  }
  set field1(e3) {
    this._set("field1", e3);
  }
  get field2() {
    return this.type && "relationship" !== this.type ? null : this._get("field2");
  }
  set field2(e3) {
    this._set("field2", e3);
  }
  get flowTheme() {
    return "flow" === this.type ? this._get("flowTheme") : null;
  }
  set flowTheme(e3) {
    this._set("flowTheme", e3);
  }
  get focus() {
    return this.type && "relationship" !== this.type ? null : this._get("focus");
  }
  set focus(e3) {
    this._set("focus", e3);
  }
  get numClasses() {
    return this.type && "relationship" !== this.type ? null : this._get("numClasses");
  }
  set numClasses(e3) {
    this._set("numClasses", e3);
  }
  get statistics() {
    return "univariate-color-size" === this.type && "above-and-below" === this.univariateTheme ? this._get("statistics") : null;
  }
  set statistics(e3) {
    this._set("statistics", e3);
  }
  get standardDeviationInterval() {
    const e3 = this.type;
    return e3 && "relationship" !== e3 && "class-breaks-size" !== e3 && "class-breaks-color" !== e3 || this.classificationMethod && "standard-deviation" !== this.classificationMethod ? null : this._get("standardDeviationInterval");
  }
  set standardDeviationInterval(e3) {
    this._set("standardDeviationInterval", e3);
  }
  get type() {
    return this._get("type");
  }
  set type(e3) {
    let t2 = e3;
    "classed-size" === e3 ? t2 = "class-breaks-size" : "classed-color" === e3 && (t2 = "class-breaks-color"), this._set("type", t2);
  }
  get univariateSymbolStyle() {
    return "univariate-color-size" === this.type && "above-and-below" === this.univariateTheme ? this._get("univariateSymbolStyle") : null;
  }
  set univariateSymbolStyle(e3) {
    this._set("univariateSymbolStyle", e3);
  }
  get univariateTheme() {
    return "univariate-color-size" === this.type ? this._get("univariateTheme") : null;
  }
  set univariateTheme(e3) {
    this._set("univariateTheme", e3);
  }
  clone() {
    return new c3({ classificationMethod: this.classificationMethod, colorRamp: a(this.colorRamp), fadeRatio: a(this.fadeRatio), fields: this.fields?.slice(), field1: a(this.field1), field2: a(this.field2), isAutoGenerated: this.isAutoGenerated, focus: this.focus, numClasses: this.numClasses, maxSliderValue: this.maxSliderValue, minSliderValue: this.minSliderValue, lengthUnit: this.lengthUnit, statistics: this.statistics, standardDeviationInterval: this.standardDeviationInterval, type: this.type, visualVariables: this.visualVariables && this.visualVariables.map((e3) => e3.clone()), univariateSymbolStyle: this.univariateSymbolStyle, univariateTheme: this.univariateTheme, flowTheme: this.flowTheme });
  }
};
__decorate([m({ type: h2.apiValues, value: null, json: { type: h2.jsonValues, read: h2.read, write: h2.write, origins: { "web-document": { default: "manual", type: h2.jsonValues, read: h2.read, write: h2.write } } } })], b2.prototype, "classificationMethod", null), __decorate([m({ types: m2, json: { write: true } })], b2.prototype, "colorRamp", void 0), __decorate([o2("colorRamp")], b2.prototype, "readColorRamp", null), __decorate([m({ json: { write: true, origins: { "web-scene": { write: false, read: false } } } })], b2.prototype, "fadeRatio", void 0), __decorate([m({ type: [String], value: null, json: { write: true } })], b2.prototype, "fields", null), __decorate([m({ type: a4, value: null, json: { write: true } })], b2.prototype, "field1", null), __decorate([m({ type: a4, value: null, json: { write: true } })], b2.prototype, "field2", null), __decorate([m({ type: v2, value: null, json: { write: true, origins: { "web-scene": { write: false } } } })], b2.prototype, "flowTheme", null), __decorate([m({ type: ["HH", "HL", "LH", "LL"], value: null, json: { write: true } })], b2.prototype, "focus", null), __decorate([m({ type: Boolean, json: { write: true, default: false, origins: { "web-scene": { write: false } } } })], b2.prototype, "isAutoGenerated", void 0), __decorate([m({ type: Number, value: null, json: { type: x, write: true } })], b2.prototype, "numClasses", null), __decorate([m({ type: m4, json: { type: m4, read: false, write: false, origins: { "web-scene": { read: true, write: true } } } })], b2.prototype, "lengthUnit", void 0), __decorate([m({ type: Number, json: { write: true, origins: { "web-scene": { write: false, read: false } } } })], b2.prototype, "maxSliderValue", void 0), __decorate([m({ type: Number, json: { write: true, origins: { "web-scene": { write: false, read: false } } } })], b2.prototype, "minSliderValue", void 0), __decorate([m({ type: Object, value: null, json: { write: true, origins: { "web-scene": { write: false, read: false } } } })], b2.prototype, "statistics", null), __decorate([m({ type: [0.25, 0.33, 0.5, 1], value: null, json: { type: [0.25, 0.33, 0.5, 1], write: true } })], b2.prototype, "standardDeviationInterval", null), __decorate([m({ type: y2.apiValues, value: null, json: { type: y2.jsonValues, read: y2.read, write: y2.write } })], b2.prototype, "type", null), __decorate([m({ type: [g2], json: { write: true } })], b2.prototype, "visualVariables", void 0), __decorate([m({ type: w, value: null, json: { write: true, origins: { "web-scene": { write: false } } } })], b2.prototype, "univariateSymbolStyle", null), __decorate([m({ type: f2, value: null, json: { write: true, origins: { "web-scene": { write: false } } } })], b2.prototype, "univariateTheme", null), b2 = c3 = __decorate([a2("esri.renderers.support.AuthoringInfo")], b2);

// node_modules/@arcgis/core/renderers/Renderer.js
var n6 = new o({ simple: "simple", uniqueValue: "unique-value", classBreaks: "class-breaks", heatmap: "heatmap", dotDensity: "dot-density", dictionary: "dictionary", pieChart: "pie-chart" }, { ignoreUnknown: true });
var a6 = class extends n2 {
  constructor(e3) {
    super(e3), this.authoringInfo = null, this.type = null;
  }
  async getRequiredFields(e3) {
    if (!this.collectRequiredFields) return [];
    const r3 = /* @__PURE__ */ new Set();
    return await this.collectRequiredFields(r3, e3), Array.from(r3).sort();
  }
  getSymbol(e3, r3) {
  }
  async getSymbolAsync(e3, r3) {
  }
  get symbols() {
    return [];
  }
  get arcadeRequired() {
    return false;
  }
  getAttributeHash() {
    return JSON.stringify(this);
  }
  getMeshHash() {
    return JSON.stringify(this);
  }
};
__decorate([m({ type: b2, json: { write: true } })], a6.prototype, "authoringInfo", void 0), __decorate([m({ type: n6.apiValues, readOnly: true, json: { type: n6.jsonValues, read: false, write: { writer: n6.write, ignoreOrigin: true, isRequired: true } } })], a6.prototype, "type", void 0), a6 = __decorate([a2("esri.renderers.Renderer")], a6);

// node_modules/@arcgis/core/renderers/visualVariables/support/SizeStop.js
var i5;
var l3 = i5 = class extends n2 {
  constructor(e3) {
    super(e3), this.label = null, this.size = null, this.value = null, this.useMinValue = null, this.useMaxValue = null;
  }
  clone() {
    return new i5({ label: this.label, size: this.size, value: this.value, useMaxValue: this.useMaxValue, useMinValue: this.useMinValue });
  }
};
__decorate([m({ type: String, json: { write: true } })], l3.prototype, "label", void 0), __decorate([m({ type: Number, cast: o3, json: { write: { isRequired: true } } })], l3.prototype, "size", void 0), __decorate([m({ type: Number, json: { write: { isRequired: true } } })], l3.prototype, "value", void 0), __decorate([m({ type: Boolean, json: { write: false } })], l3.prototype, "useMinValue", void 0), __decorate([m({ type: Boolean, json: { write: false } })], l3.prototype, "useMaxValue", void 0), l3 = i5 = __decorate([a2("esri.renderers.visualVariables.support.SizeStop")], l3);

// node_modules/@arcgis/core/renderers/visualVariables/support/VisualVariableLegendOptions.js
var p6 = class extends l(n2) {
  constructor() {
    super(...arguments), this.showLegend = null, this.title = null;
  }
};
__decorate([m({ type: Boolean, json: { write: true } })], p6.prototype, "showLegend", void 0), __decorate([m({ type: String, json: { write: true } })], p6.prototype, "title", void 0), p6 = __decorate([a2("esri.renderers.visualVariables.support.VisualVariableLegendOptions")], p6);
var i6 = p6;

// node_modules/@arcgis/core/renderers/visualVariables/VisualVariable.js
var a7 = new o({ colorInfo: "color", transparencyInfo: "opacity", rotationInfo: "rotation", sizeInfo: "size" });
var u3 = class extends n2 {
  constructor(e3) {
    super(e3), this.index = null, this.type = null, this.field = null, this.valueExpression = null, this.valueExpressionTitle = null, this.legendOptions = null;
  }
  castField(e3) {
    return null == e3 ? e3 : "function" == typeof e3 ? (i.getLogger(this).error(".field: field must be a string value"), null) : u(e3);
  }
  get arcadeRequired() {
    return !!this.valueExpression;
  }
  clone() {
  }
  getAttributeHash() {
    return `${this.type}-${this.field}-${this.valueExpression}`;
  }
};
__decorate([m()], u3.prototype, "index", void 0), __decorate([m({ type: a7.apiValues, readOnly: true, json: { read: a7.read, write: { writer: a7.write, isRequired: true } } })], u3.prototype, "type", void 0), __decorate([m({ type: String, json: { write: true } })], u3.prototype, "field", void 0), __decorate([s4("field")], u3.prototype, "castField", null), __decorate([m({ type: String, json: { write: true } })], u3.prototype, "valueExpression", void 0), __decorate([m({ type: String, json: { write: true } })], u3.prototype, "valueExpressionTitle", void 0), __decorate([m({ readOnly: true })], u3.prototype, "arcadeRequired", null), __decorate([m({ type: i6, json: { write: true } })], u3.prototype, "legendOptions", void 0), u3 = __decorate([a2("esri.renderers.visualVariables.VisualVariable")], u3);

// node_modules/@arcgis/core/renderers/visualVariables/support/castSizeVariable.js
function e2(e3) {
  return o3(e3);
}

// node_modules/@arcgis/core/renderers/visualVariables/support/SizeVariableLegendOptions.js
var t = class extends i6 {
  constructor() {
    super(...arguments), this.customValues = null;
  }
};
__decorate([m({ type: [Number], json: { write: true } })], t.prototype, "customValues", void 0), t = __decorate([a2("esri.renderers.visualVariables.support.SizeVariableLegendOptions")], t);
var p7 = t;

// node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js
var x4;
var z = new o({ width: "width", depth: "depth", height: "height", widthAndDepth: "width-and-depth", all: "all" });
var v3 = new o({ unknown: "unknown", inch: "inches", foot: "feet", yard: "yards", mile: "miles", "nautical-mile": "nautical-miles", millimeter: "millimeters", centimeter: "centimeters", decimeter: "decimeters", meter: "meters", kilometer: "kilometers" });
function w2(e3) {
  if (null != e3) return "string" == typeof e3 || "number" == typeof e3 ? e2(e3) : "size" === e3.type ? n4(e3) ? e3 : (delete (e3 = { ...e3 }).type, new V(e3)) : void 0;
}
function g3(e3, t2, i10) {
  if ("object" != typeof e3) return e3;
  const s8 = new V();
  return s8.read(e3, i10), s8;
}
var V = x4 = class extends u3 {
  constructor(e3) {
    super(e3), this.axis = null, this.legendOptions = null, this.normalizationField = null, this.scaleBy = null, this.target = null, this.type = "size", this.useSymbolValue = null, this.valueExpression = null, this.valueRepresentation = null, this.valueUnit = null;
  }
  get cache() {
    return { ipData: this._interpolateData(), hasExpression: !!this.valueExpression, compiledFunc: null, isScaleDriven: null != this.valueExpression && p2.test(this.valueExpression) };
  }
  set index(e3) {
    n4(this.maxSize) && (this.maxSize.index = `visualVariables[${e3}].maxSize`), n4(this.minSize) && (this.minSize.index = `visualVariables[${e3}].minSize`), this._set("index", e3);
  }
  get inputValueType() {
    return i3(this);
  }
  set maxDataValue(e3) {
    e3 && this.stops && (i.getLogger(this).warn("cannot set maxDataValue when stops is not null."), e3 = null), this._set("maxDataValue", e3);
  }
  set maxSize(e3) {
    e3 && this.stops && (i.getLogger(this).warn("cannot set maxSize when stops is not null."), e3 = null), this._set("maxSize", e3);
  }
  castMaxSize(e3) {
    return w2(e3);
  }
  readMaxSize(e3, t2, i10) {
    return g3(e3, t2, i10);
  }
  set minDataValue(e3) {
    e3 && this.stops && (i.getLogger(this).warn("cannot set minDataValue when stops is not null."), e3 = null), this._set("minDataValue", e3);
  }
  set minSize(e3) {
    e3 && this.stops && (i.getLogger(this).warn("cannot set minSize when stops is not null."), e3 = null), this._set("minSize", e3);
  }
  castMinSize(e3) {
    return w2(e3);
  }
  readMinSize(e3, t2, i10) {
    return g3(e3, t2, i10);
  }
  get arcadeRequired() {
    return !!this.valueExpression || (null != this.minSize && "object" == typeof this.minSize && this.minSize.arcadeRequired || null != this.maxSize && "object" == typeof this.maxSize && this.maxSize.arcadeRequired);
  }
  set stops(e3) {
    null == this.minDataValue && null == this.maxDataValue && null == this.minSize && null == this.maxSize ? e3 && Array.isArray(e3) && (e3 = e3.filter((e4) => !!e4)).sort((e4, t2) => e4.value - t2.value) : e3 && (i.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."), e3 = null), this._set("stops", e3);
  }
  get transformationType() {
    return l2(this, this.inputValueType);
  }
  readValueExpression(e3, t2) {
    return e3 || t2.expression && "$view.scale";
  }
  writeValueExpressionWebScene(e3, i10, s8, r3) {
    if ("$view.scale" === e3) {
      if (r3?.messages) {
        const e4 = this.index, i11 = "string" == typeof e4 ? e4 : `visualVariables[${e4}]`;
        r3.messages.push(new s("property:unsupported", this.type + "VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.", { instance: this, propertyName: i11 + ".valueExpression", context: r3 }));
      }
    } else i10[s8] = e3;
  }
  readValueUnit(e3) {
    return e3 ? v3.read(e3) : null;
  }
  clone() {
    return new x4({ axis: this.axis, field: this.field, valueExpression: this.valueExpression, valueExpressionTitle: this.valueExpressionTitle, maxDataValue: this.maxDataValue, maxSize: n4(this.maxSize) ? this.maxSize.clone() : this.maxSize, minDataValue: this.minDataValue, minSize: n4(this.minSize) ? this.minSize.clone() : this.minSize, normalizationField: this.normalizationField, stops: this.stops?.map((e3) => e3.clone()), target: this.target, useSymbolValue: this.useSymbolValue, valueRepresentation: this.valueRepresentation, valueUnit: this.valueUnit, legendOptions: this.legendOptions?.clone() });
  }
  flipSizes() {
    if ("clamped-linear" === this.transformationType) {
      const { minSize: e3, maxSize: t2 } = this;
      return this.minSize = t2, this.maxSize = e3, this;
    }
    if ("stops" === this.transformationType) {
      const e3 = this.stops;
      if (!e3) return this;
      const t2 = e3.map((e4) => e4.size).reverse(), i10 = e3.length;
      for (let s8 = 0; s8 < i10; s8++) e3[s8].size = t2[s8];
      return this;
    }
    return this;
  }
  getAttributeHash() {
    return `${super.getAttributeHash()}-${this.target}-${this.normalizationField}`;
  }
  _interpolateData() {
    return this.stops?.map((e3) => e3.value || 0);
  }
};
__decorate([m({ readOnly: true })], V.prototype, "cache", null), __decorate([m({ type: z.apiValues, json: { type: z.jsonValues, origins: { "web-map": { read: false } }, read: z.read, write: z.write } })], V.prototype, "axis", void 0), __decorate([m()], V.prototype, "index", null), __decorate([m({ type: String, readOnly: true })], V.prototype, "inputValueType", null), __decorate([m({ type: p7, json: { write: true } })], V.prototype, "legendOptions", void 0), __decorate([m({ type: Number, value: null, json: { write: true } })], V.prototype, "maxDataValue", null), __decorate([m({ type: Number, value: null, json: { write: true } })], V.prototype, "maxSize", null), __decorate([s4("maxSize")], V.prototype, "castMaxSize", null), __decorate([o2("maxSize")], V.prototype, "readMaxSize", null), __decorate([m({ type: Number, value: null, json: { write: true } })], V.prototype, "minDataValue", null), __decorate([m({ type: Number, value: null, json: { write: true } })], V.prototype, "minSize", null), __decorate([s4("minSize")], V.prototype, "castMinSize", null), __decorate([o2("minSize")], V.prototype, "readMinSize", null), __decorate([m({ type: String, json: { write: true } })], V.prototype, "normalizationField", void 0), __decorate([m({ readOnly: true })], V.prototype, "arcadeRequired", null), __decorate([m({ type: String })], V.prototype, "scaleBy", void 0), __decorate([m({ type: [l3], value: null, json: { write: true } })], V.prototype, "stops", null), __decorate([m({ type: ["outline"], json: { write: true } })], V.prototype, "target", void 0), __decorate([m({ type: String, readOnly: true })], V.prototype, "transformationType", null), __decorate([m({ type: ["size"], json: { type: ["sizeInfo"] } })], V.prototype, "type", void 0), __decorate([m({ type: Boolean, json: { write: true, origins: { "web-map": { read: false } } } })], V.prototype, "useSymbolValue", void 0), __decorate([m({ type: String, json: { write: true } })], V.prototype, "valueExpression", void 0), __decorate([o2("valueExpression", ["valueExpression", "expression"])], V.prototype, "readValueExpression", null), __decorate([r("web-scene", "valueExpression")], V.prototype, "writeValueExpressionWebScene", null), __decorate([m({ type: ["radius", "diameter", "area", "width", "distance"], json: { write: true } })], V.prototype, "valueRepresentation", void 0), __decorate([m({ type: v3.apiValues, json: { write: v3.write, origins: { "web-map": { read: false }, "web-scene": { write: true }, "portal-item": { write: true } } } })], V.prototype, "valueUnit", void 0), __decorate([o2("valueUnit")], V.prototype, "readValueUnit", null), V = x4 = __decorate([a2("esri.renderers.visualVariables.SizeVariable")], V);

// node_modules/@arcgis/core/renderers/visualVariables/ColorVariable.js
var i7;
var p8 = i7 = class extends u3 {
  constructor(t2) {
    super(t2), this.type = "color", this.normalizationField = null;
  }
  get cache() {
    return { ipData: this._interpolateData(), hasExpression: !!this.valueExpression, compiledFunc: null };
  }
  set stops(t2) {
    t2 && Array.isArray(t2) && (t2 = t2.filter((t3) => !!t3)).sort((t3, o4) => t3.value - o4.value), this._set("stops", t2);
  }
  clone() {
    return new i7({ field: this.field, normalizationField: this.normalizationField, valueExpression: this.valueExpression, valueExpressionTitle: this.valueExpressionTitle, stops: this.stops && this.stops.map((t2) => t2.clone()), legendOptions: this.legendOptions?.clone() });
  }
  getAttributeHash() {
    return `${super.getAttributeHash()}-${this.normalizationField}`;
  }
  _interpolateData() {
    return this.stops && this.stops.map((t2) => t2.value || 0);
  }
};
__decorate([m({ readOnly: true })], p8.prototype, "cache", null), __decorate([m({ type: ["color"], json: { type: ["colorInfo"] } })], p8.prototype, "type", void 0), __decorate([m({ type: String, json: { write: true } })], p8.prototype, "normalizationField", void 0), __decorate([m({ type: [a3], json: { write: true } })], p8.prototype, "stops", null), p8 = i7 = __decorate([a2("esri.renderers.visualVariables.ColorVariable")], p8);

// node_modules/@arcgis/core/renderers/visualVariables/support/OpacityStop.js
var l4;
var u4 = l4 = class extends n2 {
  constructor(r3) {
    super(r3), this.label = null, this.opacity = null, this.value = null;
  }
  readOpacity(r3, o4) {
    return r2(o4.transparency);
  }
  writeOpacity(r3, o4, t2) {
    o4[t2] = n3(r3);
  }
  clone() {
    return new l4({ label: this.label, opacity: this.opacity, value: this.value });
  }
};
__decorate([m({ type: String, json: { write: true } })], u4.prototype, "label", void 0), __decorate([m({ type: Number, json: { type: x, write: { target: "transparency", isRequired: true } } })], u4.prototype, "opacity", void 0), __decorate([o2("opacity", ["transparency"])], u4.prototype, "readOpacity", null), __decorate([r("opacity")], u4.prototype, "writeOpacity", null), __decorate([m({ type: Number, json: { write: { isRequired: true } } })], u4.prototype, "value", void 0), u4 = l4 = __decorate([a2("esri.renderers.visualVariables.support.OpacityStop")], u4);
var y3 = u4;

// node_modules/@arcgis/core/renderers/visualVariables/OpacityVariable.js
var i8;
var a8 = i8 = class extends u3 {
  constructor(t2) {
    super(t2), this.type = "opacity", this.normalizationField = null;
  }
  get cache() {
    return { ipData: this._interpolateData(), hasExpression: !!this.valueExpression, compiledFunc: null };
  }
  set stops(t2) {
    t2 && Array.isArray(t2) && (t2 = t2.filter((t3) => !!t3)).sort((t3, e3) => t3.value - e3.value), this._set("stops", t2);
  }
  clone() {
    return new i8({ field: this.field, normalizationField: this.normalizationField, valueExpression: this.valueExpression, valueExpressionTitle: this.valueExpressionTitle, stops: this.stops && this.stops.map((t2) => t2.clone()), legendOptions: this.legendOptions?.clone() });
  }
  getAttributeHash() {
    return `${super.getAttributeHash()}-${this.normalizationField}`;
  }
  _interpolateData() {
    return this.stops && this.stops.map((t2) => t2.value || 0);
  }
};
__decorate([m({ readOnly: true })], a8.prototype, "cache", null), __decorate([m({ type: ["opacity"], json: { type: ["transparencyInfo"] } })], a8.prototype, "type", void 0), __decorate([m({ type: String, json: { write: true } })], a8.prototype, "normalizationField", void 0), __decorate([m({ type: [y3], json: { write: true } })], a8.prototype, "stops", null), a8 = i8 = __decorate([a2("esri.renderers.visualVariables.OpacityVariable")], a8);

// node_modules/@arcgis/core/renderers/visualVariables/RotationVariable.js
var i9;
var s7 = i9 = class extends u3 {
  constructor(e3) {
    super(e3), this.axis = null, this.type = "rotation", this.rotationType = "geographic";
  }
  get cache() {
    return { hasExpression: !!this.valueExpression, compiledFunc: null };
  }
  clone() {
    return new i9({ axis: this.axis, rotationType: this.rotationType, field: this.field, valueExpression: this.valueExpression, valueExpressionTitle: this.valueExpressionTitle, legendOptions: this.legendOptions?.clone() });
  }
};
__decorate([m({ readOnly: true })], s7.prototype, "cache", null), __decorate([m({ type: ["heading", "tilt", "roll"], json: { origins: { "web-scene": { default: "heading", write: true } } } })], s7.prototype, "axis", void 0), __decorate([m({ type: ["rotation"], json: { type: ["rotationInfo"] } })], s7.prototype, "type", void 0), __decorate([m({ type: ["geographic", "arithmetic"], json: { write: true, origins: { "web-document": { write: true, default: "geographic" } } } })], s7.prototype, "rotationType", void 0), s7 = i9 = __decorate([a2("esri.renderers.visualVariables.RotationVariable")], s7);

// node_modules/@arcgis/core/renderers/visualVariables/VisualVariableFactory.js
var b3 = { color: p8, size: V, opacity: a8, rotation: s7 };
var u5 = new o({ colorInfo: "color", transparencyInfo: "opacity", rotationInfo: "rotation", sizeInfo: "size" });
var h3 = /^\[([^\]]+)\]$/i;
var m5 = class extends b {
  constructor() {
    super(...arguments), this.colorVariables = null, this.opacityVariables = null, this.rotationVariables = null, this.sizeVariables = null;
  }
  set visualVariables(r3) {
    if (this._resetVariables(), r3 = r3?.filter((r4) => !!r4), r3?.length) {
      for (const s8 of r3) switch (s8.type) {
        case "color":
          this.colorVariables.push(s8);
          break;
        case "opacity":
          this.opacityVariables.push(s8);
          break;
        case "rotation":
          this.rotationVariables.push(s8);
          break;
        case "size":
          this.sizeVariables.push(s8);
      }
      if (this.sizeVariables.length) {
        this.sizeVariables.some((r4) => !!r4.target) && r3.sort((r4, s8) => {
          let o4 = null;
          return o4 = r4.target === s8.target ? 0 : r4.target ? 1 : -1, o4;
        });
      }
      for (let s8 = 0; s8 < r3.length; s8++) {
        r3[s8].index = s8;
      }
      this._set("visualVariables", r3);
    } else this._set("visualVariables", r3);
  }
  readVariables(r3, s8, o4) {
    const { rotationExpression: a10, rotationType: i10 } = s8, l5 = a10?.match(h3), n8 = l5?.[1];
    if (n8 && (r3 || (r3 = []), r3.push({ type: "rotationInfo", rotationType: i10, field: n8 })), r3) return r3.map((r4) => {
      const s9 = u5.read(r4.type), a11 = b3[s9];
      a11 || (i.getLogger(this).warn(`Unknown variable type: ${s9}`), o4?.messages && o4.messages.push(new s2("visual-variable:unsupported", `visualVariable of type '${s9}' is not supported`, { definition: r4, context: o4 })));
      const i11 = new a11();
      return i11.read(r4, o4), i11;
    });
  }
  writeVariables(r3, s8) {
    const o4 = [];
    for (const e3 of r3) {
      const r4 = e3.toJSON(s8);
      r4 && o4.push(r4);
    }
    return o4;
  }
  _resetVariables() {
    this.colorVariables = [], this.opacityVariables = [], this.rotationVariables = [], this.sizeVariables = [];
  }
};
__decorate([m()], m5.prototype, "visualVariables", null), m5 = __decorate([a2("esri.renderers.visualVariables.VisualVariableFactory")], m5);

// node_modules/@arcgis/core/renderers/mixins/VisualVariablesMixin.js
var m6 = { base: u3, key: "type", typeMap: { opacity: a8, color: p8, rotation: s7, size: V } };
var v4 = (l5) => {
  const u6 = l5;
  let p9 = class extends u6 {
    constructor() {
      super(...arguments), this._vvFactory = new m5();
    }
    set visualVariables(r3) {
      this._vvFactory.visualVariables = r3, this._set("visualVariables", this._vvFactory.visualVariables);
    }
    readVisualVariables(r3, a10, s8) {
      return this._vvFactory.readVariables(r3, a10, s8);
    }
    writeVisualVariables(r3, a10, s8, i10) {
      a10[s8] = this._vvFactory.writeVariables(r3, i10);
    }
    get arcadeRequiredForVisualVariables() {
      return this.visualVariables?.some(({ arcadeRequired: r3 }) => r3) ?? false;
    }
    hasVisualVariables(r3, a10) {
      return r3 ? this.getVisualVariablesForType(r3, a10).length > 0 : this.getVisualVariablesForType("size", a10).length > 0 || this.getVisualVariablesForType("color", a10).length > 0 || this.getVisualVariablesForType("opacity", a10).length > 0 || this.getVisualVariablesForType("rotation", a10).length > 0;
    }
    getVisualVariablesForType(r3, a10) {
      return this.visualVariables?.filter((s8) => s8.type === r3 && ("string" == typeof a10 ? s8.target === a10 : false !== a10 || !s8.target)) ?? [];
    }
    async collectVVRequiredFields(r3, a10) {
      let s8 = [];
      this.visualVariables && (s8 = s8.concat(this.visualVariables));
      for (const i10 of s8) i10 && (i10.field && x3(r3, a10, i10.field), i10.normalizationField && x3(r3, a10, i10.normalizationField), i10.valueExpression && (y4(i10.valueExpression, r3, a10) || await v(r3, a10, null, i10.valueExpression)));
    }
  };
  return __decorate([m({ types: [m6], value: null, json: { write: true } })], p9.prototype, "visualVariables", null), __decorate([o2("visualVariables", ["visualVariables", "rotationType", "rotationExpression"])], p9.prototype, "readVisualVariables", null), __decorate([r("visualVariables")], p9.prototype, "writeVisualVariables", null), p9 = __decorate([a2("esri.renderers.mixins.VisualVariablesMixin")], p9), p9;
};
function y4(r3, a10, s8) {
  const i10 = e(r3);
  return null != i10 && (x3(a10, s8, i10), true);
}

// node_modules/@arcgis/core/renderers/support/commonProperties.js
var y5 = { types: D, json: { write: { writer: i2 }, origins: { "web-scene": { types: F, write: { writer: i2 }, read: { reader: s3({ types: F }) } } } } };
var m7 = n({ json: { origins: { "web-scene": { write: { isRequired: true } } } } }, y5);
var n7 = { types: { base: c, key: "type", typeMap: { "simple-fill": x2.typeMap["simple-fill"], "picture-fill": x2.typeMap["picture-fill"], "polygon-3d": x2.typeMap["polygon-3d"], cim: x2.typeMap.cim } }, json: { write: { writer: i2 }, origins: { "web-scene": { type: g, write: { writer: i2 } } } } };
var a9 = { cast: (e3) => null == e3 || "string" == typeof e3 || "number" == typeof e3 ? e3 : `${e3}`, json: { type: String, write: { writer: (e3, r3) => {
  r3.value = e3?.toString();
} } } };

export {
  b2 as b,
  a6 as a,
  u3 as u,
  a8 as a2,
  s7 as s,
  l3 as l,
  V,
  v4 as v,
  y5 as y,
  m7 as m,
  n7 as n,
  a9 as a3
};
//# sourceMappingURL=chunk-TWU3GKHX.js.map
