{
  "version": 3,
  "sources": ["../../@arcgis/core/renderers/support/numberUtils.js", "../../@arcgis/core/widgets/Legend/support/utils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r?.[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().includes(\"e\")){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map((t,n)=>n)}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{millisecondsPerTimeUnit as t}from\"../../../core/timeUtils.js\";import e from\"../../../layers/support/DateTimeFieldFormat.js\";import{supportsFieldConfiguration as n}from\"../../../layers/support/layerUtils.js\";import i from\"../../../popup/support/FieldInfoFormat.js\";import{format as o}from\"../../../renderers/support/numberUtils.js\";import{formatAnyDate as r}from\"../../../smartMapping/support/utils.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import{convertNumberFieldFormatToIntlOptions as A,convertNumberFormatToIntlOptions as a,formatNumber as s}from\"../../../intl/number.js\";const u=\"<\",f=\">\";function m(t,e,n,i){let o=\"\";0===e?o=`${u} `:e===n&&(o=`${f} `);const r=d(t,i);return null==r?\"\":o+r}function p(t){const{format:e,fieldFormat:n}=t||{};return\"number\"===n?.type||!!e&&null==e.dateFormat&&(null!=e.places||null!=e.digitSeparator)}function d(t,e){if(null==t)return t;const{fieldType:n,format:i,fieldFormat:l,timeZoneOptions:u}=e||{};if(F(n))return r(t,{fieldType:n,format:i?.dateFormat,fieldFormat:\"date-time\"===l?.type?l:void 0,timeZoneOptions:u});if(\"string\"==typeof t&&p(e)){const e=Number(t);isNaN(e)||(t=e)}if(\"string\"==typeof t)return t;const f=\"number\"===l?.type?A(l):i?a(i):void 0;return f?s(t,f):o(t)}const c=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];async function g(t){if(!(\"visualVariables\"in t)||!t.visualVariables)return null;const e=t.visualVariables.find(t=>\"color\"===t.type);if(!e)return null;let n=null,i=null;if(e.stops){if(1===e.stops.length)return e.stops[0].color;n=e.stops[0].value,i=e.stops[e.stops.length-1].value}const o=null!=n&&null!=i?n+(i-n)/2:0,{getColor:r}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return r(e,o)??null}async function w(t,e){const n=t.trailCap,i=t.trailWidth||1,o=e||await g(t)||t.color;return new l({cap:n,color:o,width:i})}function y(t,e){if(!e)return null;if(\"featureReduction\"in t)switch(t.featureReduction?.type){case\"cluster\":case\"binning\":{const n=t.featureReduction.fields.find(({name:t})=>t.toLowerCase()===e.toLowerCase());return n&&\"getField\"in t?t.getField(n.onStatisticField):null}}return\"getField\"in t?t.getField?.(e):null}function I(t,e){const n=\"popupTemplate\"in t?t.popupTemplate?.fieldInfos:null;if(n?.length&&e)return n.find(t=>t.fieldName?.toLowerCase()===e.toLowerCase())}function U(e){let n=0,i=0;return e.stops?(n=e.stops?.at(0)?.value??n,i=e.stops?.at(-1)?.value??i):\"minDataValue\"in e&&\"maxDataValue\"in e&&(n=e.minDataValue??n,i=e.maxDataValue??i),i-n>2*t.days?\"short-date\":\"short-date-short-time\"}function F(t){return[\"date\",\"date-only\",\"time-only\",\"timestamp-offset\"].includes(t||\"\")}function h(t){return n(t)&&!(\"featureReduction\"in t&&t.featureReduction)}function V(t,n,o){const r=j(t,n.field,o);return r?(F(r.fieldType)&&(h(t)?r.fieldFormat??=new e({dateStyle:\"short\",timeStyle:\"short-date-short-time\"===U(n)?\"short\":null}):r.format??=new i({dateFormat:U(n)})),r):null}function j(t,e,n){const i=y(t,e),o=i?.name;if(!o)return null;const r=i?.type,l=h(t);return{fieldType:r,format:l?null:I(t,o)?.format,fieldFormat:l?t.getFieldConfiguration(o)?.fieldFormat:null,timeZoneOptions:F(r)?{layerTimeZone:\"preferredTimeZone\"in t?t.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:\"datesInUnknownTimezone\"in t&&t.datesInUnknownTimezone}:null}}function C(t,e){if(\"authoringInfo\"in t)return t.authoringInfo?.visualVariables?.find(({theme:t})=>t===e)}function b(t,e){let n=null!=t?t:\"\";return null!=e&&e&&(n=n?\"(\"+n+\") AND (\"+e+\")\":e),n}export{m as createStopLabel,d as formatValue,C as getAuthoringInfoVisualVariableByTheme,j as getFormatOptions,V as getFormatOptionsForVisualVariable,g as getMedianColor,w as getSymbolForFlowRenderer,b as mergeWhereClauses,c as rgbImgSource,f as specialCharsGreaterThan,u as specialCharsLessThan};\n"],
  "mappings": "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",
  "names": ["n", "r", "e", "o", "i", "l", "u", "s", "t", "c", "f", "m", "g", "u", "m", "e", "n", "i", "o", "r", "l", "f", "c", "t", "I"]
}
