{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/rasterTransforms/BaseRasterTransform.js", "../../@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js", "../../@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{get affectsPixelSize(){return!1}forwardTransform(r){return r}inverseTransform(r){return r}};r([e()],t.prototype,\"affectsPixelSize\",null),r([e({json:{write:!0}})],t.prototype,\"spatialReference\",void 0),t=r([s(\"esri.layers.support.rasterTransforms.BaseRasterTransform\")],t);export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as e}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./BaseRasterTransform.js\";var a;let n=a=class extends s{constructor(){super(...arguments),this.type=\"gcs-shift\",this.tolerance=1e-8}forwardTransform(r){return\"point\"===(r=r.clone()).type?(r.x>180+this.tolerance&&(r.x-=360),r):(r.xmin>=180-this.tolerance?(r.xmax-=360,r.xmin-=360):r.xmax>180+this.tolerance&&(r.xmin=-180,r.xmax=180),r)}inverseTransform(r){return\"point\"===(r=r.clone()).type?(r.x<-this.tolerance&&(r.x+=360),r):(r.xmin<-this.tolerance&&(r.xmin+=360,r.xmax+=360),r)}clone(){return new a({tolerance:this.tolerance})}};r([e({GCSShiftXform:\"gcs-shift\"})],n.prototype,\"type\",void 0),r([o()],n.prototype,\"tolerance\",void 0),n=a=r([t(\"esri.layers.support.rasterTransforms.GCSShiftTransform\")],n);export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as s}from\"../../../core/accessorSupport/decorators/writer.js\";import n from\"../../../geometry/Extent.js\";import f from\"../../../geometry/Point.js\";import l from\"./BaseRasterTransform.js\";var p;function a(e,r,o){const{x:t,y:i}=r;if(o<2){return{x:e[0]+t*e[2]+i*e[4],y:e[1]+t*e[3]+i*e[5]}}if(2===o){const r=t*t,o=i*i,s=t*i;return{x:e[0]+t*e[2]+i*e[4]+r*e[6]+s*e[8]+o*e[10],y:e[1]+t*e[3]+i*e[5]+r*e[7]+s*e[9]+o*e[11]}}const s=t*t,n=i*i,f=t*i,l=s*t,p=s*i,a=t*n,c=i*n;return{x:e[0]+t*e[2]+i*e[4]+s*e[6]+f*e[8]+n*e[10]+l*e[12]+p*e[14]+a*e[16]+c*e[18],y:e[1]+t*e[3]+i*e[5]+s*e[7]+f*e[9]+n*e[11]+l*e[13]+p*e[15]+a*e[17]+c*e[19]}}function c(e,r,o){const{xmin:t,ymin:i,xmax:s,ymax:f,spatialReference:l}=r;let p=[];if(o<2)p.push({x:t,y:f}),p.push({x:s,y:f}),p.push({x:t,y:i}),p.push({x:s,y:i});else{let e=10;for(let r=0;r<e;r++)p.push({x:t,y:i+(f-i)*r/(e-1)}),p.push({x:s,y:i+(f-i)*r/(e-1)});e=8;for(let r=1;r<=e;r++)p.push({x:t+(s-t)*r/e,y:i}),p.push({x:t+(s-t)*r/e,y:f})}p=p.map(r=>a(e,r,o));const c=p.map(e=>e.x),m=p.map(e=>e.y);return new n({xmin:Math.min.apply(null,c),xmax:Math.max.apply(null,c),ymin:Math.min.apply(null,m),ymax:Math.max.apply(null,m),spatialReference:l})}function m(e){const[r,o,t,i,s,n]=e,f=t*n-s*i,l=s*i-t*n;return[(s*o-r*n)/f,(t*o-r*i)/l,n/f,i/l,-s/f,-t/l]}let u=p=class extends l{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(!o?.length||!t?.length||o.length!==t.length)return null;const i=[];for(let s=0;s<o.length;s++)i.push(o[s]),i.push(t[s]);return i}writeForwardCoefficients(e,r,o){const t=[],i=[];for(let s=0;s<e?.length;s++)s%2==0?t.push(e[s]):i.push(e[s]);r.coeffX=t,r.coeffY=i}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=m(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(!o?.length||!t?.length||o.length!==t.length)return null;const i=[];for(let s=0;s<o.length;s++)i.push(o[s]),i.push(t[s]);return i}writeInverseCoefficients(e,r,o){const t=[],i=[];for(let s=0;s<e?.length;s++)s%2==0?t.push(e[s]):i.push(e[s]);r.inverseCoeffX=t,r.inverseCoeffY=i}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if(\"point\"===e.type){const r=a(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=a(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.inverseCoefficients,e,this.polynomialOrder)}clone(){return new p({polynomialOrder:this.polynomialOrder,forwardCoefficients:this.forwardCoefficients?[...this.forwardCoefficients]:null,inverseCoefficients:this.inverseCoefficients?[...this.inverseCoefficients]:null})}};e([r({json:{write:!0}})],u.prototype,\"polynomialOrder\",void 0),e([r()],u.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],u.prototype,\"readForwardCoefficients\",null),e([s(\"forwardCoefficients\")],u.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],u.prototype,\"readInverseCoefficients\",null),e([s(\"inverseCoefficients\")],u.prototype,\"writeInverseCoefficients\",null),e([r()],u.prototype,\"affectsPixelSize\",null),e([o({PolynomialXform:\"polynomial\"})],u.prototype,\"type\",void 0),u=p=e([i(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],u);export{u as default};\n"],
  "mappings": "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",
  "names": ["r", "a", "n", "r", "a", "r", "o", "t", "s", "n", "p", "c", "e", "m"]
}
