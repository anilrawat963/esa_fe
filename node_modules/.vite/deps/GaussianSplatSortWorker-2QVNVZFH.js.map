{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/support/GaussianSplatSortWorker.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,n,r=!1){this.distances=t,this.sortOrderIndices=s,this.numGaussians=n,this.preciseSort=r}}class s{constructor(t,s){this.distances=t,this.sortedOrderIndices=s}}let n=null,r=null;const e=10,o=20,i=.25;function l(t,s){n?.length!==t&&(n=new Uint32Array(t)),r&&r.length===1+(1<<s)?r.fill(0):r=new Uint32Array(1+(1<<s))}function a(t,s){const a=t.length,c=Math.max(e,Math.min(o,Math.round(Math.log2(a/i)))),u=1+(1<<c);l(a,c);let f=t[0],h=t[0];for(let n=0;n<t.length;n++)f=Math.min(f,t[n]),h=Math.max(h,t[n]);const d=h-f;if(d<1e-6)for(let e=0;e<a;++e)n[e]=0,r[0]++;else{const s=(1<<c)/d;for(let e=0;e<a;e++){const o=(t[e]-f)*s>>>0;n[e]=o,r[o]++}}for(let n=1;n<u;n++)r[n]+=r[n-1];for(let e=0;e<a;e++){const t=n[e];s[--r[t]]=e}}async function c(t){const{distances:n,sortOrderIndices:r,preciseSort:e,numGaussians:o}=t,i=n.subarray(0,o),l=r.subarray(0,o);if(0===i.length||0===l.length)return{result:new s(n,r),transferList:[n.buffer,r.buffer]};if(e){const t=Array.from(l.keys());t.sort((t,s)=>i[t]-i[s]||t-s);const s=t.map(t=>l[t]);l.set(s)}else a(i,l);return{result:new s(n,r),transferList:[n.buffer,r.buffer]}}function u(){n=null,r=null}export{t as SplatSortWorkerInput,s as SplatSortWorkerOutput,u as destroy,c as sort};\n"],
  "mappings": ";;;AAIA,IAAM,IAAN,MAAO;AAAA,EAAC,YAAYA,IAAEC,IAAEC,IAAEC,KAAE,OAAG;AAAC,SAAK,YAAUH,IAAE,KAAK,mBAAiBC,IAAE,KAAK,eAAaC,IAAE,KAAK,cAAYC;AAAA,EAAC;AAAC;AAAC,IAAM,IAAN,MAAO;AAAA,EAAC,YAAYH,IAAEC,IAAE;AAAC,SAAK,YAAUD,IAAE,KAAK,qBAAmBC;AAAA,EAAC;AAAC;AAAC,IAAI,IAAE;AAAN,IAAW,IAAE;AAAK,IAAM,IAAE;AAAR,IAAW,IAAE;AAAb,IAAgB,IAAE;AAAI,SAAS,EAAED,IAAEC,IAAE;AAAC,KAAG,WAASD,OAAI,IAAE,IAAI,YAAYA,EAAC,IAAG,KAAG,EAAE,WAAS,KAAG,KAAGC,MAAG,EAAE,KAAK,CAAC,IAAE,IAAE,IAAI,YAAY,KAAG,KAAGA,GAAE;AAAC;AAAC,SAAS,EAAED,IAAEC,IAAE;AAAC,QAAMG,KAAEJ,GAAE,QAAOK,KAAE,KAAK,IAAI,GAAE,KAAK,IAAI,GAAE,KAAK,MAAM,KAAK,KAAKD,KAAE,CAAC,CAAC,CAAC,CAAC,GAAEE,KAAE,KAAG,KAAGD;AAAG,IAAED,IAAEC,EAAC;AAAE,MAAI,IAAEL,GAAE,CAAC,GAAE,IAAEA,GAAE,CAAC;AAAE,WAAQE,KAAE,GAAEA,KAAEF,GAAE,QAAOE,KAAI,KAAE,KAAK,IAAI,GAAEF,GAAEE,EAAC,CAAC,GAAE,IAAE,KAAK,IAAI,GAAEF,GAAEE,EAAC,CAAC;AAAE,QAAM,IAAE,IAAE;AAAE,MAAG,IAAE,KAAK,UAAQK,KAAE,GAAEA,KAAEH,IAAE,EAAEG,GAAE,GAAEA,EAAC,IAAE,GAAE,EAAE,CAAC;AAAA,OAAQ;AAAC,UAAMN,MAAG,KAAGI,MAAG;AAAE,aAAQE,KAAE,GAAEA,KAAEH,IAAEG,MAAI;AAAC,YAAMC,MAAGR,GAAEO,EAAC,IAAE,KAAGN,OAAI;AAAE,QAAEM,EAAC,IAAEC,IAAE,EAAEA,EAAC;AAAA,IAAG;AAAA,EAAC;AAAC,WAAQN,KAAE,GAAEA,KAAEI,IAAEJ,KAAI,GAAEA,EAAC,KAAG,EAAEA,KAAE,CAAC;AAAE,WAAQK,KAAE,GAAEA,KAAEH,IAAEG,MAAI;AAAC,UAAMP,KAAE,EAAEO,EAAC;AAAE,IAAAN,GAAE,EAAE,EAAED,EAAC,CAAC,IAAEO;AAAA,EAAC;AAAC;AAAC,eAAe,EAAEP,IAAE;AAAC,QAAK,EAAC,WAAUE,IAAE,kBAAiBC,IAAE,aAAYI,IAAE,cAAaC,GAAC,IAAER,IAAES,KAAEP,GAAE,SAAS,GAAEM,EAAC,GAAEE,KAAEP,GAAE,SAAS,GAAEK,EAAC;AAAE,MAAG,MAAIC,GAAE,UAAQ,MAAIC,GAAE,OAAO,QAAM,EAAC,QAAO,IAAI,EAAER,IAAEC,EAAC,GAAE,cAAa,CAACD,GAAE,QAAOC,GAAE,MAAM,EAAC;AAAE,MAAGI,IAAE;AAAC,UAAMP,KAAE,MAAM,KAAKU,GAAE,KAAK,CAAC;AAAE,IAAAV,GAAE,KAAK,CAACA,IAAEC,OAAIQ,GAAET,EAAC,IAAES,GAAER,EAAC,KAAGD,KAAEC,EAAC;AAAE,UAAMA,KAAED,GAAE,IAAI,CAAAA,OAAGU,GAAEV,EAAC,CAAC;AAAE,IAAAU,GAAE,IAAIT,EAAC;AAAA,EAAC,MAAM,GAAEQ,IAAEC,EAAC;AAAE,SAAM,EAAC,QAAO,IAAI,EAAER,IAAEC,EAAC,GAAE,cAAa,CAACD,GAAE,QAAOC,GAAE,MAAM,EAAC;AAAC;AAAC,SAAS,IAAG;AAAC,MAAE,MAAK,IAAE;AAAI;",
  "names": ["t", "s", "n", "r", "a", "c", "u", "e", "o", "i", "l"]
}
