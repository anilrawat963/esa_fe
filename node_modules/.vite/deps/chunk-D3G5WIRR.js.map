{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/support/gfxUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";import e from\"../../Color.js\";import o from\"../../request.js\";import{LRUCache as s}from\"../../core/LRUCache.js\";import{pt2px as r}from\"../../core/screenUtils.js\";import{getCIMSymbolColor as n}from\"./cimSymbolUtils.js\";const i=\"picture-fill\",l=\"simple-fill\",a=\"simple-line\",c=\"simple-marker\",h=\"text\",d=\"cim\",m=new Map([[\"dash\",[4,3]],[\"dashdot\",[4,3,1,3]],[\"dot\",[1,3]],[\"longdash\",[8,3]],[\"longdashdot\",[8,3,1,3]],[\"longdashdotdot\",[8,3,1,3,1,3]],[\"shortdash\",[4,1]],[\"shortdashdot\",[4,1,1,1]],[\"shortdashdotdot\",[4,1,1,1,1,1]],[\"shortdot\",[1,1]],[\"solid\",[]]]),p=new s(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:\"cross\"!==o&&\"x\"!==o&&(s=e.color);break;case l:o&&\"solid\"!==o?\"none\"!==o&&(s={type:\"pattern\",x:0,y:0,src:t(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case i:s={type:\"pattern\",src:e.url,width:r(e.width)*e.xscale,height:r(e.height)*e.yscale,x:r(e.xoffset),y:r(e.yoffset)};break;case h:s=e.color;break;case d:s=n(e)}return s}function f(t,e){const s=t+\"-\"+e,r=p.get(s);return null!=r?Promise.resolve(r):o(t,{responseType:\"image\"}).then(t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement(\"canvas\");i.width=r,i.height=n;const l=i.getContext(\"2d\");l.fillStyle=e,l.fillRect(0,0,r,n),l.globalCompositeOperation=\"destination-in\",l.drawImage(o,0,0);const a=i.toDataURL();return p.put(s,a),a})}function y(t){if(!t)return null;let e=null;switch(t.type){case l:case i:case c:e=y(t.outline);break;case a:{const o=r(t.width);null!=t.style&&\"none\"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:\"miter\"===t.join?r(t.miterLimit):t.join},e.dashArray=g(e).join(\",\")||\"none\");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if(\"string\"==typeof e&&\"none\"!==e)return e.split(\",\").map(t=>Number(t));const r=s??0,n=m.has(o)?m.get(o).map(t=>t*r):[];if(\"butt\"!==t.cap)for(const[i,l]of n.entries())n[i]=i%2==1?l+r:Math.max(l-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll(\"-\",\"\");return t[e]=o,o}})(),b=new e([128,128,128]);export{b as defaultThematicColor,w as dekebabifyLineStyle,g as getDashArray,u as getFill,f as getPatternUrlWithColor,y as getStroke};\n"],
  "mappings": "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",
  "names": ["u", "e", "t", "r", "n", "i", "l", "a"]
}
