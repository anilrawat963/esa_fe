import {
  c as c4,
  d
} from "./chunk-FZGHWS2H.js";
import {
  s
} from "./chunk-GD72EK2J.js";
import {
  c as c3
} from "./chunk-SDWO6NEP.js";
import "./chunk-EC56NYYL.js";
import "./chunk-KDGDF37U.js";
import "./chunk-U6CJFTOF.js";
import {
  b2
} from "./chunk-CZOYDK6P.js";
import {
  l as l2
} from "./chunk-NP2TBOXH.js";
import "./chunk-QYAMBIRP.js";
import "./chunk-JHV6OBEB.js";
import "./chunk-ZVTEFYZX.js";
import "./chunk-LPUPM55U.js";
import "./chunk-WDTGOP77.js";
import "./chunk-VYMBX5H5.js";
import "./chunk-7YH7T6CS.js";
import {
  c as c2
} from "./chunk-3T4IXPP4.js";
import "./chunk-XTZAIV4X.js";
import "./chunk-63LDVRFI.js";
import {
  a as a3,
  c,
  l as l4
} from "./chunk-HWUOAPTX.js";
import "./chunk-QHCKOBU7.js";
import "./chunk-K2OZ6WVC.js";
import "./chunk-MC6NAKKX.js";
import "./chunk-TF6255HN.js";
import "./chunk-C5OQVQZF.js";
import {
  j
} from "./chunk-U3X2LY5C.js";
import "./chunk-JRCD3NNE.js";
import "./chunk-NPYFNHY2.js";
import "./chunk-JW6DU3OK.js";
import {
  X
} from "./chunk-2LC2762W.js";
import "./chunk-W6HOAVT4.js";
import "./chunk-DTZUXJMD.js";
import "./chunk-YLAGKT2D.js";
import "./chunk-6YRQYUCY.js";
import "./chunk-QF7FRVN6.js";
import {
  b as b3
} from "./chunk-P6IKJIMO.js";
import "./chunk-MHV23XAQ.js";
import "./chunk-LPZUGJNG.js";
import "./chunk-XLOINTMG.js";
import {
  e,
  n
} from "./chunk-MA3QDRC3.js";
import "./chunk-W6J7XCPU.js";
import "./chunk-ONXWBTTM.js";
import {
  f,
  l as l3
} from "./chunk-T7F6Q6JJ.js";
import {
  O
} from "./chunk-YDTPM7OQ.js";
import "./chunk-75XOUSSS.js";
import "./chunk-TH4EQWJJ.js";
import "./chunk-XCKT47LJ.js";
import "./chunk-3FUHCAX3.js";
import "./chunk-PZ5RULLK.js";
import "./chunk-OPJX4KXH.js";
import "./chunk-LTPHDYPK.js";
import "./chunk-3OVERDFX.js";
import "./chunk-FPMLKIDB.js";
import "./chunk-AZXJIEZ6.js";
import "./chunk-Q75WYS7K.js";
import "./chunk-H74Q4SYB.js";
import {
  l,
  w
} from "./chunk-2OFHDVO5.js";
import "./chunk-TFJXG32O.js";
import "./chunk-DDOCCRD4.js";
import "./chunk-5UPBUJPC.js";
import "./chunk-THQO67BJ.js";
import "./chunk-4YDOPHTZ.js";
import "./chunk-YY5PITIH.js";
import "./chunk-SMWUT52Z.js";
import {
  _
} from "./chunk-AXZMNHTN.js";
import "./chunk-5T3MJDSR.js";
import "./chunk-NMQNUPE4.js";
import "./chunk-6KIXN4DJ.js";
import "./chunk-7DGJB37R.js";
import "./chunk-234CIOHE.js";
import "./chunk-V2H77UEV.js";
import "./chunk-WRA2WBYC.js";
import "./chunk-XWE6BM2U.js";
import "./chunk-SOIZOFSB.js";
import {
  a as a2
} from "./chunk-XXLHAM2M.js";
import {
  b,
  m
} from "./chunk-5EI5H4QX.js";
import {
  a2 as a
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import "./chunk-R54Q5TGA.js";
import "./chunk-6SSZNBOK.js";
import "./chunk-LZ2XTYP2.js";
import "./chunk-45CFSCQX.js";
import "./chunk-A5XN2VFT.js";
import "./chunk-65HD3WXL.js";
import "./chunk-4DGC7CBY.js";
import {
  o2 as o
} from "./chunk-GNMPGHLQ.js";
import "./chunk-QY7XKUIV.js";
import {
  h
} from "./chunk-AL6YUTZM.js";
import "./chunk-G26ADAPQ.js";

// node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js
var l5 = class extends a2(l3(b)) {
  constructor(o2) {
    super(o2), this.position = null, this.elevationInfo = null, this.feature = null;
  }
  equals(o2) {
    return o(this.position, o2.position) && o(this.elevationInfo, o2.elevationInfo) && c4(this.feature, o2.feature);
  }
};
__decorate([m({ type: _, json: { write: { isRequired: true } } })], l5.prototype, "position", void 0), __decorate([m({ type: c2 }), j()], l5.prototype, "elevationInfo", void 0), __decorate([m(d)], l5.prototype, "feature", void 0), l5 = __decorate([a("esri.analysis.LineOfSightAnalysisObserver")], l5);
var u = l5;

// node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js
var l6 = class extends a2(f) {
  constructor(o2) {
    super(o2), this.position = null, this.elevationInfo = null, this.feature = null;
  }
  equals(o2) {
    return o(this.position, o2.position) && o(this.elevationInfo, o2.elevationInfo) && c4(this.feature, o2.feature);
  }
};
__decorate([m({ type: _, json: { write: true, origins: { "web-scene": { write: { isRequired: true } } } } }), j()], l6.prototype, "position", void 0), __decorate([m({ type: c2 }), j()], l6.prototype, "elevationInfo", void 0), __decorate([m(d)], l6.prototype, "feature", void 0), l6 = __decorate([a("esri.analysis.LineOfSightAnalysisTarget")], l6);

// node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js
var d2 = O.ofType(l6);
var j2 = class extends c3 {
  constructor(t) {
    super(t), this.type = "line-of-sight", this.observer = null, this.extent = null;
  }
  initialize() {
    this.addHandles(l(() => this._computeExtent(), (t) => {
      null == t?.pending && this._set("extent", null != t ? t.extent : null);
    }, w));
  }
  get targets() {
    return this._get("targets") || new d2();
  }
  set targets(t) {
    this._set("targets", n(t, this.targets, d2));
  }
  get spatialReference() {
    return null != this.observer?.position ? this.observer.position.spatialReference : null;
  }
  get valid() {
    return null != this.observer?.position;
  }
  async waitComputeExtent() {
    const t = this._computeExtent();
    return null != t ? t.pending : Promise.resolve();
  }
  _computeExtent() {
    const t = this.spatialReference;
    if (null == this.observer?.position || null == t) return null;
    const e2 = (t2) => "absolute-height" === s(t2.position, t2.elevationInfo), r = this.observer.position, o2 = a3(r.x, r.y, r.z, r.x, r.y, r.z);
    for (const i of this.targets) if (null != i.position) {
      const e3 = X(i.position, t);
      if (null != e3.pending) return { pending: e3.pending, extent: null };
      if (null != e3.geometry) {
        const { x: t2, y: r2, z: s3 } = e3.geometry;
        l4(o2, [t2, r2, s3]);
      }
    }
    const s2 = c(o2, t);
    return e2(this.observer) && this.targets.every(e2) || (s2.zmin = void 0, s2.zmax = void 0), { pending: null, extent: s2 };
  }
  clear() {
    this.observer = null, this.targets.removeAll();
  }
  equals(t) {
    return this === t || super.equals(t) && o(this.observer, t.observer) && h(this.targets.toArray(), t.targets.toArray(), (t2, e2) => t2.equals(e2));
  }
};
__decorate([m({ type: ["line-of-sight"] })], j2.prototype, "type", void 0), __decorate([m({ type: u, json: { read: true, write: true } })], j2.prototype, "observer", void 0), __decorate([m({ cast: e, type: d2, nonNullable: true, json: { read: true, write: true } })], j2.prototype, "targets", null), __decorate([m({ value: null, readOnly: true })], j2.prototype, "extent", void 0), __decorate([m()], j2.prototype, "spatialReference", null), __decorate([m({ readOnly: true })], j2.prototype, "valid", null), j2 = __decorate([a("esri.analysis.LineOfSightAnalysis")], j2);

// node_modules/@arcgis/core/layers/LineOfSightLayer.js
var h2 = O.ofType(l6);
var m2 = class extends b2(l2(b3)) {
  constructor(e2) {
    super(e2), this.type = "line-of-sight", this.operationalLayerType = "LineOfSightLayer", this.analysis = new j2(), this.opacity = 1;
  }
  initialize() {
    this.addHandles(l(() => this.analysis, (e2, t) => {
      null != t && t.parent === this && (t.parent = null), null != e2 && (e2.parent = this);
    }, w));
  }
  async load() {
    return null != this.analysis && this.addResolvingPromise(this.analysis.waitComputeExtent()), this;
  }
  get observer() {
    return this.analysis?.observer;
  }
  set observer(e2) {
    const { analysis: t } = this;
    t && (t.observer = e2);
  }
  get targets() {
    return null != this.analysis ? this.analysis.targets : new O();
  }
  set targets(e2) {
    n(e2, this.analysis?.targets);
  }
  get fullExtent() {
    return null != this.analysis ? this.analysis.extent : null;
  }
  get spatialReference() {
    return null != this.analysis ? this.analysis.spatialReference : null;
  }
  releaseAnalysis(e2) {
    this.analysis === e2 && (this.analysis = new j2());
  }
};
__decorate([m({ json: { read: false }, readOnly: true })], m2.prototype, "type", void 0), __decorate([m({ type: ["LineOfSightLayer"] })], m2.prototype, "operationalLayerType", void 0), __decorate([m({ type: u, json: { read: true, write: { isRequired: true, ignoreOrigin: true } } })], m2.prototype, "observer", null), __decorate([m({ type: h2, json: { read: true, write: { ignoreOrigin: true, isRequired: true } } })], m2.prototype, "targets", null), __decorate([m({ type: j2, nonNullable: true, json: { read: false, write: false } })], m2.prototype, "analysis", void 0), __decorate([m({ readOnly: true })], m2.prototype, "fullExtent", null), __decorate([m({ readOnly: true })], m2.prototype, "spatialReference", null), __decorate([m({ readOnly: true, json: { read: false, write: false, origins: { service: { read: false, write: false }, "portal-item": { read: false, write: false }, "web-document": { read: false, write: false } } } })], m2.prototype, "opacity", void 0), __decorate([m({ type: ["show", "hide"] })], m2.prototype, "listMode", void 0), m2 = __decorate([a("esri.layers.LineOfSightLayer")], m2);
var u2 = m2;
export {
  u2 as default
};
//# sourceMappingURL=LineOfSightLayer-RARTQ6OU.js.map
