import {
  e
} from "./chunk-EEFFS5EK.js";
import {
  j
} from "./chunk-PGB6KL3Q.js";
import {
  z
} from "./chunk-YP3WVJP3.js";
import {
  f
} from "./chunk-5T3MJDSR.js";
import {
  o
} from "./chunk-XWE6BM2U.js";
import {
  m
} from "./chunk-5EI5H4QX.js";
import {
  a2 as a
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";

// node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js
var p = (p2) => {
  const n = p2;
  let c = class extends n {
    constructor() {
      super(...arguments), this.copyright = null, this.minScale = 0, this.maxScale = 0, this.spatialReference = null, this.tileInfo = null, this.tilemapCache = null;
    }
    destroy() {
      this.tilemapCache?.destroy?.();
    }
    readMinScale(e2, o2) {
      return null != o2.minLOD && null != o2.maxLOD ? e2 : 0;
    }
    readMaxScale(e2, o2) {
      return null != o2.minLOD && null != o2.maxLOD ? e2 : 0;
    }
    get supportsBlankTile() {
      return this.version >= 10.2;
    }
    readTilemapCache(e2, o2, r) {
      const t = o2.capabilities?.includes("Tilemap");
      let { minLOD: l, maxLOD: p3, minScale: n2, maxScale: c2 } = o2;
      if (null == l && null == p3 && (0 !== n2 || 0 !== c2)) {
        const e3 = (e4) => Math.round(1e4 * e4) / 1e4;
        n2 = e3(n2 || o2.tileInfo.lods[0].scale), c2 = e3(c2 || o2.tileInfo.lods[o2.tileInfo.lods.length - 1].scale);
        for (const r2 of o2.tileInfo.lods) {
          const o3 = e3(r2.scale);
          l = o3 >= n2 ? r2.level : l, p3 = o3 >= c2 ? r2.level : p3;
        }
      }
      if (t) return new j({ layer: this, minLOD: l, maxLOD: p3 });
      if (o2.tileInfo) {
        const e3 = new z();
        return e3.read(o2.tileInfo, r), new e(e3, l, p3);
      }
      return null;
    }
  };
  return __decorate([m({ json: { read: { source: "copyrightText" } } })], c.prototype, "copyright", void 0), __decorate([m()], c.prototype, "minScale", void 0), __decorate([o("service", "minScale")], c.prototype, "readMinScale", null), __decorate([m()], c.prototype, "maxScale", void 0), __decorate([o("service", "maxScale")], c.prototype, "readMaxScale", null), __decorate([m({ type: f })], c.prototype, "spatialReference", void 0), __decorate([m({ readOnly: true })], c.prototype, "supportsBlankTile", null), __decorate([m({ type: z })], c.prototype, "tileInfo", void 0), __decorate([m()], c.prototype, "tilemapCache", void 0), __decorate([o("service", "tilemapCache", ["capabilities", "tileInfo"])], c.prototype, "readTilemapCache", null), __decorate([m()], c.prototype, "version", void 0), c = __decorate([a("esri.layers.mixins.ArcGISCachedService")], c), c;
};

export {
  p
};
//# sourceMappingURL=chunk-43XFWIA5.js.map
