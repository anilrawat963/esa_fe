import {
  g,
  t as t2,
  u
} from "./chunk-XXLHAM2M.js";
import {
  b,
  e2 as e,
  o,
  r3 as r,
  t3 as t
} from "./chunk-5EI5H4QX.js";
import {
  a2
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  n
} from "./chunk-6SSZNBOK.js";
import {
  a
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js
var i = class _i {
  constructor() {
    this._propertyOriginMap = /* @__PURE__ */ new Map(), this._originStores = new Array(e), this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = true;
  }
  clone(r2) {
    const e2 = new _i(), o2 = this._originStores[0];
    o2 && o2.forEach((s, i2) => {
      e2.set(i2, a(s), 0);
    });
    for (let i2 = 2; i2 < e; i2++) {
      const s = this._originStores[i2];
      s && s.forEach((s2, o3) => {
        r2 && r2.has(o3) || e2.set(o3, a(s2), i2);
      });
    }
    return e2;
  }
  get(t3, s) {
    const i2 = void 0 === s ? this._values : this._originStores[s];
    return i2 ? i2.get(t3) : void 0;
  }
  keys(t3) {
    const s = null == t3 ? this._values : this._originStores[t3];
    return s ? [...s.keys()] : [];
  }
  set(t3, s, i2 = 7) {
    let r2 = this._originStores[i2];
    if (r2 || (r2 = /* @__PURE__ */ new Map(), this._originStores[i2] = r2), r2.set(t3, s), !this._values.has(t3) || this._propertyOriginMap.get(t3) <= i2) {
      const r3 = this._values.get(t3);
      return this._values.set(t3, s), this._propertyOriginMap.set(t3, i2), r3 !== s;
    }
    return false;
  }
  delete(t3, s = 7) {
    const i2 = this._originStores[s];
    if (!i2) return;
    const r2 = i2.get(t3);
    if (i2.delete(t3), this._values.has(t3) && this._propertyOriginMap.get(t3) === s) {
      this._values.delete(t3);
      for (let i3 = s - 1; i3 >= 0; i3--) {
        const s2 = this._originStores[i3];
        if (s2 && s2.has(t3)) {
          this._values.set(t3, s2.get(t3)), this._propertyOriginMap.set(t3, i3);
          break;
        }
      }
    }
    return r2;
  }
  has(t3, s) {
    const i2 = void 0 === s ? this._values : this._originStores[s];
    return !!i2 && i2.has(t3);
  }
  revert(t3, s) {
    for (; s > 0 && !this.has(t3, s); ) --s;
    const i2 = this._originStores[s], r2 = i2?.get(t3), e2 = this._values.get(t3);
    return this._values.set(t3, r2), this._propertyOriginMap.set(t3, s), e2 !== r2;
  }
  originOf(t3) {
    return this._propertyOriginMap.get(t3) || 0;
  }
  isAtOrigin(t3, s) {
    return this.has(t3, s) && this.originOf(t3) === s;
  }
  isBelowOrigin(t3, s) {
    return !this.has(t3) || this.originOf(t3) < s;
  }
  forEach(t3) {
    this._values.forEach(t3);
  }
};

// node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js
var u2 = (t3) => {
  const u4 = t3;
  let m3 = class extends u4 {
    constructor(...r2) {
      super(...r2);
      const t4 = n(this), e2 = t4.store, i2 = new i();
      t4.store = i2, t2(t4, e2, i2);
    }
    read(r2, t4) {
      u(this, r2, t4);
    }
    getAtOrigin(r2, t4) {
      const o2 = f(this), s = r(t4);
      if ("string" == typeof r2) return o2.get(r2, s);
      const i2 = {};
      return r2.forEach((r3) => {
        i2[r3] = o2.get(r3, s);
      }), i2;
    }
    originOf(r2) {
      return t(this.originIdOf(r2));
    }
    originIdOf(r2) {
      return f(this).originOf(r2);
    }
    revert(r2, t4) {
      const o2 = f(this), s = r(t4), i2 = n(this);
      let c;
      c = "string" == typeof r2 ? "*" === r2 ? o2.keys(s) : [r2] : r2, c.forEach((r3) => {
        i2.invalidate(r3), o2.revert(r3, s), i2.commit(r3);
      });
    }
  };
  return m3 = __decorate([a2("esri.core.ReadOnlyMultiOriginJSONSupport")], m3), m3;
};
function f(r2) {
  return n(r2).store;
}
var m = u2(b);

// node_modules/@arcgis/core/core/MultiOriginJSONSupport.js
var u3 = (t3) => {
  const o2 = t3;
  let u4 = class extends o2 {
    constructor(...r2) {
      super(...r2);
    }
    clear(r2, t4 = "user") {
      n(this).clearOrigin(r2, r(t4));
    }
    write(r2, t4) {
      return g(this, r2 = r2 || {}, t4), r2;
    }
    setAtOrigin(r2, t4, o3) {
      n(this).setAtOrigin(r2, t4, r(o3));
    }
    removeOrigin(r2) {
      const t4 = O(this), o3 = r(r2), s = t4.keys(o3);
      for (const e2 of s) t4.originOf(e2) === o3 && t4.set(e2, t4.get(e2, o3), 7);
    }
    updateOrigin(r2, t4) {
      const o3 = O(this), p = r(t4), c = o(this, r2);
      for (let s = p + 1; s < e; ++s) o3.delete(r2, s);
      o3.set(r2, c, p);
    }
    toJSON(r2) {
      return this.write({}, r2);
    }
  };
  return u4 = __decorate([a2("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")], u4), u4.prototype.toJSON.isDefaultToJSON = true, u4;
};
function O(r2) {
  return n(r2).store;
}
var l = (t3) => {
  const s = u3(u2(t3));
  let e2 = class extends s {
  };
  return e2 = __decorate([a2("esri.core.MultiOriginJSONSupport")], e2), e2;
};
var m2 = l(b);

export {
  l,
  m2 as m
};
//# sourceMappingURL=chunk-NP2TBOXH.js.map
