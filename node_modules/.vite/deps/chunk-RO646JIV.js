import {
  _,
  p
} from "./chunk-XL5QPCXN.js";
import {
  O
} from "./chunk-YDTPM7OQ.js";
import {
  m
} from "./chunk-XCKT47LJ.js";

// node_modules/@arcgis/core/core/loadAll.js
async function l(o, n) {
  return await o.load(), a(o, n);
}
async function a(l2, a2) {
  const c = [], s = (...o) => {
    for (const n of o) null != n && (Array.isArray(n) ? s(...n) : O.isCollection(n) ? n.forEach((o2) => s(o2)) : m(n) && c.push(n));
  };
  a2(s);
  let f = null;
  if (await p(c, async (o) => {
    const r = await _(i(o) ? o.loadAll() : o.load());
    false !== r.ok || f || (f = r);
  }), f) throw f.error;
  return l2;
}
function i(o) {
  return "loadAll" in o && "function" == typeof o.loadAll;
}

export {
  l,
  a
};
//# sourceMappingURL=chunk-RO646JIV.js.map
