{
  "version": 3,
  "sources": ["../../@arcgis/core/core/asyncUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import t from\"./Accessor.js\";import{abortMaybe as o,removeMaybe as e}from\"./maybe.js\";import{onAbort as n,throwIfAbortError as s,eachAlways as l}from\"./promiseUtils.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import{subclass as u}from\"./accessorSupport/decorators/subclass.js\";function a(r,t,o){return l(r.map((r,e)=>t.apply(o,[r,e])))}async function p(r,t,o){return(await l(r.map((r,e)=>t.apply(o,[r,e])))).map(r=>r.value)}function c(r){return{ok:!0,value:r}}function h(r){return{ok:!1,error:r}}function m(r){return null!=r&&!0===r.ok?r.value:null}function f(r){return null!=r&&!1===r.ok?r.error:null}async function _(r){if(null==r)return{ok:!1,error:new Error(\"no promise provided\")};try{return c(await r)}catch(t){return h(t)}}async function b(r){try{return c(await r)}catch(t){return s(t),h(t)}}function y(r){if(!0===r.ok)return r.value;throw r.error}function d(r,t){return new v(r,t)}let v=class extends t{get value(){return m(this._result)}get error(){return f(this._result)}get finished(){return null!=this._result}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=o(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:e}=this._abortController;this.promise=r(e),this.promise.then(r=>{this._result=c(r),this._cleanup()},r=>{this._result=h(r),this._cleanup()}),this._abortHandle=n(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=e(this._abortHandle),this._abortController=null}};r([i()],v.prototype,\"value\",null),r([i()],v.prototype,\"error\",null),r([i()],v.prototype,\"finished\",null),r([i()],v.prototype,\"promise\",void 0),r([i()],v.prototype,\"_result\",void 0),v=r([u(\"esri.core.asyncUtils.ReactiveTask\")],v);export{y as assertResult,d as createTask,a as forEach,h as makeResultError,c as makeResultOk,p as map,_ as result,f as resultError,b as resultOrAbort,m as resultValue};\n"],
  "mappings": "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",
  "names": ["a", "r", "e", "m", "f", "b", "m", "f", "e", "r"]
}
