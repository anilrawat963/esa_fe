{
  "version": 3,
  "sources": ["../../@arcgis/core/rest/query/operations/queryRelatedRecords.js", "../../@arcgis/core/rest/query/executeRelationshipQuery.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{srToRESTValue as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as o}from\"../../operations/urlUtils.js\";function r(e,o){const r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(\",\")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(\",\")),r.outFields&&!o?.returnCountOnly?r.outFields.includes(\"*\")?r.outFields=\"*\":r.outFields=r.outFields.join(\",\"):delete r.outFields,r.outSR&&(r.outSR=t(r.outSR)),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}async function s(e,t,o){const r=await a(e,t,o),s=r.data,n=s.geometryType,d=s.spatialReference,c={};for(const a of s.relatedRecordGroups){const e={fields:void 0,geometryType:n,spatialReference:d,hasZ:!!s.hasZ,hasM:!!s.hasM,features:a.relatedRecords};if(null!=a.objectId)c[a.objectId]=e;else for(const t of Object.keys(a))\"relatedRecords\"!==t&&(c[a[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await a(e,t,o,{returnCountOnly:!0}),s=r.data,n={};for(const a of s.relatedRecordGroups)null!=a.objectId&&(n[a.objectId]=a.count);return{...r,data:n}}async function a(t,s,n={},a){const d=o({...t.query,f:\"json\",...a,...r(s,a)});return e(t.path+\"/queryRelatedRecords\",{...n,query:{...n.query,...d}})}export{s as executeRelationshipQuery,n as executeRelationshipQueryForCount,r as toQueryStringParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeRelationshipQuery as r,executeRelationshipQueryForCount as e}from\"./operations/queryRelatedRecords.js\";import o from\"../support/FeatureSet.js\";import s from\"../support/RelationshipQuery.js\";async function n(e,n,u){n=s.from(n);const a=t(e);return r(a,n,u).then(t=>{const r=t.data,e={};return Object.keys(r).forEach(t=>e[t]=o.fromJSON(r[t])),e})}async function u(r,o,n){o=s.from(o);const u=t(r);return e(u,o,{...n}).then(t=>t.data)}export{n as executeRelationshipQuery,u as executeRelationshipQueryForCount};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAImL,SAAS,EAAE,GAAE,GAAE;AAAC,QAAMA,KAAE,EAAE,OAAO;AAAE,SAAOA,GAAE,cAAYA,GAAE,YAAUA,GAAE,UAAU,KAAK,GAAG,IAAGA,GAAE,kBAAgBA,GAAE,gBAAcA,GAAE,cAAc,KAAK,GAAG,IAAGA,GAAE,aAAW,CAAC,GAAG,kBAAgBA,GAAE,UAAU,SAAS,GAAG,IAAEA,GAAE,YAAU,MAAIA,GAAE,YAAUA,GAAE,UAAU,KAAK,GAAG,IAAE,OAAOA,GAAE,WAAUA,GAAE,UAAQA,GAAE,QAAM,EAAEA,GAAE,KAAK,IAAGA,GAAE,sBAAoBA,GAAE,QAAM,KAAK,UAAU,EAAC,QAAOA,GAAE,kBAAiB,CAAC,GAAE,OAAOA,GAAE,oBAAmBA;AAAC;AAAC,eAAe,EAAE,GAAEC,IAAE,GAAE;AAAC,QAAMD,KAAE,MAAM,EAAE,GAAEC,IAAE,CAAC,GAAEC,KAAEF,GAAE,MAAKG,KAAED,GAAE,cAAa,IAAEA,GAAE,kBAAiB,IAAE,CAAC;AAAE,aAAUE,MAAKF,GAAE,qBAAoB;AAAC,UAAMG,KAAE,EAAC,QAAO,QAAO,cAAaF,IAAE,kBAAiB,GAAE,MAAK,CAAC,CAACD,GAAE,MAAK,MAAK,CAAC,CAACA,GAAE,MAAK,UAASE,GAAE,eAAc;AAAE,QAAG,QAAMA,GAAE,SAAS,GAAEA,GAAE,QAAQ,IAAEC;AAAA,QAAO,YAAUJ,MAAK,OAAO,KAAKG,EAAC,EAAE,sBAAmBH,OAAI,EAAEG,GAAEH,EAAC,CAAC,IAAEI;AAAA,EAAE;AAAC,SAAM,EAAC,GAAGL,IAAE,MAAK,EAAC;AAAC;AAAC,eAAe,EAAE,GAAEC,IAAE,GAAE;AAAC,QAAMD,KAAE,MAAM,EAAE,GAAEC,IAAE,GAAE,EAAC,iBAAgB,KAAE,CAAC,GAAEC,KAAEF,GAAE,MAAKG,KAAE,CAAC;AAAE,aAAUC,MAAKF,GAAE,oBAAoB,SAAME,GAAE,aAAWD,GAAEC,GAAE,QAAQ,IAAEA,GAAE;AAAO,SAAM,EAAC,GAAGJ,IAAE,MAAKG,GAAC;AAAC;AAAC,eAAe,EAAEF,IAAEC,IAAEC,KAAE,CAAC,GAAEC,IAAE;AAAC,QAAM,IAAE,EAAE,EAAC,GAAGH,GAAE,OAAM,GAAE,QAAO,GAAGG,IAAE,GAAG,EAAEF,IAAEE,EAAC,EAAC,CAAC;AAAE,SAAO,EAAEH,GAAE,OAAK,wBAAuB,EAAC,GAAGE,IAAE,OAAM,EAAC,GAAGA,GAAE,OAAM,GAAG,EAAC,EAAC,CAAC;AAAC;;;ACA7hC,eAAeG,GAAE,GAAEA,IAAEC,IAAE;AAAC,EAAAD,KAAE,EAAE,KAAKA,EAAC;AAAE,QAAME,KAAE,EAAE,CAAC;AAAE,SAAO,EAAEA,IAAEF,IAAEC,EAAC,EAAE,KAAK,CAAAE,OAAG;AAAC,UAAMC,KAAED,GAAE,MAAKE,KAAE,CAAC;AAAE,WAAO,OAAO,KAAKD,EAAC,EAAE,QAAQ,CAAAD,OAAGE,GAAEF,EAAC,IAAE,EAAE,SAASC,GAAED,EAAC,CAAC,CAAC,GAAEE;AAAA,EAAC,CAAC;AAAC;AAAC,eAAeJ,GAAEG,IAAE,GAAEJ,IAAE;AAAC,MAAE,EAAE,KAAK,CAAC;AAAE,QAAMC,KAAE,EAAEG,EAAC;AAAE,SAAO,EAAEH,IAAE,GAAE,EAAC,GAAGD,GAAC,CAAC,EAAE,KAAK,CAAAG,OAAGA,GAAE,IAAI;AAAC;",
  "names": ["r", "t", "s", "n", "a", "e", "n", "u", "a", "t", "r", "e"]
}
