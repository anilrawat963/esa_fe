import {
  e
} from "./chunk-O5UBEIJA.js";
import {
  u
} from "./chunk-CSMCPN64.js";
import {
  H2 as H
} from "./chunk-V2H77UEV.js";
import "./chunk-4DGC7CBY.js";
import "./chunk-GNMPGHLQ.js";
import "./chunk-QY7XKUIV.js";
import "./chunk-AL6YUTZM.js";
import "./chunk-G26ADAPQ.js";

// node_modules/@arcgis/core/symbols/support/previewWebStyleSymbol.js
async function n(e2, n2, s) {
  const r = e2.thumbnail?.url;
  if (r) {
    const e3 = o((await H(r, { responseType: "image" })).data, s);
    return s?.node ? (s.node.appendChild(e3), s.node) : e3;
  }
  const a = await e2.fetchSymbol({ acceptedFormats: e });
  return a ? n2(a, s) : null;
}
function o(t, i) {
  const n2 = !/\\.svg$/i.test(t.src) && i?.disableUpsampling, o2 = Math.max(t.width, t.height);
  let s = null != i?.maxSize ? u(i.maxSize) : 120;
  n2 && (s = Math.min(o2, s));
  const r = "number" == typeof i?.size ? i?.size : null, a = Math.min(s, null != r ? u(r) : o2);
  if (a !== o2) {
    const e2 = 0 !== t.width && 0 !== t.height ? t.width / t.height : 1;
    e2 >= 1 ? (t.width = a, t.height = a / e2) : (t.width = a * e2, t.height = a);
  }
  return t;
}
export {
  n as previewWebStyleSymbol
};
//# sourceMappingURL=previewWebStyleSymbol-QZABF4SD.js.map
