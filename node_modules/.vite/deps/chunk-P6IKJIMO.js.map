{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/fromPortalItem.js", "../../@arcgis/core/layers/Layer.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import t from\"../../core/Logger.js\";async function o(o){const a=\"portalItem\"in o?o:{portalItem:o},{fromItem:e}=await import(\"../../portal/support/portalLayers.js\");try{return await e(a)}catch(p){const o=a?.portalItem,e=o?.id||\"unset\",l=o?.portal?.url||r.portalUrl;throw t.getLogger(\"esri.layers.support.fromPortalItem\").error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+l+\"', id: '\"+e+\"')\",p),p}}export{o as fromPortalItem};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../request.js\";import r from\"../core/Error.js\";import{EventedMixin as o}from\"../core/Evented.js\";import{IdentifiableMixin as i}from\"../core/Identifiable.js\";import{Loadable as a}from\"../core/Loadable.js\";import s from\"../core/Logger.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"../geometry/Extent.js\";import u from\"../geometry/SpatialReference.js\";import{fromPortalItem as m}from\"./support/fromPortalItem.js\";import c from\"../time/TimeExtent.js\";let h=0,b=class extends(o(i(a))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new d(-180,-90,180,90,u.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+h++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=u.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=\"string\"==typeof t?{url:t}:t;return(await import(\"./support/arcgisLayers.js\")).fromUrl(e)}static fromPortalItem(t){return m(t)}initialize(){this.when().catch(t=>{l(t)||s.getLogger(this).error(\"#load()\",`Failed to load layer (title: '${this.title??\"no title\"}', id: '${this.id??\"no id\"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return null!=this.attributionDataUrl}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return n(this.url)}createLayerView(t,e){return Promise.reject(new r(\"layer:create-layer-view\",\"Layer does not support creating a layer view\"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await e(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new r(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([p({type:String})],b.prototype,\"attributionDataUrl\",void 0),t([p({readOnly:!0})],b.prototype,\"effectiveVisible\",null),t([p({type:d})],b.prototype,\"fullExtent\",void 0),t([p({readOnly:!0})],b.prototype,\"hasAttributionData\",null),t([p({type:String,clonable:!1})],b.prototype,\"id\",void 0),t([p({type:Boolean,nonNullable:!0})],b.prototype,\"legendEnabled\",void 0),t([p({type:[\"show\",\"hide\",\"hide-children\"]})],b.prototype,\"listMode\",void 0),t([p({type:Number,range:{min:0,max:1},nonNullable:!0})],b.prototype,\"opacity\",void 0),t([p({clonable:!1})],b.prototype,\"parent\",void 0),t([p({readOnly:!0})],b.prototype,\"parsedUrl\",null),t([p({type:Boolean,readOnly:!0})],b.prototype,\"persistenceEnabled\",void 0),t([p({type:Boolean})],b.prototype,\"popupEnabled\",void 0),t([p({type:Boolean})],b.prototype,\"attributionVisible\",void 0),t([p({type:u})],b.prototype,\"spatialReference\",void 0),t([p({type:String})],b.prototype,\"title\",void 0),t([p({readOnly:!0,json:{read:!1}})],b.prototype,\"type\",void 0),t([p()],b.prototype,\"url\",void 0),t([p({type:c})],b.prototype,\"visibilityTimeExtent\",void 0),t([p({type:Boolean,nonNullable:!0})],b.prototype,\"visible\",void 0),b=t([y(\"esri.layers.Layer\")],b);export{b as default};\n"],
  "mappings": "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",
  "names": ["o", "a", "e", "s", "m"]
}
