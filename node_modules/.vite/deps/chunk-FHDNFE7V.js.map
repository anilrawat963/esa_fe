{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/projection/projectVectorToPoint.js", "../../@arcgis/core/geometry/support/coordinateSystem.js", "../../@arcgis/core/views/3d/support/RenderCoordsHelper.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{initializeProjection as t}from\"../projectionUtils.js\";import{projectVectorToVector as e}from\"./projectVectorToVector.js\";function o(r,t,o){return!!e(r,t,i,o.spatialReference)&&(o.x=i[0],o.y=i[1],o.z=i[2],!0)}async function c(r,e,c,i){return await t(e,c.spatialReference,null,i),o(r,e,c)}const i=r();export{o as projectVectorToPoint,c as projectVectorToPointAsync};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as t}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{j as e,d as n,n as o,i as r,f as i}from\"../../chunks/vec32.js\";import{create as u}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as a}from\"../ellipsoidUtils.js\";import s from\"../SpatialReference.js\";import{getSphericalPCPF as c}from\"../spatialReferenceEllipsoidUtils.js\";import{f as l,b as f}from\"../../chunks/boundedPlane.js\";import{f as p,s as v}from\"../../chunks/sphere.js\";function m(t){const{value:e,operations:n}=t;return{operations:n,value:n.create(e)}}function d(t,e,n){return t.operations.setExtent(t.value,e,n.value),n}function h(t,e){return t.operations.getExtent(t.value,e),e}function j(t){return{operations:t,value:t.create()}}function x(t,e,n=j(t)){return n.operations=t,t.copy(e,n.value),n}function A(t){return x(v,p(0,0,0,a(t).radius))}const b=2**50;function g(){return x(f,l([0,0,0],[b,0,0],[0,b,0]))}function P(t,e,n){return t.operations.axisAt(t.value,e,2,n)}function R(t,e,n,o){return t.operations.axisAt(t.value,e,n,o)}function S(t,e,n){return t.operations.intersectRay(t.value,e,n)}function k(t,e,n){return t.operations.closestPoint(t.value,e,n)}function y(t,e,n){return t.operations.intersectRayClosestSilhouette(t.value,e,n)}function E(t,e,n){return t.operations.closestPointOnSilhouette(t.value,e,n)}function C(t,e){return t.operations.distanceToSilhouette(t.value,e)}function U(t,e){return t.operations.altitudeAt(t.value,e)}function G(t,e,n,o){return t.operations.setAltitudeAt(t.value,e,n,o)}function O(n,o,r,i){return o!==i&&t(i,o),e(q,i[12],i[13],i[14]),G(n,q,r,q),i[12]=q[0],i[13]=q[1],i[14]=q[2],i}function T(t,e,n){return t.operations.elevate(t.value,e,n.value)}const q=u();function w(t,e,n,o,r){return r[0]=i(t,e),r[1]=i(t,n),r[2]=i(t,o),r}function z(t,e,i,u,a){n(i,t),n(D,e),o(D,D),r(u,D,i),r(a,u,i)}function B(t,e){return t?c(e):e.isGeographic?s.PlateCarree:e}const D=u();export{U as altitudeAt,R as axisAt,k as closestPoint,E as closestPointOnSilhouette,z as coordinateSystemFromOneAxisAndNormalVector,m as create,j as createFromOperations,A as createGlobal,g as createLocal,C as distanceToSilhouette,T as elevate,x as fromValues,h as getExtent,S as intersectRay,y as intersectRayClosestSilhouette,P as normalAt,B as renderSRFromViewSR,G as setAltitudeAt,O as setAltitudeOfTransformation,d as setExtent,w as vectorCoordinates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as e,getMetersPerCartesianUnitForSR as o}from\"../../../core/unitUtils.js\";import{set as r}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{d as i}from\"../../../chunks/vec32.js\";import{getReferenceEllipsoid as s}from\"../../../geometry/ellipsoidUtils.js\";import{getSphericalPCPF as n}from\"../../../geometry/spatialReferenceEllipsoidUtils.js\";import{projectPointToVector as a}from\"../../../geometry/projection/projectPointToVector.js\";import{projectVectorToPoint as m}from\"../../../geometry/projection/projectVectorToPoint.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as l}from\"../../../geometry/support/aaBoundingRect.js\";import{create as p,setExtent as d,getExtent as h,altitudeAt as u,setAltitudeAt as y,setAltitudeOfTransformation as f,normalAt as g,axisAt as S,elevate as j,intersectRayClosestSilhouette as _,intersectRay as P,createGlobal as w,createLocal as A}from\"../../../geometry/support/coordinateSystem.js\";import{intersectRay as C}from\"../../../geometry/support/plane.js\";import{angleAroundAxis as R}from\"../../../geometry/support/vector.js\";import{sv3d as M}from\"../../../geometry/support/vectorStacks.js\";import{isDehydratedPoint as U}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class v{constructor(t,e,o,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=o,this._coordinateSystem=r,this._tmpCoordinateSystem=p(r),this.referenceEllipsoid=s(e),this.sphericalPCPF=n(e)}set extent(t){t&&d(this._coordinateSystem,t,this._coordinateSystem)}get extent(){return h(this._coordinateSystem,l())}getAltitude(t){return u(this._coordinateSystem,t)}setAltitude(t,e,o=t){return y(this._coordinateSystem,o,e,t)}setAltitudeOfTransformation(t,e){f(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return g(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,o){return S(this._coordinateSystem,t,e,o)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,0,M.get()),i=this.worldBasisAtPosition(t,1,M.get()),s=this.worldBasisAtPosition(t,2,M.get());return r(e,o[0],o[1],o[2],0,i[0],i[1],i[2],0,s[0],s[1],s[2],0,0,0,0,1),e}headingAtPosition(e,o){const r=this.worldUpAtPosition(e,M.get()),i=this.worldBasisAtPosition(e,1,M.get()),s=R(o,i,r);return t(s)}intersectManifoldClosestSilhouette(t,e,o){return j(this._coordinateSystem,e,this._tmpCoordinateSystem),_(this._tmpCoordinateSystem,t,o),o}intersectManifold(t,e,o){j(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=M.get();return P(this._tmpCoordinateSystem,t,r)?i(o,r):null}intersectInfiniteManifold(t,e,o){if(1===this.viewingMode)return this.intersectManifold(t,e,o);j(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,s=M.get();return C(r.plane,t,s)?i(o,s):null}toRenderCoords(t,e,o){return U(t)?a(t,e,this.spatialReference):c(t,e,o,this.spatialReference)}fromRenderCoords(t,e,o=null){return U(e)?(null!=o&&(e.spatialReference=o),m(t,this.spatialReference,e)?e:null):c(t,this.spatialReference,e,o)?e:null}static create(t,o){switch(t){case 2:return new v(2,o,e(o),A());case 1:return new v(1,o,1,w(o))}}static renderUnitScaleFactor(t,e){return o(t)/o(e)}}export{v as RenderCoordsHelper};\n"],
  "mappings": "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",
  "names": ["o", "r", "t", "n", "i", "i", "t", "n", "A", "P", "o", "t", "n", "t", "n", "o", "r", "i", "t", "o", "r", "P", "i", "s", "n", "A"]
}
