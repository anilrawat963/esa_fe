{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/graphics/data/attributeSupport.js", "../../@arcgis/core/layers/graphics/data/AttributesBuilder.js", "../../@arcgis/core/layers/graphics/data/QueryEngineResult.js", "../../@arcgis/core/layers/graphics/data/QueryEngineCache.js", "../../@arcgis/core/layers/graphics/data/queryValidationUtils.js", "../../@arcgis/core/layers/graphics/data/QueryEngine.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";import{kebabDict as r}from\"../../support/fieldType.js\";const s=new i(50,500),t=\"unsupported-query\",n=\" as \",o=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeBigInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"]),a=new Set([\"esriFieldTypeDate\",\"esriFieldTypeDateOnly\",\"esriFieldTypeTimeOnly\",\"esriFieldTypeTimestampOffset\"]),l=new Set([\"esriFieldTypeString\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new e(t,\"invalid SQL expression\",{expression:r,error:n})}const a=n.expressionName||\"expression\";if(n.validateStandardized&&!o.isStandardized)throw new e(t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new e(t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t=\"where clause\";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a=\"having clause\",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every(e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some(e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r})});if(!f)throw new e(t,\"expressions in having clause should also exist in outStatistics\",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\\((.*?)\\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??\"expression\";throw new e(t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes(\"*\")?[...r,...t.filter(e=>\"*\"!==e)]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:\"expression-error\",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?\"all\"!==t&&!1===t?.has(o.type)&&e.set(n,{type:\"invalid-type\",fieldName:o.name,fieldType:r.fromJSON(o.type),allowedFieldTypes:Array.from(t,e=>r.fromJSON(e))}):e.set(n,{type:\"missing-field\",fieldName:o.name}):e.set(n,{type:\"invalid-field\",fieldName:n})}export{a as allDateAndTimeFieldTypes,y as getAliasFromFieldName,u as getExpressionFromFieldName,c as getWhereClause,o as numericFieldTypes,g as validateFields,f as validateHaving,p as validateWhere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getExpressionFromFieldName as t,getWhereClause as e,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getGeometry as s}from\"./geometryUtils.js\";import{isDateOnlyField as a,isTimestampOffsetField as l,isTimeOnlyField as r}from\"../../support/fieldUtils.js\";import{timeOnlyToMilliseconds as n}from\"../../../smartMapping/statistics/support/utils.js\";import{processNullValue as u,getNormalizedValue as o}from\"../../../statistics/utils.js\";import{loadArcade as d}from\"../../../support/loadArcade.js\";class c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes(\"*\")){this.outFields=r;let s=0;for(const a of r){const r=t(a),n=this.fieldsIndex.get(r),u=n?null:e(r,l),o=n?n.name:i(a)||\"FIELD_EXP_\"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach(t=>this.getAttributes(t)),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=e(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=a(c)||l(c),f=r(c);return t.map(t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${u(a)}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${u(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):\"string\"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?n(a):null)),s&&Number.isFinite(a)){const i=\"field\"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=o(a,s,i,d)}return a})}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await d(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map(t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...s(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)})}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{polygonCentroid as t,extentCentroid as i}from\"../../../geometry/support/centroid.js\";import{getPolygonExtent as s,getGeometryExtent as a}from\"../../../geometry/support/extentUtils.js\";import{toQuantizationTransform as r}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as n,equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import l from\"./AttributesBuilder.js\";import{cleanFromGeometryEngine as u,getGeometry as c,transformCentroid as m}from\"./geometryUtils.js\";import{project as d}from\"./projectionSupport.js\";import{getDateInNumber as h}from\"./queryUtils.js\";import{makeEdgeCandidate as f,makeVertexCandidate as p}from\"./SnappingCandidate.js\";import{isDateField as y,isDateOnlyField as g,isTimestampOffsetField as x,isStringField as T,isTimeOnlyField as F}from\"../../support/fieldUtils.js\";import I from\"../../../rest/support/AutoIntervalBinParameters.js\";import _ from\"../../../rest/support/DateBinParameters.js\";import{unitsDict as S}from\"../../../rest/support/DateBinUtils.js\";import V from\"../../../rest/support/FixedBoundariesBinParameters.js\";import b from\"../../../rest/support/FixedIntervalBinParameters.js\";import{calculateStringStatistics as v,calculateStatistics as R,processSummaryStatisticsResult as B,calculateUniqueValuesCount as z,createUVResult as M,calculateClassBreaks as A,resolveCBResult as N,calculateHistogram as D,getAttributeComparator as w,calculatePercentile as P,binIndex as q,getBinParams as Z,isNullCountSupported as j}from\"../../../statistics/utils.js\";import{utc as G}from\"../../../time/constants.js\";import{DateTime as C}from\"luxon\";const O=\"bin\";class E{constructor(e,t,i){this.items=e,this.query=t,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.fieldsIndex=i.fieldsIndex,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.featureAdapter=i.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new l(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:i,outStatistics:s}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of s){const{statisticType:s}=l,a=\"exceedslimit\"!==s?l.onStatisticField:void 0;if(!n.has(a)){const i=[];for(const s of t){const t=this._getAttributeValues(e,s,this.items,r);i.push(t)}n.set(a,this._calculateUniqueValues(i,this.items,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:s,items:a}=u[t],r=s.join(\",\");i&&!e.validateItems(a,i)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some(e=>\"exceedslimit\"===e.statisticType)?this._createExceedsLimitQueryResponse():await this._createStatisticsQueryResponse(this.query,this.items)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;n(this.query.outSR)&&!o(t.spatialReference,this.query.outSR)?e.queryGeometry=u({spatialReference:this.query.outSR,...d(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=u({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t,i){const s=this.featureAdapter,a=Q(this.hasZ,this.hasM),{point:r,mode:n}=e,o=\"number\"==typeof e.distance?e.distance:e.distance.x,l=\"number\"==typeof e.distance?e.distance:e.distance.y,u={candidates:[]},c=\"esriGeometryPolygon\"===this.geometryType,m=\"esriGeometryPolyline\"===this.geometryType||\"esriGeometryPoint\"===this.geometryType,d=this._getPointCreator(n,t,this.spatialReference,i),h=new U(null,0),y=new U(null,0),g={x:0,y:0,z:0};for(const x of this.items){const t=s.getGeometry(x);if(null==t)continue;const{coords:i}=t,n=t.isPoint?J:t.lengths;if(h.coords=i,y.coords=i,e.returnEdge){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e;for(let t=0;t<i;t++,e+=a){if(!c&&t===i-1)continue;const n=h;n.coordsIndex=e;const p=y;p.coordsIndex=t===i-1?m:e+a;const T=g;if(!H(g,r,n,p))continue;const F=(r.x-T.x)/o,I=(r.y-T.y)/l,_=F*F+I*I;_<=1&&u.candidates.push(f(s.getObjectId(x),d(T),Math.sqrt(_),d(n),d(p)))}}}if(\"all\"===e.vertexMode){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e,f=y;f.coordsIndex=m;for(let t=0;t<i;t++,e+=a){const a=h;if(a.coordsIndex=e,c&&t===i-1&&a.x===f.x&&a.y===f.y)continue;const n=(r.x-a.x)/o,m=(r.y-a.y)/l,y=n*n+m*m;y<=1&&u.candidates.push(p(s.getObjectId(x),d(a),Math.sqrt(y)))}}}else if(m&&\"ends\"===e.vertexMode){let e=0;const t=[];for(let i=0;i<n.length;i++){t.push(e);const s=n[i];e+=s*a,!c&&s>1&&t.push(e-a)}for(const i of t){const e=h;e.coordsIndex=i;const t=(r.x-e.x)/o,a=(r.y-e.y)/l,n=t*t+a*a;n<=1&&u.candidates.push(p(s.getObjectId(x),d(e),Math.sqrt(n)))}}}return u.candidates.sort((e,t)=>e.distance-t.distance),u}_getPointCreator(e,t,i,s){const a=null==s||o(i,s)?e=>e:e=>d(e,i,s),{hasZ:r}=this,n=0;return\"3d\"===e?r&&t?({x:e,y:t,z:i})=>a({x:e,y:t,z:i}):({x:e,y:t})=>a({x:e,y:t,z:n}):({x:e,y:t})=>a({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u,outStatisticTypes:c}=e,m=this.fieldsIndex.get(t),d=y(m)||g(m)||x(m),h=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u},this.items),f=j({normalizationType:a,normalizationField:s,minValue:n,maxValue:o}),p={value:.5,fieldType:m?.type},F=T(m)?v({values:h,supportsNullCount:f,percentileParams:p,outStatisticTypes:c}):R({values:h,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:f,percentileParams:p,outStatisticTypes:c});return B(F,c,d)}async createUniqueValuesResponse(e){const{field:t,valueExpression:i,domains:s,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:i,scale:r,timeZone:n},this.items,!1),l=z(o);return M(l,s,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:m,timeZone:d}=e,h=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items),f=A(h,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return N(f,n)}async createHistogramResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:m,timeZone:d}=e,h=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items);return D(h,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,i){if(e.length>1&&t?.length)for(const s of t.slice().reverse()){const t=s.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&\"desc\"===t[1].toLowerCase(),o=w(r?.type,n);e.sort((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)})}}_createFeatureQueryResponse(e){const{items:t,geometryType:i,hasM:s,hasZ:a,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:c,quantizationParameters:m,resultRecordCount:d,resultOffset:h,returnZ:f,returnM:p}=e,y=null!=d&&t.length>(h||0)+d,g=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map(e=>this.fieldsIndex.get(e)));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:i,hasM:s&&p,hasZ:a&&f,objectIdFieldName:n,spatialReference:u(c||o),transform:m&&r(m)||null}}_createFeatures(e,t){const i=new l(e,this.featureAdapter,this.fieldsIndex),{hasM:s,hasZ:a}=this,{orderByFields:n,quantizationParameters:o,returnGeometry:u,returnCentroid:d,maxAllowableOffset:h,resultOffset:f,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,x=a&&y,T=s&&g;let F=[],I=0;const _=[...t];if(this._sortFeatures(_,n,(e,t,s)=>i.getFieldValue(e,t,s)),this.geometryType&&(u||d)){const e=r(o)??void 0,t=\"esriGeometryPolygon\"===this.geometryType||\"esriGeometryPolyline\"===this.geometryType;if(u&&!d)for(const s of _){const a=this.featureAdapter.getGeometry(s),r=this._addFeatureJSONMetadata(s,{attributes:i.getAttributes(s),geometry:c(this.geometryType,this.hasZ,this.hasM,a,h,e,x,T)});t&&a&&!r.geometry&&(r.centroid=m(this,this.featureAdapter.getCentroid(s,this),e)),F[I++]=r}else if(!u&&d)for(const s of _)F[I++]=this._addFeatureJSONMetadata(s,{attributes:i.getAttributes(s),centroid:m(this,this.featureAdapter.getCentroid(s,this),e)});else for(const s of _)F[I++]=this._addFeatureJSONMetadata(s,{attributes:i.getAttributes(s),centroid:m(this,this.featureAdapter.getCentroid(s,this),e),geometry:c(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(s),h,e,x,T)})}else for(const r of _){const e=i.getAttributes(r);e&&(F[I++]=this._addFeatureJSONMetadata(r,{attributes:e}))}const S=f||0;if(null!=p){const e=S+p;F=F.slice(S,Math.min(F.length,e))}return F}_addFeatureJSONMetadata(e,t){const i=this.featureAdapter.getMetadata?.(e);return void 0!==i&&(t.metadata=i),t}_createExceedsLimitQueryResponse(){let e=!1,t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(const a of this.query.outStatistics??[])if(\"exceedslimit\"===a.statisticType){t=null!=a.maxPointCount?a.maxPointCount:Number.POSITIVE_INFINITY,i=null!=a.maxRecordCount?a.maxRecordCount:Number.POSITIVE_INFINITY,s=null!=a.maxVertexCount?a.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)e=this.items.length>t;else if(this.items.length>i)e=!0;else{const t=Q(this.hasZ,this.hasM),i=this.featureAdapter;e=this.items.reduce((e,t)=>{const s=i.getGeometry(t);return e+(null!=s&&s.coords.length||0)},0)/t>s}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}async _createStatisticsQueryResponse(e,t,i={attributes:{}}){const s=[],a=new Map,r=new Map,n=new Map,o=new Map,u=new l(e,this.featureAdapter,this.fieldsIndex),c=e.outStatistics,{groupByFieldsForStatistics:m,having:d,orderByFields:h,resultRecordCount:f}=e,p=m?.length,y=!!p,g=y?m[0]:null,x=y&&!this.fieldsIndex.get(g);for(const l of c??[]){const{outStatisticFieldName:e,statisticType:c}=l,h=l,f=\"exceedslimit\"!==c?l.onStatisticField:void 0,F=\"percentile_disc\"===c||\"percentile_cont\"===c,I=\"EnvelopeAggregate\"===c||\"CentroidAggregate\"===c||\"ConvexHullAggregate\"===c,_=y&&1===p&&(f===g||x)&&\"count\"===c;if(y){if(!n.has(f)){const e=[];for(const i of m){const s=this._getAttributeValues(u,i,t,a);e.push(s)}n.set(f,this._calculateUniqueValues(e,t,!I&&u.returnDistinctValues))}const i=n.get(f);if(!i)continue;const s=Object.keys(i);for(const r of s){const{count:s,data:n,items:l,itemPositions:c}=i[r],p=n.join(\",\");if(!d||u.validateItems(l,d)){const i=o.get(p)||{attributes:{}};if(I){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:t}=await this._getAggregateGeometry(h,l);i.aggregateGeometries[t]=e}else{let r=null;if(_)r=s;else{const e=this._getAttributeValues(u,f,t,a),i=c.map(t=>e[t]);r=F&&\"statisticParameters\"in h?this._getPercentileValue(h,i):this._getStatisticValue(h,i,null,u.returnDistinctValues)}i.attributes[e]=r}let r=0;m.forEach((e,t)=>i.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+ ++r]=n[t]),o.set(p,i)}}}else if(I){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(h,t);i.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(u,f,t,a);i.attributes[e]=F&&\"statisticParameters\"in h?this._getPercentileValue(h,s):this._getStatisticValue(h,s,r,u.returnDistinctValues)}const S=\"min\"!==c&&\"max\"!==c||!T(this.fieldsIndex.get(f))&&!this._isAnyDateField(f)?null:this.fieldsIndex.get(f)?.type;s.push({name:e,alias:e,type:S||\"esriFieldTypeDouble\"})}const F=y?Array.from(o.values()):[i];return this._sortFeatures(F,h,(e,t)=>e.attributes[t]),f&&(F.length=Math.min(f,F.length)),{fields:s,features:F}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return y(t)||g(t)||x(t)||F(t)}async _getAggregateGeometry(e,r){const{convexHull:n,union:o}=await import(\"../../../geometry/geometryEngineJSON.js\"),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:m,spatialReference:d,geometryType:h,hasZ:f,hasM:p}=this,y=r.map(e=>c(h,f,p,m.getGeometry(e))),g=n(d,y,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if(\"EnvelopeAggregate\"===l){const e=g?s(g):a(o(d,y));x.aggregateGeometries={...e,spatialReference:d},x.outStatisticFieldName=u||\"extent\"}else if(\"CentroidAggregate\"===l){const e=g?t(g):i(a(o(d,y)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:d},x.outStatisticFieldName=u||\"centroid\"}else\"ConvexHullAggregate\"===l&&(x.aggregateGeometries=g,x.outStatisticFieldName=u||\"convexHull\");return x}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=i?.has(a)?i.get(a):T(this.fieldsIndex.get(a))||this._isAnyDateField(a)?v({values:t,returnDistinct:s}):R({values:s?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i);return P(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:\"percentile_disc\"===a})}_getAttributeValues(e,t,i,s){if(s.has(t))return s.get(t);const a=this.fieldsIndex.get(t),r=i.map(i=>e.getFieldValue(i,t,a));return s.set(t,r),r}_calculateUniqueValues(e,t,i){const s={},a=t.length;for(let r=0;r<a;r++){const a=t[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,i,s=!0){const a=new l(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:r,scale:n,timeZone:o}=t;return r?a.getExpressionValues(i,r,{viewingMode:\"map\",scale:n,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},o):a.getDataValues(i,e(t),s)}_calculateHistogramBins(e,t,i){if(null==t.min&&null==t.max)return[];const s=t.intervals,a=t.min??0,r=t.max??0,n=s.map(([e,t])=>({minValue:e,maxValue:t,count:0,items:[]}));for(let o=0;o<e.length;o++){const t=e[o],l=i[o];if(null!=t&&t>=a&&t<=r){const e=q(s,t);e>-1&&(n[e].count++,n[e].items.push(l))}}return n}async createQueryBinsResponse(e){const t=e.bin?.splitBy;if(!t)return this._createBinsResponse(e);const{value:i,outAlias:s,valueType:a}=t,r=[],n=[{name:s??i,alias:s??i,type:a??\"esriFieldTypeString\"},{name:O,alias:O,type:\"esriFieldTypeInteger\"}],o=new l(e,this.featureAdapter,this.fieldsIndex),u=new Map,c=[...this.items];this._sortFeatures(c,[i],(e,t,i)=>o.getFieldValue(e,t,i));const m=this._getAttributeValues(o,i,c,u),d=this._calculateUniqueValues([m],c,o.returnDistinctValues);for(const l in d){const{items:t}=d[l],a=await this._createBinsResponse(e,t);if(r.push(...a.features.map(e=>({...e,attributes:{...e.attributes,[s??i]:l}}))),a.fields)for(const e of a.fields)n.some(t=>t.name===e.name)||n.push(e)}return{fields:n,features:r}}async _createBinsResponse(e,t){const i=e.bin;switch(t=t??this.items,i.type){case\"autoIntervalBin\":return this._createAutoIntervalBinsResponse(I.fromJSON(i),e,t);case\"dateBin\":return this._createDateBinsResponse(_.fromJSON(i),e,t);case\"fixedBoundariesBin\":return this._createFixedBoundariesBinsResponse(V.fromJSON(i),e,t);case\"fixedIntervalBin\":return this._createFixedIntervalBinsResponse(b.fromJSON(i),e,t)}}async _createAutoIntervalBinsResponse(e,t,i){const{field:s,normalizationField:a,numBins:r,normalizationType:n,normalizationTotal:o,start:l,end:u}=e,c=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),m=Z(c,{field:s,normalizationField:a,normalizationType:n,normalizationTotal:o,numBins:r,minValue:h(l,!1),maxValue:h(u,!1)}),d=this._calculateHistogramBins(c,m,i);return this._createFeaturesFromHistogramBins(d,t)}async _createDateBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n,snapToData:o,returnFullIntervalBin:l}=e,u=a.unit,c=await this._getDataValues({field:e.field,timeZone:t.outTimeReference?.ianaTimeZone},i),m=F(this.fieldsIndex.get(s)),d=S.toJSON(u),f=c.filter(Boolean).sort((e,t)=>e-t),p=null!=r?h(r,m):f[0],y=null!=n?h(n,m):f[f.length-1],g=[];if(null!=p&&null!=y){const e={zone:t.outTimeReference?.ianaTimeZone??G},i=C.fromMillis(p,e),s=C.fromMillis(y,e);if(\"last\"===o){let e=s;for(;e>i;){const t=e.minus({[d]:a.value});if(t<i){g.unshift([l?t.toMillis():i.toMillis(),e.toMillis()]);break}g.unshift([t.toMillis(),e.toMillis()]),e=t}}else{let e=\"first\"===o?i:i.startOf(d);for(;e<=s;){const t=e.plus({[d]:a.value});if(t>s){g.push([e.toMillis(),l?t.toMillis():s.toMillis()]);break}g.push([e.toMillis(),t.toMillis()]),e=t}}}const x=this._calculateHistogramBins(c,{intervals:g,min:p,max:y},i);return this._createFeaturesFromHistogramBins(x,t)}async _createFixedBoundariesBinsResponse(e,t,i){const{field:s}=e,a=await this._getDataValues({field:s,timeZone:t.outTimeReference?.ianaTimeZone},i),r=F(this.fieldsIndex.get(s)),n=e.boundaries.map(e=>h(e,r)).sort((e,t)=>e-t),o=[];for(let c=0;c<n.length-1;c++)o.push([n[c],n[c+1]]);const l={intervals:o,min:n.at(0),max:n.at(-1)},u=this._calculateHistogramBins(a,l,i);return this._createFeaturesFromHistogramBins(u,t)}async _createFixedIntervalBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n}=e,o=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),l=F(this.fieldsIndex.get(s)),u=Z(o,{field:s,classificationMethod:\"defined-interval\",definedInterval:a,minValue:h(r,l),maxValue:h(n,l)},!0),c=this._calculateHistogramBins(o,u,i);return this._createFeaturesFromHistogramBins(c,t)}async _createFeaturesFromHistogramBins(e,t){const{upperBoundaryAlias:i,lowerBoundaryAlias:s}=t,a=s||\"lowerBoundary\",r=i||\"upperBoundary\",n=[],o=[{name:a,alias:a,type:\"esriFieldTypeDouble\"},{name:r,alias:r,type:\"esriFieldTypeDouble\"}],l=t.bin?.stackBy?.value,u=t.bin?.stackBy?.outAlias;l&&o.push({name:O,alias:O,type:\"esriFieldTypeInteger\"},{name:u??l,alias:u??l,type:\"esriFieldTypeString\"});let c=0;const m=\"dateBin\"===t.bin.type,d=t.outTimeReference?.ianaTimeZone;for(const h of e){const{minValue:e,maxValue:i,items:s}=h,f={attributes:{}};let p;if(f.attributes[a]=m&&d&&null!=e?C.fromMillis(e,{zone:d}).toISO():e,f.attributes[r]=m&&d&&null!=i?C.fromMillis(i,{zone:d}).toISO():i,l?(p=await this._createStatisticsQueryResponse({...t,groupByFieldsForStatistics:[l],orderByFields:[l]},s),f.attributes[O]=++c,\"flat\"===t.bin.jsonStyle?n.push(...p.features.map(({attributes:{EXPR_1:e,...t},...i})=>({...i,attributes:u??e?{...t,[u??e]:e,...f.attributes}:{...t,...f.attributes}}))):(f.stackedAttributes=p.features.map(({attributes:{EXPR_1:e,...t}})=>u??e?{...t,[u??e]:e}:t),n.push(f))):(t.bin?.splitBy&&(f.attributes[O]=++c),p=await this._createStatisticsQueryResponse(t,s,f),n.push(f)),p.fields)for(const t of p.fields)o.some(e=>e.name===t.name)||o.push(t)}return\"desc\"===t.binOrder&&n.reverse(),{fields:o,features:n}}}function H(e,t,i,s){const a=s.x-i.x,r=s.y-i.y,n=t.x-i.x,o=t.y-i.y,l=a*a+r*r;if(0===l)return!1;const u=n*a+o*r,c=Math.min(1,Math.max(0,u/l));return e.x=i.x+a*c,e.y=i.y+r*c,!0}function Q(e,t){return e?t?4:3:t?3:2}class U{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}const J=[1];export{E as QueryEngineResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";const t=5;class e{constructor(){this._storage=new Map,this._purgeInterval=t,this._sweep=()=>{if(this._timer=void 0,!this._storage)return;const t=1e3*this._purgeInterval,e=performance.now()-t;for(const[s,r]of this._storage){if(!(r.time<e))return void(this._storage.size>0&&(this._timer=setTimeout(this._sweep,t)));this._storage.delete(s)}}}destroy(){this._storage?.clear(),this._storage=null,clearTimeout(this._timer)}put(t,e){this._storage?.set(t,new r(e)),this._scheduleSweep()}get(t){const e=this._storage?.get(t);if(e)return this._storage?.delete(t),e.time=performance.now(),this._storage?.set(t,e),e.items}clear(){this._storage?.clear()}_scheduleSweep(){this._storage&&(this._timer??=setTimeout(this._sweep,1e3*this._purgeInterval))}get test(){}}let s=0;class r{constructor(t){this.items=t,this.time=performance.now(),this.id=s++}}export{e as QueryEngineCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{validateFields as t,validateWhere as i,validateHaving as s,numericFieldTypes as r,allDateAndTimeFieldTypes as o}from\"./attributeSupport.js\";import{checkProjectionSupport as n}from\"./projectionSupport.js\";import{checkSpatialQuerySupport as a}from\"./spatialQuerySupport.js\";import{loadArcade as l}from\"../../../support/loadArcade.js\";const u=\"unsupported-query\";async function p(t,i){const s=t.bin;if(!s.onField&&!s.onExpression?.value||\"autoIntervalBin\"===s.type&&null==s.parameters.numberOfBins||\"dateBin\"===s.type&&(null==s.parameters.number||null==s.parameters.unit)||\"fixedBoundariesBin\"===s.type&&null==s.parameters.boundaries||\"fixedIntervalBin\"===s.type&&null==s.parameters.interval)throw new e(u,\"Unsupported query options\",{query:t});return d(t,i)}async function d(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:o}){if(null!=t.geometryPrecision||t.multipatchOption&&\"xyFootprint\"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(u,\"Unsupported query options\",{query:t});return c(i,o,t),m(i,o,t),Promise.all([a(t,s,r),n(r,t.outSR)]).then(()=>t)}function c(s,r,o){const{returnDistinctValues:n,outStatistics:a}=o,l=a?a.map(e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase()).filter(Boolean):[];if(\"orderByFields\"in o&&o.orderByFields&&o.orderByFields.length>0){const e=\" asc\",i=\" desc\",n=o.orderByFields.map(t=>{const s=t.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(i)?s.split(i)[0]:t}).filter(e=>!l.includes(e));t(s,r,n,{expressionName:\"orderByFields\",query:o})}if(\"outFields\"in o)if(o.outFields?.length)t(s,r,o.outFields,{expressionName:\"outFields\",query:o,allowedFieldTypes:\"all\"});else if(n)throw new e(u,\"outFields should be specified for returnDistinctValues\",{query:o});i(s,r,o.where,o)}const f=new Set([...r,...o]);function m(i,r,o){const{outStatistics:n,groupByFieldsForStatistics:a,having:l}=o,p=a?.length,d=n?.length;if(l){if(!p||!d)throw new e(u,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:o});s(i,r,l,n,o)}if(d){if(!h(n))return;const s=n.map(e=>e.onStatisticField).filter(Boolean);t(i,r,s,{expressionName:\"onStatisticFields\",query:o}),p&&t(i,r,a,{expressionName:\"groupByFieldsForStatistics\",query:o});for(const a of n){const{onStatisticField:s,statisticType:n}=a;if((\"percentile_disc\"===n||\"percentile_cont\"===n)&&\"statisticParameters\"in a){const{statisticParameters:t}=a;if(!t)throw new e(u,\"statisticParameters should be set for percentile type\",{definition:a,query:o})}else i.get(s)&&\"count\"!==n&&\"min\"!==n&&\"max\"!==n&&t(i,r,[s],{expressionName:`outStatistics with '${n}' statistic type`,allowedFieldTypes:f,query:o})}}}async function y(t,i,{fieldsIndex:s,geometryType:r,spatialReference:o,availableFields:l}){if(null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(u,\"Unsupported query options\",{query:t});return c(s,l,t),Promise.all([F(s,l,i,t),a(t,r,o),n(o,t.outSR)]).then(()=>t)}async function F(i,s,r,o){let n=[];if(r.valueExpression){const{arcadeUtils:e}=await l();n=e.extractFieldNames(r.valueExpression)}if(r.field&&n.push(r.field),r.field2&&n.push(r.field2),r.field3&&n.push(r.field3),r.normalizationField&&n.push(r.normalizationField),!n.length&&!r.valueExpression)throw new e(u,\"field or valueExpression is required\",{params:r});t(i,s,n,{expressionName:\"statistics\",query:o})}function h(e){return null!=e&&e.every(e=>\"exceedslimit\"!==e.statisticType)}export{p as validateAttributeBinsQuery,d as validateQuery,y as validateStatisticsQuery};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{indexOf as e,PositionHint as t}from\"../../../core/arrayUtils.js\";import{toConst as i}from\"../../../core/compilerUtils.js\";import r from\"../../../core/Error.js\";import\"../../../core/has.js\";import{clone as s}from\"../../../core/lang.js\";import{removeMaybe as a,destroyMaybe as n}from\"../../../core/maybe.js\";import{signalFromSignalOrOptions as l,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isSerializable as c}from\"../../../core/support/jsonUtils.js\";import{isLoaded as h}from\"../../../geometry/projectionUtils.js\";import{set as y,negativeInfinity as d,create as m,expandWithAABB as f}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as p,create as x}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as g}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as _,isExtent as F,isPolygon as w}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as Q}from\"../../../geometry/support/normalizeUtils.js\";import{equals as S,isValid as R}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as I}from\"../featureConversionUtils.js\";import{getWhereClause as j}from\"./attributeSupport.js\";import{cleanFromGeometryEngine as b,getGeometry as E}from\"./geometryUtils.js\";import{project as T,checkProjectionSupport as A,projectMany as v}from\"./projectionSupport.js\";import{QueryEngineCache as G}from\"./QueryEngineCache.js\";import{queryCapabilities as k}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as C}from\"./QueryEngineResult.js\";import{queryEngineEmptyResult as O,normalizeAttributeBinsQuery as M,normalizeQueryLike as P,normalizeQuery as q}from\"./queryUtils.js\";import{validateAttributeBinsQuery as z,validateQuery as U,validateStatisticsQuery as B}from\"./queryValidationUtils.js\";import{getSpatialQueryOperator as Z,canQueryWithRBush as H}from\"./spatialQuerySupport.js\";import{getTimeExtent as N,getTimeOperator as J}from\"./timeSupport.js\";import L from\"../../support/FieldsIndex.js\";import{ImmediateTask as V}from\"../../../views/support/Scheduler.js\";const D=\"unsupported-query\";class K{constructor(e,t=null,i,r,s){this.attributes=e,this.geometry=i,this.centroid=r,this.filterFlags=s,this.groupId=-1,this.displayId=t}}class W{constructor(e){this._changeHandle=null,this.capabilities={query:k},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._cache=e.cache??new G,this.timeInfo=e.timeInfo,this.featureIdInfo=e.featureIdInfo,\"object-id\"===e.featureIdInfo.type&&(this.objectIdField=e.featureIdInfo.fieldName),this._changeHandle=this.featureStore.events.on(\"changed\",()=>this._clearCache()),this.fieldsIndex=c(e.fieldsIndex)?e.fieldsIndex:L.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&\"*\"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map(e=>e.name)):this.availableFields=new Set(e.availableFields.map(e=>this.fieldsIndex.get(e)?.name).filter(e=>null!=e)),e.scheduler&&e.priority?this._frameTask=e.scheduler.registerTask(e.priority):this._frameTask=V}destroy(){this._changeHandle=a(this._changeHandle),this._frameTask=a(this._frameTask),this._clearCache(),n(this._cache)}get featureAdapter(){return this.featureStore.featureAdapter}async executeQuery(e,t){const i=l(t);return await this._frameTask.scheduleGenerator(()=>this._executeQueryFeatureSet(e),i)}async executeQueryForCount(e={},t){const i=l(t);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForCount(e),i)}async executeQueryForExtent(e,t){const i=l(t);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForExtent(e),i)}async executeQueryForIds(e,t){return Array.from(await this.executeQueryForIdSet(e,t))}async executeQueryForIdSet(e,t){const i=l(t);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForIdSet(e),i)}async executeQueryForLatestObservations(e,t){const i=l(t);if(!this.timeInfo?.trackIdField)throw new r(D,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});return await this._frameTask.scheduleGenerator(()=>this._executeQueryForLatestObservations(e),i)}async executeQueryForOpaqueFeatures(e,t){const i=l(t);return(await this._frameTask.scheduleGenerator(()=>this._executeQuery(e,{}),i)).items}async executeAttributeBinsQuery(e,t){const i=l(t);return e=s(e),await this._frameTask.scheduleGenerator(()=>this._executeAttributeBinsQuery(e),i)}async executeQueryForSummaryStatistics(e={},t,i){const r=l(i);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForSummaryStatistics(e,t),r)}async executeQueryForUniqueValues(e={},t,i){const r=l(i);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForUniqueValues(e,t),r)}async executeQueryForClassBreaks(e={},t,i){const r=l(i);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForClassBreaks(e,t),r)}async executeQueryForHistogram(e={},t,i){const r=l(i);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForHistogram(e,t),r)}async executeQueryForSnapping(e,t){const i=l(t);return await this._frameTask.scheduleGenerator(()=>this._executeQueryForSnapping(e,i),i)}async fetchRecomputedExtents(e){const t=l(e);this._timeExtentPromise||=N(this.timeInfo,this.featureStore);const[i,r]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return u(t),{fullExtent:i,timeExtent:r}}_clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async*_executeQueryFeatureSet(e){try{const t=yield*this._executeQuery(e,{});return yield,await t.createQueryResponse()}catch(t){if(t!==O)throw t;return await new C([],e,this).createQueryResponse()}}async*_executeQueryForCount(e){try{const t=yield*this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null});return yield,t.createQueryResponseForCount()}catch(t){if(t!==O)throw t;return 0}}async*_executeQueryForExtent(e){const t=e.outSR;try{const i=yield*this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null});yield;const r=i.size;if(!r)return{count:0,extent:null};const s=await this._getBounds(i.items,i.spatialReference,t??this.spatialReference);return yield,{count:r,extent:s}}catch(i){if(i===O)return{count:0,extent:null};throw i}}async*_executeQueryForIdSet(e){try{const t=yield*this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null});yield;const i=t.items,r=new Set;for(const e of i)r.add(t.featureAdapter.getObjectId(e));return r}catch(t){if(t===O)return new Set;throw t}}async*_executeQueryForLatestObservations(e){try{const t=yield*this._executeQuery(e,{});return yield,this._filterLatest(t),yield,await t.createQueryResponse()}catch(t){if(t!==O)throw t;return await new C([],e,this).createQueryResponse()}}async*_executeAttributeBinsQuery(e){let t;try{e=await M(e,this.definitionExpression,this.spatialReference),yield,e=await z(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference}),yield;const i=yield*this._executeSceneFilterQuery(e);yield,t=yield*this._executeGeometryQuery(e,i),yield,this._executeAggregateIdsQuery(t),yield,this._executeObjectIdsQuery(t),yield,this._executeTimeQuery(t),yield,this._executeAttributesQuery(t),yield}catch(i){if(i!==O)throw i;t=new C([],e,this)}return await t.createQueryBinsResponse(e)}async*_executeQueryForSummaryStatistics(e={},t){const{field:i,normalizationField:r,valueExpression:s}=t,a=yield*this._executeQueryForStatistics(e,{field:i,normalizationField:r,valueExpression:s});return yield,await a.createSummaryStatisticsResponse(t)}async*_executeQueryForUniqueValues(e={},t){const{field:i,field2:r,field3:s,valueExpression:a}=t,n=yield*this._executeQueryForStatistics(e,{field:i,field2:r,field3:s,valueExpression:a});return yield,await n.createUniqueValuesResponse(t)}async*_executeQueryForClassBreaks(e,t){const{field:i,normalizationField:r,valueExpression:s}=t,a=yield*this._executeQueryForStatistics(e,{field:i,normalizationField:r,valueExpression:s});return yield,await a.createClassBreaksResponse(t)}async*_executeQueryForHistogram(e,t){const{field:i,normalizationField:r,valueExpression:s}=t,a=yield*this._executeQueryForStatistics(e,{field:i,normalizationField:r,valueExpression:s});return yield,await a.createHistogramResponse(t)}async*_executeQueryForSnapping(e,t){const{point:i,distance:r,returnEdge:a,vertexMode:n}=e;if(!a&&\"none\"===n)return{candidates:[]};let l=s(e.query);l=await P(l,this.definitionExpression,this.spatialReference),yield,l=await U(l,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference}),yield;const u=!S(i.spatialReference,this.spatialReference);u&&(await A(i.spatialReference,this.spatialReference),yield);const o=\"number\"==typeof r?r:r.x,c=\"number\"==typeof r?r:r.y,h={xmin:i.x-o,xmax:i.x+o,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},y=u?T(h,this.spatialReference):h;if(!y)return{candidates:[]};const d=(await Q(_(i),null,{signal:t}))[0];yield;const m=(await Q(_(y),null,{signal:t}))[0];if(yield,null==d||null==m)return{candidates:[]};const f=await this._searchFeatures(X(m.toJSON()));yield;const p=new C(f,l,this);this._executeObjectIdsQuery(p),yield,this._executeTimeQuery(p),yield,this._executeAttributesQuery(p),yield,yield*this._executeGeometryQueryForSnapping(p),yield;const x=d.toJSON(),g=u?T(x,this.spatialReference):x,F=u?Math.max(y.xmax-y.xmin,y.ymax-y.ymin)/2:r;return p.createSnappingResponse({...e,point:g,distance:F},l.returnZ,i.spatialReference)}async _getBounds(e,t,i){const r=y(m(),d);return await this.featureStore.forEachBounds(e,e=>f(r,e)),Y(r,t,i,this.spatialReference,this.hasZ)}_getFullExtent(){return this._fullExtentPromise||=\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then(e=>this._getBounds(e,this.spatialReference,this.spatialReference)),this._fullExtentPromise}async _getAllFeaturesQueryEngineResult(e){return new C(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>await this.featureStore.forEach(t=>e.push(t)))().then(()=>i(e))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async*_executeQuery(e,t){e=s(e),e=await q(e,this.definitionExpression,this.spatialReference),yield,e=await U(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference}),yield,e={...e,...t};const i=yield*this._executeSceneFilterQuery(e);yield;const r=yield*this._executeGeometryQuery(e,i);return yield,this._executeAggregateIdsQuery(r),yield,this._executeObjectIdsQuery(r),yield,this._executeTimeQuery(r),yield,this._executeAttributesQuery(r),r}async*_executeSceneFilterQuery(e){if(null==e.sceneFilter)return null;const{outSR:t,returnGeometry:i,returnCentroid:r}=e,s=this.featureStore.featureSpatialReference,a=e.sceneFilter.geometry,n=null==s||S(s,a.spatialReference)?a:T(a,s);if(!n)return null;const l=i||r,u=R(t)&&!S(this.spatialReference,t)&&l?async e=>this._project(e,t):e=>e;yield;const o=this.featureAdapter,c=await this._searchFeatures(X(n));yield;if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const t=new Set;for(const e of c)t.add(o.getObjectId(e));const i=await this._getAllFeatures();yield;const r=await Z(\"esriSpatialRelDisjoint\",n,this.geometryType,this.hasZ,this.hasM);yield;const s=e=>!t.has(o.getObjectId(e))||r(o.getGeometry(e)),a=yield*this._runSpatialFilter(i,s);yield;const l=new C(a,e,this);return await u(l)}if(!c.length)return new C([],e,this);if(this._canExecuteSinglePass(n,e))return await u(new C(c,e,this));const h=await Z(\"esriSpatialRelContains\",n,this.geometryType,this.hasZ,this.hasM);yield;const y=yield*this._runSpatialFilter(c,e=>h(o.getGeometry(e)));return yield,await u(new C(y,e,this))}async*_executeGeometryQuery(i,r){if(null!=r&&0===r.items.length)return r;const{geometry:s,outSR:a,returnGeometry:n,returnCentroid:l}=i,u=r?null:this._getCacheKey(i),o=u?this._cache.get(u):null;if(o)return new C(o,i,this);const c=R(a)&&!S(this.spatialReference,a),h=n||l,y=async e=>(c&&h&&await this._project(e,a),u&&this._cache.put(u,e.items),e),d=this.featureStore.featureSpatialReference,m=!s||null==d||S(d,s.spatialReference)?s:T(s,d);if(!m)return await y(null!=r?r:await this._getAllFeaturesQueryEngineResult(i));yield;const f=this.featureAdapter;let p=await this._searchFeatures(X(s));yield;const x=i.spatialRel??\"esriSpatialRelIntersects\";if(\"esriSpatialRelDisjoint\"===x){if(!p.length)return await y(null!=r?r:await this._getAllFeaturesQueryEngineResult(i));const e=new Set;for(const i of p)e.add(f.getObjectId(i));let t;null!=r?t=r.items:(yield,t=await this._getAllFeatures(),yield);const s=await Z(x,m,this.geometryType,this.hasZ,this.hasM);yield;const a=t=>!e.has(f.getObjectId(t))||s(f.getGeometry(t)),n=yield*this._runSpatialFilter(t,a);yield;const l=new C(n,i,this);return await y(l)}if(null!=r){const i=new t;p=p.filter(t=>e(r.items,t,r.items.length,i)>=0)}if(!p.length){const e=new C([],i,this);return u&&this._cache.put(u,e.items),e}if(this._canExecuteSinglePass(m,i))return await y(new C(p,i,this));const g=await Z(x,m,this.geometryType,this.hasZ,this.hasM);yield;const _=yield*this._runSpatialFilter(p,e=>g(f.getGeometry(e)));return yield,await y(new C(_,i,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const r of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(r).forEach(e=>t.add(e))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter(e=>t.has(i(e)))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter(e=>t.has(i(e)))}_executeTimeQuery(e){if(0===e.items.length)return;const t=J(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=j(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter(e=>t.testFeature(e,this.featureAdapter))}}async*_executeGeometryQueryForSnapping(e){const{query:t}=e,{spatialRel:i}=t;if(!e?.items?.length||!t.geometry||!i)return;const r=await Z(i,t.geometry,this.geometryType,this.hasZ,this.hasM);yield;const s=this.featureAdapter,a=e=>r(s.getGeometry(e)),n=yield*this._runSpatialFilter(e.items,a);e.items=n}*_runSpatialFilter(e,t){if(!t)return e;if(null==this._frameTask)return e.filter(e=>t(e));let i=yield;const r=new Array;for(const s of e)t(s)&&r.push(s),i.madeProgress(),i.done&&(i=yield);return r}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:r}=this.timeInfo,s=r||i,a=new Map,n=this.featureAdapter.getAttribute;for(const l of e.items){const e=n(l,t),i=n(l,s),r=a.get(e);(!r||i>n(r,s))&&a.set(e,l)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:i,returnGeometry:r,returnCentroid:s,outSR:a,resultType:n,cacheHint:l}=e;if(\"tile\"!==n&&!l)return null;const u=r||s;return R(a)&&!S(this.spatialReference,a)&&u?JSON.stringify([t,i,a]):JSON.stringify([t,i])}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return H(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i))}async _project(e,t){if(!t||S(this.spatialReference,t))return e;const r=this.featureAdapter,s=h()?await this._getFullExtent():void 0,a=await v(e.items.map(e=>E(this.geometryType,this.hasZ,this.hasM,r.getGeometry(e))),this.spatialReference,t,{areaOfInterestExtent:s});return e.items=i(a.map((t,i)=>r.cloneWithGeometry(e.items[i],I(t,this.hasZ,this.hasM)))),e}async _searchFeatures(e){const t=new Set;await Promise.all(e.map(e=>this.featureStore.forEachInBounds(e,e=>t.add(e))));const i=Array.from(t.values());return t.clear(),i}async*_executeQueryForStatistics(e,t){e=s(e);try{e=await q(e,this.definitionExpression,this.spatialReference),yield,e=await B(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference}),yield;const i=yield*this._executeSceneFilterQuery(e);yield;const r=yield*this._executeGeometryQuery(e,i);return yield,this._executeAggregateIdsQuery(r),yield,this._executeObjectIdsQuery(r),yield,this._executeTimeQuery(r),yield,this._executeAttributesQuery(r),yield,r}catch(i){if(i!==O)throw i;return new C([],e,this)}}get test(){}}function X(e){if(H(e)){if(F(e))return[p(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if(w(e))return e.rings.map(e=>p(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1])))}return[g(x(),e)]}function Y(e,t,i,r,s){const a={xmin:e[0],ymin:e[1],xmax:e[3],ymax:e[4],spatialReference:b(r)};s&&isFinite(e[2])&&isFinite(e[5])&&(a.zmin=e[2],a.zmax=e[5],a.hasZ=!0);const n=T(a,t,i);if(n.spatialReference=b(i),n.xmax-n.xmin===0){const e=o(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin===0){const e=o(n.spatialReference);n.ymin-=e,n.ymax+=e}if(s&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin===0){const e=o(n.spatialReference);n.zmin-=e,n.zmax+=e}return n}export{K as Feature,W as QueryEngine,Y as getQueryResultExtent};\n"],
  "mappings": "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",
  "names": ["s", "r", "t", "n", "a", "l", "d", "i", "o", "p", "e", "g", "f", "u", "y", "m", "T", "c", "s", "a", "l", "r", "u", "n", "o", "y", "t", "e", "i", "d", "h", "f", "m", "b", "E", "e", "t", "i", "c", "s", "a", "r", "n", "o", "l", "u", "g", "m", "d", "h", "U", "y", "x", "p", "T", "F", "I", "f", "k", "S", "L", "t", "e", "s", "r", "u", "p", "t", "i", "s", "d", "r", "o", "c", "m", "w", "f", "n", "a", "l", "e", "g", "h", "y", "e", "t", "G", "i", "l", "r", "n", "s", "S", "E", "p", "a", "B", "d", "u", "f", "o", "c", "h", "y", "g", "P", "m", "x", "F", "M"]
}
