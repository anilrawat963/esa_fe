{
  "version": 3,
  "sources": ["../../@arcgis/core/AggregateGraphic.js", "../../@arcgis/core/TrackGraphic.js", "../../@arcgis/core/layers/effects/FeatureEffectView.js", "../../@arcgis/core/rest/support/AggregateFeatureSet.js", "../../@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/FeatureInstanceStore.js", "../../@arcgis/core/views/2d/layers/features/RenderState.js", "../../@arcgis/core/views/2d/layers/features/FeatureContainer.js", "../../@arcgis/core/views/2d/layers/features/FeaturePipelineWorkerProxy.js", "../../@arcgis/core/views/2d/layers/features/FeatureSourceEventLog.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/geometryUtils.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/featureReductionUtils.js", "../../@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/labelingUtils.js", "../../@arcgis/core/views/2d/layers/features/schema/ExceedsLimitCache.js", "../../@arcgis/core/views/2d/layers/features/schema/SourceSchema.js", "../../@arcgis/core/views/2d/engine/webgl/color.js", "../../@arcgis/core/views/2d/layers/features/schema/processor/symbols/SymbolSchema.js", "../../@arcgis/core/views/2d/layers/features/schema/processor/LabelMatcherSchema.js", "../../@arcgis/core/views/2d/layers/features/schema/processor/MatcherSchema.js", "../../@arcgis/core/views/2d/layers/features/schema/processor/SimpleProcessorSchema.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/CatalogFootprintLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/floorFilterUtils.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/FeatureLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/InMemoryLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/KnowledgeGraphSublayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/OGCFeatureLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/OrientedImageryLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/ParquetLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/StreamLayerAdapter.js", "../../@arcgis/core/views/2d/layers/features/schema/processor/SubtypeProcessorSchema.js", "../../@arcgis/core/views/2d/layers/features/layerAdapters/SubtypeGroupLayerAdapter.js", "../../@arcgis/core/views/2d/layers/support/DebouncedFeatureOverride.js", "../../@arcgis/core/views/2d/layers/support/handleNoEngineError.js", "../../@arcgis/core/views/2d/tiling/FeatureTileSubscriptionManager.js", "../../@arcgis/core/networks/support/networkFieldUtils.js", "../../@arcgis/core/views/layers/support/WhereClauseVisitor.js", "../../@arcgis/core/views/layers/FeatureLayerView.js", "../../@arcgis/core/views/2d/layers/FeatureLayerView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"./Graphic.js\";import{property as e}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as t}from\"./core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(){super(...arguments),this.isAggregate=!0,this.origin=null}getObjectId(){return this.attributes.aggregateId}};r([e({type:Boolean})],s.prototype,\"isAggregate\",void 0),r([e({clonable:\"reference\"})],s.prototype,\"origin\",void 0),s=r([t(\"esri.AggregateGraphic\")],s);const i=s;export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"./Graphic.js\";import{property as e}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as t}from\"./core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(){super(...arguments),this.isAggregate=!0,this.origin=null}getObjectId(){return this.attributes.aggregateId}};r([e({type:Boolean})],s.prototype,\"isAggregate\",void 0),r([e({clonable:\"reference\"})],s.prototype,\"origin\",void 0),s=r([t(\"esri.TrackGraphic\")],s);const i=s;export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{EffectView as s}from\"./EffectView.js\";let c=class extends t{constructor(e){super(e),this._filter=null,this.duration=has(\"mapview-transitions-duration\"),this._excludedEffectView=new s(e),this._includedEffectView=new s(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get(\"featureEffect\")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set(\"scale\",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}get transitioningToEmpty(){return!this._excludedEffectView.final&&!this._includedEffectView.final}transitionStep(e,t){this._set(\"scale\",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransition(){this._includedEffectView.endTransition(),this._excludedEffectView.endTransition(),this._filter=null}_transitionTo(e){const t=this._get(\"featureEffect\"),i=e,f=i?.includedEffect,s=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(f)&&this._excludedEffectView.canTransitionTo(s);this._includedEffectView.effect=f,this._excludedEffectView.effect=s,this._set(\"featureEffect\",i),this._filter=i?.filter||t?.filter||null,c||this.endTransition()}};e([i()],c.prototype,\"_filter\",void 0),e([i()],c.prototype,\"_excludedEffectView\",void 0),e([i()],c.prototype,\"_includedEffectView\",void 0),e([i()],c.prototype,\"duration\",void 0),e([i()],c.prototype,\"excludedEffects\",null),e([i()],c.prototype,\"featureEffect\",null),e([i()],c.prototype,\"filter\",null),e([i()],c.prototype,\"hasEffects\",null),e([i()],c.prototype,\"includedEffects\",null),e([i({value:0})],c.prototype,\"scale\",null),e([i()],c.prototype,\"transitioning\",null),e([i()],c.prototype,\"transitioningToEmpty\",null),c=e([f(\"esri.layers.effects.FeatureEffectView\")],c);export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../AggregateGraphic.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"./FeatureSet.js\";let c=class extends p{constructor(){super(...arguments),this.features=[]}readFeatures(e,t){const o=a.fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const t=e[a],p=r.fromJSON(t),c=t.geometry?.spatialReference;null==p.geometry||c||(p.geometry.spatialReference=o);const i=t.aggregateGeometries,m=p.aggregateGeometries;if(i&&null!=m)for(const e in m){const r=m[e],t=i[e],s=t?.spatialReference;null==r||s||(r.spatialReference=o)}s.push(p)}return s}};e([t({type:[r],json:{write:!0}})],c.prototype,\"features\",void 0),e([o(\"features\")],c.prototype,\"readFeatures\",null),c=e([s(\"esri.rest.support.AggregateFeatureSet\")],c);export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{numericHash as t}from\"../../../../../../core/string.js\";import{FeatureTechniqueInstance as e}from\"./TechniqueInstance.js\";import{castInstanceId as s}from\"./mesh/instanceIdUtils.js\";class n{constructor(){this._instanceById=new Map}destroy(){this._instanceById.clear()}get size(){return this._instanceById.size}entries(){return this._instanceById.entries()}find(t){for(const e of this.values())if(e.techniqueRef.type===t)return e;return null}updateStart(t){t&&(this._instanceByIdNext=new Map,this._shaderCountByMesh=new Map,this._shaderIndices=new Map)}updateEnd(t){if(t){if(!this._instanceByIdNext)throw new Error(\"InternalError: Found updateEnd call without corresponding updateStart\");for(const t of this._instanceById.keys())this._instanceByIdNext.has(t)||this._instanceById.delete(t);for(const[t,e]of this._instanceByIdNext.entries()){const s=this._instanceById.get(t);s?s.setInput(e.getInput()):this._instanceById.set(t,e)}this._instanceByIdNext=null,this._shaderCountByMesh=null,this._shaderIndices=null}}values(){return this._instanceById.values()}ensureInstance(n,i){let r;if(\"object\"==typeof i&&\"optionalAttributes\"in i&&\"uniforms\"in i){const t=`${n.type}.${JSON.stringify(i.optionalAttributes)}`,e=t+`.${JSON.stringify(i.uniforms)}`;let s=0;null!=this._instanceByIdNext&&(this._shaderIndices.has(e)?s=this._shaderIndices.get(e):(s=this._shaderCountByMesh.get(t)??0,this._shaderCountByMesh.set(t,s+1),this._shaderIndices.set(e,s))),r=t+`.${s}`}else r=`${n.type}.${JSON.stringify(i)}`;const a=t(r);if(this._instanceByIdNext){const t=new e(s(a),n,i);return this._instanceByIdNext.set(a,t),t}if(!this._instanceById.has(a)){const t=new e(s(a),n,i);this._instanceById.set(a,t)}return this._instanceById.get(a)}getInstance(t){const e=this._instanceById.get(t);if(null==e)throw new Error(`InternalError: Unable to get instance for ${t}`);return e}}export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/CircularArray.js\";import t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{create as s}from\"../../../../geometry/support/aaBoundingRect.js\";import\"../../tiling/TileInfoView.js\";import n from\"../../tiling/TileKey.js\";import\"../../tiling/TileQueue.js\";import\"../../tiling/TileStrategy.js\";import{FeatureTile as r}from\"../../engine/webgl/FeatureTile.js\";const o=1e3;class d{constructor(t,i,s,n,r,d){this.getStage=t,this.getSubscriptionVersion=i,this.version=s,this._fader=n,this._container=r,this._tileInfoView=d,this._pendingUpdates=new e(o),this._locked=!1,this._tiles=new Map}destroy(){for(const e of this.tiles())this._fader.unregisterFeatureTile(e),e.destroy();this._pendingUpdates.clear(),this._tiles.clear(),this._container=null,this._fader=null}tiles(){return this._tiles.values()}size(){return this._tiles.size}get usedMemory(){let e=0;for(const t of this._tiles.values())e+=t.usedMemory;for(const t of this._pendingUpdates.entries)t&&(e+=l(t.inner));return e}getTile(e){return this._tiles.get(e)}setTiles(e){this._tiles.clear();for(const t of e)this._tiles.set(t.key.id,t)}lockUploads(){this._locked=!0}unlockUploads(){this._locked=!1,this.flush()}enqueueUpdate(e){this._pendingUpdates.enqueue(e)}update(e){if(!this._locked)for(;this._pendingUpdates.size;){const t=this._pendingUpdates.peek();if(null==t||t.inner.attributeEpoch>e)break;this._updateTile(t),this._pendingUpdates.dequeue()}}removeTile(e){const t=this._tiles.get(e);has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] RenderState.removeTile`),t&&(this._fader.unregisterFeatureTile(t),t.destroy()),this._tiles.delete(e)}isTileDone(e){const t=this._tiles.get(e.id);return!!t&&(t.isReady&&t.decluttered)}flush(){for(;this._pendingUpdates.size;){const e=this._pendingUpdates.dequeue();null!=e&&this._updateTile(e)}for(const e of this._tiles.values())e.upload()}_updateTile(e){const{inner:t,objectIdMap:i}=e,s=this.getSubscriptionVersion(t.id);if(s!==t.subscriptionVesrion){if(has(\"esri-2d-update-debug\")){const e=`${t.subscriptionVesrion} != ${s}`;console.debug(`Version[${e}] Tile[${t.id}] FeatureContainer - Dropping message, outdated version]`,t)}return}if(has(\"esri-2d-update-debug\")){const e=t.debugInfo?.chunkId??\"<EnsureEnd>\";console.debug(`Version[${t.version}] Tile[${t.id}] Chunk[${e}] RenderState.updateTile [${t.type}]`,t)}const n=this._ensureTile(t.id);if(\"update\"===t.type){const[e,...s]=t.modify;n.onMessage({type:\"update\",modify:e,remove:t.remove,end:t.end,attributeEpoch:t.attributeEpoch,objectIdMap:i});for(const n of s){const e=this._tiles.get(n.tileId);e&&e.onMessage({type:\"update\",modify:n,remove:t.remove,end:!1,isPixelBuffer:!0,attributeEpoch:null,objectIdMap:i})}return}if(null==t.append)return void n.onMessage({type:\"append\",clear:t.clear,debugInfo:t.debugInfo,end:t.end,attributeEpoch:t.attributeEpoch,objectIdMap:i});const[r,...o]=t.append;n.onMessage({type:\"append\",clear:t.clear,append:r,debugInfo:t.debugInfo,end:t.end,attributeEpoch:t.attributeEpoch,objectIdMap:i});for(const d of o){const e=this._tiles.get(d.tileId);e&&e.onMessage({type:\"update\",modify:d,remove:[],sort:!1,end:!1,isPixelBuffer:!0,attributeEpoch:null,objectIdMap:i})}}_ensureTile(e){if(!this._tiles.has(e)){const t=this._createTile(e);this._copyPixelBufferedEntitiesInto(t),this._tiles.set(e,t)}return this._tiles.get(e)}_createTile(e){has(\"esri-2d-update-debug\")&&console.debug(`Version[${this.version}] Tile[${e}] RenderState.createTile`);const o=new n(e),d=this._tileInfoView.getTileBounds(s(),o),l=d[0],a=d[3],u=this._tileInfoView.getTileResolution(o.level),p=this._container.instanceStore.find(18)?.instanceId,c=new r(o,u,l,a,this._fader,p,!0);if(this._fader.registerFeatureTile(c),c.stage=this.getStage(),!c.stage){const e=new t(\"featurelayerview:webgl\",\"Cannot create tile with empty stage\");i.getLogger(\"esri.views.2d.layers.features.RenderState\").error(e)}return c}_copyPixelBufferedEntitiesInto(e){let t=7;const i=this._tileInfoView.getLODInfoAt(e.key);for(let s=-1;s<=1;s++)for(let n=-1;n<=1;n++){if(0===s&&0===n)continue;const r=e.key.getNormalizedNeighbor(n,s,i).id,o=this._tiles.get(r);if(null!=o){const i=1<<t;e.copyPixelBufferedEntitesFrom(o,i,n,s)}t--}}}function l(e){switch(e.type){case\"update\":return e.modify.reduce((e,t)=>e+a(t),0);case\"append\":return e.append?e.append.reduce((e,t)=>e+a(t),0):0}}function a(e){return e.entities.byteLength+e.data.reduce((e,t)=>e+u(t),0)}function u(e){return e.indices.byteLength+e.vertices.byteLength+(e.metrics?.byteLength??0)}export{d as RenderState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../core/maybe.js\";import{throwIfAborted as t,createResolver as s}from\"../../../../core/promiseUtils.js\";import{UpdatingHandles as r}from\"../../../../core/support/UpdatingHandles.js\";import{AFeatureContainer as i}from\"../../engine/AFeatureContainer.js\";import n from\"../../engine/webgl/shaderGraph/techniques/FeatureInstanceStore.js\";import{Techniques as a}from\"../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{RenderState as o}from\"./RenderState.js\";import{renderHighlight as h}from\"../support/util.js\";class d{constructor(e,t){this.id=e,this.version=t,this._resolver=s(),this._done=!1}get done(){return this._done}get promise(){return this._resolver.promise}end(){this._resolver.resolve(),this._done=!0}destroy(){this._resolver.reject()}}class l extends i{constructor(e){super(e.view.featuresTilingScheme),this.updatingHandles=new r,this._hitTestsRequests=[],this._store=new n,this._visibleTiles=new Set,this._subscriptions=new Map,this._updateStatisticsRequests=[],this._lockStatisticUpdates=!1,this._shouldUnlockAttributeView=!1,this._layerView=e,this.addTransitionable(this._layerView.featureEffectView)}destroy(){this.updatingHandles.destroy(),super.destroy(),this._renderState=e(this._renderState),this._renderStateNext=e(this._renderStateNext)}renderChildren(e){if(this._updateAttributeView(),this._renderState?.update(this.attributeView.currentEpoch),this._layerView.requestUpdate(),this._renderState){const e=Array.from(this._renderState.tiles()).filter(e=>e.needsUpload);if(e.length){e[Math.floor(Math.random()*e.length)].upload(),e.length>=2&&this.requestRender()}for(const t of this._renderState.tiles())t.tryReady(this.attributeView.currentEpoch)&&(this._subscriptions.get(t.key.id)?.end(),this._layerView.requestUpdate(),this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this._layerView.view.labelManager.symbolFader.restartDeclutter(),this.requestRender())}const t=this._layerView.subscriptionManager.updateVisibility();this.setVisibleTiles(t);for(const s of this.children)s.setTransform(e.state);switch(super.renderChildren(e),e.drawPhase){case 1:return this._renderMapPhase(e);case 16:return this._renderHighlightPhase(e);case 2:return this._renderLabelPhase(e)}}subscriptions(){return this._subscriptions.values()}get hasLabels(){return this._layerView.labelingCollisionInfos.length>0}get hasHighlight(){return this._layerView.hasHighlight}get children(){return this._renderState?Array.from(this._renderState.tiles()).filter(e=>this._visibleTiles.has(e.key.id)):[]}get usedMemory(){let e=0;return this._renderState&&(e+=this._renderState.usedMemory),this._renderStateNext&&(e+=this._renderStateNext.usedMemory),e+=this.attributeView.usedMemory,e}get instanceStore(){return this._store}get layerView(){return this._layerView}get tiles(){return this._renderState?.tiles()}get _instanceStore(){return this._store}get _layer(){return this._layerView.layer}_getHeatmapInstance(e){if(null==this._instanceStore||!(e.drawPhase&a.heatmap.drawPhase))return null;for(const t of this._instanceStore.values())if(u(t))return t;return null}updateAttributeView(e){this.requestRender(),this.attributeView.requestUpdate(e),this.hasLabels&&(this._layerView.view.labelManager.requestUpdate(),this._layerView.view.labelManager.symbolFader.restartDeclutter())}updateSubscriptions(e){for(const{tileId:t,version:s}of e.subscribe){if(!this._subscriptions.has(t)){const e=new d(t,s);this._subscriptions.set(t,e),this.updatingHandles.addPromise(e.promise);continue}this._subscriptions.get(t).version=s}for(const t of e.unsubscribe){const e=this._subscriptions.get(t);e?.destroy(),this._subscriptions.delete(t),this.removeTile(t)}}isDone(e){return!!this._renderState&&this._renderState.isTileDone(e)}async updateRenderState(e){has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureContainer.updateRenderState`),this._renderStateNext=new o(()=>this._stage,e=>this._subscriptions.get(e)?.version,e,this.layerView.view.labelManager.symbolFader,this,this.tileInfoView)}getDisplayStatistics(e,t){const s=this._statisticsByLevel.get(e);return s?s.get(t):null}updateStatistics(e,t){if(this._lockStatisticUpdates)return void this._updateStatisticsRequests.push({level:e,statistics:t});let s=this._statisticsByLevel.get(e);s||(s=new Map,this._statisticsByLevel.set(e,s));for(const r of t)s.set(r.fieldName,{minValue:r.minValue,maxValue:r.maxValue})}lockForOverrides(){this._renderState?.lockUploads(),this._lockStatisticUpdates=!0,this.attributeView.locked||(this.attributeView.lockTextureUploads(),this._shouldUnlockAttributeView=!0)}unlockForOverrides(){this._renderState?.unlockUploads(),this._shouldUnlockAttributeView&&(this.attributeView.unlockTextureUploads(),this._shouldUnlockAttributeView=!1),this._lockStatisticUpdates=!1;for(const e of this._updateStatisticsRequests)this.updateStatistics(e.level,e.statistics);this._updateStatisticsRequests=[],this._renderState?.flush(),this.requestRender()}trySwapRenderState(){if(this._renderStateNext){has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._renderStateNext.version}] FeatureContainer.update.swapRenderState`);const e=new Map;for(const t of this._renderState?.tiles()||[])e.set(t.id,t.metricsVisibility);this._renderState?.destroy(),this._renderState=this._renderStateNext,this._renderState.flush();for(const t of this._renderState.tiles())t.copyMetricsVisibility(e.get(t.id)||new Set);this._renderStateNext=null}this.requestRender()}setVisibleTiles(e){this._visibleTiles=e;for(const t of this.tiles??[])t.rendering=e.has(t.key.id)}async onMessage(e,s){t(s);const r=e.inner;if(!this._subscriptions.has(r.id))return;const i=this._subscriptions.get(r.id);if(i.version!==r.subscriptionVesrion){if(has(\"esri-2d-update-debug\")){const e=`${r.subscriptionVesrion} != ${i.version}`;console.debug(`Version[${e}] Tile[${r.id}] FeatureContainer - Dropping message, outdated version]`,r)}return}const n=this._renderStateNext??this._renderState;if(!n)throw new Error(\"InternalError: No renderState defined\");n.version!==r.version&&console.error(`InternalError: Version mismatch. [renderState: ${n.version}, message: ${r.version}]`),n.enqueueUpdate(e),this.requestRender(),this._layerView.view.labelManager.requestUpdate(),this._layerView.requestUpdate()}removeTile(e){(this._renderState||this._renderStateNext)&&(this._renderState&&this._renderState.removeTile(e),this._renderStateNext&&this._renderStateNext.removeTile(e))}hitTest(e){let t=this._hitTestsRequests.find(({x:t,y:s})=>t===e.x&&s===e.y);const r=s();return t?t.resolvers.push(r):(t={x:e.x,y:e.y,resolvers:[r]},this._hitTestsRequests.push(t)),this.requestRender(),r.promise}getSortKeys(e){const t=new Set(e),s=new Map;for(const r of this.children)if(r.getSortKeys(t).forEach((e,t)=>s.set(t,e)),s.size===t.size)break;return s}get hasAnimation(){return this.hasLabels}doRender(e){const{minScale:t,maxScale:s}=this._layer.effectiveScaleRange,r=e.state.scale;r<=(t||1/0)&&r>=s&&super.doRender(e)}afterRender(e){super.afterRender(e),this._hitTestsRequests.length&&this.requestRender()}setStencilReference(e){if(null==this._getHeatmapInstance(e))super.setStencilReference(e);else for(const t of this.children)t.stencilRef=a.heatmap.getStencilReference(t)}_renderMapPhase(e){this._layerView.featureEffectView.hasEffects?(this._renderOutsideEffect(e),this._renderInsideEffect(e)):this._renderFeatures(e,0),this._hitTestsRequests.length>0&&this._renderHittest(e)}_renderHighlightPhase(e){this.hasHighlight&&h(e,!1,e=>{this._renderFeatures(e,1)})}_renderLabelPhase(e){this._renderFeatures(e,0)}_renderInsideEffect(e){const t=e.painter.effects.insideEffect;t.bind(e),this._renderFeatures(e,2),t.draw(e,this._layerView.featureEffectView.includedEffects),t.unbind()}_renderOutsideEffect(e){const t=e.painter.effects.outsideEffect;t.bind(e),this._renderFeatures(e,3),t.draw(e,this._layerView.featureEffectView.excludedEffects),t.unbind()}_renderHittest(e){const{context:t}=e,s=e.painter.effects.hittest,r=t.getBoundFramebufferObject(),i=t.getViewport(),n=e.passOptions,a=e.drawPhase;s.bind(e),e.passOptions=s.createOptions(e,this._hitTestsRequests),e.drawPhase=8;const{distance:o,smallSymbolDistance:h}=e.passOptions,d=Math.max(o,h);for(const l of this.children)l.visible&&l.containsScreenPoint(e.state,e.passOptions.position,2*d)&&this._renderTile(l,e,0);s.draw(e),s.unbind(),t.bindFramebuffer(r),t.restoreViewport(i),e.passOptions=n,e.drawPhase=a}_renderFeatures(e,t){const s=this._getHeatmapInstance(e);null!=s?this._renderHeatmapFeatures(e,t,s):this._renderGeometryFeatures(e,t)}_renderGeometryFeatures(e,t){for(const s of this.children)s.visible&&this._renderTile(s,e,t)}_renderHeatmapFeatures(e,t,s){for(const r of this.children)r.visible&&this._renderTile(r,e,t,17);s.techniqueRef.renderResolvePass(e,s)}_renderTile(e,t,s,r){const i=has(\"featurelayer-strict-draw-order\")?1:has(\"featurelayer-force-marker-text-draw-order\")?2:0,n=e.getDisplayList(this._instanceStore,i);t.selection=s,n?.render(t,r)}}function u(e){return 17===e.techniqueRef.type}export{l as FeatureContainer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{open as e}from\"../../../../core/workers/workers.js\";async function t(t){const o=await e(\"FeaturePipelineWorker\",{client:t,strategy:\"dedicated\"});return new n(o)}class n{constructor(e){this._connection=e,this.pipeline=this._connection.createInvokeProxy(),this.features=this._connection.createInvokeProxy(\"features\"),this.aggregates=this._connection.createInvokeProxy(\"aggregates\"),this.streamMessenger=this._connection.createInvokeProxy(\"streamMessenger\")}destroy(){this._connection.destroy()}get closed(){return this._connection.closed}}export{n as FeaturePipelineWorkerProxy,t as createFeaturePipelineWorkerProxy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/CircularArray.js\";import{EventEmitter as r}from\"../../../../core/Evented.js\";import i from\"../../../../core/Logger.js\";import o from\"../../../../core/ReactiveMap.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";const l=10;let u=class extends e{constructor(){super(...arguments),this.events=new r,this._updatingStrategy=!0,this._tileToEvent=new o,this._fetchStatus={outstanding:0,done:0},this._pipelineStatistics={type:\"performance\",usedMemory:0}}get hasAllData(){return!this._updatingStrategy&&this._hasAllTileData()}get pipelineStatistics(){return this._pipelineStatistics}get willQueryAllFeatures(){return this._strategyInfo?.willQueryAllFeatures??!1}get willQueryFullResolutionGeometry(){return this._strategyInfo?.willQueryAllFeatures??!1}onEvent(t){switch(t.type){case\"subscribe\":case\"unsubscribe\":case\"loaded\":case\"error\":this._handleTileEvent(t);break;case\"updateStrategyStart\":this._updatingStrategy=!0,this._fetchStatus={done:0,outstanding:0},this._strategyInfo=t.about;break;case\"updateStrategyEnd\":this._updatingStrategy=!1;break;case\"updateFieldsStart\":this._fetchStatus={done:0,outstanding:0};break;case\"updateFieldsEnd\":break;case\"updateFieldsError\":this.events.emit(\"error\",t);break;case\"fetchStart\":this._fetchStatus.outstanding+=1,this.events.emit(\"status\",this._fetchStatus);break;case\"fetchEnd\":this._fetchStatus.done+=1,this.events.emit(\"status\",this._fetchStatus),t.done&&(this._fetchStatus={done:0,outstanding:0});break;case\"performance\":this._pipelineStatistics=t}}_hasAllTileData(){for(const t of this._tileToEvent.values()){const e=t.peekLast();if(\"loaded\"!==e?.type)return!1}return!0}_handleTileEvent(t){switch(t.type){case\"subscribe\":{const e=new s(l);e.enqueue(t),this._tileToEvent.set(t.tile,e);break}case\"unsubscribe\":this._tileToEvent.delete(t.tile);break;case\"loaded\":{const e=this._tileToEvent.get(t.tile);if(!e)return;e.enqueue(t),this._tileToEvent.set(t.tile,e);break}case\"error\":{const e=this._tileToEvent.get(t.tile);if(!e)return;e.enqueue(t),this._tileToEvent.set(t.tile,e),this.events.emit(\"error\",t),i.getLogger(this).error(`Failed to load tile ${t.tile}.`,{error:t.error});break}}}};t([a({readOnly:!0})],u.prototype,\"hasAllData\",null),t([a()],u.prototype,\"pipelineStatistics\",null),t([a()],u.prototype,\"willQueryAllFeatures\",null),t([a()],u.prototype,\"willQueryFullResolutionGeometry\",null),t([a()],u.prototype,\"_updatingStrategy\",void 0),t([a()],u.prototype,\"_strategyInfo\",void 0),t([a()],u.prototype,\"_tileToEvent\",void 0),t([a()],u.prototype,\"_pipelineStatistics\",void 0),u=t([n(\"esri.views.2d.layers.features.FeatureSourceEventLog\")],u);export{u as FeatureSourceEventLog};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e.geometryType){case\"point\":return\"esriGeometryPoint\";case\"polyline\":return\"esriGeometryPolyline\";case\"mesh\":case\"polygon\":return\"esriGeometryPolygon\";case\"multipatch\":return\"esriGeometryMultiPatch\";case\"multipoint\":return\"esriGeometryMultipoint\";default:return null}}export{e as getServiceGeometryType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e,a){const c=e.featureReduction;return c&&\"selection\"!==c.type&&(!(\"maxScale\"in c)||!c.maxScale||c.maxScale<a.scale)?c:null}export{e as getEffectiveFeatureReduction};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{meterIn as n}from\"../../../../renderers/support/lengthUtils.js\";const e=Math.PI;function r(t,n){switch(n.transformationType){case\"additive\":return a(t,n);case\"constant\":return s(n,t);case\"clamped-linear\":return u(t,n);case\"proportional\":return o(t,n);case\"stops\":return c(t,n);case\"real-world-size\":return l(t,n);case\"identity\":return t;case\"unknown\":return null}}function i(t,n){return\"number\"==typeof t?t:r(n,t)}function a(t,n){return t+(i(n.minSize,t)||n.minDataValue)}function s(t,n){const e=t.stops;let r=e?.length&&e[0].size;return null==r&&(r=t.minSize),i(r,n)}function u(t,n){const e=n.minDataValue,r=n.maxDataValue,a=(t-e)/(r-e),s=i(n.minSize,t),u=i(n.maxSize,t);return t<=e?s:t>=r?u:s+a*(u-s)}function o(n,e){const r=n/e.minDataValue,a=i(e.minSize,n),s=i(e.maxSize,n);let u=null;return u=r*a,t(u,a,s)}function c(t,n){const[e,r,a]=m(t,n.cache.ipData);if(e===r)return i(n.stops[e].size,t);{const s=i(n.stops[e].size,t);return s+(i(n.stops[r].size,t)-s)*a}}function l(t,r){const i=n[r.valueUnit],{valueRepresentation:a}=r;let s=null;return s=\"area\"===a?2*Math.sqrt(t/e)/i:\"radius\"===a||\"distance\"===a?2*t/i:t/i,s}function m(t,n){if(!n)return;let e=0,r=n.length-1;return n.some((n,i)=>t<n?(r=i,!0):(e=i,!1)),[e,r,(t-n[e])/(n[r]-n[e])]}export{r as getSizeForValueSimple};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as n}from\"../../../../../core/screenUtils.js\";import{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getSizeForValueSimple as i}from\"../../support/visualVariableSimpleUtils.js\";function l(n){return(n.labelsVisible&&n.labelingInfo?.every(n=>\"none\"!==n.deconflictionStrategy))??!1}function r(n,i){const l=e(n,i);if(l?.labelsVisible&&l.labelingInfo?.length)return l.labelingInfo.every(n=>\"none\"!==n.deconflictionStrategy)}function t(e){return l=>n(i(l,e))}function o(n){const e=null!=n&&\"visualVariables\"in n&&n.visualVariables;if(!e)return null;for(const i of e)if(\"size\"===i.type)return t(i);return null}export{o as createLabelVVEvaluator,r as getFeatureReductionDeconflictionEnabled,l as getLayerDeconflictionEnabled};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{executeQuery as t,executeQueryForCount as e}from\"../../../../../rest/query/operations/query.js\";import r from\"../../../../../rest/support/StatisticDefinition.js\";import{FeatureSourceQueryInfo as a}from\"../sources/FeatureSourceQueryInfo.js\";import{FeatureMetadata as o}from\"../support/FeatureMetadata.js\";class s{constructor(){this._cache=new Map}async executeExceedsLimitQuery(t,e,r){const s=o.createFeature(t.metadata),i=a.create(t,e,s).createQuery();i.inner.orderByFields=[],i.inner.returnGeometry=!1,i.inner.cacheHint=!0;const c=\"esriGeometryPoint\"!==t.metadata.geometryType,u=JSON.stringify({source:t.source,query:i.inner.toJSON(),customParameters:i.customParameters,snapshotInfo:r,isPoints:c});let m=this._cache.get(u);return null==m&&(m=await n(t.source,c,i,r),this._cache.set(u,m)),m}}async function n(e,a,o,s){if(!s.supportsExceedsLimit)return i(e,a,o,s);try{const a=o.inner.clone(),n=new r;n.statisticType=\"exceedslimit\",n.maxPointCount=s.maxFeatureCount,n.maxRecordCount=s.maxFeatureCount,n.outStatisticFieldName=\"exceedslimit\",s.maxVertexCount&&(n.maxVertexCount=s.maxVertexCount),a.outStatistics=[n];const i=await t(e,a,void 0,{query:o.customParameters}),c=i.data.features[0]?.attributes.exceedslimit;return!(0===c)}catch(n){return i(e,a,o,s)}}async function i(t,r,a,o){if(r)return!0;const s=a.inner.clone();try{return(await e(t,s,{query:a.customParameters})).data.count>o.maxFeatureCount}catch(n){return!0}}export{s as ExceedsLimitCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";async function e(e,r,i){return{type:\"feature\",service:e,strategy:await t(e,i,r,i.cache)}}async function t(e,t,r,i){const s=t.customParameters??{};t.apiKey&&(s.apiKey=t.apiKey);const n=t.displayFilterEnabled?t.displayFilterInfo?.toJSON():null,o=t.historicMoment?.getTime(),a=t.timeExtent?.toJSON(),l={...t,displayFilterInfo:n,customParameters:s,historicMoment:o,timeExtent:a};if(\"feature-service\"===e.type&&null!=r&&!await i.executeExceedsLimitQuery(e,l,r))return{type:\"snapshot\",snapshotInfo:r,partial:{availableFields:t.availableFields},full:{displayFilterInfo:null,queryScaleRanges:null,sourceRefreshVersion:t.sourceRefreshVersion,definitionExpression:t.definitionExpression,customParameters:t.customParameters,gdbVersion:t.gdbVersion,historicMoment:o,timeExtent:a}};return\"feature-service\"===e.type&&e.isSourceHosted||\"memory\"===e.type||\"ogc\"===e.type?{type:\"paged-tile\",partial:{availableFields:t.availableFields},full:{sourceRefreshVersion:t.sourceRefreshVersion,definitionExpression:t.definitionExpression,customParameters:t.customParameters,gdbVersion:t.gdbVersion,historicMoment:o,queryScaleRanges:t.queryScaleRanges,timeExtent:a,displayFilterInfo:n}}:{type:\"drill-down\",partial:{availableFields:t.availableFields},full:{sourceRefreshVersion:t.sourceRefreshVersion,definitionExpression:t.definitionExpression,customParameters:t.customParameters,gdbVersion:t.gdbVersion,historicMoment:o,queryScaleRanges:t.queryScaleRanges,timeExtent:a,displayFilterInfo:n}}}function r(e,t,r,a,l,u){const c=o(a);if(!(!!has(\"featurelayer-snapshot-enabled\")&&r?.query.supportsPagination&&!r?.operations.supportsEditing&&!t))return null;const m=n(l,u),{min:p,max:y}=c,h=m?y:p,d=s(a);let f=has(\"featurelayer-snapshot-initial-tolerance\");return\"esriGeometryPoint\"!==a&&\"esriGeometryMultipoint\"!==a||(f=null),{supportsExceedsLimit:i(e,r),initialTolerance:f,maxFeatureCount:h,maxVertexCount:d}}function i(e,t){return!(!e&&!has(\"featurelayer-snapshot-non-hosted-exceedslimit-enabled\"))&&t?.operations.supportsExceedsLimitStatistics}function s(e){switch(e){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":case\"esriGeometryMultiPatch\":case\"esriGeometryMultipoint\":return has(\"featurelayer-snapshot-max-vertex-count\")}}function n(e,t){const r=t?.clone().intersection(e),i=null!=r?r.width*r.height:0,s=t?t.width*t.height:0,n=0===s?0:i/s,o=has(\"featurelayer-snapshot-coverage\");return!isNaN(n)&&n>=o}function o(e){switch(e){case\"esriGeometryMultipoint\":return{min:has(\"featurelayer-snapshot-multipoint-min-threshold\"),max:has(\"featurelayer-snapshot-multipoint-max-threshold\")};case\"esriGeometryPoint\":return{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")};case\"esriGeometryMultiPatch\":case\"esriGeometryPolygon\":return{min:has(\"featurelayer-snapshot-polygon-min-threshold\"),max:has(\"featurelayer-snapshot-polygon-max-threshold\")};case\"esriGeometryPolyline\":return{min:has(\"featurelayer-snapshot-polyline-min-threshold\"),max:has(\"featurelayer-snapshot-polyline-max-threshold\")}}}export{e as createFeatureSourceSchema,r as createSnapshotInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{i8888to32 as n}from\"./number.js\";function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return n(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return n(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}export{r as premultiplyAlpha,t as premultiplyAlphaRGBA,o as premultiplyAlphaRGBAArray,u as writeColor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../../core/Logger.js\";import{pt2px as i}from\"../../../../../../../core/screenUtils.js\";import{generateGradient as a}from\"../../../../../../../renderers/support/heatmapUtils.js\";import l from\"../../../../../../../symbols/SimpleFillSymbol.js\";import r from\"../../../../../../../symbols/SimpleLineSymbol.js\";import t from\"../../../../../../../symbols/SimpleMarkerSymbol.js\";import{CIMSymbolHelper as o,slsDashToTemplateArray as s}from\"../../../../../../../symbols/cim/CIMSymbolHelper.js\";import{getSDFInfo as n}from\"../../../../../../../symbols/cim/SDFHelper.js\";import{getAlignmentFromPlacement as u}from\"../../../../../engine/webgl/alignmentUtils.js\";import{writeColor as c}from\"../../../../../engine/webgl/color.js\";import{dotDensityMaxFields as p}from\"../../../../../engine/webgl/definitions.js\";import{Techniques as f}from\"../../../../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{premultiplyColor as b}from\"../schemaUtils.js\";import{createVisualVariableUniforms as m,getMaxSizeVVSize as S,noVisualVariables as V}from\"../VisualVariablesSchema.js\";import{createComplexSymbolInstances as y}from\"./ComplexSymbolSchema.js\";import{hasSizeVVUniform as v,hasRotationVVUniform as h}from\"./utils.js\";async function z(i,a){if(!i)return[];switch(i.type){case\"simple-fill\":return U(i,a);case\"picture-fill\":return j(i,a);case\"simple-marker\":return C(i,a);case\"picture-marker\":return I(i,a);case\"simple-line\":return F(i,a,!1);case\"text\":return O(i,a);case\"label\":return A(i,a);case\"cim\":return y(i.data,a);case\"web-style\":return z(await i.fetchSymbol({acceptedFormats:[\"cim\",\"web\"]}),a);case\"line-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-line`),F(new r,a,!1);case\"point-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-marker`),C(new t,a);case\"polygon-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-fill`),U(new l,a);case\"mesh-3d\":case\"label-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Ignoring`),[];case\"CIMSymbolReference\":throw new Error(\"InternalError: CIMSymbolReference should already be resolved\")}}async function d(e,i){const{schemaOptions:a}=i,{store:r}=a,t=new Array(p),o=new Array(p/4);for(let l=0;l<p;l++){const i=l<e.attributes.length?e.attributes[l].color:null;t[l]=[0,0,0,0],c(t[l],i)}for(let l=0;l<p/4;l++)o[l]=[0,0,0,0],o[l][0]=4*l<e.attributes.length?1:0,o[l][1]=4*l+1<e.attributes.length?1:0,o[l][2]=4*l+2<e.attributes.length?1:0,o[l][3]=4*l+3<e.attributes.length?1:0;const s={uniforms:{isActive:o,colors:t,dotValue:e.dotValue,dotScale:e.referenceScale,blending:e.dotBlendingEnabled,dotSize:e.dotSize,seed:e.seed},optionalAttributes:{}},n=r.ensureInstance(f.dotDensity,s).createMeshInfo({effects:null}),u=[],b=new l({color:e.backgroundColor??[0,0,0,0],outline:null}),m=await z(b,i);if(u.push(...m),u.push(n),e.outline){const a=F(e.outline,i,!0);u.push(...a)}return u}async function g(e,l){const{store:r}=l,{radius:t,minDensity:o,maxDensity:s,referenceScale:n,field:u,valueExpression:c,colorStops:p}=e,b=a(p);return[r.ensureInstance(f.heatmap,{uniforms:{radius:i(t),minDensity:o,maxDensity:s,referenceScale:n,isFieldActive:!(!u&&!c),gradient:b,gradientHash:b.join(\",\")},optionalAttributes:{}}).createMeshInfo({effects:null})]}async function M(e,a){const{store:l}=a,r=e.outline?.width||0,t=m(e),o=l.ensureInstance(f.pieChart,{uniforms:{shader:{outlineWidth:Math.round(i(r)),defaultColor:b(e.defaultColor),outlineColor:b(e.outline?.color),othersColor:b(e.othersCategory?.color),donutRatio:e.holePercentage,sectorThreshold:e.othersCategory?.threshold||0,colors:e.attributes.map(e=>b(e.color)),visualVariableOpacity:t.visualVariableOpacity,visualVariableSizeMinMaxValue:t.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:t.visualVariableSizeScaleStops,visualVariableSizeStops:t.visualVariableSizeStops,visualVariableSizeUnitValue:t.visualVariableSizeUnitValue,hittestUniforms:null,highlightUniforms:null},numberOfFields:e.attributes.length},optionalAttributes:{}}).createMeshInfo({size:e.size,outlineWidth:r,effects:null,scaleInfo:null,minPixelBuffer:S(t)});return[...e.backgroundFillSymbol?await U(e.backgroundFillSymbol,{schemaOptions:a,uniforms:V}):[],o]}function x(e){if(\"path\"===e.style){if(null==e.path)throw new Error(\"Symbol with a style of type path must define a path\");return{type:\"sprite-rasterization-param\",overrides:[],resource:{type:\"path\",path:e.path,asFill:!0}}}const i=o.fromSimpleMarker(e);if(\"outline\"in e&&e.outline&&\"none\"!==e.outline.style){if(\"solid\"!==e.outline.style){if(!i||!i.symbolLayers)throw new Error(\"Error handling marker! \");return{type:\"sprite-rasterization-param\",resource:i.symbolLayers[0],overrides:[]}}}return{type:\"sprite-rasterization-param\",resource:n(i),overrides:[]}}async function C(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l;if(\"path\"===e.style||e.outline&&\"solid\"!==e.outline.style&&\"none\"!==e.outline.style){const l=o.fromSimpleMarker(e);if(!l||!l.symbolLayers)throw new Error(\"Error handling marker! \");if(a.visualVariableRotation&&(l.angleAlignment=\"Map\"),\"path\"!==e.style){const e=l.symbolLayers[0];if(v(i.uniforms)){const a=S(i.uniforms,0,1);if(a>e.size){const i=a/e.size;e.size=a;const l=e.markerGraphics?.[0].symbol;(l.symbolLayers&&l.symbolLayers[0]).width*=i}}}return y({type:\"CIMSymbolReference\",symbol:l},i)}const t=r.ensureInstance(f.marker,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue,visualVariableRotation:a.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),s=x(e);let n=e.color?.toArray()??[0,0,0,0];\"CIMVectorMarker\"===s.resource.type&&(n=[255,255,255,255]);const u=\"triangle\"===e.style?124/116:1,c=e.size,p=c*u,b=null!=a.visualVariableColor&&(\"cross\"===e.style||\"x\"===e.style);return[t.createMeshInfo({type:\"simple\",color:n,height:c,width:p,offsetX:e.xoffset,offsetY:e.yoffset,angle:e.angle,alignment:h(a)?1:0,outlineColor:e.outline?.color?.toArray()??[0,0,0,0],outlineSize:e.outline?.width??1,referenceSize:c,sprite:s,overrideOutlineColor:b,hasSizeVV:v(a),placement:null,effects:null,transforms:null,scaleInfo:null,minPixelBuffer:S(a)})]}function I(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=r.ensureInstance(f.marker,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue,visualVariableRotation:a.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),s=o.createPictureMarkerRasterizationParam(e);if(!s)return[];return[t.createMeshInfo({type:\"picture\",color:[255,255,255,255],height:e.height,width:e.width,offsetX:e.xoffset,offsetY:e.yoffset,angle:e.angle,alignment:h(a)?1:0,outlineColor:null,outlineSize:0,referenceSize:e.height,sprite:s,overrideOutlineColor:!1,hasSizeVV:v(a),placement:null,effects:null,transforms:null,scaleInfo:null,minPixelBuffer:S(a)})]}function w(e,i,a){const{uniforms:l,schemaOptions:r}=a,{store:t}=r,o=t.ensureInstance(f.marker,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity,visualVariableSizeMinMaxValue:l.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:l.visualVariableSizeScaleStops,visualVariableSizeStops:l.visualVariableSizeStops,visualVariableSizeUnitValue:l.visualVariableSizeUnitValue,visualVariableRotation:l.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),s=x(e),n=6,u=n*i.width,c=u,p=e.color?.toArray()??i.color?.toArray()??[0,0,0,0],b=\"cross\"===e.style||\"x\"===e.style;let m;switch(e.placement){case\"begin-end\":m=\"Both\";break;case\"begin\":m=\"JustBegin\";break;case\"end\":m=\"JustEnd\";break;default:m=\"None\"}const V={type:\"cim-marker-placement-param\",placement:{type:\"CIMMarkerPlacementAtExtremities\",angleToLine:!0,offset:0,extremityPlacement:m,offsetAlongLine:0},overrides:[]};return[o.createMeshInfo({type:\"simple\",color:p,height:c,width:u,offsetX:0,offsetY:0,angle:0,alignment:h(l)?1:0,outlineColor:p,outlineSize:b?i.width:0,referenceSize:c/n,sprite:s,overrideOutlineColor:b&&null!=l.visualVariableColor,hasSizeVV:v(l),placement:V,transforms:null,effects:null,scaleInfo:null,minPixelBuffer:S(l)})]}function O(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l;return[r.ensureInstance(f.text,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableRotation:a.visualVariableRotation,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!1,clipAngle:!1,referenceSymbol:!1,visibility:!1}}).createMeshInfo({boxBackgroundColor:e.backgroundColor?.toArray(),boxBorderLineColor:e.borderLineColor?.toArray(),boxBorderLineSize:e.borderLineSize??0,color:e.color?.toArray()??[0,0,0,0],offsetX:e.xoffset,offsetY:e.yoffset,postAngle:e.angle,fontSize:e.font.size,decoration:e.font.decoration,haloColor:e.haloColor?.toArray()??[0,0,0,0],haloSize:e.haloSize??0,outlineColor:[0,0,0,0],outlineSize:0,lineWidth:e.lineWidth,lineHeightRatio:e.lineHeight,horizontalAlignment:e.horizontalAlignment,verticalAlignment:e.verticalAlignment,useCIMAngleBehavior:!1,glyphs:{type:\"text-rasterization-param\",resource:{type:\"text\",font:e.font.toJSON(),textString:e.text,symbol:o.createCIMTextSymbolfromTextSymbol(e)},overrides:[]},referenceSize:null,effects:null,placement:null,scaleInfo:null,transforms:null,scaleFactor:1,minPixelBuffer:S(a),repeatLabel:null,repeatLabelDistance:null,allowOverrun:null,labelPosition:null,layerId:null,labelClassId:null})]}function A(e,a){const{schemaOptions:l,uniforms:r}=a,{store:t}=l,s=e.symbol,{allowOverrun:n,repeatLabel:c,repeatLabelDistance:p}=e,b={maxScale:e.maxScale??0,minScale:e.minScale??0},m=t.ensureInstance(f.label,{uniforms:{visualVariableColor:null,visualVariableOpacity:null,visualVariableRotation:r.visualVariableRotation,visualVariableSizeMinMaxValue:r.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:r.visualVariableSizeScaleStops,visualVariableSizeStops:r.visualVariableSizeStops,visualVariableSizeUnitValue:r.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!0,clipAngle:!0,referenceSymbol:!0,visibility:!0}}),V=e.labelPlacement,[y,v]=u(V);return[m.createMeshInfo({boxBackgroundColor:s.backgroundColor?.toArray(),boxBorderLineColor:s.borderLineColor?.toArray(),boxBorderLineSize:s.borderLineSize??0,color:s.color?.toArray()??[0,0,0,0],offsetX:s.xoffset,offsetY:s.yoffset,postAngle:s.angle,fontSize:s.font.size,decoration:s.font.decoration,outlineColor:[0,0,0,0],outlineSize:0,haloColor:s.haloColor?.toArray()??[0,0,0,0],haloSize:s.haloSize??0,lineWidth:s.lineWidth,lineHeightRatio:s.lineHeight,horizontalAlignment:y,verticalAlignment:v,repeatLabel:c,repeatLabelDistance:i(p),allowOverrun:n,labelPosition:e.labelPosition,scaleInfo:b,minPixelBuffer:S(r),useCIMAngleBehavior:!1,glyphs:{type:\"text-rasterization-param\",resource:{type:\"text\",font:s.font.toJSON(),textString:s.text,symbol:o.createCIMTextSymbolfromTextSymbol(s),primitiveName:\"label-override\"},useLegacyLabelEvaluationRules:null==e.labelExpressionInfo?.expression,overrides:[{valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:e.labelExpressionInfo?.expression??e.labelExpression,returnType:\"String\"},primitiveName:\"label-override\",propertyName:\"textString\",defaultValue:\"\"}]},referenceSize:null,effects:null,placement:null,transforms:null,scaleFactor:1,layerId:a.layerId,labelClassId:a.labelClassId})]}function L(e,i){const a=e.width;return{outlineColor:e.color?.toArray()||[0,0,0,1],width:a,referenceWidth:a,capType:e.cap??\"round\",joinType:e.join??\"round\",miterLimit:e.miterLimit,hasSizeVV:i,outlineUsesColorVV:!1}}function R(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=e.color?.toArray()??[0,0,0,0],o={type:\"sprite-rasterization-param\",resource:{type:\"fill-style\",style:e.style},overrides:[]};if(\"solid\"===e.outline?.style){return[r.ensureInstance(f.patternOutlineFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeScaleStops:a.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,...L(e.outline,!!a.visualVariableSizeOutlineScaleStops),sprite:o,scaleInfo:null,effects:null})]}const s=[],n=r.ensureInstance(f.patternFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:e.color?.toArray()??[0,0,0,0],sprite:o,scaleInfo:null,effects:null});return s.push(n),e.outline&&s.push(...F(e.outline,i,!0)),s}function k(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=e.color?.toArray()??[0,0,0,0];if(\"none\"!==e.style&&\"solid\"===e.outline?.style){return[r.ensureInstance(f.outlineFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeScaleStops:a.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,...L(e.outline,!!a.visualVariableSizeOutlineScaleStops),scaleInfo:null,effects:null})]}const o=[];if(\"none\"!==e.style){const e=r.ensureInstance(f.fill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,scaleInfo:null,effects:null});o.push(e)}return e.outline&&o.push(...F(e.outline,i,!0)),o}async function U(e,i){if(\"cim\"===e.type)return y(e.data,i);const{style:a}=e;return a&&\"none\"!==a&&\"solid\"!==a?R(e,i):k(e,i)}function j(e,i){const{outline:a}=e,{uniforms:l,schemaOptions:r}=i,{store:t}=r,s=[],n=o.createPictureFillRasterizationParam(e);if(!n)return[];const{width:u,height:c,xoffset:p,yoffset:b,xscale:m,yscale:S}=e,V={color:[255,255,255,255],sprite:n,height:c,aspectRatio:u/c,offsetX:p,offsetY:b,scaleX:m,scaleY:S,angle:0,applyRandomOffset:!1,sampleAlphaOnly:!1,scaleProportionally:!1,effects:null,scaleInfo:null};if(\"solid\"===a?.style){return[t.ensureInstance(f.complexOutlineFill,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity,visualVariableSizeScaleStops:l.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({...V,...L(a,!!l.visualVariableSizeOutlineScaleStops)})]}const y=t.ensureInstance(f.complexFill,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity},optionalAttributes:{zoomRange:!1}});return s.push(y.createMeshInfo(V)),a&&s.push(...F(a,i,!0)),s}function F(e,i,a){const{color:l,style:r,width:t,cap:o,join:n}=e,{schemaOptions:u}=i,{store:c}=u,p=[],b=a?{...V,visualVariableSizeScaleStops:i.uniforms.visualVariableSizeOutlineScaleStops}:i.uniforms,m={uniforms:{visualVariableColor:b.visualVariableColor,visualVariableOpacity:b.visualVariableOpacity,visualVariableSizeMinMaxValue:b.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:b.visualVariableSizeScaleStops,visualVariableSizeStops:b.visualVariableSizeStops,visualVariableSizeUnitValue:b.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!1}},S={color:l?.toArray()??[0,0,0,0],width:t,referenceWidth:t,capType:o,joinType:n,miterLimit:e.miterLimit,hasSizeVV:v(b),effects:null,scaleInfo:null};if(null==r||\"solid\"===r){const e=c.ensureInstance(f.line,m).createMeshInfo(S);p.push(e)}else if(\"none\"!==r){const e=c.ensureInstance(f.texturedLine,m).createMeshInfo({...S,offsetAlongLine:0,shouldScaleDash:!0,shouldSampleAlphaOnly:!1,isSDF:!0,sprite:{type:\"sprite-rasterization-param\",resource:{type:\"dash\",dashTemplate:s(r,o)},overrides:[]}});p.push(e)}return null!=e.marker&&p.push(...w(e.marker,e,i)),p}export{d as createDotDensityMeshSchemas,g as createHeatmapMeshSchemas,F as createLineInstance,M as createPieChartMeshSchemas,z as createSymbolMeshSchemas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../../../../../core/string.js\";import{validateLabelingInfo as l}from\"../../../../../../layers/support/labelingInfo.js\";import{getServiceGeometryType as s}from\"../../layerAdapters/geometryUtils.js\";import{createSymbolMeshSchemas as a}from\"./symbols/SymbolSchema.js\";async function o(e,a,o){const r=a.labelsVisible&&a.labelingInfo||[],i=s(a),t=l(r,i);return{type:\"label\",classes:await Promise.all(t.map((l,s)=>n(e,l,a.labelsVisible,a.labelingInfoSource,s,i,o)))}}async function n(l,s,o,n,r,i,t){const m=e(`${n} ${r}`),c=n,p=await a(s,{schemaOptions:l,uniforms:t,layerId:c,labelClassId:m});return{maxScale:s.maxScale,minScale:s.minScale,deconflictionEnabled:\"none\"!==s.deconflictionStrategy&&o,expression:s.labelExpressionInfo?.expression??s.labelExpression,where:s.where,meshes:p,layerId:c,labelClassId:m,geometryType:i}}export{o as createLabelMatcherSchema};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createVisualVariableUniforms as e,noVisualVariables as i}from\"./VisualVariablesSchema.js\";import{createPieChartMeshSchemas as a,createHeatmapMeshSchemas as n,createSymbolMeshSchemas as s,createDotDensityMeshSchemas as t}from\"./symbols/SymbolSchema.js\";async function l(e,i){if(!i)return{type:\"simple\",meshes:[]};switch(i.type){case\"simple\":return o(e,i);case\"dot-density\":return r(e,i);case\"class-breaks\":return u(e,i);case\"unique-value\":return m(e,i);case\"dictionary\":return c(i);case\"heatmap\":return p(e,i);case\"pie-chart\":return f(e,i)}}async function o(i,a){const n=a.symbols,t=n.length?n[0]:null,l=e(a);return{type:\"simple\",meshes:await s(t,{schemaOptions:i,uniforms:l})}}async function r(i,a){const n=e(a);return{type:\"dot-density\",meshes:await t(a,{schemaOptions:i,uniforms:n})}}async function u(a,n){const t=e(n),l=n.backgroundFillSymbol,o=n.normalizationType,r=\"log\"===o?\"esriNormalizeByLog\":\"percent-of-total\"===o?\"esriNormalizeByPercentOfTotal\":\"field\"===o?\"esriNormalizeByField\":null,u=n.classBreakInfos.map(async e=>({meshes:await s(e.symbol,{path:`renderer-stop-${e.minValue}-${e.maxValue}`,schemaOptions:a,uniforms:t}),min:e.minValue,max:e.maxValue})),m=(await Promise.all(u)).sort((e,i)=>e.min-i.min),c=await s(l,{schemaOptions:a,uniforms:{...i,visualVariableSizeOutlineScaleStops:t.visualVariableSizeOutlineScaleStops}}),p=await s(n.defaultSymbol,{schemaOptions:a,uniforms:t});return{type:\"interval\",field:n.field,expression:n.valueExpression,backgroundFill:c,defaultSymbol:p,intervals:m,normalizationField:n.normalizationField,normalizationTotal:n.normalizationTotal,normalizationType:r,isMaxInclusive:n.isMaxInclusive}}async function m(a,n){const t=[],l=e(n),o=await s(n.backgroundFillSymbol,{schemaOptions:a,uniforms:{...i,visualVariableSizeOutlineScaleStops:l.visualVariableSizeOutlineScaleStops}}),r=await s(n.defaultSymbol,{schemaOptions:a,uniforms:l});for(const e of n.uniqueValueInfos??[]){const i=await s(e.symbol,{path:`renderer-unique-value-${e.value}`,schemaOptions:a,uniforms:l});t.push({value:\"\"+e.value,symbol:i})}return{type:\"map\",field:n.field,expression:n.valueExpression,field2:n.field2,field3:n.field3,fieldDelimiter:n.fieldDelimiter,backgroundFill:o,defaultSymbol:r,map:t}}async function c(i){const a=e(i),n=await i.getDictionaryInfo(),s=i.scaleExpression,t=null!=s&&\"1\"!==s?{valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:i.scaleExpression,returnType:\"Numeric\"},defaultValue:1}:void 0;return{type:\"dictionary\",dictionaryInfo:n,userConfig:i.config??{},fieldMap:i.fieldMap??{},scaleExpression:t,visualVariableUniforms:a}}async function p(e,i){return{type:\"heatmap\",meshes:await n(i,e)}}async function f(e,i){return{type:\"pie-chart\",meshes:await a(i,e)}}export{l as createMatcherSchema};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../core/screenUtils.js\";import r from\"../../../../../../layers/support/OrderByInfo.js\";import{createLabelMatcherSchema as t}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as i}from\"./MatcherSchema.js\";import{createStorageSchema as s,createTrackStorageSchema as n}from\"./StorageSchema.js\";import{createVisualVariableUniforms as a}from\"./VisualVariablesSchema.js\";async function l(e,r){const s=r.renderer,n=a(s);return{symbology:await i(e,s),labels:await t(e,r,n)}}async function o(e,r,t,i){const n=t.featureReduction;if(n)switch(n.type){case\"binning\":return f(n,e,r,t,i);case\"cluster\":return b(n,e,r,t,i)}if(t.trackInfo?.enabled)return p(t.trackInfo,e,r,t,i);const a=y(t.orderBy,t.renderer,t.objectIdField),o=s(t.renderer,r.filters),c=await l(e,t),u=m(c.symbology);return{storage:o,mesh:{properties:{sortKey:a,timeZone:r.timeZone,returnMeshObjectId:u,displayRefreshVersion:i,currentUser:r.currentUser},strategy:{type:\"feature\"},factory:c},expressionProperties:{timeExtent:r.timeExtent?.toJSON()}}}function c(e,r){return e.fields.map(e=>({...e.toJSON(),type:u(e,r)}))}function u(e,r){const{onStatisticExpression:t,onStatisticField:i,statisticType:s}=e;switch(s){case\"min\":case\"max\":case\"avg\":case\"avg_angle\":case\"sum\":case\"count\":return\"esriFieldTypeDouble\";case\"mode\":{if(t){const{returnType:e}=t;return e?\"string\"===e?\"esriFieldTypeString\":\"esriFieldTypeDouble\":\"esriFieldTypeString\"}const e=r.find(e=>e.name===i);return e?e.type:\"esriFieldTypeString\"}}}async function f(r,n,l,o,u){const f=c(r,o.fields),b=r.renderer,p=await i(n,b),y=s(b,[null,null]),d=a(b),g=await t(n,{geometryType:\"polygon\",labelingInfoSource:o.labelingInfoSource+\"-binning\",labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible},d),v=m(p),h=\"geohash\"===r.binType?{type:\"geohash\",fixBinLevel:r.fixedBinLevel??3}:{type:\"grid\",size:e(r.size),fixedBinLevel:r.fixedBinLevel};return{storage:y,mesh:{properties:{sortKey:null,timeZone:l.timeZone,returnMeshObjectId:v,displayRefreshVersion:u,currentUser:l.currentUser},strategy:{type:\"binning\",fields:f,index:h,featureFilter:l.filters[0]},factory:{labels:g,symbology:p}},expressionProperties:{timeExtent:l.timeExtent?.toJSON()}}}async function b(r,n,l,o,u){const f=c(r,o.fields),b={type:\"cluster\",feature:await i(n,r.effectiveFeatureRenderer),cluster:await i(n,r.effectiveClusterRenderer)},p=a(r.effectiveFeatureRenderer),y={type:\"cluster\",feature:await t(n,o,p),cluster:await t(n,{geometryType:\"point\",labelingInfoSource:o.labelingInfoSource+\"-clusters\",labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible},p)},d=s(r.effectiveFeatureRenderer,[null,null]),g=m(b);return{storage:d,mesh:{properties:{sortKey:null,timeZone:l.timeZone,displayRefreshVersion:u,returnMeshObjectId:g,currentUser:l.currentUser},strategy:{type:\"cluster\",fields:f,featureFilter:l.filters[0],clusterRadius:e(r.clusterRadius/2)},factory:{labels:y,symbology:b}},expressionProperties:{timeExtent:l.timeExtent?.toJSON()}}}async function p(e,r,s,l,o){const u=c(e,l.fields),f={type:\"track\",previousObservation:await i(r,e.previousObservations.renderer),latestObservation:await i(r,e.latestObservations.renderer),trackLine:await i(r,e.trackLines.renderer)},b={type:\"track\",previousObservation:await t(r,{geometryType:l.geometryType,labelingInfoSource:l.labelingInfoSource+\"-track-prev\",labelingInfo:e.previousObservations.labelingInfo,labelsVisible:e.previousObservations.labelsVisible},a(e.previousObservations.renderer)),latestObservation:await t(r,{geometryType:l.geometryType,labelingInfoSource:l.labelingInfoSource+\"-track-latest\",labelingInfo:e.latestObservations.labelingInfo,labelsVisible:e.latestObservations.labelsVisible},a(e.latestObservations.renderer)),trackLine:await t(r,{geometryType:\"polyline\",labelingInfoSource:l.labelingInfoSource+\"-track-line\",labelingInfo:e.trackLines.labelingInfo,labelsVisible:e.trackLines.labelsVisible},a(e.trackLines.renderer))},p=n(e,[null,null]),y=m(f);return{storage:p,mesh:{properties:{sortKey:null,timeZone:s.timeZone,returnMeshObjectId:y,displayRefreshVersion:o,currentUser:s.currentUser},strategy:{type:\"track\",featureFilter:s.filters[0],fields:u,maxDisplayDuration:e.maxDisplayDuration?.toMilliseconds()??0,maxDisplayObservationsPerTrack:e.maxDisplayObservationsPerTrack,showLatestObservation:e.latestObservations.visible,showPreviousObservations:e.previousObservations.visible,showTrackLine:e.trackLines.visible,timeField:e.timeField},factory:{labels:b,symbology:f}},expressionProperties:{timeExtent:s.timeExtent?.toJSON()}}}function y(e,t,i){const s=null!=t&&\"unique-value\"===t.type&&t.orderByClassesEnabled;if(\"default\"!==e||s||(e=[new r({field:i,order:\"descending\"})]),\"default\"!==e&&e?.length){e.length;const r=e[0],t=\"ascending\"===r.order?\"asc\":\"desc\";return r.field?{field:r.field,order:t}:r.valueExpression?{expression:r.valueExpression,order:t}:null}if(s){return{byRenderer:!0,order:\"asc\"}}return null}function d(e){return 2===e.techniqueType}function m(e){if(\"simple\"===e.type&&e.meshes.some(d))return!0;if(\"interval\"===e.type){if(e.intervals.some(e=>e.meshes.some(d)))return!0;if(e.backgroundFill.some(d))return!0}if(\"map\"===e.type){if(e.map.some(e=>e.symbol.some(d)))return!0;if(e.backgroundFill.some(d))return!0}return!1}export{o as createSimpleProcessorSchema,c as getAggregateFields};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as i,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{ExceedsLimitCache as a}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as o}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class p{constructor(e){this.layer=e,this._cache=new a}getLabelingDeconflictionInfo(e){const r=this.layer,t=i(r);return[{vvEvaluators:{0:s(r.renderer)},deconflictionEnabled:t}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return o(t,null,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,t){const{fields:i,geometryType:s,orderBy:a,objectIdField:o,renderer:n,labelingInfo:p,labelsVisible:d}=this.layer,u={featureReduction:null,labelingInfoSource:this.layer.id,fields:i.map(e=>e.toJSON()),geometryType:s,labelingInfo:p,labelsVisible:d,objectIdField:o,orderBy:a??\"default\",renderer:n?.clone()};return l(e,r,u,t)}get hasRequiredSupport(){return n(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>this.layer.outFields,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}_createServiceInfo(i){const s=this.layer,{capabilities:a,editingInfo:o,objectIdField:l,globalIdField:n,datesInUnknownTimezone:p,dateFieldsTimeZone:d,orderBy:u,parsedUrl:c}=s,y=s.fieldsIndex.toJSON(),m=t(s),f=s.timeInfo?.toJSON(),h=s.spatialReference.toJSON(),g=e(c);let b=l;if(u?.length){const e=!u[0].valueExpression&&u[0].field;e&&(b=e)}const F=r(g.path),I=i.spatialReference.toJSON();return{type:\"feature-service\",source:g,isSourceHosted:F,orderByFields:b,outSpatialReference:I,metadata:{timeReferenceUnknownClient:p,dateFieldsTimeZone:d,globalIdField:n,fieldsIndex:y,geometryType:m,featureIdInfo:{type:\"object-id\",fieldName:l},timeInfo:f,spatialReference:h,outSpatialReference:I,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:a.query.maxRecordCount,supportsCompactGeometry:a.query.supportsCompactGeometry,supportsDefaultSpatialReference:a.query.supportsDefaultSpatialReference,supportsFormatPBF:a.query.supportsFormatPBF,supportsMaxRecordCountFactor:a.query.supportsMaxRecordCountFactor,supportsQuantization:a.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:a.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:a.query.supportsDegeneratedQuantizedGeometry,lastEditDate:o?.lastEditDate?.getTime()}}}}export{p as CatalogFootprintLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";function e(e){const{objectIdField:i,uniqueIdFields:t}=e;return t?.length?t.length>=2?{type:\"unique-id-composite\",fieldNames:t}:{type:\"unique-id-simple\",fieldName:t[0]}:{type:\"object-id\",fieldName:i}}export{e as createFeatureIdInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";import l from\"../../../../../layers/support/FeatureFilter.js\";function o(e,l){return null!=e.floorInfo&&(e.floorInfo.viewAllLevelIds.length>0||l.floors.length>0)}function r(e,o,r){const t=n(e,o?.where,r);return t?(o??=new l,o.where=t,o):o}function n(l,o,r){if(null==l.floorInfo||!r.floors?.length)return o;let n=r.floors;const{floorField:t,viewAllLevelIds:f}=l.floorInfo;f.length&&(n=f);const s=n.filter(e=>\"\"!==e).map(e=>\"'\"+e+\"'\");if(s.push(\"''\"),o?.includes(t)){let e=new RegExp(\"AND \\\\(\"+t+\".*NULL\\\\)\",\"g\");o=o.replace(e,\"\"),e=new RegExp(\"\\\\(\"+t+\".*NULL\\\\)\",\"g\"),o=(o=o.replace(e,\"\")).replaceAll(/\\s+/g,\" \").trim()}let i=\"(\"+t+\" IN ({ids}) OR \"+t+\" IS NULL)\";return i=i.replace(\"{ids}\",s.join(\", \")),e(o,i)}export{r as addFloorFilter,o as hasFloorFilter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{sqlAnd as r}from\"../../../../../core/sql.js\";import{isHostedAgolService as t}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveFeatureReduction as i}from\"./featureReductionUtils.js\";import{createFeatureIdInfo as s}from\"./featureServiceUtils.js\";import{addFloorFilter as a,hasFloorFilter as o}from\"./floorFilterUtils.js\";import{getServiceGeometryType as l}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as n,getLayerDeconflictionEnabled as y,createLabelVVEvaluator as p}from\"./labelingUtils.js\";import{ExceedsLimitCache as d}from\"../schema/ExceedsLimitCache.js\";import{createSnapshotInfo as c,createFeatureSourceSchema as u}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as m}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as h}from\"../support/rendererUtils.js\";class f{constructor(e){this.layer=e,this._cache=new d}getLabelingDeconflictionInfo(e){const r=this.layer,t=n(r,e)??y(r),s=i(r,e),a=[...r.labelingInfo||[],...s?.labelingInfo||[]];return[{vvEvaluators:{0:p(r.renderer)},deconflictionEnabled:t,labelingInfo:a}]}async createSourceSchema(e,t){const i=this._createServiceInfo(e),s=null!=this.layer.editingInfo?.lastEditDate,a=this.layer.refreshInterval>0,o=!s&&a,l=c(i.isSourceHosted,o,this.layer.capabilities,i.metadata.geometryType,e.extent,this.layer.fullExtent),n=null!=this.layer.subtypeCode?`${this.layer.subtypeField} = ${this.layer.subtypeCode}`:null,y=r(this.layer.definitionExpression,n);return u(i,l,{definitionExpression:y,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:this.layer.gdbVersion,historicMoment:this.layer.historicMoment,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:t,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,t){const{fields:s,renderer:a,geometryType:o,labelingInfo:l,labelsVisible:n,orderBy:y,objectIdField:p,trackInfo:d}=this.layer,c={fields:s.map(e=>e.toJSON()),renderer:a?.clone(),labelingInfoSource:this.layer.id,featureReduction:i(this.layer,r),geometryType:o,labelingInfo:l,labelsVisible:n,objectIdField:p,orderBy:y??\"default\",trackInfo:d};return m(e,r,c,t)}get hasRequiredSupport(){return h(this.layer.renderer)}get timeOptions(){return this.layer}addFilters(e,r){return a(this.layer,e,r)}getUpdateHashProperties(e){return this.layer.destroyed?[]:[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>i(this.layer,e),()=>o(this.layer,e)?e.floors:null,()=>this.layer.gdbVersion,()=>this.layer.historicMoment,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy,()=>this.layer.outFields,()=>this.layer.renderer,()=>this.layer.subtypeCode,()=>this.layer.trackInfo]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(r){const i=this.layer,{capabilities:a,editingInfo:o,typeIdField:n,globalIdField:y,datesInUnknownTimezone:p,dateFieldsTimeZone:d,orderBy:c,subtypeField:u}=i,m=i.fieldsIndex.toJSON(),h=l(i),f=i.timeInfo?.toJSON(),g=i.spatialReference.toJSON(),b=i.types?.map(e=>e.toJSON()),I=e(this.layer.parsedUrl);this.layer.dynamicDataSource&&(I.query={layer:JSON.stringify({source:this.layer.dynamicDataSource})});let S=this.layer.objectIdField;if(c?.length){const e=!c[0].valueExpression&&c[0].field;e&&(S=e)}const F=t(I.path),O=r.spatialReference.toJSON();return{type:\"feature-service\",source:I,isSourceHosted:F,orderByFields:S,outSpatialReference:O,metadata:{typeIdField:n??void 0,types:b,timeReferenceUnknownClient:p,dateFieldsTimeZone:d,subtypeField:u,globalIdField:y,fieldsIndex:m,geometryType:h,featureIdInfo:s(i),timeInfo:f,spatialReference:g,outSpatialReference:O,subtypes:this.layer.subtypes?.map(e=>e.toJSON())},queryMetadata:{maxRecordCount:a.query.maxRecordCount,supportsCompactGeometry:a.query.supportsCompactGeometry,supportsDefaultSpatialReference:a.query.supportsDefaultSpatialReference,supportsFormatPBF:a.query.supportsFormatPBF,supportsMaxRecordCountFactor:a.query.supportsMaxRecordCountFactor,supportsQuantization:a.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:a.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:a.query.supportsDegeneratedQuantizedGeometry,lastEditDate:o?.lastEditDate?.getTime()}}}}export{f as FeatureLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as i,getLayerDeconflictionEnabled as o,createLabelVVEvaluator as a}from\"./labelingUtils.js\";import{ExceedsLimitCache as n}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as s}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as u}from\"../support/rendererUtils.js\";function c(r){if(!(\"openPorts\"in r))throw new e(\"featurelayer:source-not-supported\",\"source is not supported\")}class p{constructor(e){this.layer=e,this._cache=new n}openMessagePorts(){return c(this.layer.source),this.layer.source.openPorts()}getLabelingDeconflictionInfo(e){const t=this.layer,n=i(t,e)??o(t),s=r(t,e),l=[...t.labelingInfo||[],...s?.labelingInfo||[]];return[{vvEvaluators:{0:a(t.renderer)},deconflictionEnabled:n,labelingInfo:l}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return s(t,null,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:null,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,t,i){const{fields:o,renderer:a,geometryType:n,labelingInfo:s,labelsVisible:u,orderBy:c,objectIdField:p}=this.layer,d=\"trackInfo\"in this.layer?this.layer.trackInfo:null,y={fields:o.map(e=>e.toJSON()),renderer:a?.clone(),labelingInfoSource:this.layer.id,featureReduction:r(this.layer,t),geometryType:n,labelingInfo:s,labelsVisible:u,objectIdField:p,orderBy:c??\"default\",trackInfo:d};return l(e,t,y,i)}get hasRequiredSupport(){return u(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.definitionExpression,()=>this.layer.displayFilterInfo,()=>this.layer.orderBy,()=>\"outFields\"in this.layer?this.layer.outFields:null,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>r(this.layer,e),()=>\"trackInfo\"in this.layer?this.layer.trackInfo:null]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(e){const r=this.layer,{capabilities:i,objectIdField:o}=r,a=r.fieldsIndex.toJSON(),n=t(r),s=r.timeInfo?.toJSON(),l=r.spatialReference.toJSON();c(r.source);const u=o,p=e.spatialReference.toJSON();return{type:\"memory\",orderByFields:u,outSpatialReference:p,metadata:{fieldsIndex:a,geometryType:n,featureIdInfo:{type:\"object-id\",fieldName:r.objectIdField},timeInfo:s,spatialReference:l,outSpatialReference:p,subtypes:null,subtypeField:null,globalIdField:null,typeIdField:null,types:null,timeReferenceUnknownClient:\"datesInUnknownTimezone\"in r?r.datesInUnknownTimezone:null,dateFieldsTimeZone:\"dateFieldsTimeZone\"in r?r.dateFieldsTimeZone:null},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:i.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:i.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}export{p as InMemoryLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";import{systemIsSpatialFieldName as r}from\"../../../../../layers/knowledgeGraph/constants.js\";import t from\"../../../../../layers/support/FeatureFilter.js\";import{getEffectiveFeatureReduction as i}from\"./featureReductionUtils.js\";import{getServiceGeometryType as a}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as s,getLayerDeconflictionEnabled as o,createLabelVVEvaluator as n}from\"./labelingUtils.js\";import{ExceedsLimitCache as l}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as p}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as u}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as c}from\"../support/rendererUtils.js\";class d{constructor(e){this.layer=e,this._cache=new l}getLabelingDeconflictionInfo(e){const r=this.layer,t=s(r,e)??o(r);return[{vvEvaluators:{0:n(r.renderer)},deconflictionEnabled:t}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return p(t,null,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:null,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:null,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,t){const{fields:a,renderer:s,geometryType:o,labelingInfo:n,labelsVisible:l,objectIdField:p}=this.layer,c={fields:a.map(e=>e.toJSON()),renderer:s?.clone(),labelingInfoSource:this.layer.id,featureReduction:i(this.layer,r),geometryType:o,labelingInfo:n,labelsVisible:l,objectIdField:p,orderBy:\"default\"};return u(e,r,c,t)}get hasRequiredSupport(){return c(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>i(this.layer,e),()=>y(this.layer)]}hasFilters(e){return y(this.layer)}addFilters(i,a){if(y(this.layer)){const a=e(i?.where,`${r}=1`);if(!a)return i;i??=new t,i.where=a}return i}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}openMessagePorts(){return this.layer.source.openPorts()}_createServiceInfo(e){const r=this.layer,{capabilities:t,objectIdField:i}=r,s=r.fieldsIndex.toJSON(),o=a(r),n=r.spatialReference.toJSON(),l=i,p=e.spatialReference.toJSON();return{type:\"memory\",orderByFields:l,outSpatialReference:p,metadata:{fieldsIndex:s,geometryType:o,featureIdInfo:{type:\"object-id\",fieldName:r.objectIdField},spatialReference:n,outSpatialReference:p,globalIdField:null,subtypeField:null,subtypes:null,timeInfo:r.timeInfo?.toJSON(),timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:t.query.maxRecordCount,supportsCompactGeometry:t.query.supportsCompactGeometry,supportsDefaultSpatialReference:t.query.supportsDefaultSpatialReference,supportsFormatPBF:t.query.supportsFormatPBF,supportsMaxRecordCountFactor:t.query.supportsMaxRecordCountFactor,supportsQuantization:t.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:t.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:t.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}function y(e){return\"link-chart\"===e.parentCompositeLayer.type&&\"hidden\"===e.parentCompositeLayer.linkChart?.linkChartProperties.nonspatialDataDisplay?.mode}export{d as KnowledgeGraphSublayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as i,getLayerDeconflictionEnabled as a,createLabelVVEvaluator as o}from\"./labelingUtils.js\";import{ExceedsLimitCache as s}from\"../schema/ExceedsLimitCache.js\";import{createFeatureSourceSchema as l}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as n}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as c}from\"../support/rendererUtils.js\";class u{constructor(e){this.layer=e,this._cache=new s}getLabelingDeconflictionInfo(e){const r=this.layer,t=i(r,e)??a(r);return[{vvEvaluators:{0:o(r.renderer)},deconflictionEnabled:t,labelingInfo:r.labelingInfo}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e);return l(t,null,{definitionExpression:null,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:null,customParameters:this.layer.customParameters,gdbVersion:null,historicMoment:null,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,t,i){const{fields:a,renderer:o,geometryType:s,labelingInfo:l,labelsVisible:c,orderBy:u,objectIdField:p}=this.layer,d={fields:a.map(e=>e.toJSON()),renderer:o?.clone(),labelingInfoSource:this.layer.id,featureReduction:r(this.layer,t),geometryType:s,labelingInfo:l,labelsVisible:c,objectIdField:p,orderBy:u??\"default\"};return n(e,t,d,i)}get hasRequiredSupport(){return c(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>r(this.layer,e),()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy,()=>this.layer.renderer]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(r){const i=this.layer,{capabilities:a}=i,o=i.fieldsIndex.toJSON(),s=t(i),l=i.timeInfo?.toJSON(),n=i.spatialReference.toJSON(),c=i.source.getSource(),u=this.layer.objectIdField,p=e(a);p.query.maxRecordCount=c.maxRecordCount;const d=r.spatialReference.toJSON();return{type:\"ogc\",source:c,orderByFields:u,outSpatialReference:d,metadata:{fieldsIndex:o,geometryType:s,featureIdInfo:{type:\"object-id\",fieldName:i.objectIdField},timeInfo:l,spatialReference:n,outSpatialReference:d,globalIdField:null,subtypeField:null,subtypes:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:p.query.maxRecordCount,supportsCompactGeometry:p.query.supportsCompactGeometry,supportsDefaultSpatialReference:p.query.supportsDefaultSpatialReference,supportsFormatPBF:p.query.supportsFormatPBF,supportsMaxRecordCountFactor:p.query.supportsMaxRecordCountFactor,supportsQuantization:p.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:p.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:p.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}export{u as OGCFeatureLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveFeatureReduction as t}from\"./featureReductionUtils.js\";import{addFloorFilter as i,hasFloorFilter as s}from\"./floorFilterUtils.js\";import{getServiceGeometryType as a}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as o,getLayerDeconflictionEnabled as l,createLabelVVEvaluator as n}from\"./labelingUtils.js\";import{ExceedsLimitCache as d}from\"../schema/ExceedsLimitCache.js\";import{createSnapshotInfo as p,createFeatureSourceSchema as c}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as u}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as y}from\"../support/rendererUtils.js\";class m{constructor(e){this.layer=e,this._cache=new d}getLabelingDeconflictionInfo(e){const r=this.layer,t=o(r,e)??l(r);return[{vvEvaluators:{0:n(r.renderer)},deconflictionEnabled:t}]}async createSourceSchema(e,r){const t=this._createServiceInfo(e),i=null!=this.layer.editingInfo?.lastEditDate,s=this.layer.refreshInterval>0,a=!i&&s,o=p(t.isSourceHosted,a,this.layer.capabilities,t.metadata.geometryType,e.extent,this.layer.fullExtent);return c(t,o,{definitionExpression:this.layer.definitionExpression,queryScaleRanges:[],displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:this.layer.displayFilterInfo,customParameters:this.layer.customParameters,gdbVersion:this.layer.gdbVersion,historicMoment:this.layer.historicMoment,timeExtent:this.layer.timeExtent,apiKey:this.layer.apiKey,sourceRefreshVersion:r,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,r,i){const{fields:s,renderer:a,geometryType:o,labelingInfo:l,labelsVisible:n,orderBy:d,objectIdField:p}=this.layer,c={fields:s.map(e=>e.toJSON()),renderer:a?.clone(),labelingInfoSource:this.layer.id,featureReduction:t(this.layer,r),geometryType:o,labelingInfo:l,labelsVisible:n,objectIdField:p,orderBy:d??\"default\"};return u(e,r,c,i)}get hasRequiredSupport(){return y(this.layer.renderer)}get timeOptions(){return this.layer}addFilters(e,r){return i(this.layer,e,r)}getUpdateHashProperties(e){return[()=>this.layer.outFields,()=>this.layer.orderBy,()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>t(this.layer,e),()=>this.layer.customParameters,()=>s(this.layer,e)?e.floors:null]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(t){const i=this.layer,{capabilities:s,globalIdField:o,orderBy:l}=i,n=i.fieldsIndex.toJSON(),d=a(i),p=i.timeInfo?.toJSON(),c=i.spatialReference.toJSON(),u=e(this.layer.parsedUrl);let y=this.layer.objectIdField;if(l?.length){const e=!l[0].valueExpression&&l[0].field;e&&(y=e)}const m=r(u.path),h=t.spatialReference.toJSON();return{type:\"feature-service\",source:u,isSourceHosted:m,orderByFields:y,outSpatialReference:h,metadata:{globalIdField:o,fieldsIndex:n,geometryType:d,featureIdInfo:{type:\"object-id\",fieldName:i.objectIdField},timeInfo:p,spatialReference:c,outSpatialReference:h,timeReferenceUnknownClient:i.datesInUnknownTimezone,dateFieldsTimeZone:i.dateFieldsTimeZone,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:s.query.maxRecordCount,supportsCompactGeometry:s.query.supportsCompactGeometry,supportsDefaultSpatialReference:s.query.supportsDefaultSpatialReference,supportsFormatPBF:s.query.supportsFormatPBF,supportsMaxRecordCountFactor:s.query.supportsMaxRecordCountFactor,supportsQuantization:s.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:s.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:s.query.supportsDegeneratedQuantizedGeometry,lastEditDate:null}}}}export{m as OrientedImageryLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import{toParquetJSONGeometryType as r}from\"../../../../../layers/support/parquetUtils.js\";import{getEffectiveFeatureReduction as t}from\"./featureReductionUtils.js\";import{getServiceGeometryType as i}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as l,getLayerDeconflictionEnabled as a,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as n}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as o}from\"../support/rendererUtils.js\";class y{constructor(e){this.layer=e}get hasRequiredSupport(){return o(this.layer.renderer)}get timeOptions(){return null}getLabelingDeconflictionInfo(e){const r=this.layer,i=l(r,e)??a(r),n=t(r,e),o=[...r.labelingInfo||[],...n?.labelingInfo||[]];return[{vvEvaluators:{0:s(r.renderer)},deconflictionEnabled:i,labelingInfo:o}]}getUpdateHashProperties(e){return[()=>this.layer.urls.join(\",\"),()=>this.layer.outFields,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>t(this.layer,e),()=>this.layer.customParameters,()=>this.layer.orderBy,()=>this.layer.renderer,()=>this.layer.popupTemplate]}async createSourceSchema(e,r){const t=this._createServiceInfo(e),i=e.availableFields.includes(\"*\")?this.layer.fields.map(e=>e.name):e.availableFields,l={partial:{urls:[...this.layer.urls.items],availableFields:i},full:{definitionExpression:null,sourceRefreshVersion:r,customParameters:this.layer.customParameters??null}};return{type:\"parquet\",service:t,strategy:this._createStrategy(t,l)}}_createStrategy(e,r){return e.geometryInfo.displayOptimization?{type:\"xz\",...r}:{type:\"snapshot\",...r}}createProcessorSchema(e,r,i){const l={fields:this.layer.fields.map(e=>e.toJSON()),renderer:this.layer.renderer?.clone(),labelingInfoSource:this.layer.id,featureReduction:t(this.layer,r),geometryType:this.layer.geometryType,labelingInfo:this.layer.labelingInfo,labelsVisible:this.layer.labelsVisible,objectIdField:this.layer.objectIdField,orderBy:this.layer.orderBy};return n(e,r,l,i)}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}_createServiceInfo(t){const l=i(this.layer),a=t.spatialReference.toJSON(),s=this.layer.encoding;if(null==s)throw new e(\"parquet-layer:unsupported\",\"creating a parquet layer view requires an encoding\",{layer:this.layer});return{type:\"parquet\",outSpatialReference:a,geometryInfo:{geometryType:r(this.layer.geometryType),spatialReference:this.layer.spatialReference.toJSON(),encoding:s.toJSON(),displayOptimization:this.layer.displayOptimization},metadata:{spatialReference:this.layer.spatialReference.toJSON(),outSpatialReference:a,fieldsIndex:this.layer.fieldsIndex.toJSON(),featureIdInfo:{type:\"object-id\",fieldName:this.layer.objectIdField},geometryType:l,types:null,subtypes:null,timeInfo:null,typeIdField:null,subtypeField:null,globalIdField:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null}}}}export{y as ParquetLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getServiceGeometryType as r}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as t,getLayerDeconflictionEnabled as i,createLabelVVEvaluator as l}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as a}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class s{constructor(e){this.layer=e}getLabelingDeconflictionInfo(r){const a=this.layer,n=t(a,r)??i(a),s=e(a,r),o=[...a.labelingInfo||[],...s?.labelingInfo||[]];return[{vvEvaluators:{0:l(a.renderer)},deconflictionEnabled:n,labelingInfo:o}]}async createSourceSchema(e,r){return{type:\"stream\",service:this._createServiceInfo(e),strategy:{type:\"stream\",partial:{sourceRefreshVersion:r},full:{availableFields:e.availableFields,geometryDefinition:this.layer.geometryDefinition?.toJSON(),definitionExpression:this.layer.definitionExpression,customParameters:this.layer.customParameters,maxReconnectionAttempts:this.layer.maxReconnectionAttempts,maxReconnectionInterval:this.layer.maxReconnectionInterval,purgeOptions:this.layer.purgeOptions.toJSON()}}}}createProcessorSchema(r,t,i){const{fields:l,renderer:n,geometryType:s,labelingInfo:o,labelsVisible:c,objectIdField:y,trackInfo:p}=this.layer,f={fields:l.map(e=>e.toJSON()),renderer:n?.clone(),labelingInfoSource:this.layer.id,featureReduction:e(this.layer,t),geometryType:s,labelingInfo:o,labelsVisible:c,objectIdField:y,orderBy:\"default\",trackInfo:p};return a(r,t,f,i)}get hasRequiredSupport(){return n(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(r){return[()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>e(this.layer,r),()=>this.layer.customParameters,()=>this.layer.geometryDefinition,()=>this.layer.definitionExpression,()=>this.layer.trackInfo]}setGraphicOrigin(e){e.origin=this.layer.graphicOrigin}setAggregateGraphicOrigin(e){e.origin=this.layer.aggregateGraphicOrigin}setTrackGraphicOrigin(e){e.origin=this.layer.trackGraphicOrigin}_createServiceInfo(e){const t=r(this.layer),i=this.layer.timeInfo?.toJSON()||null,l=this.layer.spatialReference?this.layer.spatialReference.toJSON():null,a=e.spatialReference.toJSON();return{type:\"stream\",source:this.layer.parsedUrl,outSpatialReference:a,metadata:{fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:t,featureIdInfo:{type:\"object-id\",fieldName:this.layer.objectIdField},timeInfo:i,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,spatialReference:l,outSpatialReference:a,subtypeField:null,subtypes:null,globalIdField:null,typeIdField:null,types:null}}}}export{s as StreamLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createLabelMatcherSchema as e}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as r}from\"./MatcherSchema.js\";import{createVVBindings as t}from\"./StorageSchema.js\";import{createVisualVariableUniforms as s}from\"./VisualVariablesSchema.js\";import{getWebGLCapabilities as i}from\"../../../../../webgl/capabilities.js\";async function a(e,{subtypeField:t,sublayers:s}){const i=await Promise.all(s.map(({renderer:t})=>r(e,t)));return{type:\"subtype\",subtypeField:t,renderers:s.reduce((e,{subtypeCode:r},t)=>({...e,[r]:i[t]}),{})}}function n(e,r){const s=i();return{type:\"multi\",filters:e.filters,capabilities:{maxTextureSize:s.maxTextureSize},keyField:r.subtypeField,target:\"feature\",bindings:r.sublayers.reduce((e,{renderer:r,subtypeCode:s})=>{const i=t(r);return{...e,[s]:i}},{})}}async function o(r,{subtypeField:t,sublayers:i,labelingInfoSource:a}){const n=await Promise.all(i.map(t=>{const i=s(t.renderer),n={...t,geometryType:t.geometryType??null,labelingInfoSource:a};return e(r,n,i)}));return{type:\"subtype\",subtypeField:t,renderers:i.reduce((e,{subtypeCode:r},t)=>({...e,[r]:n[t]}),{})}}async function u(e,r,t,s){return{storage:n(r,t),mesh:{properties:{timeZone:r.timeZone,displayRefreshVersion:s,returnMeshObjectId:!1,sortKey:null,currentUser:r.currentUser},strategy:{type:\"feature\"},factory:{symbology:await a(e,t),labels:await o(e,t)}},expressionProperties:{timeExtent:r.timeExtent?.toJSON()}}}export{u as createSubtypeProcessorSchema};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{floatEqualAbsolute as t}from\"../../../../../core/mathUtils.js\";import{sqlAnd as r}from\"../../../../../core/sql.js\";import{isHostedAgolService as a}from\"../../../../../layers/support/arcgisLayerUrl.js\";import i from\"../../../../../layers/support/FeatureFilter.js\";import{createFeatureIdInfo as s}from\"./featureServiceUtils.js\";import{addFloorFilter as l,hasFloorFilter as o}from\"./floorFilterUtils.js\";import{getServiceGeometryType as n}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as u}from\"./labelingUtils.js\";import{ExceedsLimitCache as c}from\"../schema/ExceedsLimitCache.js\";import{createSnapshotInfo as p,createFeatureSourceSchema as y}from\"../schema/SourceSchema.js\";import{createSubtypeProcessorSchema as m}from\"../schema/processor/SubtypeProcessorSchema.js\";class d{constructor(e){this.layer=e,this._cache=new c}getLabelingDeconflictionInfo(e){const t=this.layer;return[{vvEvaluators:{},deconflictionEnabled:t.sublayers.some(e=>u(e)),labelingInfo:t.sublayers.toArray().filter(e=>!!e.labelingInfo).flatMap(e=>e.labelingInfo)}]}async createSourceSchema(e,t){const{definitionExpression:r,customParameters:a,gdbVersion:i,historicMoment:s,timeExtent:l,apiKey:o,displayFilterInfo:n}=this.layer,u=this._createServiceInfo(e),c=null!=this.layer.editingInfo?.lastEditDate,m=this.layer.refreshInterval>0,d=!c&&m,f=p(u.isSourceHosted,d,this.layer.capabilities,u.metadata.geometryType,e.extent,this.layer.fullExtent);return y(u,f,{definitionExpression:r,queryScaleRanges:this.layer.sublayers.items.map(e=>({subtypeCode:e.subtypeCode,minScale:e.minScale,maxScale:e.maxScale})),displayFilterEnabled:e.displayFilterEnabled,displayFilterInfo:n,customParameters:a,gdbVersion:i,historicMoment:s,timeExtent:l,apiKey:o,sourceRefreshVersion:t,availableFields:e.availableFields,cache:this._cache})}createProcessorSchema(e,t,r){const a={labelingInfoSource:this.layer.id,subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers,(e,t)=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfoSource:this.layer.id+`-${t}`,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null}))};return m(e,t,a,r)}addFilters(e,t){e=l(this.layer,e,t);const a=this.layer.sublayers.filter(e=>!f(e,t)).map(e=>e.subtypeCode);if(!a.length)return e;e??=new i;const s=`NOT ${this.layer.subtypeField} IN (${a.join(\",\")})`;return e.where=r(e.where,s),e}get hasRequiredSupport(){return!0}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>o(this.layer,e)?e.floors:null,()=>this.layer.outFields,()=>this.layer.gdbVersion,()=>this.layer.historicMoment,()=>this.layer.sublayers.map(({renderer:e,labelsVisible:t,labelingInfo:r,visible:a,minScale:i,maxScale:s})=>({renderer:e,labelsVisible:t,labelingInfo:r,visible:a,minScale:i,maxScale:s}))]}setGraphicOrigin(e){const t=this.layer.findSublayerForFeature(e);e.layer=e.sourceLayer=t,e.origin=t?.graphicOrigin}_createServiceInfo(t){const{capabilities:r,datesInUnknownTimezone:i,dateFieldsTimeZone:l,editingInfo:o,globalIdField:u,objectIdField:c,subtypeField:p}=this.layer,y=this.layer.fieldsIndex.toJSON(),m=n(this.layer),d=this.layer.timeInfo?.toJSON(),f=this.layer.spatialReference.toJSON(),h=e(this.layer.parsedUrl),b=c,g=a(h.path),S=t.spatialReference.toJSON();return{type:\"feature-service\",source:h,isSourceHosted:g,orderByFields:b,outSpatialReference:S,metadata:{timeReferenceUnknownClient:i,dateFieldsTimeZone:l,subtypeField:p,globalIdField:u,fieldsIndex:y,geometryType:m,featureIdInfo:s(this.layer),timeInfo:d,spatialReference:f,outSpatialReference:S,subtypes:this.layer.subtypes?.map(e=>e.toJSON()),typeIdField:null,types:null},queryMetadata:{maxRecordCount:r.query.maxRecordCount,supportsCompactGeometry:r.query.supportsCompactGeometry,supportsDefaultSpatialReference:r.query.supportsDefaultSpatialReference,supportsFormatPBF:r.query.supportsFormatPBF,supportsMaxRecordCountFactor:r.query.supportsMaxRecordCountFactor,supportsQuantization:r.query.supportsQuantization,supportsCentroidOnDegeneratedQuantizedGeometry:r.query.supportsCentroidOnDegeneratedQuantizedGeometry,supportsDegeneratedQuantizedGeometry:r.query.supportsDegeneratedQuantizedGeometry,lastEditDate:o?.lastEditDate?.getTime()}}}}function f(e,r){return e.visible&&(0===e.minScale||t(r.scale,e.minScale)||r.scale<e.minScale)&&(0===e.maxScale||t(r.scale,e.maxScale)||r.scale>e.maxScale)}export{d as SubtypeGroupLayerAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(){this._commands=new Map,this._historicMoment=null}add(e){switch(e.type){case\"override\":return this._addOverride(e);case\"override-by-id\":return this._addOverrideById(e)}}toMessage(){const e={historicMoment:this._historicMoment,commands:{updateByIdWeak:[],updateWeak:[],removeWeak:[],update:[],remove:[],release:[]}};for(const[s,r]of this._commands.entries())switch(r.type){case\"override-update-by-id\":e.commands.updateByIdWeak.push(s);break;case\"override-update\":r.isWeak?e.commands.updateWeak.push(r.feature):e.commands.update.push(r.feature);break;case\"override-remove\":r.isWeak?e.commands.removeWeak.push(s):e.commands.remove.push(s);break;case\"override-release\":e.commands.release.push(s)}return e}_addOverrideById(e){this._historicMoment=e.historicMoment;for(const s of e.updates)this._commands.set(s,{type:\"override-update-by-id\",isWeak:e.isWeak});for(const s of e.removed)this._commands.set(s,{type:\"override-remove\",isWeak:e.isWeak})}_addOverride(e){this._historicMoment=e.historicMoment;for(const s of e.updates)this._commands.set(s.objectId,{type:\"override-update\",feature:s,isWeak:e.isWeak});for(const s of e.removed)this._commands.set(s,{type:\"override-remove\",isWeak:e.isWeak});for(const s of e.release)this._commands.set(s,{type:\"override-release\"})}}export{e as DebouncedFeatureOverride};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nasync function n(n,r){try{return await n}catch(t){if(\"no-queryEngine\"!==t.name)throw t;return r}}export{n as handleNoEngineError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport s from\"./TileKey.js\";function e(s,e){const i=new Set;for(const t of s instanceof Set?s.values():s.keys())e.has(t)||i.add(t);return i}class i{constructor(s,e,i){this.target=new Map,this.previous=new Map;const t=i?s.getTileCoverage(i,0,!0,\"closest\"):null,r=s.getTileCoverage(e,0,!0,\"closest\");if(this.target.clear(),this.previous.clear(),t)for(const o of t.keys())this.previous.set(o.id,o);if(r)for(const o of r.keys())this.target.set(o.id,o)}*values(){yield*this.target.values(),yield*this.previous.values()}*keys(){yield*this.target.keys(),yield*this.previous.keys()}}class t{constructor(s){this.version=s}}class r{constructor(s){this._subscriptions=new Map,this._visible=new Set,this._version=0,this._strategy=\"eager\",this._config=s}destroy(){}get coverage(){return this._coverage}get subscriptions(){return new Set(this._subscriptions.keys())}setVisibilityStrategy(s){this._strategy=s}suspend(){this._suspendedCoverage=this._coverage,this._coverage=null,this._updateSubscriptions()}resume(){null==this._coverage&&(this._coverage=this._suspendedCoverage,this._suspendedCoverage=null,this._updateSubscriptions())}update(s,e){return this._version=(this._version+1)%Number.MAX_SAFE_INTEGER,this._coverage=new i(this._config.tileInfoView,s,e),this._updateSubscriptions(),new Set(this._visible)}updateVisibility(){const s=this._updateVisibility();return this._visible=s,this._visible}_updateSubscriptions(){if(!this._coverage)return;const s=this._updateVisibility(),i=new Set(this._coverage.keys()),r=e(this._subscriptions,s),o=e(i,this._subscriptions),n=e(r,i);this._visible=s;for(const e of o.values())this._subscriptions.set(e,new t(this._version));for(const e of n.values())this._subscriptions.delete(e);(o.size||n.size)&&this._sendUpdateSubscriptions(o,n)}_sendUpdateSubscriptions(s,e){const i=Array.from(s.values()).map(s=>({tileId:s,version:this._subscriptions.get(s).version}));this._config.updateSubscriptions({subscribe:i,unsubscribe:Array.from(e.values())})}_updateVisibility(){if(!this._coverage)return new Set;switch(this._strategy){case\"eager\":return this._updateVisibilityEager(this._coverage);case\"target-defer\":return this._updateVisibilityTargetDefer(this._coverage)}}_updateVisibilityEager(s){const e=new Set;for(const i of s.values()){if(this._config.isDone(i)){e.add(i.id);continue}if(this._addVisibleParent(e,i))continue;this._addVisibleChildren(e,i)||e.add(i.id)}return e}_updateVisibilityTargetDefer(s){const e=new Set,i=Array.from(s.target.values());if(!i.some(s=>!this._config.isDone(s))){for(const s of i)e.add(s.id);return e}for(const t of s.values()){if(this._addVisibleParent(e,t))continue;this._addVisibleChildren(e,t)||e.add(t.id)}return e}_addVisibleParent(e,i){let t=!1;for(const r of this._visible.values()){new s(r).containsChild(i)&&(e.add(r),t=!0)}return t}_addVisibleChildren(e,i){let t=!1;for(const r of this._visible.values()){const o=new s(r);i.containsChild(o)&&(e.add(r),t=!0)}return t}}export{r as FeatureTileSubscriptionManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t?.fieldsIndex,n=\"fromnetworksourceid\",o=\"fromglobalid\",i=\"fromterminalid\",r=\"fromfirstunit\",a=\"fromnumunits\",m=\"tonetworksourceid\",s=\"toglobalid\",l=\"toterminalid\",u=\"tofirstunit\",g=\"tonumunits\",f=\"status\",d=\"associationtype\",c=\"iscontentvisible\",p=\"percentalong\",I=\"globalid\";return{fromNetworkSourceId:e?.get(n)?.name??n,fromGlobalId:e?.get(o)?.name??o,fromTerminalId:e?.get(i)?.name??i,fromFirstUnit:e?.get(r)?.name??r,fromNumUnits:e?.get(a)?.name??a,toNetworkSourceId:e?.get(m)?.name??m,toGlobalId:e?.get(s)?.name??s,toTerminalId:e?.get(l)?.name??l,toFirstUnit:e?.get(u)?.name??u,toNumUnits:e?.get(g)?.name??g,status:e?.get(f)?.name??f,associationType:e?.get(d)?.name??d,isContentVisible:e?.get(c)?.name??c,percentAlong:e?.get(p)?.name??p,globalId:e?.get(t?.globalIdField??I)?.name??I}}function e(t,e){if(\"feature\"!==e.type&&\"subtype-group\"!==e.type)return[];if(!e.url)return[];const n=\"utilityNetworks\"in t.map?t.map.utilityNetworks??[]:[];for(const o of n)if(o.isUtilityLayer(e)){const t=e.fieldsIndex.get(\"assetgroup\"),n=e.fieldsIndex.get(\"assettype\");return[t?.name,n?.name].filter(t=>null!=t)}return[]}export{t as getAssociationsTableFields,e as getUtilityNetworkFields};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{parseWhereClause as i}from\"../../../core/sql.js\";class s{constructor(i){this._fieldsIndex=i,this._clauses=[]}async finish(){return{requiresCurrentUser:(await Promise.all(this._clauses)).some(i=>i.currentUserRequired)}}visitClientWhereClause(s){s&&this._clauses.push(i(s,this._fieldsIndex))}visitFeatureReduction(i){if(i)switch(i.type){case\"binning\":case\"cluster\":this.visitLabelingInfo(i.labelsVisible,i.labelingInfo)}}visitLabelingInfo(i,s){if(i&&null!=s)for(const e of s)this.visitClientWhereClause(e.where)}visitDisplayFilter(i,s){if(i)for(const e of s?.filters??[])this.visitClientWhereClause(e.where)}visitFilter(i){this.visitClientWhereClause(i?.where)}visitTrackInfo(i){null!=i&&(this.visitLabelingInfo(i?.latestObservations.labelsVisible,i?.latestObservations.labelingInfo),this.visitLabelingInfo(i?.previousObservations.labelsVisible,i?.previousObservations.labelingInfo),this.visitLabelingInfo(i?.trackLines.labelsVisible,i?.trackLines.labelingInfo))}}export{s as WhereClauseVisitor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as r,on as s,syncAndInitial as l}from\"../../core/reactiveUtils.js\";import{sqlOr as o,sqlIn as n,sqlAnd as a}from\"../../core/sql.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{getPopupProvider as p}from\"../../graphic/getPopupProvider.js\";import{getFeatureIdInfoFieldNames as f}from\"../../layers/graphics/data/FeatureIdInfo.js\";import{systemIsSpatialFieldName as y}from\"../../layers/knowledgeGraph/constants.js\";import{getEffectiveDisplayFilter as h}from\"../../layers/support/displayFilterUtils.js\";import m from\"../../layers/support/FeatureEffect.js\";import c from\"../../layers/support/FeatureFilter.js\";import{getSignedInUser as F}from\"../../layers/support/featureLayerUtils.js\";import{fetchFeaturePopupFeatures as g,loadFeaturePopupArcadeModules as I}from\"../../layers/support/featurePopupQueryUtils.js\";import{fixFields as w,unpackFieldNames as b,collectLabelingFields as v,collectElevationFields as E,collectFilterFields as x,collectFeatureReductionFields as q,collectOrderByInfos as R,collectFields as j,collectTrackInfoFields as C,collectDisplayFilterFields as _,collectField as O,featureHasFields as k}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as P}from\"../../layers/support/floorFilterUtils.js\";import{getUtilityNetworkFields as U}from\"../../networks/support/networkFieldUtils.js\";import L from\"../../rest/support/Query.js\";import{createFeatureIdInfo as S}from\"../2d/layers/features/layerAdapters/featureServiceUtils.js\";import{getFetchPopupTemplate as T,getRequiredFields as D}from\"./support/popupUtils.js\";import{WhereClauseVisitor as N}from\"./support/WhereClauseVisitor.js\";const Q=Q=>{const G=Q;let A=class extends G{constructor(...e){super(...e),this._updatingRequiredPromise=null,this.filter=null,this.layer=null,this.requiresCurrentUser=!1,this.requiredFields=[],this.view=null}initialize(){this.addHandles([r(()=>{const e=this.layer,t=this.view;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,t?.requiredFieldsOptions?.featureTitleFields&&e&&\"featureTitleFields\"in e&&e.featureTitleFields,t?.requiredFieldsOptions?.utilityNetworkFields&&U(t,e),e.displayFilterInfo,this.displayFilterEnabled,this.filter,this.featureEffect,this.timeExtent,\"knowledge-graph-sublayer\"===e?.type&&\"link-chart\"===e.parentCompositeLayer.type&&e.parentCompositeLayer.linkChart?.linkChartProperties.nonspatialDataDisplay?.mode]},()=>this._handleChange(),l),s(()=>this.view?.floors,\"change\",()=>this._handleChange()),s(()=>this.layer.displayFilterInfo?.filters,\"change\",()=>this._handleChange()),s(()=>this.layer&&\"sublayers\"in this.layer?this.layer.sublayers:null,\"change\",()=>this._handleChange())])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:i}=this;return\"outFields\"in e&&e.outFields?w(t,[...b(t,e.outFields),...i]):w(t,i)}get displayFilterEnabled(){return(this.view?.displayFilterEnabled??!0)&&(!(\"displayFilterEnabled\"in this.layer)||(this.layer?.displayFilterEnabled??!0))}get effectiveDisplayFilter(){const e=this.layer;return this.displayFilterEnabled&&e.displayFilterInfo?h(e.displayFilterInfo,this.view):null}get effectiveDisplayFilterClause(){const e=this.effectiveDisplayFilter?.where??null;return e&&this.hasHighlight?o(e,n(this.layer.objectIdField,this.highlightIds)):e}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){t.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}get signedInUser(){return this.layer?.url?F(this.layer.url):Promise.resolve(null)}highlight(e,t){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new L(e);return\"floorInfo\"in this.layer&&this.layer.floorInfo&&(t.where=a(t.where,P(this))),this.displayFilterEnabled&&(t.where=a(t.where,this.effectiveDisplayFilter?.where)),null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new L(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){const i=[],r=new Set;for(const l of e){const e=p(l.origin),s=T(e,{...t,checkPopupEnabled:!0});s&&(i.push(l),r.add(s))}if(0===i.length||0===r.size)return[];const s=await this._createPopupQuery(r,t);return await g(this.layer,i,s,{hasRequiredFields:(e,t)=>this._popupFeatureHasRequiredFields(e,t),...t})}_handleChange(){const e=Promise.all([this._updateRequiredFields(),this._updateClientWhereClauseRequirements()]).then(()=>{});return this._set(\"_updatingRequiredPromise\",e),e.then(()=>{this._updatingRequiredPromise===e&&this._set(\"_updatingRequiredPromise\",null)}),e}async _updateClientWhereClauseRequirements(){if(!this.layer||!this.view)return;const{layer:e}=this,i=new N(e.fieldsIndex);if(i.visitFilter(this.filter),\"featureReduction\"in e&&i.visitFeatureReduction(e.featureReduction),\"labelingInfo\"in e&&i.visitLabelingInfo(e.labelsVisible,e.labelingInfo),\"trackInfo\"in e&&i.visitTrackInfo(e.trackInfo),\"2d\"===this.view.type&&(i.visitFilter(this.featureEffect?.filter),i.visitDisplayFilter(this.displayFilterEnabled,e.displayFilterInfo),\"featureReduction\"in e&&i.visitFeatureReduction(e.featureReduction)),\"subtype-group\"===e.type)for(const t of e.sublayers)i.visitLabelingInfo(t.labelsVisible,t.labelingInfo);try{const e=await i.finish();this._set(\"requiresCurrentUser\",e.requiresCurrentUser)}catch(r){t.getLogger(this).error(r)}}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:i,layer:{fieldsIndex:r}}=this,s=\"renderer\"in i&&i.renderer,l=\"orderBy\"in i&&i.orderBy,o=\"featureReduction\"in i?i.featureReduction:null,n=new Set,a=[s?s.collectRequiredFields(n,r):null,v(n,i),e&&\"elevationInfo\"in i?E(n,i):null,null!=this.filter?x(n,i,this.filter):null,e||null==this.featureEffect?null:x(n,i,this.featureEffect.filter),!e&&o?q(n,i,o):null,!e&&l?R(n,i,l):null];if(\"timeInfo\"in i&&i.timeInfo&&this.timeExtent&&j(n,i.fieldsIndex,[i.timeInfo.startField,i.timeInfo.endField]),\"timeInfo\"in i&&i.timeInfo&&\"trackInfo\"in i&&i.trackInfo){const{trackInfo:e}=i;j(n,i.fieldsIndex,[i.timeInfo.trackIdField]),\"feature\"!==i.type&&\"startTimeField\"!==e.timeField||j(n,i.fieldsIndex,[i.timeInfo.startField]),\"endTimeField\"===e.timeField&&j(n,i.fieldsIndex,[i.timeInfo.endField]),await C(n,i)}if(\"floorInfo\"in i&&i.floorInfo&&j(n,i.fieldsIndex,[i.floorInfo.floorField]),\"featureTitleFields\"in i&&this.view?.requiredFieldsOptions?.featureTitleFields&&i.featureTitleFields&&j(n,i.fieldsIndex,i.featureTitleFields),\"feature\"===i.type&&i.globalIdField&&this.view?.requiredFieldsOptions?.globalIdField&&j(n,i.fieldsIndex,[i.globalIdField]),this.displayFilterEnabled&&a.push(_(n,i,i.displayFilterInfo)),\"feature\"===i.type&&e&&null!=i.infoFor3D&&(null==i.globalIdField&&t.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),j(n,i.fieldsIndex,[i.globalIdField])),\"subtype-group\"===i.type){O(n,r,i.subtypeField);const e=i.sublayers.map(e=>Promise.all([e.renderer?.collectRequiredFields(n,r),v(n,e)]));a.push(Promise.all(e))}if(\"catalog-footprint\"===i.type&&i.parent){const e=i.parent;j(n,r,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}\"knowledge-graph-sublayer\"===i.type&&\"link-chart\"===i.parentCompositeLayer.type&&O(n,r,y);const u=await Promise.allSettled(a);if(e)O(n,r,i.objectIdField);else for(const t of f(S(i)))O(n,r,t);e&&\"displayField\"in i&&i.displayField&&O(n,r,i.displayField);for(const p of u)\"rejected\"===p.status&&t.getLogger(this).error(p.reason);const d=Array.from(n).sort();this._set(\"requiredFields\",d)}_popupFeatureHasRequiredFields(e,t){return k(e,t)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),s=new Set;let l=\"point\"===this.layer.geometryType;for(const o of e){if(!l){const e=await I(o);i(t),l=(e&&e.arcadeUtils.hasGeometryOperations(o))??!1}const e=await D(this.layer,o);i(t);for(const t of e)s.add(t)}return r.returnGeometry=l,r.returnZ=l,r.returnM=l,r.outFields=Array.from(s),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo&&(r.where=a(r.where,P(this))),r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([u()],A.prototype,\"_updatingRequiredPromise\",void 0),e([u({readOnly:!0})],A.prototype,\"availableFields\",null),e([u({readOnly:!0})],A.prototype,\"displayFilterEnabled\",null),e([u({readOnly:!0})],A.prototype,\"effectiveDisplayFilter\",null),e([u({readOnly:!0})],A.prototype,\"effectiveDisplayFilterClause\",null),e([u({type:m})],A.prototype,\"featureEffect\",null),e([u({type:c})],A.prototype,\"filter\",void 0),e([u()],A.prototype,\"layer\",void 0),e([u({type:Number})],A.prototype,\"maximumNumberOfFeatures\",null),e([u({readOnly:!0,type:Boolean})],A.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u()],A.prototype,\"requiresCurrentUser\",void 0),e([u({readOnly:!0})],A.prototype,\"requiredFields\",void 0),e([u({readOnly:!0})],A.prototype,\"signedInUser\",null),e([u()],A.prototype,\"suspended\",void 0),e([u()],A.prototype,\"view\",void 0),A=e([d(\"esri.views.layers.FeatureLayerView\")],A),A};export{Q as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../AggregateGraphic.js\";import r from\"../../../Graphic.js\";import i from\"../../../TrackGraphic.js\";import{isSome as s}from\"../../../core/arrayUtils.js\";import a from\"../../../core/Collection.js\";import{neverReached as o}from\"../../../core/compilerUtils.js\";import n from\"../../../core/Error.js\";import{makeHandle as u,handlesGroup as l}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import h from\"../../../core/Logger.js\";import{destroyMaybe as c}from\"../../../core/maybe.js\";import{notDeepEqual as p}from\"../../../core/object.js\";import{createAbortError as d,createResolver as y,ignoreAbortErrors as g,throwIfNotAbortError as f,isAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as w}from\"../../../core/reactiveUtils.js\";import{sqlAnd as v}from\"../../../core/sql.js\";import{getMetersPerUnitForSR as _}from\"../../../core/unitUtils.js\";import{property as b}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as A}from\"../../../core/support/UpdatingHandles.js\";import F from\"../../../geometry/Extent.js\";import{isCurvedGeometry as j}from\"../../../geometry/support/curves/curveUtils.js\";import{densifyCurvedGeometry as U}from\"../../../geometry/support/curves/densifyCurvedGeometry.js\";import x from\"../../../layers/effects/FeatureEffectView.js\";import{convertFromFeature as I}from\"../../../layers/graphics/featureConversionUtils.js\";import k from\"../../../layers/support/FeatureFilter.js\";import{checkServiceCurrentUserSupport as E}from\"../../../layers/support/featureLayerUtils.js\";import{packFields as C}from\"../../../layers/support/fieldUtils.js\";import{getEffectiveLayerCapabilities as O}from\"../../../layers/support/layerUtils.js\";import{combineTimeExtent as R}from\"../../../layers/support/timeSupport.js\";import q from\"../../../rest/support/AggregateFeatureSet.js\";import V from\"../../../rest/support/AttributeBinsFeatureSet.js\";import Q from\"../../../rest/support/AttributeBinsQuery.js\";import L from\"../../../rest/support/FeatureSet.js\";import M from\"../../../rest/support/Query.js\";import{LayerView2DMixin as T}from\"./LayerView2D.js\";import{FeatureContainer as P}from\"./features/FeatureContainer.js\";import{createFeaturePipelineWorkerProxy as H}from\"./features/FeaturePipelineWorkerProxy.js\";import{FeatureSourceEventLog as W}from\"./features/FeatureSourceEventLog.js\";import{CatalogFootprintLayerAdapter as D}from\"./features/layerAdapters/CatalogFootprintLayerAdapter.js\";import{FeatureLayerAdapter as G}from\"./features/layerAdapters/FeatureLayerAdapter.js\";import{createFeatureIdInfo as N}from\"./features/layerAdapters/featureServiceUtils.js\";import{InMemoryLayerAdapter as J}from\"./features/layerAdapters/InMemoryLayerAdapter.js\";import{KnowledgeGraphSublayerAdapter as $}from\"./features/layerAdapters/KnowledgeGraphSublayerAdapter.js\";import{OGCFeatureLayerAdapter as B}from\"./features/layerAdapters/OGCFeatureLayerAdapter.js\";import{OrientedImageryLayerAdapter as z}from\"./features/layerAdapters/OrientedImageryLayerAdapter.js\";import{ParquetLayerAdapter as Z}from\"./features/layerAdapters/ParquetLayerAdapter.js\";import{StreamLayerAdapter as K}from\"./features/layerAdapters/StreamLayerAdapter.js\";import{SubtypeGroupLayerAdapter as X}from\"./features/layerAdapters/SubtypeGroupLayerAdapter.js\";import{createComplexSymbolInstances as Y}from\"./features/schema/processor/symbols/ComplexSymbolSchema.js\";import{DebouncedFeatureOverride as ee}from\"./support/DebouncedFeatureOverride.js\";import{FeatureCommandQueue as te}from\"./support/FeatureCommandQueue.js\";import{handleNoEngineError as re}from\"./support/handleNoEngineError.js\";import{toJSONGeometryType as ie}from\"./support/util.js\";import{FeatureTileSubscriptionManager as se}from\"../tiling/FeatureTileSubscriptionManager.js\";import ae from\"../../layers/FeatureLayerView.js\";import oe from\"../../layers/LayerView.js\";import{RefreshableLayerView as ne}from\"../../layers/RefreshableLayerView.js\";import{getHighlightName as ue}from\"../../support/highlightOptionsUtils.js\";function le(e,t){const r=new Set;return e&&e.forEach(e=>r.add(e)),t&&t.forEach(e=>r.add(e)),r.has(\"*\")?[\"*\"]:Array.from(r)}const he=4294967294;function ce(e,t){return l(e.map(e=>w(()=>{const t=e();return t&&\"object\"==typeof t?\"getTime\"in t&&\"function\"==typeof t.getTime?t.getTime():JSON.stringify(t):t},t)))}function pe(e){if(!e.geometry)return e;if(!j(e.geometry))return e;const t=.001/_(e.geometry.spatialReference),r=100;return{geometry:U(e.geometry,{maxSegmentsPerCurve:12e3,maxSegmentLength:r*t,maxDeviation:0}),attributes:e.attributes}}let de=class extends(ae(ne(T(oe)))){constructor(){super(...arguments),this._commandsQueue=new te({process:e=>{switch(e.type){case\"override-batch\":return this._doOverride(e);case\"update\":return this._doUpdate();case\"highlight\":return this._updateHighlights()}}}),this._visibilityOverrides=new Set,this._lastAvailableFields=[],this._lastTargetState=null,this.eventLog=new W,this._sourceRefreshVersion=1,this._displayRefreshVersion=1,this._pipelineUpdating=!1,this._editUpdatingHandles=new A,this._fields=null,this._sourceUpdating=!1,this.featureEffectView=new x,this._lastUpdate=0}destroy(){this._editUpdatingHandles.destroy(),this._workerProxy?.destroy(),this._workerAttached.reject(d()),this._commandsQueue.destroy()}initialize(){this._workerAttached=y(),g(this._workerAttached.promise),this.addResolvingPromise(this._initProxy()),this.featureEffectView.featureEffect=this.featureEffect,this.featureEffectView.endTransition()}async _initProxy(){const e=this.layer;if(\"isTable\"in e&&e.isTable)throw new n(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e});if((\"feature\"===e.type||\"subtype-group\"===e.type)&&!1===O(e)?.operations.supportsQuery)throw new n(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:e});this._workerProxy&&this._workerProxy.destroy();const t=this._createClientOptions();this._workerProxy=await H(t)}async _attachProxy(){const e={tileInfoJSON:this.view?.featuresTilingScheme?.tileInfo?.toJSON()};try{await this._workerProxy.pipeline.onAttach(e),this._workerAttached.resolve()}catch(t){this._workerAttached.reject(d()),f(t)}}async _detachProxy(){return this._workerProxy.pipeline.onDetach()}async getWorker(){return await this._workerAttached.promise,this._workerProxy}get dataUpdating(){return this._sourceUpdating||this._editUpdatingHandles.updating}get hasAllFeatures(){return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&this.eventLog.willQueryAllFeatures}get hasAllFeaturesInView(){const e=this.effectiveDisplayFilter?.where||null,t=!this.eventLog.willQueryAllFeatures&&null!=e&&\"1=1\"!==e;return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&!t}get hasFullGeometries(){return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&this.eventLog.willQueryFullResolutionGeometry}get labelingCollisionInfos(){const e=this.layerAdapter.getLabelingDeconflictionInfo(this.view),t=this.layer.geometryType,r=!this.suspended;return e.map(({vvEvaluators:e,deconflictionEnabled:i,labelingInfo:s})=>({labelingInfo:s,container:this.featureContainer,vvEvaluators:e,deconflictionEnabled:i,geometryType:t,visible:r}))}get layerAdapter(){switch(this.layer.type){case\"feature\":return\"memory\"===this.layer.source.type?new J(this.layer):new G(this.layer);case\"geojson\":case\"csv\":case\"wfs\":return new J(this.layer);case\"parquet\":return new Z(this.layer);case\"subtype-group\":return new X(this.layer);case\"ogc-feature\":return new B(this.layer);case\"stream\":return new K(this.layer);case\"oriented-imagery\":return new z(this.layer);case\"knowledge-graph-sublayer\":return new $(this.layer);case\"catalog-footprint\":return new D(this.layer);default:o(this.layer)}return null}get timeExtent(){return R(this.layerAdapter.timeOptions,this.view?.timeExtent,this._get(\"timeExtent\"))}get usedMemory(){return this.container.usedMemory+this.eventLog.pipelineStatistics.usedMemory}getDisplayStatistics(e,t){return this.featureContainer?.getDisplayStatistics(e,t)}async queryHeatmapStatistics(e){return(await this.getWorker()).pipeline.queryHeatmapStatistics(e)}highlight(e,t){let i;e instanceof r?i=[e.getObjectId()]:\"number\"==typeof e||\"string\"==typeof e?i=[e]:a.isCollection(e)&&e.length>0?i=e.map(e=>e?.getObjectId()).toArray():Array.isArray(e)&&e.length>0&&(i=\"number\"==typeof e[0]||\"string\"==typeof e[0]?e:e.map(e=>e?.getObjectId()));const o=i?.filter(s);if(!o?.length)return u();const n=ue(t);return this._addHighlights(o,n),u(()=>!this.destroyed&&this._removeHighlights(o,n))}async hitTest(e,s){const a=await this.featureContainer.hitTest(s);if(0===a.length)return null;const o=await this.getWorker(),{features:n,aggregates:u,tracks:l}=await o.pipeline.getDisplayFeatures(a),h=this.featureContainer.getSortKeys(a),c=({displayId:e},{displayId:t})=>h.has(e)&&h.has(t)?h.get(e)-h.get(t):e-t;n.sort(c).reverse(),u.sort(c).reverse();const p=has(\"parquetlayer-hittest-max-feature-count\")??1;return\"parquet\"===this.layer.type&&n.length>p&&(n.length=p),[...u.map(r=>this._createAggregateGraphicHit(e,t.fromJSON(r))),...l.map(t=>this._createTrackGraphicHit(e,i.fromJSON(t))),...n.map(t=>this._createFeatureGraphicHit(e,r.fromJSON(t)))]}async queryStatistics(){const e=await this.getWorker();return re(e.pipeline.queryStatistics(),{featureCount:0,ringCount:0,vertexCount:0})}async querySummaryStatistics(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForSummaryStatistics(this._cleanUpQuery(e),s,r);return re(a,{})}async queryAggregateSummaryStatistics(e,t,r){const i={...t,scale:this.view.scale},s=(await this.getWorker()).aggregates.executeQueryForSummaryStatistics(this._cleanUpAggregateQuery(e),i,r);return re(s,{})}async queryUniqueValues(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForUniqueValues(this._cleanUpQuery(e),s,r);return re(a,{uniqueValueInfos:[]})}async queryAggregateUniqueValues(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForUniqueValues(this._cleanUpAggregateQuery(e),s,r);return re(a,{uniqueValueInfos:[]})}async queryClassBreaks(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForClassBreaks(this._cleanUpQuery(e),s,r);return re(a,{classBreakInfos:[]})}async queryAggregateClassBreaks(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForClassBreaks(this._cleanUpAggregateQuery(e),s,r);return re(a,{classBreakInfos:[]})}async queryHistogram(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForHistogram(this._cleanUpQuery(e),s,r);return re(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}async queryAggregateHistogram(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForHistogram(this._cleanUpAggregateQuery(e),s,r);return re(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then(e=>{const t=L.fromJSON(e);return t.features.forEach(e=>this._setOriginForFeature(e)),t})}async queryVisibleFeatures(e,t){const r=(await this.getWorker()).pipeline.queryVisibleFeatures(this._cleanUpQuery(e),t),i=await re(r,{features:[]}),s=L.fromJSON(i);return s.features.forEach(e=>this._setOriginForFeature(e)),s}async queryAggregates(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t),i=await re(r,{features:[]}),s=q.fromJSON(i);return s.features.forEach(e=>this.layerAdapter.setAggregateGraphicOrigin?.(e)),s}async queryAggregateIds(e,t){const r=(await this.getWorker()).aggregates.executeQueryForIds(this._cleanUpAggregateQuery(e),t);return re(r,[])}async queryAggregateCount(e,t){const r=(await this.getWorker()).aggregates.executeQueryForCount(this._cleanUpAggregateQuery(e),t);return re(r,0)}async queryAggregateJSON(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t);return re(r,{features:[]})}async queryFeaturesJSON(e,t){const r=(await this.getWorker()).features.executeQuery(this._cleanUpQuery(e),t);return re(r,{features:[]})}async queryObjectIds(e,t){const r=(await this.getWorker()).features.executeQueryForIds(this._cleanUpQuery(e),t);return re(r,[])}async queryFeatureCount(e,t){const r=(await this.getWorker()).features.executeQueryForCount(this._cleanUpQuery(e),t);return re(r,0)}async queryExtent(e,t){const r=(await this.getWorker()).features.executeQueryForExtent(this._cleanUpQuery(e),t),i=await re(r,{count:0,extent:null});return{count:i.count,extent:F.fromJSON(i.extent)}}async queryAttributeBins(e,t){const r=(await this.getWorker()).features.executeAttributeBinsQuery(this._cleanUpAttributeBinsQuery(e),t),i=await re(r,{features:[]});return V.fromJSON(i)}async getSampleFeatures(e){return(await this.getWorker()).pipeline.getSampleFeatures(e)}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){const t=performance.now();if(t-this._lastUpdate<200)return;if(this._lastUpdate=t,!this.subscriptionManager)return;this.view.animation&&!this._lastTargetState&&(this._lastTargetState=e.state.clone()),!this.view.animation&&this._lastTargetState&&(this._lastTargetState=null);const r=this.subscriptionManager.update(e.targetState,this._lastTargetState),i=new Set(this.subscriptionManager.coverage?.target.keys());for(const s of this.featureContainer.tiles||[])s.isCoverage=i.has(s.id);this.featureContainer.setVisibleTiles(r)}attach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.attach\"),g(this._updatingHandles.addPromise(this._workerAttached.promise)),g(this._attachProxy()),this.featureContainer=new P(this),this.container.addChild(this.featureContainer),this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this.subscriptionManager=new se({tileInfoView:this.view.featuresTilingScheme,updateSubscriptions:e=>{this.featureContainer.updateSubscriptions(e),g(this._updatingHandles.addPromise(this.getWorker().then(t=>t.pipeline.updateSubscriptions(e))))},isDone:e=>this.featureContainer.isDone(e)}),this.requestUpdate(),this.addAttachHandles([ce([()=>this._displayRefreshVersion,()=>this.layer.displayFilterInfo,()=>this.timeExtent,()=>this.clips,()=>this.filter,()=>this.effectiveDisplayFilterClause,()=>this.featureEffect,()=>this._sourceRefreshVersion,()=>this.view.timeZone,()=>this.view.timeExtent,...this.layerAdapter.getUpdateHashProperties(this.view)],()=>this._update()),w(()=>this.updateSuspended,e=>{e||(this.subscriptionManager.resume(),this.view.labelManager.requestUpdate())}),w(()=>this.visible,e=>{this.view.labelManager.symbolFader.restartDeclutter(),this.view.labelManager.requestUpdate()})]),this._update(),\"stream\"!==this.layer.type&&\"parquet\"!==this.layer.type&&\"catalog-footprint\"!==this.layer.type&&this.addAttachHandles(this.layer.on(\"edits\",e=>this._editUpdatingHandles.addPromise(this._edit(e))))}detach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.detach\"),this._detachProxy(),this._fields=null,this.view.labelManager.removeContainer(this.featureContainer),this.featureContainer.destroy(),this.featureContainer=null,this._commandsQueue.clear(),this.container.removeAllChildren(),this.subscriptionManager=c(this.subscriptionManager),this._workerProxy.pipeline.onDetach(),this._workerAttached=y(),g(this._workerAttached.promise),this._lastAvailableFields=[],this._lastSchema=null}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}addOverrides(e){return this._commandsQueue.push({type:\"override\",options:{...e,release:[]}})}removeOverrides(e){for(const r of e)if(null==r)throw new n(\"featurelayerview:bad-override\",\"Tried to remove an override for an invalid objectId\",{objectId:r});const t={added:[],updated:[],removed:[],release:e,isWeak:!1,historicMoment:null};return this._commandsQueue.push({type:\"override\",options:t})}isUpdating(){const e=\"renderer\"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updateTracking.updating,r=null!=this._updatingRequiredPromise,i=this.featureContainer.updatingHandles.updating,s=this.updateRequested||e&&(t||r)||i||this._pipelineUpdating||this.dataUpdating;if(has(\"esri-2d-log-updating\")){console.log(`Updating FLV2D (${this.layer.id}): ${s}\\n  -> updateRequested ${this.updateRequested}\\n  -> hasRenderer ${e}\\n  -> updatingRequiredFields ${r}\\n  -> hasPendingCommand ${t}\\n  -> dataUpdating ${this.dataUpdating}\\n  -> processing ${this._pipelineUpdating}\\n  -> updatingContainer ${i}\\n`);for(const e of this.featureContainer.subscriptions())console.log(`    -> Tile[${e.id}] Done: ${e.done}`)}return s}_createClientOptions(){const e=this;return{openMemoryPorts:async()=>{if(this.layerAdapter?.openMessagePorts){const e=await this.layerAdapter.openMessagePorts();return{result:e,transferList:e}}throw new Error(\"InternalError: Layer adapter does not support opening message ports\")},get container(){return e.featureContainer},setUpdating:e=>{this._set(\"_pipelineUpdating\",e.pipeline),this._set(\"_sourceUpdating\",e.source)},emitEvent:e=>{this.emit(e.name,e.event)},get eventLog(){return e.eventLog},fetch:async t=>{if(has(\"esri-2d-stabilize-glyphs\")){const r=[];for(const i of t)r.push(await e.view.stage.painter.textureManager.rasterizeItem(i));return r}return Promise.all(t.map(t=>e.view.stage.painter.textureManager.rasterizeItem(t)))},fetchDictionary:e=>Promise.all(e.map(e=>this._fetchDictionaryRequest(e)))}}async _fetchDictionaryRequest(e){try{if(\"subtype-group\"===this.layer.type)throw new Error(\"InternalError: SubtypeGroupLayer does not support dictionary renderer\");const t=this.layer.renderer;if(!t||\"dictionary\"!==t.type)throw new Error(\"InternalError: Expected layer to have a DictionaryRenderer\");const r=this._lastSchema.processor.mesh.factory.symbology;if(\"dictionary\"!==r.type)throw new Error(\"InternalError: Expected schema to be of type 'dictionary'\");const i={cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,store:this.featureContainer.instanceStore,scaleExpression:r.scaleExpression};this._fields||(this._fields=this.layer.fields.map(e=>e.toJSON()));const s=r.visualVariableUniforms,a=ie(this.layer.geometryType),o=await t.getSymbolForControlString(e.controlString,a,!1);if(!o||!o.data)return{type:\"dictionary-response\",meshes:[]};return{type:\"dictionary-response\",meshes:await Y({...o.data,hasTextStringTemplates:!0},{uniforms:s,path:\"renderer\",schemaOptions:i})}}catch(t){return{type:\"dictionary-response\",meshes:[]}}}_cleanUpQuery(e){const t=M.from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAttributeBinsQuery(e){const t=Q.from(e);return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAggregateQuery(e){const t=M.from(e)||this.createAggregateQuery();t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference);const r=t.objectIds??[];for(const i of t.aggregateIds??[])r.push(i);return t.objectIds=r,t.aggregateIds=[],t.toJSON()}async _update(){return this._commandsQueue.push({type:\"update\"})}_edit(e){return this._commandsQueue.push({type:\"edit\",event:e})}async doRefresh(e){this.attached&&(this.updateSuspended&&e||(e?this.incrementSourceRefreshVersion():this.incrementDisplayRefreshVersion()))}incrementSourceRefreshVersion(){this._sourceRefreshVersion=(this._sourceRefreshVersion+1)%he+1}incrementDisplayRefreshVersion(){this._displayRefreshVersion=(this._displayRefreshVersion+1)%he+1}async _resolveIdenifiers(e){const t=[],r=[];for(const a of e)null==a.objectId||-1===a.objectId?null==a.globalId?h.getLogger(this).warn(\"mapview-apply-edits\",\"A feature identifier must contain either a GlobalId or ObjectId. Ignoring\",{identifier:a}):r.push(a.globalId):t.push(a.objectId);const i=\"globalIdField\"in this.layer&&this.layer.globalIdField,s=i&&this.availableFields.includes(i);if(r.length&&!s)return h.getLogger(this).error(new n(\"mapview-apply-edits\",`Editing the specified service requires the layer's globalIdField, ${i} to be included the layer's outFields for updates to be reflected on the map`)),t;if(r.length){const e=await this._workerProxy.pipeline.getObjectIdsFromGlobalIds(r);for(const r of e)t.push(r)}return t}_resolveOverrides(e){const t=!1,r=!1,i=ie(this.layer.geometryType),s=N(this.layer),a=[];for(const o of e.added){const e=I(pe(o),i,t,r,s);if(null==e.objectId)throw new n(\"featurelayerview:bad-override\",\"Feature does not have an objectId\",{feature:o});a.push(e)}for(const o of e.updated){const e=I(pe(o),i,t,r,s);if(null==e.objectId)throw new n(\"featurelayerview:bad-override\",\"Feature does not have an objectId\",{feature:o});a.push(e)}for(const o of e.removed)if(null==o)throw new n(\"featurelayerview:bad-override\",\"Tried to remove an invalid objectId\",{objectId:o});return{type:\"override\",updates:a,removed:e.removed,release:e.release,isWeak:e.isWeak??!1,historicMoment:e.historicMoment??null}}async _resolveEdit(e){const t=this.layer,r=e.historicMoment?.getTime()??null,i=\"layerId\"in t&&e.editedFeatures?.find(e=>e.layerId===t.layerId);if(i&&this._canEditByFeature(i)){const{adds:e,deletes:t,updates:s}=i.editedFeatures,a=this.layer.objectIdField,o=s.map(e=>e.current),n=t.map(e=>\"attributes\"in e?{objectId:a?e.attributes[a]:null}:e),u=await this._resolveIdenifiers(n);return this._resolveOverrides({added:e,updated:o,removed:u,historicMoment:r,isWeak:!0,release:[]})}const[s,a,o]=await Promise.all([this._resolveIdenifiers(e.addedFeatures),this._resolveIdenifiers(e.updatedFeatures),this._resolveIdenifiers(e.deletedFeatures)]);return{type:\"override-by-id\",updates:[...s,...a],removed:o,historicMoment:r,isWeak:!0}}_canEditByFeature(e){const{adds:t,updates:r}=e.editedFeatures;return t.every(e=>this.view.spatialReference.equals(e.geometry?.spatialReference))&&r.every(e=>this.view.spatialReference.equals(e.current.geometry?.spatialReference))}async _doUpdate(){\"featureReduction\"in this.layer&&this.layer.featureReduction&&this.layer.featureReduction!==this._lastFeatureReduction&&(this.layer.featureReduction=this.layer.featureReduction?.clone(),this._lastFeatureReduction=this.layer.featureReduction);try{if(await Promise.allSettled([this._handleChange(),E(this.layer)]),this.destroyed||!this.layerAdapter?.hasRequiredSupport||!this.subscriptionManager)return;const e=this.featureContainer.instanceStore;this.featureContainer.attributeView.lockTextureUploads();const t=this._lastSchema?.processor.mesh.factory.symbology?.type;let r=!0;\"subtype-group\"!==this.layer.type&&\"dictionary\"===this.layer.renderer?.type&&\"dictionary\"===t&&(r=!1),e.updateStart(r);const i=this.featureEffect,s={store:e,cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,scaleExpression:void 0},a=await this._createViewSchemaConfig(),o={source:await this.layerAdapter.createSourceSchema(a,this._sourceRefreshVersion),processor:await this.layerAdapter.createProcessorSchema(s,a,this._displayRefreshVersion)},n=o.processor.mesh.factory.labels;n&&this.view.labelManager.setLabelSchemaStyles(n,this.featureContainer);const u=p(this._lastSchema?.source.strategy,o.source.strategy)||p(this._lastSchema?.processor,o.processor);if(!u)return this.featureContainer.requestRender(),this.featureContainer.attributeView.unlockTextureUploads(),e.updateEnd(r),void(this.featureEffectView.featureEffect=i);this._lastSchema=o,this._fields=null;const l=Math.round(performance.now());has(\"esri-2d-update-debug\")&&console.debug(`Id[${this.layer.uid}] Version[${l}] FeatureLayerView2D._doUpdate`,{changes:u});const h=await this.getWorker();await h.pipeline.updateSchema(o,l),e.updateEnd(r),this.featureEffectView.featureEffect=i,this.featureEffectView.endTransition(),this.featureContainer.restartAllAnimations(),this.featureContainer.attributeView.unlockTextureUploads(),this.featureContainer.trySwapRenderState(),this.featureContainer.requestRender();const c=o.processor.mesh.strategy,d=\"cluster\"===c.type||\"binning\"===c.type,y=\"heatmap\"===o.processor.mesh.factory.symbology.type,g=d||y?\"target-defer\":\"eager\";this.subscriptionManager.setVisibilityStrategy(g),has(\"esri-2d-update-debug\")&&console.debug(`Version[${l}] FeatureLayerView2D.updateEnd`),this.requestUpdate()}catch(e){has(\"esri-2d-update-debug\")&&console.error(\"Encountered an error during update\",e)}}async _doOverride(e){const t=await this.getWorker();try{for(const r of e.messages)switch(r.type){case\"edit\":{const e=new ee;e.add(await this._resolveEdit(r.event)),await t.pipeline.onOverride(e.toMessage());break}case\"override\":{const e=new ee;e.add(this._resolveOverrides(r.options)),await t.pipeline.onOverride(e.toMessage());break}}}catch(r){m(r),0}}_getEffectiveAvailableFields(e){const t=le(this._lastAvailableFields,e);return this._lastAvailableFields=t,C(this.layer.fieldsIndex,t)}async _createViewSchemaConfig(){const e=this.requiresCurrentUser?await this.signedInUser:null,t=[ye(this.view,this.layerAdapter,this.timeExtent,this._visibilityOverrides,this.filter,this.effectiveDisplayFilterClause),this.featureEffect?.filter?.toJSON()??null];return{availableFields:this._getEffectiveAvailableFields(this.availableFields),displayFilterEnabled:this.displayFilterEnabled,filters:t,scale:this.view.scale,timeZone:this.view.timeZone,timeExtent:this.view.timeExtent,currentUser:e,spatialReference:this.view.spatialReference,extent:this.view.extent}}_processHighlight(){this._commandsQueue.push({type:\"highlight\"})}async _updateHighlights(){const e=this._getHighlights(),t=await this.getWorker();if(this.destroyed)return;const r=t.pipeline.updateHighlight({highlights:e}).catch(e=>{m(e)||h.getLogger(this).error(e)});this._updatingHandles.addPromise(r)}_setOriginForFeature(e){e.layer=e.sourceLayer=this.layer,this.layerAdapter.setGraphicOrigin(e)}_createFeatureGraphicHit(e,t){return this._setOriginForFeature(t),this._createGraphicHit(e,t)}_createTrackGraphicHit(e,t){return t.layer=t.sourceLayer=this.layer,this.layerAdapter.setTrackGraphicOrigin?.(t),this._createGraphicHit(e,t)}_createAggregateGraphicHit(e,t){return t.layer=t.sourceLayer=this.layer,this.layerAdapter.setAggregateGraphicOrigin?.(t),this._createGraphicHit(e,t)}_createGraphicHit(e,t){return null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:\"graphic\",graphic:t,layer:this.layer,mapPoint:e}}};function ye(e,t,r,i,s,a){s&&(s=s.clone());const o=null!=s?s.timeExtent:null,n=null!=r&&null!=o?r.intersection(o):r||o;n&&(s??=new k,s.timeExtent=n),s=t.addFilters?.(s,e)??s,a&&(s??=new k,s.where=v(s.where,a));let u=s?.toJSON()??null;return i.size&&(u??=(new k).toJSON(),u.hiddenIds=Array.from(i)),u}e([b()],de.prototype,\"_commandsQueue\",void 0),e([b()],de.prototype,\"_sourceRefreshVersion\",void 0),e([b()],de.prototype,\"_displayRefreshVersion\",void 0),e([b({readOnly:!0})],de.prototype,\"_pipelineUpdating\",void 0),e([b()],de.prototype,\"_sourceUpdating\",void 0),e([b({readOnly:!0})],de.prototype,\"dataUpdating\",null),e([b({readOnly:!0})],de.prototype,\"hasAllFeatures\",null),e([b({readOnly:!0})],de.prototype,\"hasAllFeaturesInView\",null),e([b({readOnly:!0})],de.prototype,\"hasFullGeometries\",null),e([b()],de.prototype,\"featureEffectView\",void 0),e([b()],de.prototype,\"labelingCollisionInfos\",null),e([b()],de.prototype,\"layerAdapter\",null),e([b({readOnly:!0})],de.prototype,\"timeExtent\",null),de=e([S(\"esri.views.2d.layers.FeatureLayerView2D\")],de);export{de as default};\n"],
  "mappings": "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",
  "names": ["s", "a", "i", "s", "a", "i", "c", "e", "a", "t", "i", "f", "s", "c", "g", "e", "t", "o", "s", "a", "p", "i", "m", "r", "n", "t", "e", "s", "i", "r", "a", "o", "d", "t", "i", "s", "n", "r", "e", "l", "a", "u", "p", "c", "b", "d", "e", "t", "l", "s", "n", "u", "r", "i", "h", "a", "o", "t", "o", "p", "n", "e", "l", "u", "i", "s", "t", "e", "a", "e", "e", "a", "c", "e", "r", "t", "n", "a", "s", "u", "o", "c", "l", "i", "m", "l", "n", "r", "i", "e", "t", "u", "o", "s", "t", "e", "r", "i", "u", "c", "m", "n", "a", "o", "y", "p", "e", "r", "i", "t", "s", "n", "o", "a", "l", "u", "c", "m", "p", "y", "h", "d", "f", "u", "n", "r", "t", "o", "i", "c", "z", "i", "a", "j", "F", "O", "A", "c", "m", "u", "d", "e", "r", "t", "f", "o", "l", "s", "n", "b", "g", "p", "x", "w", "V", "y", "L", "R", "o", "e", "a", "r", "i", "t", "l", "s", "n", "m", "c", "p", "z", "l", "e", "i", "o", "r", "u", "m", "c", "p", "f", "a", "n", "t", "x", "z", "d", "b", "s", "g", "l", "e", "r", "s", "n", "x", "o", "t", "i", "f", "b", "p", "a", "y", "c", "u", "m", "d", "g", "h", "p", "e", "s", "r", "t", "l", "o", "i", "a", "n", "d", "u", "m", "c", "y", "f", "h", "g", "b", "F", "I", "e", "i", "t", "o", "e", "l", "r", "t", "n", "d", "f", "s", "i", "f", "e", "s", "r", "t", "l", "a", "o", "i", "n", "y", "p", "d", "c", "m", "u", "h", "g", "b", "I", "F", "O", "c", "r", "p", "e", "s", "t", "n", "l", "o", "i", "a", "u", "d", "y", "m", "d", "e", "s", "r", "t", "l", "o", "a", "n", "p", "c", "m", "y", "i", "u", "e", "s", "r", "t", "l", "o", "i", "a", "c", "p", "d", "m", "n", "m", "e", "s", "r", "t", "l", "o", "i", "a", "n", "d", "p", "c", "u", "y", "h", "y", "e", "m", "r", "i", "l", "n", "o", "t", "a", "s", "p", "s", "e", "r", "a", "n", "l", "o", "t", "i", "c", "y", "p", "f", "m", "a", "e", "t", "s", "i", "l", "r", "n", "p", "o", "x", "u", "d", "e", "s", "t", "l", "r", "a", "i", "o", "n", "u", "c", "m", "f", "p", "y", "h", "b", "g", "e", "s", "r", "n", "r", "t", "e", "s", "i", "t", "r", "o", "n", "e", "t", "n", "o", "s", "i", "u", "e", "Q", "G", "A", "e", "l", "t", "a", "i", "b", "T", "u", "r", "o", "s", "n", "Y", "w", "p", "d", "e", "t", "r", "l", "n", "y", "i", "b", "d", "o", "u", "c", "m", "s", "p", "f", "a", "h", "g"]
}
