{
  "version": 3,
  "sources": ["../../@arcgis/core/core/Loadable.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import t from\"./Error.js\";import{abortMaybe as r}from\"./maybe.js\";import{EsriPromise as s}from\"./Promise.js\";import{onAbortOrThrow as l}from\"./promiseUtils.js\";import e from\"./Warning.js\";import{property as a}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";const n=\"not-loaded\",d=\"loading\",h=\"failed\",c=\"loaded\",p=s=>{const p=s;let u=class extends p{constructor(...o){super(...o),this._loadController=null,this.loadError=null,this.loadStatus=\"not-loaded\",this._set(\"loadWarnings\",[]),this.addResolvingPromise(new Promise(o=>{const r=this.load.bind(this);this.load=s=>{const e=new Promise((o,r)=>{const e=l(s,r);this.destroyed&&r(new t(\"load:instance-destroyed\",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(o,r).finally(()=>{e&&e.remove()})});if(this.loadStatus===n){this._set(\"loadStatus\",d);const o=this._loadController=new AbortController;r({signal:o.signal})}return o(),e}})),this.when(()=>{this._set(\"loadStatus\",c),this._loadController=null},o=>{this.destroyed||(this._set(\"loadStatus\",h),this._set(\"loadError\",o),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=r(this._loadController),this._promiseProps.abort()),this._set(\"loadError\",null),this._set(\"loadWarnings\",[])}get loaded(){return this.loadStatus===c}get loadWarnings(){return this._get(\"loadWarnings\")}load(o){return null}cancelLoad(){return this.isFulfilled()||(this._set(\"loadError\",new t(\"load:cancelled\",\"Cancelled\")),this._loadController?.abort(),this._promiseProps.abort()),this}};return o([a({readOnly:!0})],u.prototype,\"loaded\",null),o([a({readOnly:!0})],u.prototype,\"loadError\",void 0),o([a({clonable:!1})],u.prototype,\"loadStatus\",void 0),o([a({type:[e],readOnly:!0})],u.prototype,\"loadWarnings\",null),u=o([i(\"esri.core.Loadable\")],u),u},u=p(s);function m(o){return!(!o||!o.load)}export{u as Loadable,p as LoadableMixin,m as isLoadable};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;AAIuW,IAAMA,KAAE;AAAR,IAAqB,IAAE;AAAvB,IAAiCC,KAAE;AAAnC,IAA4C,IAAE;AAA9C,IAAuD,IAAE,CAAAC,OAAG;AAAC,QAAMC,KAAED;AAAE,MAAIE,KAAE,cAAcD,GAAC;AAAA,IAAC,eAAe,GAAE;AAAC,YAAM,GAAG,CAAC,GAAE,KAAK,kBAAgB,MAAK,KAAK,YAAU,MAAK,KAAK,aAAW,cAAa,KAAK,KAAK,gBAAe,CAAC,CAAC,GAAE,KAAK,oBAAoB,IAAI,QAAQ,CAAAE,OAAG;AAAC,cAAM,IAAE,KAAK,KAAK,KAAK,IAAI;AAAE,aAAK,OAAK,CAAAH,OAAG;AAAC,gBAAMI,KAAE,IAAI,QAAQ,CAACD,IAAEE,OAAI;AAAC,kBAAMD,KAAE,EAAEJ,IAAEK,EAAC;AAAE,iBAAK,aAAWA,GAAE,IAAI,EAAE,2BAA0B,gBAAgB,KAAK,iBAAe,KAAK,YAAY,IAAI,0BAAyB,EAAC,UAAS,KAAI,CAAC,CAAC,GAAE,KAAK,KAAKF,IAAEE,EAAC,EAAE,QAAQ,MAAI;AAAC,cAAAD,MAAGA,GAAE,OAAO;AAAA,YAAC,CAAC;AAAA,UAAC,CAAC;AAAE,cAAG,KAAK,eAAaN,IAAE;AAAC,iBAAK,KAAK,cAAa,CAAC;AAAE,kBAAMK,KAAE,KAAK,kBAAgB,IAAI;AAAgB,cAAE,EAAC,QAAOA,GAAE,OAAM,CAAC;AAAA,UAAC;AAAC,iBAAOA,GAAE,GAAEC;AAAA,QAAC;AAAA,MAAC,CAAC,CAAC,GAAE,KAAK,KAAK,MAAI;AAAC,aAAK,KAAK,cAAa,CAAC,GAAE,KAAK,kBAAgB;AAAA,MAAI,GAAE,CAAAD,OAAG;AAAC,aAAK,cAAY,KAAK,KAAK,cAAaJ,EAAC,GAAE,KAAK,KAAK,aAAYI,EAAC,GAAE,KAAK,kBAAgB;AAAA,MAAK,CAAC;AAAA,IAAC;AAAA,IAAC,UAAS;AAAC,WAAK,oBAAkB,KAAK,kBAAgB,EAAE,KAAK,eAAe,GAAE,KAAK,cAAc,MAAM,IAAG,KAAK,KAAK,aAAY,IAAI,GAAE,KAAK,KAAK,gBAAe,CAAC,CAAC;AAAA,IAAC;AAAA,IAAC,IAAI,SAAQ;AAAC,aAAO,KAAK,eAAa;AAAA,IAAC;AAAA,IAAC,IAAI,eAAc;AAAC,aAAO,KAAK,KAAK,cAAc;AAAA,IAAC;AAAA,IAAC,KAAK,GAAE;AAAC,aAAO;AAAA,IAAI;AAAA,IAAC,aAAY;AAAC,aAAO,KAAK,YAAY,MAAI,KAAK,KAAK,aAAY,IAAI,EAAE,kBAAiB,WAAW,CAAC,GAAE,KAAK,iBAAiB,MAAM,GAAE,KAAK,cAAc,MAAM,IAAG;AAAA,IAAI;AAAA,EAAC;AAAE,SAAO,WAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAED,GAAE,WAAU,UAAS,IAAI,GAAE,WAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,aAAY,MAAM,GAAE,WAAE,CAAC,EAAE,EAAC,UAAS,MAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,cAAa,MAAM,GAAE,WAAE,CAAC,EAAE,EAAC,MAAK,CAACF,EAAC,GAAE,UAAS,KAAE,CAAC,CAAC,GAAEE,GAAE,WAAU,gBAAe,IAAI,GAAEA,KAAE,WAAE,CAAC,EAAE,oBAAoB,CAAC,GAAEA,EAAC,GAAEA;AAAC;AAAnhD,IAAqhD,IAAE,EAAE,CAAC;AAAE,SAASI,GAAE,GAAE;AAAC,SAAM,EAAE,CAAC,KAAG,CAAC,EAAE;AAAK;",
  "names": ["n", "h", "s", "p", "u", "o", "e", "r", "m"]
}
