import {
  b
} from "./chunk-P6IKJIMO.js";
import {
  l,
  w
} from "./chunk-2OFHDVO5.js";
import {
  H2 as H,
  s2 as s
} from "./chunk-V2H77UEV.js";
import {
  e
} from "./chunk-GNMPGHLQ.js";

// node_modules/@arcgis/core/support/userTypeGuards/isBasemap.js
var n = Symbol("BasemapInstance");
function t(t2) {
  return null != t2 && "object" == typeof t2 && n in t2;
}

// node_modules/@arcgis/core/layers/catalog/catalogUtils.js
var a = /* @__PURE__ */ new WeakMap();
function o(i) {
  return !i.destroyed && (a.has(i) || i.addHandles([l(() => {
    const { parent: e2 } = i;
    return !!(e2 && e2 instanceof b) && ("catalog-dynamic-group" === e2.type || o(e2));
  }, (e2) => a.set(i, e2), w), e(() => a.delete(i))]), a.get(i));
}

// node_modules/@arcgis/core/layers/support/layerUtils.js
function o2(e2) {
  return null != e2 && "object" == typeof e2 && "type" in e2 && "feature" === e2.type;
}
function s2(e2) {
  return null != e2 && "object" == typeof e2 && "type" in e2 && "graphics" === e2.type;
}
function c(e2) {
  return null != e2 && "object" == typeof e2 && "type" in e2 && "map-image" === e2.type;
}
function l2(e2) {
  return null != e2 && "object" == typeof e2 && "type" in e2 && "knowledge-graph" === e2.type && "layers" in e2;
}
function p(e2) {
  return null != e2 && "object" == typeof e2 && "type" in e2 && "knowledge-graph-sublayer" === e2.type;
}
function d(e2) {
  return null != e2 && "object" == typeof e2 && "type" in e2 && "subtype-group" === e2.type && "sublayers" in e2;
}
function m(e2) {
  return "subtype-sublayer" === e2?.type;
}
var w2 = { Point: "SceneLayer", "3DObject": "SceneLayer", IntegratedMesh: "IntegratedMeshLayer", PointCloud: "PointCloudLayer", Building: "BuildingSceneLayer" };
function L(e2) {
  const t2 = e2?.type;
  return "building-scene" === t2 || "integrated-mesh" === t2 || "point-cloud" === t2 || "scene" === t2;
}
function S(e2) {
  return "integrated-mesh" === e2.type || "integrated-mesh-3dtiles" === e2.type;
}
function M(e2) {
  return "feature" === e2?.type && !e2.url && "memory" === e2.source?.type;
}
function O2(e2) {
  const t2 = e2?.type;
  return ("feature" === t2 || "subtype-group" === t2 || "oriented-imagery" === t2) && "feature-layer" === e2?.source?.type;
}
function B(e2) {
  return "feature" === e2?.type && "feature-layer" === e2.source?.type;
}
function I(e2) {
  return o2(e2) && B(e2);
}
async function N(n2, r) {
  const i = s?.findServerInfo(n2);
  if (null != i?.currentVersion) return i.owningSystemUrl || null;
  const u = n2.toLowerCase().indexOf("/rest/services");
  if (-1 === u) return null;
  const o3 = `${n2.slice(0, u)}/rest/info`, s3 = null != r ? r.signal : null, { data: c2 } = await H(o3, { query: { f: "json" }, responseType: "json", signal: s3 });
  return c2?.owningSystemUrl || null;
}
function D(e2) {
  if (!("capabilities" in e2)) return false;
  switch (e2.type) {
    case "catalog":
    case "catalog-footprint":
    case "csv":
    case "feature":
    case "geojson":
    case "imagery":
    case "knowledge-graph-sublayer":
    case "ogc-feature":
    case "oriented-imagery":
    case "scene":
    case "sublayer":
    case "subtype-group":
    case "subtype-sublayer":
    case "wfs":
      return true;
    default:
      return false;
  }
}
function G(e2) {
  return D(e2) ? "effectiveCapabilities" in e2 ? e2.effectiveCapabilities : e2.capabilities : null;
}
function V(e2) {
  if (!("editingEnabled" in e2)) return false;
  switch (e2.type) {
    case "csv":
    case "feature":
    case "geojson":
    case "oriented-imagery":
    case "scene":
    case "subtype-group":
    case "subtype-sublayer":
    case "knowledge-graph-sublayer":
      return true;
    default:
      return false;
  }
}
function $(e2) {
  return !!V(e2) && ("effectiveEditingEnabled" in e2 ? e2.effectiveEditingEnabled : e2.editingEnabled);
}
function K(e2, t2) {
  return null;
}
function Q(e2) {
  return null;
}
function R(e2) {
  return !e2 || "Feature Service" === e2.type && !e2.sourceUrl;
}
function W(e2, t2) {
  if (!t2 || !R(e2)) return;
  const n2 = K(e2.url);
  n2 && (e2.url = n2);
}

export {
  n,
  t,
  o,
  o2,
  s2 as s,
  c,
  l2 as l,
  p,
  d,
  m,
  w2 as w,
  L,
  S,
  M,
  O2 as O,
  I,
  N,
  D,
  G,
  $,
  K,
  Q,
  R,
  W
};
//# sourceMappingURL=chunk-CNYNCKEV.js.map
