import {
  t
} from "./chunk-KDOWKZ3H.js";
import {
  Et,
  H
} from "./chunk-2EBLSEHZ.js";
import {
  n as n3
} from "./chunk-B3BLJNSM.js";
import {
  A,
  jt
} from "./chunk-U6CJFTOF.js";
import {
  K
} from "./chunk-2JMKFI2D.js";
import {
  c,
  u
} from "./chunk-QYAMBIRP.js";
import {
  i as i2
} from "./chunk-WHHIH5YU.js";
import {
  a
} from "./chunk-5LMH6D7V.js";
import {
  o,
  s
} from "./chunk-VYMBX5H5.js";
import {
  n as n2,
  r
} from "./chunk-XLOINTMG.js";
import {
  n
} from "./chunk-75XOUSSS.js";
import {
  i
} from "./chunk-FPMLKIDB.js";
import {
  M
} from "./chunk-SMWUT52Z.js";
import {
  E,
  ae,
  ce
} from "./chunk-NMQNUPE4.js";

// node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js
function o2(r2, t2, o3) {
  return !!n3(r2, t2, i3, o3.spatialReference) && (o3.x = i3[0], o3.y = i3[1], o3.z = i3[2], true);
}
var i3 = n();

// node_modules/@arcgis/core/geometry/support/coordinateSystem.js
function m(t2) {
  const { value: e, operations: n4 } = t2;
  return { operations: n4, value: n4.create(e) };
}
function d(t2, e, n4) {
  return t2.operations.setExtent(t2.value, e, n4.value), n4;
}
function h(t2, e) {
  return t2.operations.getExtent(t2.value, e), e;
}
function j(t2) {
  return { operations: t2, value: t2.create() };
}
function x(t2, e, n4 = j(t2)) {
  return n4.operations = t2, t2.copy(e, n4.value), n4;
}
function A3(t2) {
  return x(jt, A(0, 0, 0, E(t2).radius));
}
var b = 2 ** 50;
function g() {
  return x(Et, H([0, 0, 0], [b, 0, 0], [0, b, 0]));
}
function P2(t2, e, n4) {
  return t2.operations.axisAt(t2.value, e, 2, n4);
}
function R(t2, e, n4, o3) {
  return t2.operations.axisAt(t2.value, e, n4, o3);
}
function S(t2, e, n4) {
  return t2.operations.intersectRay(t2.value, e, n4);
}
function y(t2, e, n4) {
  return t2.operations.intersectRayClosestSilhouette(t2.value, e, n4);
}
function U(t2, e) {
  return t2.operations.altitudeAt(t2.value, e);
}
function G(t2, e, n4, o3) {
  return t2.operations.setAltitudeAt(t2.value, e, n4, o3);
}
function O(n4, o3, r2, i4) {
  return o3 !== i4 && n2(i4, o3), o(q, i4[12], i4[13], i4[14]), G(n4, q, r2, q), i4[12] = q[0], i4[13] = q[1], i4[14] = q[2], i4;
}
function T(t2, e, n4) {
  return t2.operations.elevate(t2.value, e, n4.value);
}
var q = n();
var D = n();

// node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js
var v = class _v {
  constructor(t2, e, o3, r2) {
    this.viewingMode = t2, this.spatialReference = e, this.unitInMeters = o3, this._coordinateSystem = r2, this._tmpCoordinateSystem = m(r2), this.referenceEllipsoid = E(e), this.sphericalPCPF = a(e);
  }
  set extent(t2) {
    t2 && d(this._coordinateSystem, t2, this._coordinateSystem);
  }
  get extent() {
    return h(this._coordinateSystem, i());
  }
  getAltitude(t2) {
    return U(this._coordinateSystem, t2);
  }
  setAltitude(t2, e, o3 = t2) {
    return G(this._coordinateSystem, o3, e, t2);
  }
  setAltitudeOfTransformation(t2, e) {
    O(this._coordinateSystem, e, t2, e);
  }
  worldUpAtPosition(t2, e) {
    return P2(this._coordinateSystem, t2, e);
  }
  worldBasisAtPosition(t2, e, o3) {
    return R(this._coordinateSystem, t2, e, o3);
  }
  basisMatrixAtPosition(t2, e) {
    const o3 = this.worldBasisAtPosition(t2, 0, c.get()), i4 = this.worldBasisAtPosition(t2, 1, c.get()), s2 = this.worldBasisAtPosition(t2, 2, c.get());
    return r(e, o3[0], o3[1], o3[2], 0, i4[0], i4[1], i4[2], 0, s2[0], s2[1], s2[2], 0, 0, 0, 0, 1), e;
  }
  headingAtPosition(e, o3) {
    const r2 = this.worldUpAtPosition(e, c.get()), i4 = this.worldBasisAtPosition(e, 1, c.get()), s2 = u(o3, i4, r2);
    return M(s2);
  }
  intersectManifoldClosestSilhouette(t2, e, o3) {
    return T(this._coordinateSystem, e, this._tmpCoordinateSystem), y(this._tmpCoordinateSystem, t2, o3), o3;
  }
  intersectManifold(t2, e, o3) {
    T(this._coordinateSystem, e, this._tmpCoordinateSystem);
    const r2 = c.get();
    return S(this._tmpCoordinateSystem, t2, r2) ? s(o3, r2) : null;
  }
  intersectInfiniteManifold(t2, e, o3) {
    if (1 === this.viewingMode) return this.intersectManifold(t2, e, o3);
    T(this._coordinateSystem, e, this._tmpCoordinateSystem);
    const r2 = this._tmpCoordinateSystem.value, s2 = c.get();
    return K(r2.plane, t2, s2) ? s(o3, s2) : null;
  }
  toRenderCoords(t2, e, o3) {
    return t(t2) ? i2(t2, e, this.spatialReference) : n3(t2, e, o3, this.spatialReference);
  }
  fromRenderCoords(t2, e, o3 = null) {
    return t(e) ? (null != o3 && (e.spatialReference = o3), o2(t2, this.spatialReference, e) ? e : null) : n3(t2, this.spatialReference, e, o3) ? e : null;
  }
  static create(t2, o3) {
    switch (t2) {
      case 2:
        return new _v(2, o3, ae(o3), g());
      case 1:
        return new _v(1, o3, 1, A3(o3));
    }
  }
  static renderUnitScaleFactor(t2, e) {
    return ce(t2) / ce(e);
  }
};

export {
  v
};
//# sourceMappingURL=chunk-FHDNFE7V.js.map
