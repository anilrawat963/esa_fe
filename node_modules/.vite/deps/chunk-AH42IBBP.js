import {
  D,
  l as l2
} from "./chunk-ZGTANDVY.js";
import {
  t as t2
} from "./chunk-5LMO3VQI.js";
import {
  l as l3,
  p
} from "./chunk-ZHSPVODX.js";
import {
  h,
  i,
  m,
  r
} from "./chunk-MDJNYPVI.js";
import {
  n
} from "./chunk-4PXNA4MD.js";
import {
  f as f2
} from "./chunk-GD4FJL3C.js";
import {
  c as c2,
  e as e2,
  i as i2,
  n as n2,
  o,
  r as r2,
  t
} from "./chunk-C5OQVQZF.js";
import {
  m as m2
} from "./chunk-3FUHCAX3.js";
import {
  P,
  y3 as y
} from "./chunk-PZ5RULLK.js";
import {
  h as h2
} from "./chunk-OPJX4KXH.js";
import {
  z
} from "./chunk-H74Q4SYB.js";
import {
  DateTime
} from "./chunk-4YDOPHTZ.js";
import {
  l
} from "./chunk-YY5PITIH.js";
import {
  _,
  c
} from "./chunk-AXZMNHTN.js";
import {
  f
} from "./chunk-5T3MJDSR.js";
import {
  e
} from "./chunk-V2H77UEV.js";
import {
  C
} from "./chunk-GNMPGHLQ.js";
import {
  s
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/arcade/ArcadeModule.js
var s2 = class {
};

// node_modules/@arcgis/core/arcade/FunctionWrapper.js
var r3 = class {
  constructor() {
  }
};
function n3(t3, n4, e4) {
  if (t3 instanceof r3 && !(t3 instanceof s3)) {
    const r4 = new s3();
    return r4.fn = t3, r4.parameterEvaluator = e4, r4.context = n4, r4;
  }
  return t3;
}
var e3 = class extends r3 {
  constructor(t3) {
    super(), this.fn = t3;
  }
  createFunction(t3) {
    return (...r4) => this.fn(t3, { preparsed: true, arguments: r4 });
  }
  call(t3, r4) {
    return this.fn(t3, r4);
  }
  marshalledCall(e4, a, l4, c3) {
    return c3(e4, a, (a2, o2, i5) => {
      i5 = i5.map((t3) => t3 instanceof r3 && !(t3 instanceof s3) ? n3(t3, e4, c3) : t3);
      const u = this.call(l4, { args: i5 });
      return C(u) ? u.then((t3) => n3(t3, l4, c3)) : u;
    });
  }
};
var s3 = class extends r3 {
  constructor() {
    super(...arguments), this.fn = null, this.context = null;
  }
  createFunction(t3) {
    return this.fn.createFunction(this.context);
  }
  call(t3, r4) {
    return this.fn.marshalledCall(t3, r4, this.context, this.parameterEvaluator);
  }
  marshalledCall(t3, r4, n4) {
    return this.fn.marshalledCall(t3, r4, this.context, this.parameterEvaluator);
  }
};

// node_modules/@arcgis/core/arcade/ImmutablePointArray.js
var i3 = class _i extends t2 {
  constructor(t3, s4, i5, h4, e4, a) {
    super(t3), this._lazyPt = [], this._hasZ = false, this._hasM = false, this._spRef = s4, this._hasZ = i5, this._hasM = h4, this._cacheId = e4, this._partId = a;
  }
  get(t3) {
    if (void 0 === this._lazyPt[t3]) {
      const i5 = this._elements[t3];
      if (void 0 === i5) return;
      const h4 = new _(i5[0], i5[1], this._spRef);
      this._hasZ && (h4.z = i5[2]), this._hasM && (h4.m = this._hasZ ? i5[3] : i5[2]), h4.cache._arcadeCacheId = this._cacheId.toString() + "-" + this._partId.toString() + "-" + t3.toString(), this._lazyPt[t3] = h4;
    }
    return this._lazyPt[t3];
  }
  equalityTest(t3) {
    return t3 === this || null !== t3 && (t3 instanceof _i != false && t3.getUniqueHash() === this.getUniqueHash());
  }
  getUniqueHash() {
    return this._cacheId.toString() + "-" + this._partId.toString();
  }
};

// node_modules/@arcgis/core/arcade/ImmutablePathArray.js
var h3 = class _h extends t2 {
  constructor(t3, s4, h4, i5, e4) {
    super(t3), this._lazyPath = [], this._hasZ = false, this._hasM = false, this._hasZ = h4, this._hasM = i5, this._spRef = s4, this._cacheId = e4;
  }
  get(t3) {
    if (void 0 === this._lazyPath[t3]) {
      const h4 = this._elements[t3];
      if (void 0 === h4) return;
      this._lazyPath[t3] = new i3(h4, this._spRef, this._hasZ, this._hasM, this._cacheId, t3);
    }
    return this._lazyPath[t3];
  }
  equalityTest(t3) {
    return t3 === this || null !== t3 && (t3 instanceof _h != false && t3.getUniqueHash() === this.getUniqueHash());
  }
  getUniqueHash() {
    return this._cacheId.toString();
  }
};

// node_modules/@arcgis/core/chunks/languageUtils.js
var R = class {
  constructor(e4) {
    this.value = e4;
  }
};
var v = class {
  constructor(e4) {
    this.value = e4;
  }
};
var P2 = { type: "VOID" };
var _2 = Symbol("BREAK");
var I = Symbol("CONTINUE");
function Y(e4, t3, n4) {
  return "" === t3 || null == t3 || t3 === n4 || t3 === n4 ? e4 : e4 = e4.split(t3).join(n4);
}
function L(e4) {
  return e4 instanceof r3;
}
function G(e4) {
  return e4 instanceof s2;
}
function V(e4) {
  return !!e2(e4) || (!!n2(e4) || (!!ne(e4) || (!!re(e4) || (!!ie(e4) || (!!t(e4) || (null === e4 || e4 === P2))))));
}
function z2(e4, t3) {
  return void 0 === e4 ? t3 : e4;
}
function E(e4) {
  return null == e4 ? "" : o(e4) || te(e4) ? "Array" : ne(e4) ? "Date" : ie(e4) ? "Time" : re(e4) ? "DateOnly" : e2(e4) ? "String" : t(e4) ? "Boolean" : n2(e4) ? "Number" : "esri.arcade.Attachment" === e4?.declaredClass ? "Attachment" : "esri.arcade.Portal" === e4?.declaredClass ? "Portal" : "esri.arcade.Dictionary" === e4?.declaredClass ? "Dictionary" : ee(e4) ? "KnowledgeGraph" : e4 instanceof s2 ? "Module" : H(e4) ? "Feature" : e4 instanceof _ ? "Point" : e4 instanceof P ? "Polygon" : e4 instanceof y ? "Polyline" : e4 instanceof m2 ? "Multipoint" : e4 instanceof z ? "Extent" : L(e4) ? "Function" : B(e4) ? "FeatureSet" : X(e4) ? "FeatureSetCollection" : W(e4) ? "Voxel" : $(e4) ? "Pixel" : e4 === P2 ? "" : "number" == typeof e4 && isNaN(e4) ? "Number" : "Unrecognized Type";
}
function q(e4) {
  return e4 === P2;
}
function U(e4) {
  return e4 instanceof c;
}
function H(e4) {
  return "esri.arcade.Feature" === e4?.arcadeDeclaredClass;
}
function W(e4) {
  return "esri.arcade.Voxel" === e4?.arcadeDeclaredClass;
}
function $(e4) {
  return "esri.arcade.Pixel" === e4?.arcadeDeclaredClass;
}
function B(e4) {
  return "esri.arcade.featureset.support.FeatureSet" === e4?.declaredRootClass;
}
function K(e4) {
  return "esri.arcade.Dictionary" === e4?.declaredClass;
}
function Q(e4) {
  return K(e4) || H(e4) || W(e4) || $(e4);
}
function X(e4) {
  return "esri.arcade.featureSetCollection" === e4?.declaredRootClass;
}
function ee(e4) {
  return "esri.rest.knowledgeGraph.KnowledgeGraph" === e4?.declaredClass;
}
function te(e4) {
  return e4 instanceof t2;
}
function ne(e4) {
  return e4 instanceof m;
}
function re(e4) {
  return e4 instanceof i;
}
function ie(e4) {
  return e4 instanceof r;
}
function ae(e4) {
  return null != e4 && "object" == typeof e4;
}
function oe(e4, t3, n4, r4, i5) {
  if (e4.length < t3 || e4.length > n4) throw new n(r4, "WrongNumberOfParameters", i5);
}
function ue(e4) {
  return null == e4 || q(e4) || "" === e4;
}
function se(e4) {
  return e4 < 0 ? -Math.round(-e4) : Math.round(e4);
}
function le(e4, t3) {
  return isNaN(e4) || null == t3 || "" === t3 ? e4.toString() : (t3 = Y(t3, "‰", ""), t3 = Y(t3, "¤", ""), l3(e4, { pattern: t3 }));
}
function fe(e4, t3) {
  return null == t3 || "" === t3 ? e4.toISOString(true) : e4.toFormat(ce(t3), { locale: l(), numberingSystem: "latn" });
}
function ce(e4, t3 = false) {
  e4 = e4.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g, "[$&]");
  let n4 = "";
  const r4 = /(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;
  for (const i5 of e4.match(r4) || []) switch (i5) {
    case "D":
      n4 += "d";
      break;
    case "DD":
      n4 += "dd";
      break;
    case "DDD":
      n4 += "o";
      break;
    case "d":
      n4 += "c";
      break;
    case "ddd":
      n4 += "ccc";
      break;
    case "dddd":
      n4 += "cccc";
      break;
    case "M":
      n4 += "L";
      break;
    case "MM":
      n4 += "LL";
      break;
    case "MMM":
      n4 += "LLL";
      break;
    case "MMMM":
      n4 += "LLLL";
      break;
    case "YY":
      n4 += "yy";
      break;
    case "Y":
    case "YYYY":
      n4 += "yyyy";
      break;
    case "Q":
      n4 += "q";
      break;
    case "Z":
      n4 += "Z";
      break;
    case "ZZ":
      n4 += "ZZ";
      break;
    case "ZZZ":
      n4 += "ZZZ";
      break;
    case "ZZZZ":
      n4 += t3 ? "[ZZZZ]" : "ZZZZ";
      break;
    case "ZZZZZ":
      n4 += t3 ? "[ZZZZZ]" : "ZZZZZ";
      break;
    case "S":
      n4 += "'S'";
      break;
    case "SS":
      n4 += "'SS'";
      break;
    case "SSS":
      n4 += "u";
      break;
    case "A":
    case "a":
      n4 += "a";
      break;
    case "m":
    case "mm":
    case "h":
    case "hh":
    case "H":
    case "HH":
    case "s":
    case "ss":
    case "X":
    case "x":
      n4 += i5;
      break;
    default:
      i5.length >= 2 && i5.startsWith("[") && i5.endsWith("]") ? n4 += `'${i5.slice(1, -1)}'` : n4 += `'${i5}'`;
  }
  return n4;
}
function me(e4, t3, n4) {
  switch (n4) {
    case ">":
      return e4 > t3;
    case "<":
      return e4 < t3;
    case ">=":
      return e4 >= t3;
    case "<=":
      return e4 <= t3;
  }
  return false;
}
function de(e4, t3, r4) {
  if (null === e4) {
    if (null === t3 || t3 === P2) return me(null, null, r4);
    if (n2(t3)) return me(0, t3, r4);
    if (e2(t3)) return me(0, Se(t3), r4);
    if (t(t3)) return me(0, Se(t3), r4);
    if (ne(t3)) return me(0, t3.toNumber(), r4);
    if (ie(t3)) return me(e4, t3.toNumber(), r4);
    if (re(t3)) return me(e4, t3.toNumber(), r4);
  }
  if (e4 === P2) {
    if (null === t3 || t3 === P2) return me(null, null, r4);
    if (n2(t3)) return me(0, t3, r4);
    if (e2(t3)) return me(0, Se(t3), r4);
    if (t(t3)) return me(0, Se(t3), r4);
    if (ne(t3)) return me(0, t3.toNumber(), r4);
    if (ie(t3)) return me(e4, t3.toNumber(), r4);
    if (re(t3)) return me(e4, t3.toNumber(), r4);
  } else if (n2(e4)) {
    if (n2(t3)) return me(e4, t3, r4);
    if (t(t3)) return me(e4, Se(t3), r4);
    if (null === t3 || t3 === P2) return me(e4, 0, r4);
    if (e2(t3)) return me(e4, Se(t3), r4);
    if (ne(t3)) return me(e4, t3.toNumber(), r4);
    if (ie(t3)) return me(e4, t3.toNumber(), r4);
    if (re(t3)) return me(e4, t3.toNumber(), r4);
  } else if (e2(e4)) {
    if (e2(t3)) return me(ge(e4), ge(t3), r4);
    if (ne(t3)) return me(Se(e4), t3.toNumber(), r4);
    if (ie(t3)) return me(Se(e4), t3.toNumber(), r4);
    if (re(t3)) return me(Se(e4), t3.toNumber(), r4);
    if (n2(t3)) return me(Se(e4), t3, r4);
    if (null === t3 || t3 === P2) return me(Se(e4), 0, r4);
    if (t(t3)) return me(Se(e4), Se(t3), r4);
  } else if (ne(e4)) {
    if (ne(t3)) return e4.timeZone !== t3.timeZone && (e4.isUnknownTimeZone ? e4 = m.arcadeDateAndZoneToArcadeDate(e4, t3.timeZone) : t3.isUnknownTimeZone && (t3 = m.arcadeDateAndZoneToArcadeDate(t3, e4.timeZone))), me(e4.toNumber(), t3.toNumber(), r4);
    if (null === t3 || t3 === P2) return me(e4.toNumber(), 0, r4);
    if (n2(t3)) return me(e4.toNumber(), t3, r4);
    if (t(t3)) return me(e4.toNumber(), Se(t3), r4);
    if (e2(t3)) return me(e4.toNumber(), Se(t3), r4);
    if (ie(t3)) throw new n(null, "CannotCompareDateAndTime", null);
    if (re(t3)) return me(e4.toNumber(), t3.toNumber(), r4);
  } else if (t(e4)) {
    if (t(t3)) return me(e4, t3, r4);
    if (n2(t3)) return me(Se(e4), Se(t3), r4);
    if (ne(t3)) return me(Se(e4), t3.toNumber(), r4);
    if (ie(t3)) return me(Se(e4), t3.toNumber(), r4);
    if (re(t3)) return me(Se(e4), t3.toNumber(), r4);
    if (null === t3 || t3 === P2) return me(Se(e4), 0, r4);
    if (e2(t3)) return me(Se(e4), Se(t3), r4);
  } else if (re(e4)) {
    if (ne(t3)) return me(e4.toNumber(), t3.toNumber(), r4);
    if (null === t3 || t3 === P2) return me(e4.toNumber(), 0, r4);
    if (n2(t3)) return me(e4.toNumber(), t3, r4);
    if (t(t3)) return me(e4.toNumber(), Se(t3), r4);
    if (e2(t3)) return me(e4.toNumber(), Se(t3), r4);
    if (ie(t3)) throw new n(null, "CannotCompareDateAndTime", null);
    if (re(t3)) return me(e4.toNumber(), t3.toNumber(), r4);
  } else if (ie(e4)) {
    if (ne(t3)) throw new n(null, "CannotCompareDateAndTime", null);
    if (null === t3 || t3 === P2) return me(e4.toNumber(), 0, r4);
    if (n2(t3)) return me(e4.toNumber(), t3, r4);
    if (t(t3)) return me(e4.toNumber(), Se(t3), r4);
    if (e2(t3)) return me(e4.toNumber(), Se(t3), r4);
    if (ie(t3)) return me(e4.toNumber(), t3.toNumber(), r4);
    if (re(t3)) throw new n(null, "CannotCompareDateAndTime", null);
  }
  return !!ye(e4, t3) && ("<=" === r4 || ">=" === r4);
}
function ye(e4, t3) {
  if (e4 === t3) return true;
  if (null === e4 && t3 === P2 || null === t3 && e4 === P2) return true;
  if (ne(e4) && ne(t3)) return e4.equals(t3);
  if (ie(e4) && ie(t3)) return e4.equals(t3);
  if (re(e4) && re(t3)) return e4.equals(t3);
  if (e4 instanceof h3) return e4.equalityTest(t3);
  if (e4 instanceof i3) return e4.equalityTest(t3);
  if (e4 instanceof _ && t3 instanceof _) {
    const n4 = e4.cache._arcadeCacheId, r4 = t3.cache._arcadeCacheId;
    if (null != n4) return n4 === r4;
  }
  if (ae(e4) && ae(t3)) {
    if (e4._arcadeCacheId === t3._arcadeCacheId && void 0 !== e4._arcadeCacheId && null !== e4._arcadeCacheId) return true;
    if (e4._underlyingGraphic === t3._underlyingGraphic && void 0 !== e4._underlyingGraphic && null !== e4._underlyingGraphic) return true;
  }
  return false;
}
function pe(e4, { useNumbersForDates: t3 }) {
  let n4 = "";
  for (const r4 in e4) {
    "" !== n4 && (n4 += ",");
    const i5 = e4[r4];
    null == i5 ? n4 += JSON.stringify(r4) + ":null" : t(i5) || n2(i5) || e2(i5) ? n4 += JSON.stringify(r4) + ":" + JSON.stringify(i5) : U(i5) ? n4 += JSON.stringify(r4) + ":" + be(i5) : ie(i5) || re(i5) ? n4 += `${JSON.stringify(r4)}:${JSON.stringify(i5.toString())}` : te(i5) || Array.isArray(i5) ? n4 += JSON.stringify(r4) + ":" + be(i5, null, t3) : ne(i5) ? n4 += t3 ? JSON.stringify(r4) + ":" + JSON.stringify(i5.getTime()) : JSON.stringify(r4) + ":" + i5.stringify() : null !== i5 && "object" == typeof i5 && "castToText" in i5 && (n4 += JSON.stringify(r4) + ":" + i5.castToText(t3));
  }
  return "{" + n4 + "}";
}
function ge(e4, t3) {
  if (e2(e4)) return e4;
  if (null === e4) return "";
  if (n2(e4)) return le(e4, t3);
  if (t(e4)) return e4.toString();
  if (ne(e4)) return fe(e4, t3);
  if (ie(e4)) return e4.toFormat(t3);
  if (re(e4)) return e4.toFormat(t3);
  if (e4 instanceof c) return JSON.stringify(e4.toJSON());
  if (o(e4)) {
    const t4 = [];
    for (let n4 = 0; n4 < e4.length; n4++) t4[n4] = Ne(e4[n4]);
    return "[" + t4.join(",") + "]";
  }
  if (e4 instanceof t2) {
    const t4 = [];
    for (let n4 = 0; n4 < e4.length(); n4++) t4[n4] = Ne(e4.get(n4));
    return "[" + t4.join(",") + "]";
  }
  return null !== e4 && "object" == typeof e4 && "castToText" in e4 ? e4.castToText() : L(e4) ? "object, Function" : e4 === P2 ? "" : G(e4) ? "object, Module" : "";
}
function he(e4) {
  const t3 = [];
  if (e4 instanceof t2) {
    for (let n4 = 0; n4 < e4.length(); n4++) t3[n4] = Se(e4.get(n4));
    return t3;
  }
  if (!o(e4)) return null;
  for (let n4 = 0; n4 < e4.length; n4++) t3[n4] = Se(e4[n4]);
  return t3;
}
function be(e4, t3, n4 = false) {
  if (e2(e4)) return e4;
  if (null === e4) return "";
  if (n2(e4)) return le(e4, t3);
  if (t(e4)) return e4.toString();
  if (ne(e4)) return fe(e4, t3);
  if (ie(e4)) return e4.toFormat(t3);
  if (re(e4)) return e4.toFormat(t3);
  if (e4 instanceof c) return e4 instanceof z ? '{"xmin":' + e4.xmin.toString() + ',"ymin":' + e4.ymin.toString() + "," + (e4.hasZ ? '"zmin":' + e4.zmin.toString() + "," : "") + (e4.hasM ? '"mmin":' + e4.mmin.toString() + "," : "") + '"xmax":' + e4.xmax.toString() + ',"ymax":' + e4.ymax.toString() + "," + (e4.hasZ ? '"zmax":' + e4.zmax.toString() + "," : "") + (e4.hasM ? '"mmax":' + e4.mmax.toString() + "," : "") + '"spatialReference":' + we(e4.spatialReference) + "}" : we(e4.toJSON(), (e5, t4) => e5.key === t4.key ? 0 : "spatialReference" === e5.key ? 1 : "spatialReference" === t4.key || e5.key < t4.key ? -1 : e5.key > t4.key ? 1 : 0);
  if (o(e4)) {
    const t4 = [];
    for (let r4 = 0; r4 < e4.length; r4++) t4[r4] = Ne(e4[r4], n4);
    return "[" + t4.join(",") + "]";
  }
  if (e4 instanceof t2) {
    const t4 = [];
    for (let r4 = 0; r4 < e4.length(); r4++) t4[r4] = Ne(e4.get(r4), n4);
    return "[" + t4.join(",") + "]";
  }
  return null !== e4 && "object" == typeof e4 && "castToText" in e4 ? e4.castToText(n4) : L(e4) ? "object, Function" : e4 === P2 ? "" : G(e4) ? "object, Module" : "";
}
function Ne(e4, t3 = false) {
  if (null === e4) return "null";
  if (t(e4) || e2(e4)) return JSON.stringify(e4);
  if (n2(e4)) return e4.toString();
  if (e4 instanceof c) return be(e4, null, t3);
  if (e4 instanceof t2) return be(e4, null, t3);
  if (Array.isArray(e4)) return be(e4, null, t3);
  if (ne(e4)) return t3 ? JSON.stringify(e4.getTime()) : JSON.stringify(fe(e4, ""));
  if (ie(e4)) return JSON.stringify(e4.toString());
  if (re(e4)) return JSON.stringify(e4.toString());
  if (null !== e4 && "object" == typeof e4) {
    if ("castToText" in e4) return e4.castToText(t3);
  } else if (e4 === P2) return "null";
  return "null";
}
function Se(e4, t3) {
  return n2(e4) ? e4 : null === e4 || "" === e4 ? 0 : ne(e4) || re(e4) || ie(e4) ? NaN : t(e4) ? e4 ? 1 : 0 : o(e4) || "" === e4 || void 0 === e4 ? NaN : void 0 !== t3 && e2(e4) ? (t3 = Y(t3, "‰", ""), t3 = Y(t3, "¤", ""), p(e4, { pattern: t3 })) : e4 === P2 ? 0 : Number(e4);
}
function Ze(e4, t3) {
  if (ne(e4)) return e4;
  if (e2(e4)) {
    const r4 = Te(e4, t3);
    if (r4) return m.dateTimeToArcadeDate(r4);
  }
  return null;
}
function Te(e4, t3) {
  const n4 = / (\d\d)/, i5 = h(t3);
  let a = DateTime.fromISO(e4, { zone: i5 });
  return a.isValid || n4.test(e4) && (e4 = e4.replace(n4, "T$1"), a = DateTime.fromISO(e4, { zone: t3 }), a.isValid) ? a : null;
}
function Ae(e4) {
  return t(e4) ? e4 : e2(e4) ? "true" === (e4 = e4.toLowerCase()) : !!n2(e4) && (0 !== e4 && !isNaN(e4));
}
function ke(e4, t3) {
  const n4 = JSON.parse(e4);
  return n4 && !n4.spatialReference && (n4.spatialReference = t3), f2(n4);
}
function De(e4, t3) {
  return null == e4 ? null : (null !== e4.spatialReference && void 0 !== e4.spatialReference || (e4.spatialReference = t3), e4);
}
function je(e4) {
  if (null === e4) return null;
  if (e4 instanceof _) return "NaN" === e4.x || null === e4.x || isNaN(e4.x) ? null : e4;
  if (e4 instanceof P) {
    if (0 === (e4.curveRings ?? e4.rings).length) return null;
    for (const t3 of e4.curveRings ?? e4.rings) if (t3.length > 0) return e4;
    return null;
  }
  if (e4 instanceof y) {
    if (0 === (e4.curvePaths ?? e4.paths).length) return null;
    for (const t3 of e4.curvePaths ?? e4.paths) if (t3.length > 0) return e4;
    return null;
  }
  return e4 instanceof m2 ? 0 === e4.points.length ? null : e4 : e4 instanceof z ? "NaN" === e4.xmin || null === e4.xmin || isNaN(e4.xmin) ? null : e4 : null;
}
function xe(e4, t3) {
  if (!e4) return t3;
  if (!e4.domain) return t3;
  let n4 = null, r4 = null;
  if (ne(t3)) n4 = t3.toNumber();
  else if (re(t3)) n4 = t3.toString();
  else if (ie(t3)) n4 = t3.toStorageString();
  else if ("string" === e4.field.type || "esriFieldTypeString" === e4.field.type) n4 = ge(t3);
  else {
    if (null == t3) return null;
    if ("" === t3) return t3;
    n4 = Se(t3);
  }
  for (let i5 = 0; i5 < e4.domain.codedValues.length; i5++) {
    const t4 = e4.domain.codedValues[i5];
    t4.code === n4 && (r4 = t4);
  }
  return null === r4 ? ge(t3) : r4.name;
}
function Oe(e4, t3) {
  if (!e4) return t3;
  if (!e4.domain) return t3;
  let n4 = null;
  const r4 = ge(t3);
  for (let i5 = 0; i5 < e4.domain.codedValues.length; i5++) {
    const t4 = e4.domain.codedValues[i5];
    t4.name === r4 && (n4 = t4);
  }
  return null === n4 ? t3 : n4.code;
}
function Ce(e4, t3, n4 = null, r4 = null) {
  if (!t3) return null;
  if (!t3.fields) return null;
  let i5, o2, u = null;
  for (let a = 0; a < t3.fields.length; a++) {
    const n5 = t3.fields[a];
    n5.name.toLowerCase() === e4.toString().toLowerCase() && (u = n5);
  }
  if (null === u) throw new n(null, "FieldNotFound", null, { key: e4 });
  let s4 = t3.typeIdField, l4 = "id", f4 = t3.types;
  if (t3.subtypeField && (s4 = t3.subtypeField, l4 = "code", f4 = t3.subtypes ?? []), null === r4 && n4 && s4) r4 = n4.hasField(s4) ? n4.field(s4) : null;
  else if (s4 && null !== r4) {
    let e5 = false;
    for (const t4 of f4 || []) if (r4 === t4[l4]) {
      e5 = true;
      break;
    }
    if (!e5) {
      for (const t4 of f4 || []) if (r4 === t4.name) {
        r4 = t4[l4], e5 = true;
        break;
      }
    }
    e5 || (r4 = null, n4 && s4 && (r4 = n4.hasField(s4) ? n4.field(s4) : null));
  }
  return null != r4 && f4.some((e5) => e5[l4] === r4 && (i5 = e5.domains?.[u.name], i5 && "inherited" === i5.type && (i5 = Fe(u.name, t3), o2 = true), true)), o2 || i5 || (i5 = Fe(e4, t3)), { field: u, domain: i5 };
}
function Fe(e4, t3) {
  let n4;
  return t3.fields.some((t4) => (t4.name.toLowerCase() === e4.toLowerCase() && (n4 = t4.domain), !!n4)), n4;
}
function we(e4, t3) {
  t3 || (t3 = {}), "function" == typeof t3 && (t3 = { cmp: t3 });
  const n4 = "boolean" == typeof t3.cycles && t3.cycles, r4 = t3.cmp && (i5 = t3.cmp, function(e5) {
    return function(t4, n5) {
      const r5 = { key: t4, value: e5[t4] }, a2 = { key: n5, value: e5[n5] };
      return i5(r5, a2);
    };
  });
  var i5;
  const a = [];
  return (function e5(t4) {
    if (t4?.toJSON && "function" == typeof t4.toJSON && (t4 = t4.toJSON()), void 0 === t4) return;
    if ("number" == typeof t4) return isFinite(t4) ? "" + t4 : "null";
    if ("object" != typeof t4) return JSON.stringify(t4);
    let i6, o2;
    if (Array.isArray(t4)) {
      for (o2 = "[", i6 = 0; i6 < t4.length; i6++) i6 && (o2 += ","), o2 += e5(t4[i6]) || "null";
      return o2 + "]";
    }
    if (null === t4) return "null";
    if (a.includes(t4)) {
      if (n4) return JSON.stringify("__cycle__");
      throw new TypeError("Converting circular structure to JSON");
    }
    const u = a.push(t4) - 1, s4 = Object.keys(t4).sort(r4?.(t4));
    for (o2 = "", i6 = 0; i6 < s4.length; i6++) {
      const n5 = s4[i6], r5 = e5(t4[n5]);
      r5 && (o2 && (o2 += ","), o2 += JSON.stringify(n5) + ":" + r5);
    }
    return a.splice(u, 1), "{" + o2 + "}";
  })(e4);
}
function Je(e4) {
  if (null === e4) return null;
  const t3 = [];
  for (const n4 of e4) H(n4) ? t3.push(n4.geometry()) : t3.push(n4);
  return t3;
}
function Me(e4, t3) {
  if (!(t3 instanceof _)) throw new n(null, "InvalidParameter", null);
  e4.push(t3.hasZ ? t3.hasM ? [t3.x, t3.y, t3.z, t3.m] : [t3.x, t3.y, t3.z] : [t3.x, t3.y]);
}
function Re(e4, t3) {
  if (o(e4) || te(e4)) {
    let n4 = false, r4 = false, i5 = [], o2 = t3;
    if (o(e4)) {
      for (const t4 of e4) Me(i5, t4);
      i5.length > 0 && (o2 = e4[0].spatialReference, n4 = e4[0].hasZ, r4 = e4[0].hasM);
    } else if (e4 instanceof i3) i5 = e4._elements, i5.length > 0 && (n4 = e4._hasZ, r4 = e4._hasM, o2 = e4.get(0).spatialReference);
    else {
      if (!te(e4)) throw new n(null, "InvalidParameter", null);
      for (const t4 of e4.toArray()) Me(i5, t4);
      i5.length > 0 && (o2 = e4.get(0).spatialReference, n4 = true === e4.get(0).hasZ, r4 = true === e4.get(0).hasM);
    }
    if (0 === i5.length) return null;
    return h2(i5) || (i5 = i5.slice().reverse()), new P({ rings: [i5], spatialReference: o2, hasZ: n4, hasM: r4 });
  }
  return e4;
}
function ve(e4, t3) {
  if (o(e4) || te(e4)) {
    let n4 = false, r4 = false, i5 = [], a = t3;
    if (o(e4)) {
      for (const t4 of e4) Me(i5, t4);
      i5.length > 0 && (a = e4[0].spatialReference, n4 = true === e4[0].hasZ, r4 = true === e4[0].hasM);
    } else if (e4 instanceof i3) i5 = e4._elements, i5.length > 0 && (n4 = e4._hasZ, r4 = e4._hasM, a = e4.get(0).spatialReference);
    else if (te(e4)) {
      for (const t4 of e4.toArray()) Me(i5, t4);
      i5.length > 0 && (a = e4.get(0).spatialReference, n4 = true === e4.get(0).hasZ, r4 = true === e4.get(0).hasM);
    }
    return 0 === i5.length ? null : new y({ paths: [i5], spatialReference: a, hasZ: n4, hasM: r4 });
  }
  return e4;
}
function Pe(e4, t3) {
  if (o(e4) || te(e4)) {
    let n4 = false, r4 = false, i5 = [], a = t3;
    if (o(e4)) {
      for (const t4 of e4) Me(i5, t4);
      i5.length > 0 && (a = e4[0].spatialReference, n4 = true === e4[0].hasZ, r4 = true === e4[0].hasM);
    } else if (e4 instanceof i3) i5 = e4._elements, i5.length > 0 && (n4 = e4._hasZ, r4 = e4._hasM, a = e4.get(0).spatialReference);
    else if (te(e4)) {
      for (const t4 of e4.toArray()) Me(i5, t4);
      i5.length > 0 && (a = e4.get(0).spatialReference, n4 = true === e4.get(0).hasZ, r4 = true === e4.get(0).hasM);
    }
    return 0 === i5.length ? null : new m2({ points: i5, spatialReference: a, hasZ: n4, hasM: r4 });
  }
  return e4;
}
function _e(e4, t3 = true) {
  if (null == e4) return [];
  if (o(e4)) {
    const n4 = [];
    for (const r4 of e4) {
      const e5 = ge(r4);
      (t3 || "" !== e5) && n4.push(e5);
    }
    return n4;
  }
  if (te(e4)) {
    const n4 = [];
    for (let r4 = 0; r4 < e4.length(); r4++) {
      const i5 = ge(e4.get(r4));
      (t3 || "" !== i5) && n4.push(i5);
    }
    return n4;
  }
  if (V(e4)) {
    const n4 = ge(e4);
    if (t3 || "" !== n4) return [n4];
  }
  return [];
}
var Ie = 0;
function Ye(e4) {
  return Ie++, Ie % 100 == 0 ? (Ie = 0, new Promise((t3) => {
    setTimeout(() => {
      t3(e4);
    }, 0);
  })) : e4;
}
function Le(e4, t3, n4) {
  switch (n4) {
    case "&":
      return e4 & t3;
    case "|":
      return e4 | t3;
    case "^":
      return e4 ^ t3;
    case "<<":
      return e4 << t3;
    case ">>":
      return e4 >> t3;
    case ">>>":
      return e4 >>> t3;
  }
}
function Ge(e4, t3 = null) {
  return null == e4 ? null : t(e4) || n2(e4) || e2(e4) ? e4 : e4 instanceof c ? true === t3?.keepGeometryType ? e4 : e4.toJSON() : e4 instanceof t2 ? e4.toArray().map((e5) => Ge(e5, t3)) : Array.isArray(e4) ? e4.map((e5) => Ge(e5, t3)) : c2(e4) ? e4 : ne(e4) ? e4.toJSDate() : ie(e4) ? e4.toString() : re(e4) ? e4.toJSDate() : null !== e4 && "object" == typeof e4 && void 0 !== e4.castAsJson ? e4.castAsJson(t3) : null;
}
async function Ve(e4, t3, n4, r4, i5) {
  const a = await ze(e4, t3, n4);
  i5[r4] = a;
}
async function ze(e4, t3 = null, n4 = null) {
  if (e4 instanceof t2 && (e4 = e4.toArray()), null == e4) return null;
  if (V(e4) || e4 instanceof c || c2(e4) || ne(e4)) return Ge(e4, n4);
  if (Array.isArray(e4)) {
    const r4 = [], i5 = [];
    for (const a of e4) null === a || V(a) || a instanceof c || c2(a) || ne(a) ? i5.push(Ge(a, n4)) : (i5.push(null), r4.push(Ve(a, t3, n4, i5.length - 1, i5)));
    return r4.length > 0 && await Promise.all(r4), i5;
  }
  return null !== e4 && "object" == typeof e4 && void 0 !== e4.castAsJsonAsync ? e4.castAsJsonAsync(t3, n4) : null;
}
function Ee(e4) {
  return qe(e4) ? e4.parent : e4;
}
function qe(e4) {
  return e4 && "declaredClass" in e4 && "esri.layers.support.SubtypeSublayer" === e4.declaredClass;
}
function Ue(e4) {
  return e4 && "declaredClass" in e4 && "esri.layers.SubtypeGroupLayer" === e4.declaredClass;
}
function He(e4, t3, n4) {
  const r4 = Ee(e4.fullSchema());
  if (null === r4) return null;
  if (!r4.fields) return null;
  return Ce(t3, r4, e4, n4);
}
function We(e4) {
  const t3 = Ee(e4.fullSchema());
  return null === t3 ? null : t3.fields ? t3.subtypeField ? { subtypeField: t3.subtypeField, subtypes: t3.subtypes ? t3.subtypes.map((e5) => ({ name: e5.name, code: e5.code })) : [] } : t3.typeIdField ? { subtypeField: t3.typeIdField, subtypes: t3.types ? t3.types.map((e5) => ({ name: e5.name, code: e5.id })) : [] } : null : null;
}
function $e(e4, t3, n4, r4) {
  const i5 = Ee(e4.fullSchema());
  if (null === i5) return null;
  if (!i5.fields) return null;
  const a = Ce(t3, i5, e4, r4);
  if (void 0 === n4) try {
    n4 = e4.field(t3);
  } catch (o2) {
    return null;
  }
  return xe(a, n4);
}
function Be(e4, t3, n4, r4) {
  const i5 = Ee(e4.fullSchema());
  if (null === i5) return null;
  if (!i5.fields) return null;
  if (void 0 === n4) {
    try {
      n4 = e4.field(t3);
    } catch (a) {
      return null;
    }
    return n4;
  }
  return Oe(Ce(t3, i5, e4, r4), n4);
}
function Ke(e4) {
  return e4?.timeZone ?? "system";
}
function Qe(e4) {
  const t3 = Ee(e4.fullSchema());
  if (null === t3) return null;
  if (!t3.fields) return null;
  const n4 = [];
  for (const r4 of t3.fields) n4.push(l2(r4));
  return { objectIdField: t3.objectIdField, globalIdField: t3.globalIdField ?? "", geometryType: void 0 === D[t3.geometryType] ? "" : D[t3.geometryType], fields: n4 };
}
function Xe(r4, i5) {
  const a = m.systemTimeZoneCanonicalName;
  return "system" === r4 && (r4 = a), { version: et, engineVersion: e, timeZone: r4, userTimeZone: a, spatialReference: i5 instanceof f ? i5.toJSON() : i5, application: s.applicationName ?? "", engine: "web", locale: l() };
}
var et = "1.34";
var tt = Object.freeze(Object.defineProperty({ __proto__: null, ImplicitResult: v, ReturnResult: R, absRound: se, arcadeVersion: et, autoCastArrayOfPointsToMultiPoint: Pe, autoCastArrayOfPointsToPolygon: Re, autoCastArrayOfPointsToPolyline: ve, autoCastFeatureToGeometry: Je, binaryOperator: Le, breakResult: _2, castAsJson: Ge, castAsJsonAsync: ze, castRecordToText: pe, continueResult: I, defaultExecutingContext: Xe, defaultTimeZone: Ke, defaultUndefined: z2, equalityTest: ye, featureDomainCodeLookup: Be, featureDomainValueLookup: $e, featureFullDomain: He, featureSchema: Qe, featureSubtypes: We, fixNullGeometry: je, fixSpatialReference: De, formatDate: fe, formatNumber: le, getDomain: Ce, getDomainCode: Oe, getDomainValue: xe, getType: E, greaterThanLessThan: de, isArray: o, isBoolean: t, isDate: ne, isDateOnly: re, isDictionary: K, isDictionaryLike: Q, isEmpty: ue, isFeature: H, isFeatureSet: B, isFeatureSetCollection: X, isFunctionParameter: L, isGeometry: U, isGraphic: i2, isImmutableArray: te, isInteger: r2, isJsDate: c2, isKnowledgeGraph: ee, isModule: G, isNumber: n2, isObject: ae, isPixel: $, isSimpleType: V, isString: e2, isSubtypeGrouplayer: Ue, isSubtypeSublayer: qe, isTime: ie, isVoid: q, isVoxel: W, multiReplace: Y, parseGeometryFromJson: ke, pcCheck: oe, stableStringify: we, standardiseDateFormat: ce, tick: Ye, toBoolean: Ae, toDate: Ze, toNumber: Se, toNumberArray: he, toString: ge, toStringArray: _e, toStringExplicit: be, voidOperation: P2 }, Symbol.toStringTag, { value: "Module" }));

// node_modules/@arcgis/core/arcade/deepClone.js
function i4(a) {
  p2 = a;
}
var p2;
function f3(i5) {
  return null === i5 ? null : ne(i5) ? i5.clone() : V(i5) ? i5 : U(i5) ? i5.clone() : te(i5) ? i5.toArray().map((a) => f3(a)) : o(i5) ? i5.map((a) => f3(a)) : H(i5) ? p2.createFromArcadeFeature(i5) : X(i5) || B(i5) ? i5 : K(i5) || "esri.arcade.Attachment" === i5?.declaredClass ? i5.deepClone() : ("esri.arcade.Portal" === i5?.declaredClass || ee(i5) || i5 instanceof s2 || L(i5), i5);
}

// node_modules/@arcgis/core/arcade/Dictionary.js
function w(t3, e4, s4 = false, r4 = false) {
  if (null == t3) return null;
  if (n2(t3) || t(t3) || e2(t3) || ne(t3) || re(t3) || ie(t3)) return t3;
  if (o(t3)) {
    const i6 = [];
    for (const n4 of t3) i6.push(w(n4, e4, s4, r4));
    return i6;
  }
  if (r4 && U(t3)) return t3;
  const i5 = new p3();
  i5.immutable = false;
  for (const [n4, o2] of Object.entries(t3)) void 0 !== o2 && i5.setField(n4, w(o2, e4, s4, r4));
  return i5.immutable = s4, i5;
}
var p3 = class _p {
  constructor(t3) {
    this.declaredClass = "esri.arcade.Dictionary", this.plain = false, this.immutable = true, t3 instanceof _p ? this.attributes = t3.attributes : null == t3 ? this.attributes = /* @__PURE__ */ Object.create(null) : null != Object.getPrototypeOf(t3) ? this.attributes = { __proto__: null, ...t3 } : this.attributes = t3;
  }
  static containerEntry(t3, e4) {
    return new _p({ __proto__: null, key: t3, value: e4 });
  }
  static textFormatting() {
    const t3 = new _p({ __proto__: null, newline: "\n", tab: "	", singlequote: "'", doublequote: '"', forwardslash: "/", backwardslash: "\\" });
    return t3.immutable = false, t3;
  }
  field(t3) {
    const e4 = t3.toLowerCase(), r4 = this.attributes[t3];
    if (void 0 !== r4) return r4;
    for (const s4 in this.attributes) if (s4.toLowerCase() === e4) return this.attributes[s4];
    throw new n(null, "FieldNotFound", null, { key: t3 });
  }
  setField(e4, i5) {
    if (this.immutable) throw new n(null, "Immutable", null);
    if (L(i5)) throw new n(null, "NoFunctionInDictionary", null);
    const n4 = e4.toLowerCase();
    i5 instanceof Date && (i5 = m.dateJSToArcadeDate(i5));
    if (void 0 === this.attributes[e4]) {
      for (const t3 in this.attributes) if (t3.toLowerCase() === n4) return void (this.attributes[t3] = i5);
      this.attributes[e4] = i5;
    } else this.attributes[e4] = i5;
  }
  eraseField(t3) {
    if (this.immutable) throw new n(null, "Immutable", null);
    if (t3 in this.attributes) return void delete this.attributes[t3];
    const e4 = t3.toLowerCase();
    for (const s4 in this.attributes) if (s4.toLowerCase() === e4) return void delete this.attributes[s4];
  }
  hasField(t3) {
    const e4 = t3.toLowerCase();
    if (void 0 !== this.attributes[t3]) return true;
    for (const s4 in this.attributes) if (s4.toLowerCase() === e4) return true;
    return false;
  }
  keys() {
    let t3 = [];
    for (const e4 in this.attributes) t3.push(e4);
    return t3 = t3.sort(), t3;
  }
  values() {
    return this.keys().map((t3) => this.attributes[t3]);
  }
  entryCount() {
    return Object.keys(this.attributes).length;
  }
  isEmpty() {
    return this.entryCount() <= 0;
  }
  castToText(t3 = false) {
    return pe(this.attributes, { useNumbersForDates: t3 });
  }
  static convertObjectToArcadeDictionary(t3, e4, s4 = true, r4 = false) {
    const i5 = new _p();
    i5.immutable = false;
    for (const n4 in t3) {
      const o2 = t3[n4];
      void 0 !== o2 && i5.setField(n4.toString(), w(o2, e4, s4, r4));
    }
    return i5.immutable = s4, i5;
  }
  static convertJsonToArcade(t3, e4, s4 = false, r4 = false) {
    return w(t3, e4, s4, r4);
  }
  castAsJson(t3 = null) {
    const e4 = /* @__PURE__ */ Object.create(null);
    for (let s4 in this.attributes) {
      const r4 = this.attributes[s4];
      void 0 !== r4 && (t3?.keyTranslate && (s4 = t3.keyTranslate(s4)), e4[s4] = Ge(r4, t3));
    }
    return e4;
  }
  async castDictionaryValueAsJsonAsync(t3, e4, s4, r4 = null, i5) {
    const n4 = await ze(s4, r4, i5);
    return t3[e4] = n4, n4;
  }
  async castAsJsonAsync(e4 = null, s4 = null) {
    const r4 = /* @__PURE__ */ Object.create(null), i5 = [];
    for (let o2 in this.attributes) {
      const u = this.attributes[o2];
      s4?.keyTranslate && (o2 = s4.keyTranslate(o2)), void 0 !== u && (V(u) || u instanceof c || u instanceof m ? r4[o2] = Ge(u, s4) : i5.push(this.castDictionaryValueAsJsonAsync(r4, o2, u, e4, s4)));
    }
    return i5.length > 0 && await Promise.all(i5), r4;
  }
  deepClone() {
    const t3 = new _p();
    t3.immutable = false;
    for (const s4 of this.keys()) t3.setField(s4, f3(this.field(s4)));
    return t3;
  }
};

export {
  s2 as s,
  r3 as r,
  n3 as n,
  e3 as e,
  s3 as s2,
  i3 as i,
  h3 as h,
  R,
  v,
  P2 as P,
  _2 as _,
  I,
  Y,
  L,
  V,
  z2 as z,
  E,
  q,
  U,
  H,
  W,
  $,
  B,
  K,
  Q,
  X,
  ee,
  te,
  ne,
  re,
  ie,
  oe,
  ue,
  se,
  ce,
  de,
  ye,
  pe,
  ge,
  he,
  be,
  Se,
  Ze,
  Ae,
  De,
  je,
  xe,
  Oe,
  Ce,
  Je,
  Re,
  ve,
  Pe,
  _e,
  Ye,
  Le,
  Ge,
  qe,
  He,
  We,
  $e,
  Be,
  Ke,
  Qe,
  Xe,
  tt,
  i4 as i2,
  f3 as f,
  p3 as p
};
//# sourceMappingURL=chunk-AH42IBBP.js.map
