import {
  i2 as i,
  n4 as n,
  x
} from "./chunk-43423NKQ.js";
import {
  has
} from "./chunk-AL6YUTZM.js";

// node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js
var t = (e, r) => e.key.level - r.key.level !== 0 ? e.key.level - r.key.level : e.key.row - r.key.row !== 0 ? e.key.row - r.key.row : e.key.col - r.key.col;
var n2 = class extends i {
  constructor(e) {
    super(), this.tileInfoView = e, this.sortFunction = t;
  }
  renderChildren(e) {
    this.setStencilReference(e), super.renderChildren(e);
  }
  createRenderParams(e) {
    const { state: r } = e, s = super.createRenderParams(e);
    return s.requiredLevel = this.tileInfoView.getClosestInfoForScale(r.scale).level, s.displayLevel = this.tileInfoView.tileInfo.scaleToZoom(r.scale), s;
  }
  prepareRenderPasses(e) {
    const t2 = super.prepareRenderPasses(e);
    return t2.push(e.registerRenderPass({ name: "stencil", brushes: [n], drawPhase: 83, target: () => this.getStencilTarget() })), has("esri-tiles-debug") && t2.push(e.registerRenderPass({ name: "tileInfo", brushes: [x], drawPhase: 64, target: () => this.children })), t2;
  }
  getStencilTarget() {
    return this.children;
  }
  setStencilReference(e) {
    let r = 1;
    for (const s of this.children) s.stencilRef = r++;
  }
};

export {
  n2 as n
};
//# sourceMappingURL=chunk-E77VVW2C.js.map
