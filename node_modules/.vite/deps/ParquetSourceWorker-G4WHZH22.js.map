{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/parquetEncodingUtils.js", "../../@arcgis/core/layers/graphics/sources/support/ParquetSourceWorker.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"./ParquetEncodingLocation.js\";import r from\"./ParquetEncodingWkb.js\";function t(t){switch(t.type){case\"wkb\":return r.fromJSON(t);case\"location\":return o.fromJSON(t)}}export{t as fromParquetEncodingJSON};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__addDisposableResource as e,__disposeResources as t}from\"tslib\";import s from\"../../../../core/Collection.js\";import{toConst as r}from\"../../../../core/compilerUtils.js\";import o from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{QueueProcessor as n}from\"../../../../core/QueueProcessor.js\";import a from\"../../../../geometry/SpatialReference.js\";import{set as u,create as p,expandWithRect as l,expandWithAABB as c,negativeInfinity as d,fromRect as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{getQueryResultExtent as m,QueryEngine as y}from\"../../data/QueryEngine.js\";import{QueryEngineResult as h}from\"../../data/QueryEngineResult.js\";import{createDrawingInfo as g}from\"./clientSideDefaults.js\";import _ from\"../../../support/Field.js\";import w from\"../../../support/FieldsIndex.js\";import{collectSQLFieldNames as I}from\"../../../support/fieldUtils.js\";import{fromParquetEncodingJSON as R}from\"../../../support/parquetEncodingUtils.js\";import{completeParquetLayerInfo as x,fromParquetJSONGeometryType as S,toParquetJSONGeometryType as F}from\"../../../support/parquetUtils.js\";import{createParquetFile as q,readGeoMetadata as C}from\"../../../../libs/parquet/parquet.js\";import{FeatureStoreQueryAdapter as b}from\"../../../../views/2d/layers/features/FeatureStoreQueryAdapter.js\";import{FeatureSnapshotSourceChunk as v}from\"../../../../views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSourceChunkStore as O}from\"../../../../views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js\";import{FeatureMetadata as j}from\"../../../../views/2d/layers/features/support/FeatureMetadata.js\";import{FeatureSetReaderParquet as Q}from\"../../../../views/2d/layers/features/support/FeatureSetReaderParquet.js\";const A=new b,E=4,P=8e3,B=\"__OBJECTID\";class T{constructor(){this._fileInfos=new Map,this._queue=new n({concurrency:E,process:(e,t)=>this._executeQuery(e,t)})}async load(r){const n=r.spatialReference?a.fromJSON(r.spatialReference):void 0;if(n&&!n.isWGS84&&!n.isWebMercator)throw new o(\"parquet:unsupported-projection\",\"Only WGS84 and Web Mercator are supported\");const c=await x({urls:new s(r.urls),fields:r.fields?.map(e=>_.fromJSON(e)),encoding:r.encoding?R(r.encoding):null,geometryType:r.geometryType?S(r.geometryType):null,spatialReference:n},{customParameters:r.customParameters});let f;if(c.geometryType&&c.encoding){if(!c.spatialReference)throw new o(\"parquet:unsupported\",\"SpatialReference must be defined\");if(!c.spatialReference.isGeographic&&!c.spatialReference.isWebMercator)throw new o(\"parquet:unsupported-projection\",\"Only WGS84 and Web Mercator are supported\");c.spatialReference.isGeographic&&!c.spatialReference.isWGS84&&(i.getLogger(\"parquet:unsupported-projection\").warn(\"Found a geographic projection that is not WGS84. Handling as WGS84.\",{spatialReference:c.spatialReference}),c.spatialReference=a.WGS84),f={geometryType:F(c.geometryType),spatialReference:c.spatialReference.toJSON(),encoding:c.encoding.toJSON(),displayOptimization:c.displayOptimization}}this.setCustomParameters(r.customParameters),this._geometryInfo=f;const m=r.urls;for(const e of m){const t=await q(e,{geometryInfo:f,outSpatialReference:null,getCustomParameters:()=>this._customParameters});this._fileInfos.set(e,{index:this._fileInfos.size,file:t})}this._capabilities=N(await this.getFileStatistics());const y=this._fileInfos.values().next().value?.file;if(!y)return{layerDefinition:{},capabilities:N(null)};const{fields:h}=c;if(null==h)throw new o(\"parquet-layer:missing-metadata\",\"Unable to create parquet source: cannot infer fields\",h);h.push(new _({name:B,type:\"oid\",alias:B}));const I={fields:h.map(e=>({...e.toJSON(),column:y.columnForFieldName(e.name)})),timeZoneByFieldName:null},C=w.fromJSON(I);this._fieldsIndex=C;const b=F(c.geometryType??\"point\");if(this._metadata=j.createFeature({fieldsIndex:I,geometryType:b,featureIdInfo:{type:\"object-id\",fieldName:\"rowId\"},subtypes:null,subtypeField:null,types:null,typeIdField:null,globalIdField:null,spatialReference:c.spatialReference,outSpatialReference:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null}),this._queryEngineParams={fieldsIndex:this._metadata.fieldsIndex,geometryType:f?.geometryType??\"esriGeometryPoint\",featureIdInfo:{type:\"object-id\",fieldName:\"rowId\"},hasM:!1,hasZ:!1,spatialReference:f?.spatialReference??{wkid:4326},aggregateAdapter:null,timeInfo:null,definitionExpression:null},c.spatialReference&&(this._fullExtent=k(this._fileInfos.values(),c.spatialReference.toJSON())),null==this._fullExtent&&\"location\"===c.encoding?.type){const{latitudeFieldName:s,longitudeFieldName:r}=c.encoding,o=this._fieldsIndex.get(s)?.column,i=this._fieldsIndex.get(r)?.column,n=u(p(),d);for(const a of this._fileInfos.values())for(const s of a.file.rowGroups()){const r={stack:[],error:void 0,hasError:!1};try{const t=e(r,s.columnDescriptorForAttribute(o),!1),a=e(r,s.columnDescriptorForAttribute(i),!1),u=[a.minValue(),t.minValue(),a.maxValue(),t.maxValue()];l(n,u),s.free()}catch(v){r.error=v,r.hasError=!0}finally{t(r)}}this._fullExtent={xmin:n[0],ymin:n[1],xmax:n[3],ymax:n[4],spatialReference:c.spatialReference?.toJSON()}}return{capabilities:this._capabilities,layerDefinition:{fields:c.fields?.map(e=>e.toJSON()),drawingInfo:g(b),extent:this._fullExtent??void 0,geometryType:b,geometryEncoding:c.encoding?.toJSON(),displayOptimization:c.displayOptimization}}}destroy(){for(const e of this._fileInfos.values())e.file.free();this._fileInfos.clear(),this._queue.destroy()}setCustomParameters(e){this._customParameters=e}getFileStatistics(){if(!this._fileInfos.size)return null;const e=Array.from(this._fileInfos.values()).reduce((e,t)=>e+t.file.byteLength(),0);return{featureCount:this._getFeatureCount(),byteLength:e}}async updateFiles(e){const t=new Set(e);for(const[s,r]of this._fileInfos.entries())t.has(s)?t.delete(s):(r.file.free(),this._fileInfos.delete(s));for(const s of t){const e=await q(s,{geometryInfo:this._geometryInfo,outSpatialReference:null,getCustomParameters:()=>this._customParameters});this._fileInfos.set(s,{index:this._fileInfos.size,file:e})}}async queryFeatures(e,t){this._validateQuery(e),z(e)||(e.resultRecordCount=e.resultRecordCount?Math.min(e.resultRecordCount,8e3):8e3,e.resultOffset=e.resultOffset??0),(e.outStatistics||e.returnDistinctValues)&&delete e.returnGeometry;return(await this._enqueueQuery(e,t)).createQueryResponse()}async queryFeatureCount(e,t){if(this._validateQuery(e),!G(e))return this._getFeatureCount();delete e.outFields,delete e.returnGeometry;return(await this._enqueueQuery(e,t)).createQueryResponseForCount()}async queryObjectIds(e,t){if(this._validateQuery(e),!G(e))return Array.from({length:this._getFeatureCount()},(e,t)=>t);e.resultRecordCount=e.resultRecordCount?Math.min(e.resultRecordCount,8e3):8e3,e.resultOffset=e.resultOffset??0,delete e.returnGeometry,delete e.outFields;return(await this._enqueueQuery(e,t)).items.map(e=>e.getObjectId())}async queryExtent(e,t){if(this._validateQuery(e),this._fullExtent&&!G(e))return{count:this._getFeatureCount(),extent:this._fullExtent};const s=r(this._metadata.spatialReference);e.returnGeometry=!0,delete e.outFields;const o=u(p(),d),i=p(),n=await this._enqueueQuery(e,t);let a=0;for(const r of n.items)r.getBounds(i)&&(c(o,i),a+=1);return{count:a,extent:m(o,s,e.outSR?r(e.outSR):s,s,!1)}}_getFeatureCount(){return Array.from(this._fileInfos.values()).reduce((e,t)=>e+t.file.numRows(),0)}_validateQuery(e){if(!this._capabilities.query.supportsStatistics&&e.outStatistics)throw new o(\"parquet:unsupported\",\"Statistics queries are not supported\",{query:e});if(!this._capabilities.query.supportsOrderBy&&e.orderByFields?.length)throw new o(\"parquet:unsupported\",\"Queries using orderBy are not supported\",{query:e});if(!this._capabilities.query.supportsDistinct&&e.returnDistinctValues)throw new o(\"parquet:unsupported\",\"Queries using returnDistinctValues are not supported\",{query:e})}async*_fetchChunks(e,t){for(const s of this._fileInfos.values()){const r=s.file.numRows(),o=Math.ceil(r/P);for(let i=0;i<o;i++){const r=i*P,o=await s.file.readChunk(r,P,e.fields,e.returnGeometry,t);for(const e of o){const t=new Q(this._metadata,this._fieldsIndex,e,0,s.index),r=M([new v(t,null,0,!1)],this._queryEngineParams);yield r}}}}_enqueueQuery(e,t){return this._queue.push(e,t)}async _executeQuery(e,t){const s=await this._getReadParams(e);if(e.objectIds?.length)for(const n of this._fileInfos.values()){const r=[],o=M((await n.file.readChunksByRowId(new Uint32Array(e.objectIds),s.fields,s.returnGeometry,t)).map((e,t)=>new Q(this._metadata,this._fieldsIndex,e,t,n.index)).map((e,t)=>new v(e,null,t,!1)),this._queryEngineParams),i=await o.executeQueryForOpaqueFeatures(e,t);for(const e of i)r.push(e);return new h(r,e,{fieldsIndex:this._fieldsIndex,geometryType:this._metadata.geometryType,spatialReference:this._queryEngineParams.spatialReference,objectIdField:\"rowId\",hasM:!1,hasZ:!1,featureAdapter:A})}let r=e.resultRecordCount??this._getFeatureCount(),o=e.resultOffset??0;delete e.resultRecordCount,delete e.resultOffset;const i=[];for await(const n of this._fetchChunks(s,t)){const s=await n.executeQueryForOpaqueFeatures(e,t);if(s.length>o){const t=s.slice(o,Math.min(o+r,s.length));for(const e of t)i.push(e);if(o=0,r-=t.length,0===r)return new h(i,e,{fieldsIndex:this._fieldsIndex,geometryType:this._metadata.geometryType,spatialReference:this._queryEngineParams.spatialReference,objectIdField:\"rowId\",hasM:!1,hasZ:!1,featureAdapter:A})}else o-=s.length}return new h(i,e,{fieldsIndex:this._fieldsIndex,geometryType:this._metadata.geometryType,spatialReference:this._queryEngineParams.spatialReference,objectIdField:\"rowId\",hasM:!1,hasZ:!1,featureAdapter:A})}async _getReadParams(e){const t=new Set;if(e.where&&await I(t,this._fieldsIndex,e.where),e.outStatistics)for(const s of e.outStatistics)null!=s.onStatisticField&&t.add(s.onStatisticField);if(e.outFields)for(const s of e.outFields)t.add(s);return{fields:this._getAttributeIds(Array.from(t)),returnGeometry:!!e.returnGeometry||!!e.geometry}}_getAttributeIds(e){if(null==e)return new Uint32Array;if(e.includes(\"*\"))return new Uint32Array(this._fieldsIndex.fields.map(e=>e.column).filter(e=>null!=e));const t=[];for(const s of e){const e=this._fieldsIndex.get(s);if(null==e)throw new o(\"unknown-field\",`Field ${s} does not exist`);null==e.column||t.push(e.column)}return new Uint32Array(t)}}function G(e){return Object.keys(e).some(e=>D(e))}function D(e){switch(e){case\"resultOffset\":case\"resultRecordCount\":case\"aggregateIds\":case\"distance\":case\"gdbVersion\":case\"geometry\":case\"having\":case\"timeExtent\":case\"where\":case\"objectIds\":case\"historicMoment\":return!0;default:return!1}}function M(e,t){const s=new O;for(const r of e)s.insert(r);return new y({...t,featureStore:s})}function U(e){switch(e.length){case 4:return f(p(),e);case 6:return e;default:throw new o(\"parquet:protocol-violation\",\"Invalid Geoparquet file. BoundingBox size must be 4 or 6.\",{bbox:e})}}function k(e,t){const s=u(p(),d);for(const r of e){const e=C(r.file);if(!e)return null;const t=e.columns[e.primary_column];if(!t.bbox)return null;const o=U(t.bbox);c(s,o)}return{xmin:s[0],ymin:s[1],xmax:s[3],ymax:s[4],spatialReference:t}}function N(e){const t=e?.featureCount;let s=!1;return null!=t&&t<has(\"parquetlayer-full-query-feature-count\")&&(s=!0),{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!1,supportsQueryPivot:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:8e3,maxRecordCountFactor:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!0,supportsCentroidOnDegeneratedQuantizedGeometry:!1,supportsCurrentUser:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:s,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:s,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsPercentileStatistics:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:s,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,supportsSqlExpression:!1,supportsTrueCurve:!1,tileMaxRecordCount:void 0},queryAttributeBins:{supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}function z(e){return!!(e.objectIds?.length||e.outStatistics||e.orderByFields?.length||e.returnDistinctValues)}export{T as default};\n"],
  "mappings": "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",
  "names": ["t", "s", "i", "r", "E", "B", "t", "n", "f", "m", "y", "i", "k", "s", "a", "u", "e", "o", "M"]
}
