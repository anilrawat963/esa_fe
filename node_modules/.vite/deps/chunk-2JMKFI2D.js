import {
  c as c2,
  f,
  r as r3
} from "./chunk-QYAMBIRP.js";
import {
  A,
  H,
  I,
  P,
  _,
  c,
  g,
  o,
  r as r2,
  u
} from "./chunk-VYMBX5H5.js";
import {
  n
} from "./chunk-75XOUSSS.js";
import {
  r
} from "./chunk-SMWUT52Z.js";

// node_modules/@arcgis/core/views/3d/support/mathUtils.js
function m(t) {
  const n2 = t[0] * t[0] + t[4] * t[4] + t[8] * t[8], s2 = t[1] * t[1] + t[5] * t[5] + t[9] * t[9], r4 = t[2] * t[2] + t[6] * t[6] + t[10] * t[10];
  return Math.sqrt(Math.max(n2, s2, r4));
}
function g2(t, n2) {
  const s2 = Math.sqrt(n2[0] * n2[0] + n2[4] * n2[4] + n2[8] * n2[8]), r4 = Math.sqrt(n2[1] * n2[1] + n2[5] * n2[5] + n2[9] * n2[9]), o2 = Math.sqrt(n2[2] * n2[2] + n2[6] * n2[6] + n2[10] * n2[10]);
  return o(t, s2, r4, o2), t;
}
function j(t, n2, s2) {
  Math.abs(t[0]) > Math.abs(t[1]) ? o(n2, 0, 1, 0) : o(n2, 1, 0, 0), _(s2, t, n2), _(n2, s2, t), A(s2, s2), A(n2, n2);
}
function q(t, c3, i, u2 = n()) {
  const h = r2(t), f2 = r2(c3), M = P(t, c3) / (h * f2);
  if (M < 0.9999999999999999) {
    const n2 = Math.acos(M), s2 = ((1 - i) * h + i * f2) / Math.sin(n2), a = s2 / h * Math.sin((1 - i) * n2), e = s2 / f2 * Math.sin(i * n2);
    return g(A2, t, a), g(B, c3, e), u(u2, A2, B);
  }
  return I(u2, t, c3, i);
}
var w = n();
var y = n();
var z = n();
var A2 = n();
var B = n();

// node_modules/@arcgis/core/geometry/support/plane.js
function j2(t = $) {
  return [t[0], t[1], t[2], t[3]];
}
function d(t = $[0], n2 = $[1], r4 = $[2], o2 = $[3]) {
  return q2(t, n2, r4, o2, r3.get());
}
function y2(t, n2) {
  return q2(n2[0], n2[1], n2[2], n2[3], t);
}
function k(t) {
  return t;
}
function q2(t, n2, r4, o2, e = j2()) {
  return e[0] = t, e[1] = n2, e[2] = r4, e[3] = o2, e;
}
function U(t, n2, r4) {
  const o2 = n2[0] * n2[0] + n2[1] * n2[1] + n2[2] * n2[2], e = Math.abs(o2 - 1) > 1e-5 && o2 > 1e-12 ? 1 / Math.sqrt(o2) : 1;
  return r4[0] = n2[0] * e, r4[1] = n2[1] * e, r4[2] = n2[2] * e, r4[3] = -(r4[0] * t[0] + r4[1] * t[1] + r4[2] * t[2]), r4;
}
function w2(t, n2, r4, o2 = j2()) {
  const e = r4[0] - n2[0], c3 = r4[1] - n2[1], u2 = r4[2] - n2[2], i = t[0] - n2[0], s2 = t[1] - n2[1], f2 = t[2] - n2[2], a = c3 * f2 - u2 * s2, m2 = u2 * i - e * f2, g3 = e * s2 - c3 * i, h = a * a + m2 * m2 + g3 * g3, l = Math.abs(h - 1) > 1e-5 && h > 1e-12 ? 1 / Math.sqrt(h) : 1;
  return o2[0] = a * l, o2[1] = m2 * l, o2[2] = g3 * l, o2[3] = -(o2[0] * t[0] + o2[1] * t[1] + o2[2] * t[2]), o2;
}
function S(t, r4, o2, e = 0, s2 = Math.floor(o2 * (1 / 3)), f2 = Math.floor(o2 * (2 / 3))) {
  if (o2 < 3) return false;
  r4(B2, e);
  let a = s2, m2 = false;
  for (; a < o2 - 1 && !m2; ) r4(C, a), a++, m2 = !H(B2, C);
  if (!m2) return false;
  for (a = Math.max(a, f2), m2 = false; a < o2 && !m2; ) r4(D, a), a++, c(E2, B2, C), A(E2, E2), c(F, C, D), A(F, F), m2 = !H(B2, D) && !H(C, D) && Math.abs(P(E2, F)) < A3;
  return m2 ? (w2(B2, C, D, t), true) : (0 !== e || 1 !== s2 || 2 !== f2) && S(t, r4, o2, 0, 1, 2);
}
function z2(t, n2, r4 = true) {
  const o2 = n2.length / 3;
  return S(t, (t2, r5) => o(t2, n2[3 * r5 + 0], n2[3 * r5 + 1], n2[3 * r5 + 2]), r4 ? o2 - 1 : o2);
}
var A3 = 0.99619469809;
var B2 = n();
var C = n();
var D = n();
var E2 = n();
var F = n();
function G(t, r4, o2) {
  return r4 !== t && y2(t, r4), t[3] = -P(k(t), o2), t;
}
function H2(t, n2) {
  return n2[0] = -t[0], n2[1] = -t[1], n2[2] = -t[2], n2[3] = -t[3], n2;
}
function I2(t, n2, r4, o2) {
  return _(D, n2, t), U(r4, D, o2);
}
function J(t, n2, r4, o2) {
  return Y(Z(t, n2, c(c2.get(), r4, n2), _2, o2));
}
function K(t, n2, r4) {
  return null != n2 && Y(Z(t, n2.origin, n2.direction, tt, r4));
}
function L2(t, n2, r4) {
  return Y(Z(t, n2.origin, n2.vector, 0, r4));
}
function N(t, n2, r4) {
  return Y(Z(t, n2.origin, n2.vector, 1, r4));
}
function O(t, n2) {
  return X(t, n2) >= 0;
}
function P2(t, r4) {
  const o2 = P(k(t), r4.ray.direction), e = -X(t, r4.ray.origin);
  if (e < 0 && o2 >= 0) return false;
  if (o2 > -1e-6 && o2 < 1e-6) return e > 0;
  if ((e < 0 || o2 < 0) && !(e < 0 && o2 < 0)) return true;
  const c3 = e / o2;
  return o2 > 0 ? c3 < r4.c1 && (r4.c1 = c3) : c3 > r4.c0 && (r4.c0 = c3), r4.c0 <= r4.c1;
}
function Q(t, r4) {
  const o2 = P(k(t), r4.ray.direction), e = -X(t, r4.ray.origin);
  if (o2 > -1e-6 && o2 < 1e-6) return e > 0;
  const c3 = e / o2;
  return o2 > 0 ? c3 < r4.c1 && (r4.c1 = c3) : c3 > r4.c0 && (r4.c0 = c3), r4.c0 <= r4.c1;
}
function R(t, n2, e) {
  const u2 = g(c2.get(), k(t), -t[3]), i = V(t, c(c2.get(), n2, u2), c2.get());
  return u(e, i, u2), e;
}
function T(t, n2, r4, o2) {
  const e = k(t), u2 = c2.get(), i = c2.get();
  j(e, u2, i);
  const f2 = c(c2.get(), r4, n2), a = f(u2, f2), m2 = f(i, f2), g3 = f(e, f2);
  return o(o2, a, m2, g3);
}
function V(t, r4, e) {
  const u2 = g(c2.get(), k(t), P(k(t), r4));
  return c(e, r4, u2), e;
}
function W(t, n2) {
  return Math.abs(X(t, n2));
}
function X(t, r4) {
  return P(k(t), r4) + t[3];
}
function Y(t) {
  return 0 === t || 1 === t;
}
function Z(e, c3, u2, i, s2) {
  const f2 = P(k(e), u2), a = X(e, c3);
  if (0 === f2) return a >= 0 ? 2 : 3;
  let m2 = -a / f2;
  return 1 & i && (m2 = r(m2, 0, 1)), !(4 & i) && m2 < 0 || !(8 & i) && m2 > 1 ? a >= 0 ? 2 : 3 : (u(s2, c3, g(s2, u2, m2)), a >= 0 ? 0 : 1);
}
var $ = [0, 0, 1, 0];
var _2 = 12;
var tt = 8;

export {
  m,
  g2 as g,
  j,
  q,
  j2,
  d,
  y2 as y,
  k,
  q2,
  U,
  w2 as w,
  S,
  z2 as z,
  G,
  H2 as H,
  I2 as I,
  J,
  K,
  L2 as L,
  N,
  O,
  P2 as P,
  Q,
  R,
  T,
  W,
  X,
  Z
};
//# sourceMappingURL=chunk-2JMKFI2D.js.map
