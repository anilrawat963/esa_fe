{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/LayerView3D.js", "../../@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js", "../../@arcgis/core/renderers/support/rendererConversion.js", "../../@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationQuery.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js", "../../@arcgis/core/geometry/projection/projectBoundingRect.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphic.js", "../../@arcgis/core/views/3d/layers/graphics/symbolMemory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../@arcgis/core/views/3d/terrain/ElevationUpdateEvent.js", "../../@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../@arcgis/core/views/3d/support/extentUtils.js", "../../@arcgis/core/views/support/TextureCompressionTracker.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../@arcgis/core/views/3d/layers/graphics/ExtentSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js", "../../@arcgis/core/views/3d/support/intersectionUtils.js", "../../@arcgis/core/views/3d/support/FrustumExtentIntersection.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js", "../../@arcgis/core/views/3d/layers/support/highlightUtils.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js", "../../@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js", "../../@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js", "../../@arcgis/core/views/3d/layers/GraphicsLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{const n=l;let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,s=o.signal;this.addHandles(t(()=>o.abort())),await r(()=>this.view.defaultsFromMap?.heightModelInfoReady,s),e(s);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([s()],c.prototype,\"view\",void 0),o([s()],c.prototype,\"slicePlaneEnabled\",void 0),c=o([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{l as LayerView3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import t from\"../../../../geometry/SpatialReference.js\";import{projectPointToVectorAsync as r}from\"../../../../geometry/projection/projectPointToVector.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedPoint.js\";import{getGeometryEffectiveElevationInfo as n}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as a}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{extractExpressionInfo as f,createContext as c}from\"./featureExpressionInfoUtils.js\";async function l(l,m,d,j,u){const{elevationProvider:v,renderCoordsHelper:g}=l,{elevationInfo:I}=m,{pointsInFeatures:x,spatialReference:y}=j,h=t.fromJSON(y),w=f(I,!0),R=await c(w,h,u);e(u);const S=[],b=new Set,z=new Set,E=new p,F=i(0,0,0,t.WGS84),P=new a,U=o();F.spatialReference=h;const C=l.elevationProvider.spatialReference??l.spatialReference;for(const{objectId:e,points:o}of x){const t=d(e);if(null==t){for(const e of o)S.push(e.z??0);b.add(e);continue}t.isDraped&&z.add(e);const i=t.graphic.geometry;E.setFromElevationInfo(n(i,I)),R&&E.updateFeatureExpressionInfoContextForGraphic(R,t.graphic,m);for(const{x:e,y:n,z:a}of o)F.x=e,F.y=n,F.z=a??0,await r(F,U,C,0,{signal:u}),s(U,v,E,g,P),S.push(P.z)}return{elevations:S,drapedObjectIds:z,failedObjectIds:b}}export{l as elevationAlignPointsInFeatures};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import e from\"../../core/Error.js\";import{defaultTo3DOptions as n,to3D as o}from\"../../symbols/support/symbolConversion.js\";function t(r){return null==r||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function s(r,n){if(null==r)return null;if(!t(r))return new e(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${r.type}'`,{renderer:r});switch(r.type){case\"simple\":return u(r,n);case\"unique-value\":return a(r,n);case\"class-breaks\":return i(r,n);case\"dictionary\":case\"heatmap\":return null}return null}function l(r,n){if(!n)return null;if(Array.isArray(n)||(n=[n]),n.length>0){const o=n.map(r=>r.details.symbol.type||r.details.symbol.declaredClass).filter(r=>!!r);o.sort();const t=new Array;return o.forEach((r,e)=>{0!==e&&r===o[e-1]||t.push(r)}),new e(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:r,symbolErrors:n})}return null}function u(r,e){const t={...n,...e,cimFallbackEnabled:!0};return l(r,o(r.symbol,t).error)}function a(e,t){const s={...n,...t,cimFallbackEnabled:!0},u=e.uniqueValueInfos?.map(r=>o(r.symbol,s).error).filter(r),a=o(e.defaultSymbol,s);return a.error&&u?.unshift(a.error),l(e,u)}function i(e,t){const s={...n,...t,cimFallbackEnabled:!0},u=e.classBreakInfos.map(r=>o(r.symbol,s).error).filter(r),a=o(e.defaultSymbol,s);return a.error&&u.unshift(a.error),l(e,u)}export{t as isSupportedRenderer3D,s as validateTo3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,m,t){this.maximumTotalNumberOfVertices=e,this.maximumNumberOfFeatures=m,this.averageSymbolComplexity=t}}export{e as DisplayFeatureLimit};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{createAbortError as t,createResolver as r,onAbort as s}from\"../../../../core/promiseUtils.js\";import i from\"../../../../geometry/Multipoint.js\";import{TaskPriority as o,noBudget as n}from\"../../../support/Scheduler.js\";class a{constructor(e,t){this.spatialReference=e,this._view=t}getElevation(e,t,r){return this._view.elevationProvider.getElevation(e,t,0,this.spatialReference,r)}async queryElevation(e,t,r,s,i){return this._view.elevationProvider.queryElevation(e,t,0,this.spatialReference,i,r,s)}}class l{constructor(e,t,r,s){this.spatialReference=t,this._getElevationQueryProvider=r,this._queries=new Array,this._queryOptions={...s,ignoreInvisibleLayers:!0},this._frameTask=e.registerTask(o.ELEVATION_QUERY,this)}destroy({completeTasks:e}={completeTasks:!1}){if(this._frameTask.remove(),this.readyToRun)if(e)this.runTask(n);else for(const r of this._queries)r.result.reject(t())}queryElevation(i,o,n,a=0){const l=r(),u={x:i,y:o,minDemResolution:a,result:l,signal:n};return this._queries.push(u),s(n,()=>{e(this._queries,u),l.reject(t())}),l.promise}get readyToRun(){return this._queries.length>0}runTask(e){const r=this._queries;this._queries=[];const o=this._getElevationQueryProvider();if(!o)return r.forEach(e=>e.result.reject()),void e.madeProgress();const n=r.map(e=>[e.x,e.y]),a=r.reduce((e,t)=>Math.min(e,t.minDemResolution),1/0),l=new i({points:n,spatialReference:this.spatialReference}),u=r.length>1&&r.some(e=>!!e.signal)?new AbortController:null,c=null!=u?u.signal:r[0].signal;if(null!=u){let e=0;r.forEach(i=>s(i.signal,()=>{e++,i.result.reject(t()),e===r.length&&u.abort()}))}const h={...this._queryOptions,minDemResolution:a,signal:c};o.queryElevation(l,h).then(e=>{r.forEach((r,s)=>{null!=r.signal&&r.signal.aborted?r.result.reject(t()):r.result.resolve(e.geometry.points[s][2])})}).catch(e=>{r.forEach(t=>t.result.reject(e))}),e.madeProgress()}get test(){}}export{l as ElevationQuery,a as ViewElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import{EventEmitter as r}from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as s}from\"../../../../geometry/projectionUtils.js\";import{create as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as c}from\"../../../../layers/graphics/OptimizedFeature.js\";import n from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";const u=a();let d=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:h.getAttribute(t,e),getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"number\"==typeof r?r:new Date(r).getTime()},getAttributes:t=>\"graphic\"in t?t.graphic.attributes:h.getAttributes(t),getObjectId:t=>\"graphic\"in t?p(t.graphic,this.objectIdField)??void 0:h.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):h.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;null!=t.centroid?r=t.centroid:\"point\"===t.graphic.geometry.type&&s(t.graphic.geometry,l,this.viewSpatialReference)&&(r=l);const o=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return null==r?(o[0]=0,o[1]=0,o[2]=0,o[3]=0):(o[0]=r.x,o[1]=r.y,e.hasZ&&(o[2]=r.hasZ?r.z:0),e.hasM&&(o[e.hasZ?3:2]=r.hasM?r.m:0)),new n([],o)}return h.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new c(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):h.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const o of t){const t=this.featureAdapter.getObjectId(o);null!=r.getBounds(t,u)&&e(u)}}};t([o({constructOnly:!0})],d.prototype,\"getSpatialIndex\",void 0),t([o({constructOnly:!0})],d.prototype,\"forEach\",void 0),t([o({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([o({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([o({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([o({constructOnly:!0})],d.prototype,\"viewSpatialReference\",void 0),t([o({constructOnly:!0})],d.prototype,\"featureSpatialReference\",void 0),d=t([i(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],d);const l={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{d as Graphics3DFeatureStore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass r{constructor(r,s,t){this.graphic=r,this.renderingInfo=s,this.layer=t}}export{r as Graphics3DGraphicCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,s,i,r){this.scheduler=e,this.schedule=s,this.layerViewUid=i,this.compressionTracker=r,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}get spherical(){return 1===this.stage.view.state.viewingMode}}class s{constructor(){this.renderPriority=0,this.renderPriorityStep=1,this.ignoreDrivers=!1}}export{e as Graphics3DSymbolCreationContext,s as Graphics3DSymbolLayerCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{L as o}from\"../../../../chunks/LineCallout.glsl.js\";import{makePipelineState as s,defaultDepthWrite as n,defaultColorWrite as i,separateBlendingParams as c}from\"../../../webgl/renderState.js\";class l extends r{constructor(e,r){super(e,r,new t(o,()=>import(\"./LineCallout.glsl.js\")),a.locations)}initializePipeline(e){const{hudDepth:t,terrainDepthTest:r}=e,o={func:r?519:513};return s(t?{depthTest:o,depthWrite:n}:{blending:c(1,770,771,771),depthTest:o,colorWrite:i})}}const a=e().vec3f(\"position\").vec3f(\"normal\").vec2f16(\"uv0\").vec4f(\"centerOffsetAndDistance\");export{l as LineCalloutTechnique,a as layout};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(e){super(),this.spherical=e,this.screenCenterOffsetUnitsEnabled=!1,this.occlusionTestEnabled=!0,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.hudDepth=!1,this.hudDepthAlignStart=!1,this.terrainDepthTest=!1,this.draped=!1}}e([t()],r.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([t()],r.prototype,\"occlusionTestEnabled\",void 0),e([t()],r.prototype,\"hasVerticalOffset\",void 0),e([t()],r.prototype,\"hasScreenSizePerspective\",void 0),e([t()],r.prototype,\"hudDepth\",void 0),e([t()],r.prototype,\"hudDepthAlignStart\",void 0),e([t()],r.prototype,\"terrainDepthTest\",void 0);export{r as LineCalloutTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{safeToString as e}from\"../../../../core/string.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as i}from\"../core/shaderLibrary/ShaderOutput.js\";import s from\"../lib/GLMaterial.js\";import{Material as n,MaterialParameters as o}from\"../lib/Material.js\";import{writePosition as a,writeNormal as c,writeBufferVec4 as l}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as h,layout as u}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as f}from\"../shaders/LineCalloutTechniqueConfiguration.js\";import{alphaCutoff as p}from\"../../../../webscene/support/AlphaCutoff.js\";class m extends n{constructor(e,t){super(e,S),this.intersectDraped=void 0,this.produces=new Map([[15,e=>i(e)],[16,e=>i(e)]]),this._configuration=new f(t),this._uniqueMaterialIdentifier=g(this.parameters)}passParameters(){return this.parameters}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration.hudDepth=16===t.slot,this._configuration.hudDepthAlignStart=!!this.parameters.hudDepthAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration}get visible(){return this.parameters.color[3]>=p||(this.parameters.borderColor?.[3]??0)>=p}intersect(){}createGLMaterial(e){return new d(e)}createBufferWriter(){return new $}validateParameters(e){this._uniqueMaterialIdentifier=g(e)}get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}}function g({renderOccluded:t,isDecoration:r,horizontalScreenOffset:i,color:s,size:n,occlusionTest:o,shaderPolygonOffset:a,hudDepthAlignStart:c,centerOffsetUnits:l,hasSlicePlane:h,screenSizePerspective:u,verticalOffset:f,borderColor:p}){return e`${t}:${r}:${i}:[${s}]:${n}:${o}:${a}:${c}:${l}:${h}:${null!=u}:{${f?.screenLength}:${f?.minWorldLength}:${f?.maxWorldLength}}:[${p}]`}class d extends s{beginSlot(e){return this.getTechnique(h,e)}}class S extends o{constructor(){super(...arguments),this.horizontalScreenOffset=0,this.color=r(0,0,0,1),this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.hudDepthAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const O=[t(0,0),t(1,0),t(0,1),t(1,0),t(1,1),t(0,1)];class ${constructor(){this.layout=u}elementCount(e){return 6*e.get(\"position\").indices.length}write(e,t,r,i,s,n){a(r.get(\"position\"),e,s.position,n,6),c(r.get(\"normal\"),t,s.normal,n,6),l(r.get(\"centerOffsetAndDistance\"),s.centerOffsetAndDistance,n,6);for(let o=0;o<O.length;++o)s.uv0.setVec(n+o,O[o]);return null}}export{m as LineCalloutMaterial,S as Parameters,g as uniqueMaterialIdentifier};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import has from\"../../../../core/has.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,ZEROS as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{RenderingInfo as s}from\"../../../../renderers/support/RenderingInfo.js\";import{textSymbolLayerSupportsVerticalOffset as a}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as o}from\"./ElevationAligners.js\";import{elevationModeChangeUpdateType as l,needsElevationUpdates2D as c}from\"./elevationAlignmentUtils.js\";import{Graphics3DGraphicCreationContext as h}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DObject3DGraphicLayer as p}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as m}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as d}from\"./Graphics3DSymbolLayer.js\";import{computeCentroid as f}from\"./graphicUtils.js\";import{createStageObject as u,extendPointGraphicElevationContext as g}from\"./pointUtils.js\";import{SymbolComplexity as v}from\"./SymbolComplexity.js\";import{Attribute as y}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as b}from\"../../webgl-engine/lib/Geometry.js\";import{LineCalloutMaterial as x,Parameters as _,uniqueMaterialIdentifier as C}from\"../../webgl-engine/materials/LineCalloutMaterial.js\";class O extends d{static{this.elevationModeChangeTypes={definedChanged:1,staysOnTheGround:1,onTheGroundChanged:2}}constructor(e,t){super(e,null,t,w),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){this._materials[0]=new x(this._materialParameters,this._context.spherical)}_perInstanceMaterialParameters(e){const t=this._materialParameters;return t.horizontalScreenOffset=e.horizontalScreenOffset??0,t.centerOffsetUnits=e.centerOffsetUnits||\"world\",t}get _materialParameters(){const r=new _,n=this.symbol,s=n.callout;if(s.color){const t=e.toUnitRGBA(s.color);t[3]*=this._getLayerOpacity(),r.color=t}else r.color=i;if(r.size=t(s.size||0),n.verticalOffset){const{screenLength:e,minWorldLength:i,maxWorldLength:s}=n.verticalOffset;r.verticalOffset={screenLength:t(e),minWorldLength:i||0,maxWorldLength:null!=s?s:1/0}}r.borderColor=null!=s.border?.color?e.toUnitRGBA(s.border.color):null;const a=\"object\"===n.symbolLayers.at(0).type,o=\"label-3d\"===n.type;return r.occlusionTest=!a&&!has(\"enable-feature:non-occluded-hud\"),a&&(r.shaderPolygonOffset=0),r.hudDepthAlignStart=o,r.hasSlicePlane=this._context.slicePlaneEnabled,r.screenSizePerspective=this._context.screenSizePerspectiveEnabled?this.view.screenSizePerspective.parameters:null,r}_defaultElevationInfoNoZ(){return G}createGraphics3DGraphic(e,t){const r=e.renderingInfo,n=e.graphic,i=this.createElevationContextForGraphic(n,r.elevationOffset||0),s=r.symbol,o=\"on-the-ground\"===this._elevationContext.mode&&(\"cim\"===s.type||!s.symbolLayers.some(e=>\"object\"===e.type||\"text\"===e.type));if(\"label-3d\"!==s.type&&o)return null;if(\"point-3d\"===s.type&&s.symbolLayers.every(e=>\"text\"===e.type&&!a(e)))return null;const l=f(n.geometry);return null==l?null:this._createAs3DShape(l,i,r,n.uid,t)}layerOpacityChanged(){this._materials[0]?.setParameters(this._materialParameters)}layerScreenSizePerspectiveChanged(){const e=this._context.screenSizePerspectiveEnabled?this.view.screenSizePerspective.parameters:null;this._materials[0]?.setParameters({screenSizePerspective:e})}layerElevationInfoChanged(e,t,r){const n=this._elevationContext.mode,i=l(O.elevationModeChangeTypes,r,n);return 1!==i||e?.forEach(e=>{const r=t(e);null!=r&&this.graphics3DGraphicLayerElevationInfoChanged(e.graphic,r)}),i}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}createElevationContextForGraphic(e,t=0){const r=super.createElevationContextForGraphic(e);return r.addOffsetRenderUnits(t),r}updateElevationContextForGraphic(e,t,r=0){super.updateElevationContextForGraphic(e,t),e.addOffsetRenderUnits(r)}graphics3DGraphicLayerElevationInfoChanged(e,t){const{elevationContext:r,metadata:n}=t;this.updateElevationContextForGraphic(r,e,n?.elevationOffset??0),t.needsElevationUpdates=c(r.mode)}computeComplexity(){return new v({verticesPerFeature:6})}_getOrCreateMaterial(e,t){const r=this._perInstanceMaterialParameters(e),n=C(r);if(n===this._materials[0]?.uniqueMaterialIdentifier)return this._materials[0];if(t){let e=t.get(n);return null==e&&(e=new x(r,this._context.spherical),t.set(n,e)),e}return new x(r,this._context.spherical)}_createAs3DShape(e,t,r,n,i){const s=this._context.layerViewUid,a=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerViewUid:s}),l=this._getOrCreateMaterial(r,i),h=new b(l,j(r),null,1,a),d=u(this._context,e,h,t,n);if(null==d)return null;const f=new p(this,d.object,null,o,t);return f.metadata=new m(r.elevationOffset),f.alignedSampledElevation=d.sampledElevation,f.needsElevationUpdates=c(t.mode),g(f,e,this._context.elevationProvider),f}}function j(e){const{translation:t,centerOffset:r}=e,n=new y(t?[t[0],t[1],t[2]]:[0,0,0],P,3,!0),i=new y(r?[r[0],r[1],r[2],r[3]]:[0,0,0,1],P,4,!0);return[[\"position\",n],[\"normal\",new y([0,0,1],P,3,!0)],[\"centerOffsetAndDistance\",i]]}const P=[0],G={mode:\"relative-to-ground\",offset:0},w={ignoreDrivers:!0,renderPriority:0,renderPriorityStep:1};class E extends s{constructor(e,t,i=r(),s=n(),a=0,o=\"world\",l=0){super(e,t),this.translation=i,this.centerOffset=s,this.horizontalScreenOffset=a,this.centerOffsetUnits=o,this.elevationOffset=l}}class S extends h{}export{O as Graphics3DLineCalloutSymbolLayer,S as LineCalloutCreationContext,E as LineCalloutSymbolLayerRenderingInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/Logger.js\";import{hasCalloutSupport as r}from\"../../../../symbols/callouts/calloutUtils.js\";import{Graphics3DLineCalloutSymbolLayer as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";const t=()=>o.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCalloutSymbolLayerFactory\");function e(o,l){if(!r(o))return t().error(\"Graphics3DCalloutSymbolLayerFactory#make\",`symbol of type '${o.type}' does not support callouts`),null;if(!o.callout)return null;const e=a[o.callout.type];return e?new e(o,l):(t().error(\"Graphics3DCalloutSymbolLayerFactory#make\",`unknown or unsupported callout type ${o.callout.type}`),null)}const a={line:l};export{e as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as o}from\"./projectBuffer.js\";import{copy as t}from\"../support/aaBoundingRect.js\";import{equals as e}from\"../support/spatialReferenceUtils.js\";function i(r,i,s,f){return null!=r&&(e(i,f)?(t(s,r),!0):(p[0]=r[0],p[1]=r[1],p[2]=0,!!o(p,i,0,p,f,0)&&(s[0]=p[0],s[1]=p[1],p[0]=r[2],p[1]=r[3],p[2]=0,!!o(p,i,0,p,f,0)&&(s[2]=p[0],s[3]=p[1],!0))))}const p=r();export{i as projectBoundingRect};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{emptyArray as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import\"../../../../core/has.js\";import{estimateAttributesMemory as i}from\"../../../../core/memoryEstimations.js\";import r from\"../../../../core/ObjectPool.js\";import{scale as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as o}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import n from\"../../../../geometry/Polygon.js\";import{projectBoundingRect as h}from\"../../../../geometry/projection/projectBoundingRect.js\";import{empty as c,expandWithAABB as p,allFinite as y,toRect as m,create as u,set as d,zero as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as g,allFinite as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as _}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{computeAABR as E}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromGeometry as L}from\"../../../../layers/graphics/featureConversionUtils.js\";const G=new r(()=>u(),e=>d(e,b),null,10,5),j=g();class v{get labelLayers(){return this._labelLayers||e}get extent(){return this._extent}get isElevationSource(){return this.layers.some(e=>e?.isElevationSource)}constructor(e,t,i){this.graphic=e,this.graphics3DSymbol=t,this.layers=i,this._visibleFlags=255,++t.referenced}initialize(e){this._layer=e,this._forEachSymbolLayerGraphic(t=>{t.initialize(e),t.setVisibility(this.isVisible())})}destroy(){this._forEachSymbolLayerGraphic(e=>e.destroy()),this._calloutLayer=null,--this.graphics3DSymbol.referenced,this.graphics3DSymbol=null}get destroyed(){return null==this.layers}clearLabelGraphics(){this._forEachLabelGraphic(e=>e.destroy()),this._labelLayers=null}addLabelGraphic(e,t){this._labelLayers||(this._labelLayers=new Array),this._labelLayers.push(e),e.initialize(t),e.setVisibility(this.isVisible(16))}setCalloutGraphic(e){this._calloutLayer=e,this._layer&&(e.initialize(this._layer),e.setVisibility(this.isVisible()))}get calloutLayer(){return this._calloutLayer}get isDraped(){let e=!1;return this._forEachSymbolLayerGraphic(t=>{\"draped\"===t.type&&(e=!0)}),e}isVisible(e=1,t){const i=t?this._visibleFlags|t|16*t:this._visibleFlags;return 1===e?!(15&~i):!(255&~i)}setVisibilityFlag(e,t,i){const r=this.isVisible(e);i?this._visibleFlags|=e*t:this._visibleFlags&=~(e*t);const s=this.isVisible(e);if(r===s)return!1;if(16===e)this._forEachLabelGraphic(e=>e.setVisibility(s));else{this._forEachSymbolLayerGraphic(e=>e.setVisibility(s));const e=this.isVisible(16);this._forEachLabelGraphic(t=>t.setVisibility(e))}return!0}getVisibilityFlag(e,t){return 0!==(this._visibleFlags&e*t)}computeExtent(e){if(!this._extent){const t=this.graphic.geometry;if(null==t)return!1;this._extent=g(),E(t,this._extent);const i=t.spatialReference;if(!_(i,e)&&!h(this._extent,i,this._extent,e))return this._extent=null,!1}return!0}getAsOptimizedGeometry(e,t){return this._optimizedGeometry||(this._optimizedGeometry=this._convertGraphicToOptimizedGeometry(this.graphic,e,t)),this._optimizedGeometry}_convertGraphicToOptimizedGeometry(e,t,i){let r=e.geometry;return\"mesh\"!==r.type&&\"extent\"!==r.type||(r=n.fromExtent(\"mesh\"===r.type?r.extent:r)),L(r,t,i)}get usedMemory(){let e=i(this.graphic.attributes);return this._forEachSymbolLayerGraphic(t=>e+=t.usedMemory),e}computeAttachmentOrigin(){const e={render:{origin:l(),num:0},draped:{origin:a(),num:0}};for(const t of this.layers)null!=t&&t.computeAttachmentOrigin(e);return e.render.num>1&&o(e.render.origin,e.render.origin,1/e.render.num),e.draped.num>1&&s(e.draped.origin,e.draped.origin,1/e.draped.num),e}async getProjectedBoundingBox(e,i,r,s,a){return a||(a={boundingBox:null,requiresDrapedElevation:!1,screenSpaceObjects:[]}),a.boundingBox?c(a.boundingBox):a.boundingBox=c(),a.requiresDrapedElevation=!1,await t(this.layers,async t=>{if(null==t)return;const o=\"draped\"===t.type?i:e,l=G.acquire(),n=await t.getProjectedBoundingBox(o,r,a.screenSpaceObjects,s,l);isFinite(n[2])&&isFinite(n[5])||(a.requiresDrapedElevation=!0),n&&p(a.boundingBox,l),G.release(l)}),y(a.boundingBox)||f(m(a.boundingBox,j))?a:null}needsElevationUpdates(){for(const e of this.layers)if(null!=e&&(\"object3d\"===e.type||\"lod-instance\"===e.type)&&e.needsElevationUpdates)return!0;return this._labelLayers?.some(e=>e?.needsElevationUpdates??!1)??!1}alignWithElevation(e,t,i){this._forEachRenderedGraphic(r=>{\"object3d\"!==r.type&&\"lod-instance\"!==r.type||r.alignWithElevation(e,t,i)})}alignWithAbsoluteElevation(e,t,i){this._forEachRenderedGraphic(r=>{\"object3d\"===r.type&&r.alignWithAbsoluteElevation(e,t,i)})}addObjectStateSet(e){this._forEachSymbolLayerGraphic(t=>t.addObjectState(e))}removeObjectState(e){this._forEachSymbolLayerGraphic(t=>t.removeObjectState(e))}updateHighlights(e){this._forEachSymbolLayerGraphic(t=>t.updateHighlights(e))}_forEachGraphicList(e,t){e?.forEach(e=>e&&t(e))}_forEachSymbolLayerGraphic(e){this._forEachGraphicList(this.layers,e),this._calloutLayer&&e(this._calloutLayer)}_forEachLabelGraphic(e){this._forEachGraphicList(this.labelLayers,e)}_forEachRenderedGraphic(e){this._forEachSymbolLayerGraphic(e),this._forEachLabelGraphic(e)}get test(){}}export{v as Graphics3DGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e=2216,o=4096;function r(r){return e+o*r.symbolLayers.length+r.complexity.memory.resourceBytes}export{r as getSymbolMemorySize};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import\"../../../../core/has.js\";import{onAbortOrThrow as r,throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{totalSymbolComplexities as o}from\"./defaultSymbolComplexity.js\";import{Graphics3DGraphic as a}from\"./Graphics3DGraphic.js\";import{Graphics3DObject3DGraphicLayer as i}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayerCreationContext as n}from\"./Graphics3DSymbolCreationContext.js\";import{Loadable as l}from\"./Loadable.js\";import{getSymbolMemorySize as y}from\"./symbolMemory.js\";class h extends l{set symbol(e){this._symbol=e,e.symbolLayers.forEach((t,r)=>{const s=this.symbolLayers[r];null!=s&&(s.symbol=e,s.symbolLayer=t)})}get symbol(){return this._symbol}constructor(e,t,r){super(t.schedule),this._symbol=e,this._context=t,this._backgroundLayers=r,this._destroyed=!1,this.symbolLayers=new Array,this.referenced=0,this._extentPadding=0}async doLoad(e){let o=this._symbol.symbolLayers;this._extentPadding=0,this._backgroundLayers&&(o=this._backgroundLayers.concat(o));const a=o.length;for(;this.symbolLayers.length<o.length;)this.symbolLayers.push(null);this.symbolLayers.length=o.length;const i=[];if(!m){const{make:e}=await import(\"./Graphics3DSymbolLayerFactory.js\");m=e}for(let t=0;t<a;t++){const s=o.at(t);if(!1===s.enabled)continue;c.renderPriority=1-(1+t)/a,c.renderPriorityStep=1/a,c.ignoreDrivers=s.ignoreDrivers;const n=m(this.symbol,s,this._context,c),l=r(e,()=>{this.symbolLayers[t]=null,n.destroy()});l&&i.push(l),this.symbolLayers[t]=n}if(await t(this.symbolLayers,async(e,t)=>{if(null!=e)try{await e.load(),this._extentPadding+=Math.max(this._extentPadding,e.extentPadding)}catch{this.symbolLayers[t]=null}}),i.forEach(e=>e.remove()),s(e),this.symbolLayers.length&&!this.symbolLayers.some(e=>!!e))throw new Error}getSymbolLayerSize(e){const t=this.symbolLayers[e];return null!=t?t.getCachedSize():null}get extentPadding(){return this._extentPadding}get symbologySnappingSupported(){return this.symbolLayers.some(e=>e?.queryForSnapping)}get needsUpdateFocus(){return this.symbolLayers.some(e=>!0===e?.needsUpdateFocus)}createGraphics3DGraphic(e,t){const{graphic:r}=e,s=this.symbolLayers.map(t=>t?.createGraphics3DGraphic(e)??null);return new a(r,t||this,s)}get complexity(){return o(this.symbolLayers.map(e=>e?.complexity))}globalPropertyChanged(e,t){const r=this.symbolLayers.length;for(let s=0;s<r;s++){const r=this.symbolLayers[s],o=e=>{const t=e.layers[s];return t instanceof i?t:null};if(null!=r&&!r.globalPropertyChanged(e,t,o))return!1}return!0}applyRendererDiff(e,t){return 1!==this.loadStatus?0:this.symbolLayers.reduce((r,s)=>0!==r&&null!=s?Math.min(r,s.applyRendererDiff(e,t)):r,2)}prepareSymbolPatch(e){if(2===this.loadStatus)return;if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;if(!t.symbolLayers||\"partial\"!==t.symbolLayers.type)return;const r=t.symbolLayers.diff;this.symbolLayers.forEach((t,s)=>{if(null==t)return;const o=r[s];if(o){const r={diff:o,graphics3DGraphicPatches:[],symbolLayerStatePatches:[]};t.prepareSymbolLayerPatch(r),e.symbolStatePatches.push(...r.symbolLayerStatePatches),r.graphics3DGraphicPatches.length&&e.graphics3DGraphicPatches.push((e,t)=>{const o=e.layers[s];null!=o&&r.graphics3DGraphicPatches.forEach(e=>e(o,t))})}})}updateGeometry(e){return this._updateGeometryOrTransform(e,(t,r)=>!!t.updateGeometry&&t.updateGeometry(e.graphic,r))}updateTransform(e,t,r,s){return this._updateGeometryOrTransform(e,(e,o)=>!!e.updateTransform&&e.updateTransform(o,t,r,s))}_updateGeometryOrTransform(e,t){for(let r=0;r<this.symbolLayers.length;r++){const s=this.symbolLayers[r];if(null==s)continue;const o=e.layers[r];if(!o||!t(s,o))return!1}return!0}onRemoveGraphic(e){for(let t=0;t<this.symbolLayers.length;t++){const r=this.symbolLayers[t];if(null==r)continue;const s=e.layers[t];null!=s&&r.onRemoveGraphic(s)}}getFastUpdateStatus(){let e=!1,t=!1;for(const r of this.symbolLayers)if(null!=r){if(0===r.loadStatus)return 3;r.isFastUpdatesEnabled()?t=!0:e=!0}return t?e?2:1:e?0:4}async queryForSnapping(t,r,o,a){const i=this.symbolLayers.filter(e).filter(e=>null!=e.queryForSnapping).map(e=>e.queryForSnapping(t,r,o,a)),n=await Promise.all(i);return s(a),n.flat()}destroy(){if(!this.destroyed){super.destroy();for(const e of this.symbolLayers)null!=e&&e.destroy();this.symbolLayers.length=0,this._destroyed=!0}}get destroyed(){return this._destroyed}get usedMemory(){return y(this)}}let m=null;const c=new n;export{h as Graphics3DSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{make as a}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import{LineCalloutSymbolLayerRenderingInfo as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";import{Graphics3DSymbol as e}from\"./Graphics3DSymbol.js\";class s extends e{constructor(r,o,t){super(r,o,t),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=a(this.symbol,o))}async doLoad(o){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(o),t(o)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=o(this._calloutSymbolLayer)}createGraphics3DGraphic(r,o){const t=super.createGraphics3DGraphic(r,o);if(null!=this._calloutSymbolLayer&&null!=t){const o=this._createCalloutGraphic(r);o&&t.setCalloutGraphic(o)}return t}globalPropertyChanged(r,o){return!!super.globalPropertyChanged(r,o)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,o,r=>r.calloutLayer))}updateGeometry(r){const o=super.updateGeometry(r);if(o&&this._calloutSymbolLayer){const o=r.calloutLayer;if(o)return this._calloutSymbolLayer.updateGeometry?.(r.graphic,o)??!1}return o}_createCalloutGraphic(r){const o=r.renderingInfo;return r.renderingInfo=new l(o.renderer,o.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}}export{s as Graphics3DPointSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Graphics3DPointSymbol as o}from\"./Graphics3DPointSymbol.js\";import{Graphics3DSymbol as r}from\"./Graphics3DSymbol.js\";function t(t,i,n){return\"point-3d\"===t.type?new o(t,i,n):new r(t,i,n)}export{t as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{emptySymbolComplexity as t}from\"./defaultSymbolComplexity.js\";import{Loadable as r}from\"./Loadable.js\";import{getSymbolMemorySize as s}from\"./symbolMemory.js\";class e extends r{constructor(t,r,s){super(r),this.symbol=t,this._convert=s,this.symbologySnappingSupported=!1,this.graphics3DSymbol=null,this.referenced=0}getSymbolLayerSize(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.getSymbolLayerSize(t):null}get symbolLayers(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.symbolLayers:[]}get extentPadding(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.extentPadding:0}async doLoad(t){const r=await this.symbol.fetchSymbol({signal:t});r.id=this.symbol.id,this.graphics3DSymbol=this._convert(r),null!=this.graphics3DSymbol&&await this.graphics3DSymbol.load()}createGraphics3DGraphic(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.createGraphics3DGraphic(t,this):null}get complexity(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.complexity:t}globalPropertyChanged(t,r){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.globalPropertyChanged(t,r)}applyRendererDiff(t,r){return null!=this.graphics3DSymbol?this.graphics3DSymbol.applyRendererDiff(t,r):0}prepareSymbolPatch(t){null!=this.graphics3DSymbol&&this.graphics3DSymbol.prepareSymbolPatch(t)}updateGeometry(t){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.updateGeometry(t)}updateTransform(t,r,s,e){return this.graphics3DSymbol?.updateTransform(t,r,s,e)??!1}onRemoveGraphic(){}get needsUpdateFocus(){return!1}getFastUpdateStatus(){return this.graphics3DSymbol?.getFastUpdateStatus()??3}destroy(){null!=this.graphics3DSymbol&&this.graphics3DSymbol.destroy(),this.graphics3DSymbol=void 0,super.destroy()}get destroyed(){return void 0===this.graphics3DSymbol}get usedMemory(){return s(this)}}export{e as Graphics3DWebStyleSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass s{constructor(s,i,t,h){this.total=s,this.visible=i,this.missing=t,this.pending=h}}export{s as GraphicsCorePerformanceInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer?.objectIdField;i?(this._getGraphicId=t=>e(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach((t,i)=>this.remove(i))}add(t){const e=i(()=>this.remove(t));if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=a?.isVisible()??!1,t.isDraped=a?.isDraped??!1,t.tracking=!0,null!=a&&t.emit(\"changed\"),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&(t(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t.graphic,i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\")})}removeGraphic(t){this._forEachState(t.graphic,t=>{t.displaying=!1,t.isDraped=!1})}updateGraphicGeometry(t){this._forEachState(t.graphic,t=>t.emit(\"changed\"))}updateGraphicVisibility(t){this._forEachState(t.graphic,i=>i.displaying=t.isVisible())}updateGraphicError(t,i){this._forEachState(t,t=>t.error=i)}allGraphicsDeleted(){this._states.forEach(t=>t.displaying=!1)}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t),s=this._idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,t=>s(t.graphic.uid)))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);if(!t.extent)return;this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,t=>{e(t)})}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{empty as t}from\"../../../geometry/support/aaBoundingRect.js\";class e{constructor(e=\"scene\"){this.context=e,this.extent=t(),this.spatialReference=null}}export{e as ElevationUpdateEventImplementation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../../../core/Evented.js\";import r from\"../../../../core/Logger.js\";import{getMetersPerVerticalUnitForSR as o}from\"../../../../core/unitUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as a,toRect as l,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{getMetersPerUnit as d}from\"../../../../symbols/support/unitConversionUtils.js\";import{ElevationUpdateEventImplementation as m}from\"../../terrain/ElevationUpdateEvent.js\";import{Intersector as p}from\"../../webgl-engine/lib/Intersector.js\";import{affectsGeometry as h}from\"../../webgl-engine/lib/VertexAttribute.js\";const u=1,f=Symbol(\"layerHandles\");let g=class extends t{get spatialReference(){return this.view.spatialReference}constructor(e){super(e),this._elevationOffset=0}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=new p(this.view.state.viewingMode),this._intersector.options.store=0;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this.addHandles([t.on([\"layerObjectAdded\",\"layerObjectRemoved\",\"transformationChanged\",\"shaderTransformationChanged\"],e=>this._objectChanged(e)),t.on([\"geometryAdded\",\"geometryRemoved\"],({object:e})=>this._objectChanged(e)),t.on(\"attributesChanged\",({attribute:e,object:t})=>h(e)&&this._objectChanged(t))],f)}destroy(){this.removeHandles(f)}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=o(this.layer.spatialReference),r=d(e.unit??\"meters\");this._elevationOffset=(e.offset??0)*r/t}else this._elevationOffset=0}getElevation(e,t,o,s){if(x[0]=e,x[1]=t,x[2]=o,!this._renderCoordsHelper.toRenderCoords(x,s,x))return r.getLogger(this).error(\"could not project point for elevation alignment\"),null;const i=this._elevationOffset,n=this._zmin+i,a=this._zmax+i;this._renderCoordsHelper.setAltitude(b,a,x),this._renderCoordsHelper.setAltitude(j,n,x);const l=e=>!!e.lastValidElevationBB;return this._intersector.reset(b,j,null),this._intersector.intersect(this._intersectLayers,null,u,null,l),this._intersector.results.min.getIntersectionPoint(x)?this._renderCoordsHelper.getAltitude(x):null}_objectChanged(e){const t=this.spatialReference;if(!e.lastValidElevationBB||!t)return;a(_);const r=e.lastValidElevationBB;r.isEmpty()||this._expandExtent(t,r.min,r.max,_);const{min:o,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,o,s,_),l(_,v.extent),this._zmin=Math.min(this._zmin,_[2]),this._zmax=Math.max(this._zmax,_[5]),v.spatialReference=t,this.emit(\"elevation-change\",v),v.spatialReference=null,r.assignMinMax(o,s)}_computeLayerExtent(e,t){return a(_),null!=e&&t.objects.forEach(t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,_)),_}_expandExtent(e,t,r,o){for(let s=0;s<8;++s)x[0]=1&s?t[0]:r[0],x[1]=2&s?t[1]:r[1],x[2]=4&s?t[2]:r[2],this._renderCoordsHelper.fromRenderCoords(x,x,e),c(o,x);return o}};e([s({constructOnly:!0})],g.prototype,\"layer\",void 0),e([s({constructOnly:!0})],g.prototype,\"stageLayer\",void 0),e([s({constructOnly:!0})],g.prototype,\"view\",void 0),e([s()],g.prototype,\"spatialReference\",null),g=e([i(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],g);const _=a(),v=new m;function y(){v.spatialReference=null}const x=n(),b=n(),j=n();export{g as StageLayerElevationProvider,y as cleanupStageLayerElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as l}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as n}from\"../../../geometry/projection/projectBuffer.js\";function m(l,m,u){if(null==l||null==u)return!1;let i=!0;return e[0]=null!=l.xmin?l.xmin:0,e[1]=null!=l.ymin?l.ymin:0,e[2]=null!=l.zmin?l.zmin:0,i=i&&n(e,l.spatialReference,0,m,u,0),e[0]=null!=l.xmax?l.xmax:0,e[1]=null!=l.ymax?l.ymax:0,e[2]=null!=l.zmax?l.zmax:0,i=i&&n(e,l.spatialReference,0,m,u,3),null==l.xmin&&(m[0]=-1/0),null==l.ymin&&(m[1]=-1/0),null==l.zmin&&(m[2]=-1/0),null==l.xmax&&(m[3]=1/0),null==l.ymax&&(m[4]=1/0),null==l.zmax&&(m[5]=1/0),i}function u(l,m,u){if(null==l||null==u)return!1;let i=!0;return e[0]=null!=l.xmin?l.xmin:0,e[1]=null!=l.ymin?l.ymin:0,e[2]=null!=l.zmin?l.zmin:0,i=i&&n(e,l.spatialReference,0,e,u,0),m[0]=e[0],m[1]=e[1],e[0]=null!=l.xmax?l.xmax:0,e[1]=null!=l.ymax?l.ymax:0,e[2]=null!=l.zmax?l.zmax:0,i=i&&n(e,l.spatialReference,0,e,u,0),m[2]=e[0],m[3]=e[1],null==l.xmin&&(m[0]=-1/0),null==l.ymin&&(m[1]=-1/0),null==l.xmax&&(m[2]=1/0),null==l.ymax&&(m[3]=1/0),i}const e=l();export{m as projectToBoundingBox,u as toBoundingRect};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{signal as s}from\"../../core/signal.js\";class e{constructor(){this._pendingCompressionTasks=s(0)}get compressing(){return!!this._pendingCompressionTasks.value}increment(){this._pendingCompressionTasks.value++}decrement(){this._pendingCompressionTasks.value--}}export{e as TextureCompressionTracker};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{isSome as i}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{findInMap as a}from\"../../../../core/MapUtils.js\";import{abortMaybe as n,removeMaybe as o,destroyMaybe as l}from\"../../../../core/maybe.js\";import{MinPriority as h}from\"../../../../core/MemCache.js\";import d from\"../../../../core/PooledArray.js\";import{throwIfAborted as p,ignoreAbortErrors as c,createResolver as y,isAbortError as u}from\"../../../../core/promiseUtils.js\";import g from\"../../../../core/Queue.js\";import{when as m,watch as b,on as _,syncAndInitial as f,whenOnce as v}from\"../../../../core/reactiveUtils.js\";import{schedule as C}from\"../../../../core/scheduling.js\";import{property as S}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as G}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as w,isEmpty as x}from\"../../../../core/accessorSupport/diffUtils.js\";import{j as P,g as R,h as U}from\"../../../../chunks/vec32.js\";import{create as D}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import I from\"../../../../geometry/Extent.js\";import E from\"../../../../geometry/Point.js\";import{canProjectWithoutEngine as L}from\"../../../../geometry/projectionUtils.js\";import{projectBuffer as j}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as V}from\"../../../../geometry/projection/projectVectorToVector.js\";import{projectXYZToVector as A}from\"../../../../geometry/projection/projectXYZToVector.js\";import{center as O,create as F,fromRect as T,equals as M}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as k}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as z}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{isPopupProvider as W}from\"../../../../graphic/getPopupProvider.js\";import H from\"../../../../layers/Layer.js\";import{getObjectId as B,computeAABB as q,hasGeometry as Q}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as N}from\"../../../../layers/graphics/hydratedFeatures.js\";import $ from\"../../../../renderers/UniqueValueRenderer.js\";import{isSupportedRenderer3D as Z,validateTo3D as Y}from\"../../../../renderers/support/rendererConversion.js\";import{RenderingInfo as X}from\"../../../../renderers/support/RenderingInfo.js\";import{isBasemapLayerView as J}from\"../../../../support/basemapUtils.js\";import{loadArcade as K}from\"../../../../support/loadArcade.js\";import ee from\"../../../../symbols/LabelSymbol3D.js\";import te from\"../../../../symbols/TextSymbol.js\";import ie from\"../../../../symbols/WebStyleSymbol.js\";import{getDefaultSymbol3D as re}from\"../../../../symbols/support/defaults3D.js\";import{to3D as se}from\"../../../../symbols/support/symbolConversion.js\";import{averageSymbolComplexities as ae,defaultSymbolComplexity as ne}from\"./defaultSymbolComplexity.js\";import{DisplayFeatureLimit as oe}from\"./DisplayFeatureLimit.js\";import{ViewElevationProvider as le}from\"./ElevationQuery.js\";import{extractExpressionInfo as he,createContext as de}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as pe}from\"./Graphics3DFeatureStore.js\";import{Graphics3DGraphicCreationContext as ce}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as ye}from\"./Graphics3DSymbolCreationContext.js\";import{make as ue}from\"./Graphics3DSymbolFactory.js\";import{Graphics3DWebStyleSymbol as ge}from\"./Graphics3DWebStyleSymbol.js\";import{GraphicsCorePerformanceInfo as me}from\"./GraphicsCorePerformanceInfo.js\";import{GraphicStateTracking as be}from\"./GraphicStateTracking.js\";import{computeCentroid as _e}from\"./graphicUtils.js\";import{placePointOnGeometry as fe}from\"./pointUtils.js\";import{SpatialIndex2D as ve}from\"./SpatialIndex2D.js\";import{StageLayerElevationProvider as Ce}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as Se}from\"../../support/extentUtils.js\";import{GridLocalOriginFactory as Ge}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{isScreenSizePerspectiveEnabled as we}from\"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{affectsGeometry as xe}from\"../../webgl-engine/lib/VertexAttribute.js\";import{WebGLLayer as Pe}from\"../../webgl-engine/lib/WebGLLayer.js\";import{HUDMaterial as Re}from\"../../webgl-engine/materials/HUDMaterial.js\";import{hasPopupTemplate as Ue}from\"../../../layers/support/popupUtils.js\";import{PromiseQueue as De}from\"../../../support/PromiseQueue.js\";import{PropertiesPool as Ie}from\"../../../support/PropertiesPool.js\";import{ImmediateTask as Ee,noBudget as Le,TaskPriority as je}from\"../../../support/Scheduler.js\";import{TextureCompressionTracker as Ve}from\"../../../support/TextureCompressionTracker.js\";import{Yield as Ae}from\"../../../support/Yield.js\";import{alphaCutoff as Oe}from\"../../../../webscene/support/AlphaCutoff.js\";var Fe;const Te=D(),Me=F();let ke=class extends t{static{Fe=this}static{this.tmpVec=D()}get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new ve({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get deconflictor(){return this._deconflictor}get labeler(){return this._labeler}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return null!=this.currentRenderer&&\"dictionary\"===this.currentRenderer.type?0:this._forcedUpdatePolicy??this.preferredUpdatePolicy}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this.dataUpdating||this._elevationAlignment?.updating||this._scaleVisibility?.updating||this._filterVisibility?.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._frameTaskHandle.updating||this._updateQueue.updating||this.readyToRun)}get dataUpdating(){return!!(this._graphicsWaitingForSymbol.size>0||this._pendingUpdates.size>0||this._spatialIndex?.updating||this._updatingPendingLoadedGraphicsChange||this._dataUpdateQueue.updating||this._loadingSymbols>0||this.compressionTracker.compressing)}get readyToRun(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating||this._dataUpdateQueue.readyToRun||this._updateQueue.readyToRun||this._focusAreasGraphicsQueue.length>0}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?.graphics3D.minTotalNumberOfFeatures??0,i=e?.graphics3D.maxTotalNumberOfFeatures??0,r=e?.graphics3D.maxNumberOfDrawCalls??0,s=e?.graphics3D.maxTotalNumberOfVertices??0,a=this.averageSymbolComplexity,n=Math.max(1,a?.verticesPerFeature??1),o=a&&a.drawCallsPerFeature>0&&r>0?r/a.drawCallsPerFeature:i,l=Math.ceil(s/n),h=Math.max(t,Math.min(i,l,o)),d=this._get(\"displayFeatureLimit\");return d&&d.maximumTotalNumberOfVertices===s&&d.averageSymbolComplexity===a&&d.maximumNumberOfFeatures===h?d:new oe(s,h,a)}get averageSymbolComplexity(){const e=ae(this._symbolComplexities),t=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||null!=t&&(e.estimated&&(t.verticesPerFeature>=e.verticesPerFeature||t.verticesPerCoordinate>=e.verticesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.verticesPerFeature===e.verticesPerFeature&&t.verticesPerCoordinate===e.verticesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=this.labelsEnabled?(this.averageSymbolComplexity?.memory.bytesPerFeatureLabel??0)*this._numberOfGraphics:0,t=this._getSymbolComplexitiesUsed().reduce((e,t)=>e+t.memory.resourceBytes,0);if(null==this._symbolMaterials){this._symbolMaterials=[];for(const e of this._symbols.values())if(null!=e)for(const t of e.symbolLayers)if(t)for(const e of t.materials)e&&this._symbolMaterials.push(e)}const i=this.owner.view.stage.renderer,r=this.owner.view.overlayManager.renderer,s=this._symbolMaterials.reduce((e,t)=>e+((i.getMaterialRenderer(t)||r.getMaterialRenderer(t))?.usedMemory??0),0);return this._usedMemory+e+t+s}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if(null!=this.averageSymbolComplexity){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){const t=e;if(\"web-style\"===t.type)return t.clone();const i=this._symbolConversionCache.get(t.id);if(null!=i)return i;const r=se(t,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(t),cimFallbackEnabled:!0}),a=r.symbol||null;return null==a&&r.error&&s.getLogger(this).error(r.error.message),this._symbolConversionCache.set(t.id,a),a}_getSymbolComplexitiesUsedOrRenderer(e){if(null==e)return[];const t=e.symbols,i=\"backgroundFillSymbol\"in e?e.backgroundFillSymbol:null;if(!i&&!t.length)return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);null!=s&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);null!=e&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(null==e)return null;const t=this._symbols.get(e.id);if(null!=t)return t.complexity;const i=this._getConvertedSymbol(e);return null!=i?ne(i):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach(t=>{null!=t&&e.push(t.complexity)}),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new Ie({computedExtent:()=>new I},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._frameTaskHandle=Ee,this._dataUpdateQueue=new De,this._updateQueue=new De,this._focusAreasGraphicsQueue=new g,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._elevationAlignment=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this.compressionTracker=new Ve,this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new d,this.preferredUpdatePolicy=1,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this._unusedSymbolsCache=e.owner.view.resourceController.memoryController.newCache(\"graphics-3d-unused-symbols\",e=>e.destroy()),this.symbolCreationContext=new ye(e.owner.view.resourceController.scheduler,(e,t)=>this._updateQueue.push(e,t),e.owner.layerViewUid,this.compressionTracker)}initialize(){this._featureStore=new pe({objectIdField:this.owner.layer?.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,t,i)=>this.spatialIndex.queryGraphicUIDsInExtent(e,t,i),{componentFactories:t}=this;this._elevationAlignment=t.elevationAlignment?.(this,e),this._scaleVisibility=t.scaleVisibility?.(this,e),this._filterVisibility=t.filterVisibility?.({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities(t=>t.setVisibilityFlag(1,4,e(B(t.graphic,this._objectIdField)))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities(t=>t.setVisibilityFlag(1,4,e)),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities(e=>e.setVisibilityFlag(1,4,!0))}),this._deconflictor=t.deconflictor?.(this),this._labeler=t.labeler?.(this,this._scaleVisibility),this._objectStates=t.objectStates?.(this),this._initializeAbortController=new AbortController,this.addHandles(m(()=>this.owner.view.state.highlights,()=>{const{highlightOrderMap:e}=this.owner.view.state;this.graphics3DGraphics.forEach(t=>t.updateHighlights(e))})),this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,t=this.owner.view;this._viewElevationProvider=new le(this._viewSpatialReference,t),this._initializeStage(t,this.owner.layerViewUid);const i=t.sharedSymbolResources;this.symbolCreationContext.sharedResources=i,null!=this.currentRenderer&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=t.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Ge(t.renderSpatialReference),this.symbolCreationContext.elevationProvider=t.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=he(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await de(r,this._viewSpatialReference,e,s.getLogger(this)),p(e),this.symbolCreationContext.screenSizePerspectiveEnabled=we(this.layer.screenSizePerspectiveEnabled),this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=t.overlayManager.registerGeometryDrapeSource(e)}this.addHandles([b(()=>this.suspendedOrOutsideOfView,()=>this._updateQueue.unshift(()=>this._updateLayerVisibility(),null).catch(c)),b(()=>we(this.layer?.screenSizePerspectiveEnabled),e=>{e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._screenSizePerspectiveEnabledChange())}),b(()=>this.owner.slicePlaneEnabled,e=>this._slicePlaneEnabledChange(!!e)),b(()=>this.owner.view.state?.rasterPixelRatio,()=>this._pixelRatioChange()),b(()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,e=>this._physicalBasedRenderingChange(e)),b(()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,e=>this._skipHighSymbolLoDsChange(e)),b(()=>this.owner.view.focusAreasView?.polygons,()=>this._updateFocusedLabels()),b(()=>this.owner.view.map?.focusAreas.style,()=>this.recreateAllGraphicsAndSymbols()),m(()=>t.basemapTerrain?.tilingScheme,e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||null==t.basemapTerrain.spatialReference||(this.symbolCreationContext.overlaySR=t.basemapTerrain.spatialReference),this.hasHandles(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this.addHandles([_(e,\"change\",e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()},{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}},{initial:!0}),b(()=>this.effectiveUpdatePolicy,e=>{null!=this.stageLayer&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=0===this.effectiveUpdatePolicy,1===e&&this.runTask(Le)},f)]),this._frameTaskHandle=t.resourceController.scheduler.registerTask(je.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this.addHandles(b(()=>this.layer.featureReduction,()=>this._deconflictor?.featureReductionChange())),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch(()=>{}),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController=n(this._initializeAbortController)}_updateFocusedLabels(){this._focusAreasGraphicsQueue.clear(),this.forEachGraphics3DSymbol((e,t)=>{t&&e.needsUpdateFocus&&t.forEach(e=>{this._focusAreasGraphicsQueue.push(e)})})}destroy(){if(this._unusedSymbolsCache.destroy(),this._abortInitialize(),this._rendererChangeAbortController=n(this._rendererChangeAbortController),this._abortElevationInfoChange(),this._frameTaskHandle.remove(),this._frameTaskHandle=Ee,this._dataUpdateQueue.cancelAll(),this._updateQueue.cancelAll(),this._deconflictor=o(this._deconflictor),this._labeler=o(this._labeler),this._elevationAlignment=l(this._elevationAlignment),this._scaleVisibility=l(this._scaleVisibility),this._filterVisibility=l(this._filterVisibility),this._objectStates=l(this._objectStates),this.clear(),\"drapeSourceType\"in this.owner){const{owner:e}=this;this.stage.view.overlayManager.unregisterDrapeSource(e)}this._featureStore=l(this._featureStore),this._updatingPendingLoadedGraphicsChange=o(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=l(this._graphicStateTracking),this.stage&&(this.stageLayer=l(this.stageLayer),this.stage=null),this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._propertiesPool=l(this._propertiesPool),this._whenSymbolRemoved.prune(),this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=l(this._spatialIndex),this._symbolMaterials=null}clear(){this._objectStates?.allGraphicsDeleted(),null!=this._graphicStateTracking&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach(e=>e.destroy()),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(l),this._symbols.clear(),this._symbolMaterials&&(this._symbolMaterials.length=0,this._symbolMaterials=null),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange(\"dataUpdating\"),this.notifyChange(\"readyToRun\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}_initializeStage(e,t){this.stage=e.stage,this.stageLayer=new Pe(this.stage,{visible:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t);const i=this.stageLayer.events;i.on(\"transformationChanged\",e=>this.notifyGraphicGeometryChanged(e.graphicUid)),i.on(\"shaderTransformationChanged\",e=>this.notifyGraphicGeometryChanged(e.graphicUid)),i.on(\"visibilityChanged\",e=>this.notifyGraphicVisibilityChanged(e.graphicUid)),i.on(\"geometryAdded\",e=>this.notifyGraphicGeometryChanged(e.object.graphicUid)),i.on(\"geometryRemoved\",e=>this.notifyGraphicGeometryChanged(e.object.graphicUid)),i.on(\"attributesChanged\",e=>xe(e.attribute)&&this.notifyGraphicGeometryChanged(e.object.graphicUid))}notifyGraphicGeometryChanged(e){if(this.owner.notifyContentGeometryUpdate?.(),null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(this.owner.notifyContentGeometryUpdate?.(),null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this._numberOfGraphics>e*We,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,this._updateStageLayerVisibility())}_updateStageLayerVisibility(){const e=this._visible&&(null==this.layer.opacity||this.layer.opacity>=Oe);this.stageLayer.visible!==e&&(this.stageLayer.visible=e,e?this.updateGraphicsVisibilities():this._hideAllGraphics(),this.owner.notifyContentGeometryUpdate?.())}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer?.objectIdField){return B(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer?.objectIdField;if(!e)return;const t=new Map;return this.graphics3DGraphics.forEach(i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);null!=s&&t.set(s,i)}),t}get labelsEnabled(){return!!this._labeler?.layerLabelsEnabled()}async updateLabelingInfo(e){const t=this._deconflictor?.labelingInfoChange(e),i=this._labeler?.labelingInfoChange(e);await Promise.allSettled([t,i])}updateVisibilityInfo(){this._deconflictor?.labelingInfoChange(),this._labeler?.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=!1,t=!1;for(const[i,r]of this._symbols)if(null!=r){switch(r.getFastUpdateStatus()){case 3:return\"unknown\";case 1:this._graphicsBySymbol.has(i)&&(t=!0);break;case 0:this._graphicsBySymbol.has(i)&&(e=!0);break;case 2:this._graphicsBySymbol.has(i)&&(t=e=!0)}}return t?e?\"mixed\":\"fast\":e?\"slow\":\"mixed\"}runTask(e){if(this._dataUpdateQueue.runTask(e),this._updateQueue.runTask(e),this._applyPendingUpdates(e),this._applyFocusAreasUpdates(e),this.notifyChange(\"readyToRun\"),this.readyToRun||this.notifyChange(\"dataUpdating\"),this.notifyChange(\"updatingRemaining\"),!e.hasProgressed)return Ae}setObjectIdVisibility(e,t){t?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);null!=i&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return a(this.graphics3DGraphics,t=>this._getGraphicObjectID(t.graphic)===e)}_updateUserVisibility(e){if(null==e)return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&this.stageLayer.visible&&(null==i||!this._objectIdInvisibleSet.has(i));return e.setVisibilityFlag(1,1,r)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this._whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=y();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>j(e,r,t,e,i,t,s),n=(e,t,r)=>j(e,s,t,e,i,t,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:null!=t&&!!t.useViewElevation,minDemResolution:null!=t?t.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,t?.signal);if(!l)return null;const h=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){O(h,Te);const t=e.getElevation(Te[0],Te[1],0,i,\"ground\")??0;h[2]=Math.min(h[2],t),h[5]=Math.max(h[5],t)}}return{boundingBox:h,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await v(()=>this.owner?.loadedGraphics);const i=this.owner.layer?.objectIdField,s=this.owner.loadedGraphics.find(t=>t===e||null!=i&&null!=t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]);if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;P(He,0,0,0);let s=0;if(r.render.num>0){if(!V(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Be,t))return null;R(He,He,Be),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=this._viewElevationProvider.getElevation(e,i,\"ground\")??0;if(P(Be,e,i,a),!V(Be,this._viewElevationProvider.spatialReference,Be,t))return null;R(He,He,Be),s++}return s>1&&U(He,He,1/s),new E({x:He[0],y:He[1],z:He[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this._symbols.get(e.id);if(null==i)throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(t);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=i.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(null!=i||null!=this._graphicsWithoutSymbol.get(t)){switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(i);break;case\"geometry\":this._graphicUpdateGeometryHandler(i,e.graphic);break;case\"symbol\":this._graphicUpdateSymbolHandler(i,e);break;case\"attributes\":{const t=this.symbolCreationContext.featureExpressionInfoContext;t?.arcade&&this._graphicUpdateGeometryHandler(i,e.graphic)}break;case\"popupTemplate\":break;case\"origin-transform\":this._graphicUpdateTransformHandler(i,e)}this.owner.notifyContentGeometryUpdate?.()}}_graphicUpdateGeometryHandler(e,t){this._graphicUpdateGeometryOrTransformHandler(e,t,()=>!(null==e||!e.graphics3DSymbol.updateGeometry(e)||!(this._labeler?.updateGraphicGeometry(e)??1))&&(this._labeler?.setDirty(),!0));const i=t.geometry;null!=i&&this._expandComputedExtent(i)}_graphicUpdateTransformHandler(e,t){const i=t.graphic.geometry;this._graphicUpdateGeometryOrTransformHandler(e,t.graphic,()=>null!=t.newValue&&null!=e&&null!=i&&e.graphics3DSymbol.updateTransform(e,i.spatialReference,t.newValue,t.action))}_graphicUpdateGeometryOrTransformHandler(e,t,i){if(null!=t.geometry){if(null==e){const e=t.symbol?.id;if(e){const t=this._symbols.get(e);if(null!=t&&0===t.loadStatus)return}return void this._recreateGraphic(t)}i()||this._recreateGraphic(e.graphic)}else this._recreateGraphic(t)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=null!=e?e.graphics3DSymbol:null!=t.oldValue?this._symbols.get(t.oldValue.id):null;if(null==r||null==t.newValue)return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(null!=a&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(i);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=w(s,a);if(null==o)return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!x(l.diff))return void this._recreateGraphic(i);const h=this._getRenderingInfo(i,!1);if(null==h)return void this._recreateGraphic(i);const d=r.extentPadding;for(const p of l.symbolStatePatches)p();if(d!==r.extentPadding&&this._recomputeExtentPadding(),null!=e)for(const p of l.graphics3DGraphicPatches)p(e,h);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,1===this.effectiveUpdatePolicy&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,t),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"dataUpdating\"),t}_endGraphicUpdate(e,t){e&&(t&&this._graphicStateTracking?.updateGraphicError(e,t),this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach(t=>{null!=t&&(e=Math.max(e,t.extentPadding))}),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const t=Me,i=e.spatialReference;q(e,t);const r=this._viewSpatialReference,s=Fe.tmpVec;if(z(i,r)||A(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],A(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(null==a?.zmin||t[2]<a.zmin),h=o&&(null==a?.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const t=he(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await de(t,this._viewSpatialReference,e.signal,s.getLogger(this)),p(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"elevationInfo\",t)?t?.forEach(e=>{const t=e.graphic,i=e.labelLayers;for(const r of i){r.graphics3DSymbolLayer.graphics3DGraphicLayerElevationInfoChanged(t,r)}}):this._recreateSymbol(i)}),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=l(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new Ce({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(2,this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),null!=this._filterVisibility&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=l(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain?.tilingScheme&&t?.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=we(this.layer.screenSizePerspectiveEnabled),this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this._graphicsBySymbol.get(e),i=[];t&&(t.forEach((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);l(r),this._symbols.delete(e),this._symbolMaterials=null,l(this._unusedSymbolsCache.pop(e)),this.add(i)}_recreateGraphicsForSymbol(e){const t=this._graphicsBySymbol.get(e);if(t){const e=[];t.forEach(t=>e.push(t.graphic)),this.recreateGraphics(e)}}_conditionalRemove(e,t){this._graphicsDrapedUids.delete(t),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),null!=this._graphicStateTracking&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain?.tilingScheme?(0===this._updatePolicyForGraphics(e)?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"dataUpdating\")):s.getLogger(this).error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(1===this.effectiveUpdatePolicy&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(null!=t.geometry&&\"mesh\"===t.geometry.type&&!t.geometry.loaded)return 0;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t),1);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this._pendingUpdates.get(e);i?i.add?0!==i.state&&i.abortController?.abort():this._pendingAdds++:(i=new ze,this._pendingAdds++,this._pendingUpdates.set(e,i)),i.add=t}this.notifyChange(\"readyToRun\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}remove(e){0===this.effectiveUpdatePolicy?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"dataUpdating\")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this._pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this._pendingUpdates.delete(e),1===i.state&&i.abortController?.abort(),this._pendingAdds--);else{const i=new ze;i.remove=t,this._pendingUpdates.set(e,i),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"readyToRun\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}_finishPendingUpdates(){this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&s.getLogger(this).warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyFocusAreasUpdates(e){for(;this._focusAreasGraphicsQueue.length>0&&!e.done;){e.madeProgress();const t=this._focusAreasGraphicsQueue.pop(),i=fe(t.graphic.geometry);if(null==i)continue;const r=this.stage.view.focusAreasView?.containsGeometry(i)??!0;t.layers.forEach(e=>{if(e.stageObject){e.stageObject.geometries.some(e=>e.material instanceof Re&&e.material.parameters.isFocused!==r)&&this.recreateGraphics([t.graphic])}})}0===this._focusAreasGraphicsQueue.length&&this.notifyChange(\"readyToRun\")}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[t,i]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(i.remove&&!i.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,this._pendingUpdates.delete(t),0===this._pendingRemoves))break}}for(const[t,i]of this._pendingUpdates){if(e.done)break;i.add&&0===i.state&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&2!==i.state||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=1),i.add)switch(i.state){case 2:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this._pendingAdds--,e.madeProgress();break;case 3:i.add=null,this._pendingAdds--}null==i.remove&&null==i.add&&this._pendingUpdates.delete(t)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"readyToRun\"),this.notifyChange(\"dataUpdating\"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=2);const t=e.add.geometry;null==t||\"mesh\"!==t.type||t.loaded?this._processPendingUpdateNewRenderingInfo(e):this._processPendingUpdateNewMesh(e,t)}async _processPendingUpdateNewMesh(e,t){e.state=1,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,u(t)?e.state=0:e.state=3}async _processPendingUpdateNewRenderingInfo(e){if(null==this.layer.renderer||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add),void(e.state=2);e.state=1,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(i){return e.abortController=null,void(u(i)?e.state=0:e.state=3)}null==t?.symbol?(this._symbolWarningLogged||(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=2}_addGraphic(e,t,i){if(this._graphicsWithoutSymbol.set(e.uid,e),null==t?.symbol||!Q(e))return;const r=this.stage.renderView.olidRenderHelper;if(r&&this.setUidToIdOnAdd){const t=J(this.owner.view,this.owner.layerViewUid);r.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.owner.layerViewUid,W(this.layer)&&!!this.layer.popupEnabled&&!t&&Ue(this.layer,this.owner.view.popup?.defaultPopupTemplateEnabled))}const s=t.symbol,a=this.getOrCreateGraphics3DSymbol(s,t.renderer);if(null==a)return;this._expandComputedExtent(e.geometry);const n=this._beginGraphicUpdate(e),o=new ce(e,t,this.layer);let l=!1;const h=e=>{e===a.symbol.id&&(l=!0)};this._whenSymbolRemoved.push(h);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(h);if(this._graphicsWaitingForSymbol.get(e.uid)!==n||l||a.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==a.symbol.id)--a.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(a,o);this._spatialIndex&&null!=t&&this._spatialIndex.add(t),--a.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.(),this._labeler?.setDirty()},p=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(h),l||(u(t)?this.add([e]):a.destroyed||this._endGraphicUpdate(e,t)))};++this._loadingSymbols,0===i?a.load(()=>this._dataUpdateQueue.push(d,null).catch(c),e=>this._dataUpdateQueue.push(()=>p(e),null).catch(c)):a.load(d,p)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(t),this._graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}else this._graphicsWithoutSymbol.delete(t),this._graphicsWaitingForSymbol.delete(t),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\"))}_hasLabelingContext(e){if(e instanceof ee||e instanceof te){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some(t=>t.symbol===e)}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof ee&&!this._hasLabelingContext(e))||(s.getLogger(this).error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,t=!0){const i=e.geometry;if(null==i)return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!L(i.spatialReference,this._viewSpatialReference))return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?N(e,this.layer,null):e;let a;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||null!=this.currentRenderer))a=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{const e=r.symbol||re(r.geometry);a=new X(null,e)}return null==a?.symbol?(t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):a}_getRenderingInfoAsync(e,t){if(null==e.geometry)return this._geometryWarningLogged||(this._geometryWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return this._symbolWarningLogged||(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const i=this.rendererHasGeometryOperations?N(e,this.layer,null):e;return this.owner.getRenderingInfoAsync(i,this.currentRenderer,this._arcadeOnDemand,t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(null!=t&&\"backgroundFillSymbol\"in t&&t.backgroundFillSymbol){const e=se(t.backgroundFillSymbol,{ignoreDrivers:!0});null!=e.symbol&&(r=e.symbol.symbolLayers)}const s=ue(i,this.symbolCreationContext,r);return s.load(()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")},()=>{}),s}getOrCreateGraphics3DSymbol(e,t){let i=this._symbols.get(e.id);if(void 0===i){const r=this._unusedSymbolsCache.pop(e.id);i=null!=r?r:e instanceof ie?new ge(e,e=>this._dataUpdateQueue.push(e,null),e=>this._createGraphics3DSymbol(e,t)):this._createGraphics3DSymbol(e,t),this._symbols.set(e.id,i),this._symbolMaterials=null}return null!=i&&++i.referenced,i}trackGraphicState(e){return null==this._graphicStateTracking&&(this._graphicStateTracking=new be(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,i&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const{graphic:i}=t;if(this._graphicsWithoutSymbol.delete(i.uid),!this._symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(null==r)return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(i.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(i.uid),r.centroid=null,null!=i.geometry&&\"point\"!==i.geometry.type&&(r.centroid=_e(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(r),null!=this._filterVisibility){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(1,4,e),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),r.initialize(this.stageLayer),null!=this._graphicStateTracking&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[i.uid];return a&&(delete this._whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),this._symbolMaterials=null,r}async rendererChange(e){if(this._rendererChangeAbortController=n(this._rendererChangeAbortController),e!==this.currentRenderer)if(this._validateRenderer(e),null==e&&this._currentRendererChange(null,!1),Z(e))if(e?.arcadeRequired){const t=new AbortController;this._rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();p(t);const r=i.hasGeometryOperations(e);r&&(await i.enableGeometryOperations(),p(t)),0===this.effectiveUpdatePolicy?await this._updateQueue.push(()=>this._currentRendererChange(e,r),t.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(0===this.effectiveUpdatePolicy){const t=new AbortController;this._rendererChangeAbortController=t,await this._updateQueue.push(()=>this._currentRendererChange(e,!1),t.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return null==this._arcadeOnDemand?(this._arcadeOnDemand=await K(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=this._arcadeOnDemand;const i=this.symbolCreationContext.renderer;if(e===i)return;if(this._symbolConversionCache.clear(),this._unusedSymbolsCache.clear(),null==e)return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=w(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,null!=r&&(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,i)?this._labeler?.reset():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this._graphicsBySymbol.get(s.id);t&&t.forEach((a,n)=>{const o=a.graphic,l=this.layer instanceof H?this.layer:null,h=this._arcadeOnDemand;if(s===i.defaultSymbol&&i.getSymbol(N(o,l,null),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()}),this._whenSymbolRemoved.forAll(e=>e(s.id))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach(e=>r.push(e)),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_applyUniqueValueRendererDiff(e,t,r){const s=e.diff.defaultSymbol,a=e.diff.uniqueValueInfos;if(s||a){const n=a?.changed,o=a?.unchanged;if(n&&o&&n.some(e=>o.some(t=>t.oldValue.symbol?.id===e.oldValue.symbol?.id)))return!1;const l=a?a.added.map(e=>e.symbol).filter(i):[],h=a?a.removed.map(e=>e.symbol).filter(i):[];if(n)for(let e=0;e<n.length;e++)l.push(n[e].newValue.symbol),h.push(n[e].oldValue.symbol);return s?(r.defaultSymbol&&h.push(r.defaultSymbol),t.defaultSymbol&&l.push(t.defaultSymbol)):r.defaultSymbol&&l.length&&h.push(t.defaultSymbol),this._applySymbolSetDiff(l,h,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if(\"unique-value\"!==t?.type||\"unique-value\"!==i?.type||null!=e&&\"partial\"!==e.type)return[];const r=e=>null!=e?e.id:null,s=e&&e.diff,a=s?.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map(e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)}));else{o=[];for(const e of i.uniqueValueInfos??[]){const i=r(e.symbol),s=t.uniqueValueInfos?.find(t=>t.value===e.value);s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=null!=t&&t?\"string\"==typeof t?t:t.id:null;if(null==e||e===i)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(i,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(i,s),this._symbolMaterials=null,null!=s)){const e=\"string\"==typeof t?null:t;null!=e?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,i){if(this._diffHasSymbolChange(e))return!1;if(t instanceof $&&i instanceof $&&this._applyUniqueValueRendererDiff(e,t,i)&&0===Object.keys(e.diff).length)return!0;for(const r of this._graphicsBySymbol.keys()){const i=this._symbols.get(r);if(null!=i)switch(i.applyRendererDiff(e,t)){case 0:this._recreateSymbol(r);break;case 1:this._recreateGraphicsForSymbol(r)}}return!0}opacityChange(){this._updateStageLayerVisibility(),this.forEachGraphics3DSymbol((e,t)=>e.globalPropertyChanged(\"opacity\",t))}_screenSizePerspectiveEnabledChange(){this.forEachGraphics3DSymbol((e,t)=>e.globalPropertyChanged(\"screenSizePerspectiveEnabled\",t)),this._labeler?.screenSizePerspectiveEnabledChanged(),this._deconflictor?.screenSizePerspectiveEnabledChanged()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol((e,t)=>e.globalPropertyChanged(\"slicePlaneEnabled\",t)),this._deconflictor?.slicePlaneEnabledChange(),this._labeler?.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",t)||this._recreateSymbol(i)})}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"skipHighSymbolLods\",t)||this._recreateSymbol(i)})}_pixelRatioChange(){this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"pixelRatio\",t)||this._recreateSymbol(i)})}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=C(()=>{this._updatingPendingLoadedGraphicsChange=null})}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=k();return Se(e,r,t)?this.symbolCreationContext.clippingExtent=T(F(),r):this.symbolCreationContext.clippingExtent=null,!M(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){if(this.destroyed)return;let t=!1;this.graphics3DGraphics.forEach(i=>{e(i)&&(t=!0)}),t&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}forEachGraphics3DSymbol(e,t){for(const[i,r]of this._symbols){if(null==r)return;e(r,this._graphicsBySymbol.get(i)||qe,i)}if(!t?.excludeUnused)for(const i of this._unusedSymbolsCache)e(i,void 0,i.symbol.id)}updateGraphicsVisibilities(){null!=this._filterVisibility&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities(e=>{const t=this._updateUserVisibility(e),i=!!this._scaleVisibility?.updateVisibility(e);return t||i})}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities(e=>e.setVisibilityFlag(1,1,!1))}_validateRenderer(e){const t=()=>`'${this.layer.title?`${this.layer.title}, `:\"\"}id:${this.layer.id}'`,i=Y(e,{geometryType:this.layer?.geometryType,logWarning:(e,i)=>s.getLogger(this).warn(e,`Symbology conversion for layer ${t()}: ${i}`)});if(i){const e=`Renderer for layer ${t} is not supported in a SceneView`;s.getLogger(this).warn(e,i.message)}}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach((t,i)=>{if(null==t||t.referenced>0)return;const r=this._graphicsBySymbol.get(i);r&&0!==r.size||(this._graphicsBySymbol.delete(i),this._symbols.delete(i),this._symbolMaterials=null,this._unusedSymbolsCache.put(i,t,h),e=!0)}),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){}get performanceInfo(){return new me(this.graphics3DGraphics.size,Array.from(this.graphics3DGraphics.values()).reduce((e,t)=>e+(t.isVisible()?1:0),0),this._graphicsWithoutSymbol.size,this._pendingUpdates.size)}};e([S({readOnly:!0})],ke.prototype,\"computedExtent\",void 0),e([S()],ke.prototype,\"currentRenderer\",void 0),e([S()],ke.prototype,\"rendererHasGeometryOperations\",void 0),e([S()],ke.prototype,\"_frameTaskHandle\",void 0),e([S()],ke.prototype,\"_dataUpdateQueue\",void 0),e([S()],ke.prototype,\"_updateQueue\",void 0),e([S({readOnly:!0})],ke.prototype,\"_viewSpatialReference\",null),e([S()],ke.prototype,\"_rendererChangeAbortController\",void 0),e([S()],ke.prototype,\"_elevationInfoChangeAbortController\",void 0),e([S()],ke.prototype,\"_initializeAbortController\",void 0),e([S()],ke.prototype,\"_elevationAlignment\",void 0),e([S()],ke.prototype,\"_scaleVisibility\",void 0),e([S()],ke.prototype,\"_filterVisibility\",void 0),e([S()],ke.prototype,\"_initializePromise\",void 0),e([S()],ke.prototype,\"_spatialIndex\",void 0),e([S({readOnly:!0})],ke.prototype,\"extentPadding\",void 0),e([S()],ke.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([S()],ke.prototype,\"_featureStore\",void 0),e([S()],ke.prototype,\"_objectStates\",void 0),e([S()],ke.prototype,\"_loadingSymbols\",void 0),e([S({constructOnly:!0})],ke.prototype,\"compressionTracker\",void 0),e([S()],ke.prototype,\"preferredUpdatePolicy\",void 0),e([S()],ke.prototype,\"_forcedUpdatePolicy\",void 0),e([S({readOnly:!0})],ke.prototype,\"effectiveUpdatePolicy\",null),e([S({constructOnly:!0})],ke.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([S({constructOnly:!0})],ke.prototype,\"owner\",void 0),e([S({constructOnly:!0})],ke.prototype,\"layer\",void 0),e([S({constructOnly:!0})],ke.prototype,\"graphicSymbolSupported\",void 0),e([S({constructOnly:!0})],ke.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([S({constructOnly:!0})],ke.prototype,\"componentFactories\",void 0),e([S({constructOnly:!0})],ke.prototype,\"setUidToIdOnAdd\",void 0),e([S()],ke.prototype,\"featureStore\",null),e([S()],ke.prototype,\"initializePromise\",null),e([S()],ke.prototype,\"scaleVisibility\",null),e([S()],ke.prototype,\"elevationAlignment\",null),e([S()],ke.prototype,\"objectStates\",null),e([S()],ke.prototype,\"filterVisibility\",null),e([S({readOnly:!0})],ke.prototype,\"updating\",null),e([S({readOnly:!0})],ke.prototype,\"dataUpdating\",null),e([S({readOnly:!0})],ke.prototype,\"readyToRun\",null),e([S({readOnly:!0})],ke.prototype,\"suspendedOrOutsideOfView\",null),e([S({readOnly:!0,dependsOn:[]})],ke.prototype,\"updatingRemaining\",null),e([S({readOnly:!0})],ke.prototype,\"displayFeatureLimit\",null),e([S({readOnly:!0,dependsOn:[]})],ke.prototype,\"averageSymbolComplexity\",null),e([S({constructOnly:!0})],ke.prototype,\"hasZ\",void 0),e([S({constructOnly:!0})],ke.prototype,\"hasM\",void 0),e([S()],ke.prototype,\"_objectIdField\",null),ke=Fe=e([G(\"esri.views.3d.layers.graphics.Graphics3DCore\")],ke);class ze{constructor(){this.add=null,this.renderingInfo=null,this.state=0,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=0,this.abortController=null,this.remove=null}}const We=10,He=D(),Be=D(),qe=new Map;export{ke as Graphics3DCore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as i}from\"../../../support/Scheduler.js\";const h=.05;class a{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}destroy(){this._extents.prune()}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=i){const e=this._extents,o=new Set;let a=0;for(;a!==e.length;){e.sort((t,e)=>t[0]-e[0]),a=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const a=e.at(i);if(a){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=a[2])break;o.add(r)}o.forEach(i=>{if(a===i)return;if(i[2]<=a[0])return void o.delete(i);const l=s(a),_=s(i),d=this._tmpExtent;n(a,i,d);const c=l+_;(s(d)-c)/c<h&&(r(a,d),o.delete(i),e.remove(i),t.madeProgress())}),o.add(a)}}}this._dirty=!1}_contains(t){return this._extents.some(e=>o(e,t))}_removeContained(t){this._extents.filterInPlace(e=>!o(t,e))}get test(){}}export{a as ExtentSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import{EventEmitter as i}from\"../../../../core/Evented.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as o}from\"./ExtentSet.js\";import{TaskPriority as n}from\"../../../support/Scheduler.js\";let h=class extends e{constructor(t){super(t),this._dirtyExtents=new o,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const t=this.elevationProvider,e=this.graphicsCoreOwner.view.resourceController.scheduler;this._task=e.registerTask(p(this.graphicsCore.layer.elevationInfo?.mode),this),this.addHandles([t.on(\"elevation-change\",t=>this._elevationChanged(t)),r(()=>this.graphicsCoreOwner.suspended,()=>this._suspendedChange()),this._task,r(()=>p(this.graphicsCore.layer.elevationInfo?.mode),t=>this._task.priority=t)])}destroy(){this._dirtyGraphicsSet.clear(),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null,this._dirtyExtents.destroy()}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.readyToRun}get readyToRun(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(t){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,t.madeProgress()),t.run(()=>this._dirtyExtents.merge(t));this.readyToRun&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.graphicsCoreOwner.view.renderCoordsHelper,i=0===this.graphicsCore.effectiveUpdatePolicy;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,e,i),this.graphicsCore.deconflictor?.setDirty(),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this._dirtyExtents.empty&&!t.done;){const e=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);null!=e&&e.needsElevationUpdates()&&this._dirtyGraphicsSet.add(t)}),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,t.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach((t,e)=>this._dirtyGraphicsSet.add(e))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const e=t.extent;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",t)}else e[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(e),this.notifyChange(\"updating\")}};function p(t){return null==t?n.ELEVATION_ALIGNMENT:\"relative-to-scene\"===t?n.ELEVATION_ALIGNMENT_SCENE:n.ELEVATION_ALIGNMENT}t([s()],h.prototype,\"graphicsCoreOwner\",void 0),t([s()],h.prototype,\"graphicsCore\",void 0),t([s()],h.prototype,\"queryGraphicUIDsInExtent\",void 0),t([s()],h.prototype,\"elevationProvider\",void 0),t([s({readOnly:!0})],h.prototype,\"updating\",null),t([s({readOnly:!0})],h.prototype,\"updatingRemaining\",null),h=t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],h);export{h as Graphics3DElevationAlignment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{k as n,d as t,e as i,h as e,f as c,g as o,n as u}from\"../../../chunks/vec32.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as l,signedDistance as s}from\"../../../geometry/support/plane.js\";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],e=n[1],c=n[2];return!(r[0][0]*i+r[0][1]*e+r[0][2]*c+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*e+r[1][2]*c+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*e+r[2][2]*c+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*e+r[3][2]*c+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*e+r[4][2]*c+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*e+r[5][2]*c+r[5][3]>t)))))}function m(r,n,t,i){return x(r,n,null,h(i,n,t,!1))}function d(r,n){for(let t=0;t<6;t++){if(s(r[t],n)>0)return!1}return!0}function g(r,n,t,i){return x(r,n,t,h(i,n,t,!0))}function j(r,n,t,u){const f=c(t,i(r,u,n));return o(r,n,e(r,t,f))}const b={dir:f(),len:0,clip:r()};function h(r,c,o,f){const l=b;return r?(o&&f&&(l.len=n(c,o)),t(l.dir,r)):f?(l.len=n(c,o),i(l.dir,o,c),e(l.dir,l.dir,1/l.len)):(i(l.dir,o,c),u(l.dir,l.dir)),l}function v(r,n,t){const i=c(l(r),t.dir),e=-s(r,n);if(e<0&&i>=0)return!1;if(i>-1e-6&&i<1e-6)return e>0;if((e<0||i<0)&&!(e<0&&i<0))return!0;const o=e/i;return i>0?o<t.clip[1]&&(t.clip[1]=o):o>t.clip[0]&&(t.clip[0]=o),t.clip[0]<=t.clip[1]}function x(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let e=0;e<r.length;e++)if(!v(r[e],n,i))return!1;return!0}export{j as closestPointOnRay,g as frustumLineSegment,d as frustumPoint,m as frustumRay,a as frustumSphere,p as planeSphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as n,h as o,E as s,t as a,j as c,f as l}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBoundingRect as _}from\"../../../geometry/projection/projectBoundingRect.js\";import{projectVectorToVector as m}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as g,create as x,expandWithVec3 as f}from\"../../../geometry/support/aaBoundingBox.js\";import{center as u,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{fromPoints as j,create as R}from\"../../../geometry/support/lineSegment.js\";import{create as b,fromVectorsAndPoint as S,copy as B,negate as C,signedDistance as H}from\"../../../geometry/support/plane.js\";import{wrap as w}from\"../../../geometry/support/ray.js\";import{frustumLineSegment as M}from\"./intersectionUtils.js\";const A=.5*Math.PI,E=A/Math.PI*180;class G{constructor(t){this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()},this._renderCoordsHelper=t.renderCoordsHelper;for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=b();this._planes[4]=b(),this._planes[5]=b(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),S(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}S(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[4]),r?C(this._planes[4],this._planes[5]):(B(this._planes[5],this._planes[4]),C(this._planes[4],this._planes[4])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(1===this._renderCoordsHelper.viewingMode){const i=this._maxSpanSpatialReference.isGeographic?E:A*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(w(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(w(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(j(e.origin,e.cap.next,k),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(M(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;u(t,v),v[2]=n,d(r,v,F,this._renderCoordsHelper.spatialReference),i(I,F),g(V);for(const{x0:i,x1:s,y0:c,y1:l}of U)for(let p=0;p<o;p++){const h=p/(o-1);v[0]=e(t[i],t[s],h),v[1]=e(t[c],t[l],h),v[2]=n,m(v,r,v,this._renderCoordsHelper.spatialReference),a(v,v,I),f(V,v)}c(this._extent[0].origin,V[0],V[1],V[2]),c(this._extent[1].origin,V[3],V[1],V[2]),c(this._extent[2].origin,V[3],V[4],V[2]),c(this._extent[3].origin,V[0],V[4],V[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,F)}_toRenderBoundingExtentLocal(t,e,i){_(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case 1:this._toRenderBoundingExtentGlobal(e,i,r);break;case 2:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(H(t.planes[4],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(H(t.planes[4],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const U=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],v=p(),F=r(),I=r(),V=x(),P=y(),k=R();export{G as FrustumExtentIntersection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{watch as s,sync as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as c}from\"../../../support/Scheduler.js\";import{Yield as l}from\"../../../support/Yield.js\";const h=1.2;let u=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,n=t.basemapTerrain,o=t.resourceController.scheduler;this.addHandles([t.on(\"resize\",()=>this._viewChange()),s(()=>t.state.camera,()=>this._viewChange(),i),o.registerTask(c.FRUSTUM_VISIBILITY,this),s(()=>n.visibleElevationBounds,()=>this._elevationBoundsChange())]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this.addHandles([s(()=>[n.baseOpacity,n.wireframe,t.map?.ground?.navigationConstraint?.type],()=>this._updateIsVisibleBelowSurface(),r)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*a(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get readyToRun(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),l;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=a(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([n({readOnly:!0})],u.prototype,\"suspended\",void 0),e([n({constructOnly:!0})],u.prototype,\"graphicsCoreOwner\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);export{u as Graphics3DFrustumVisibility};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{}class t extends e{constructor(e,t){super(),this.objectStateId=e,this.object=t}remove(){this.object.removeStateID(this.objectStateId)}}class s extends e{constructor(e,t,s){super(),this.objectStateId=e,this.object=t,this.owner=s}remove(){this.owner.removeRenderGeometryObjectState(this.object,this.objectStateId)}}class o extends e{constructor(e,t){super(),this.objectStateId=e,this._removeCallback=t,this.object=null}remove(){this._removeCallback(this.objectStateId)}}class r{constructor(){this._items=[]}addObject(e,s){this._items.push(new t(s,e))}addRenderGeometry(e,t,o){this._items.push(new s(t,e,o))}addExternal(e,t){this._items.push(new o(t,e))}remove(e){this._remove(t=>t.objectStateId===e)}removeByObject(e){this._remove(t=>t.object===e)}removeAll(){this._items.forEach(e=>e.remove()),this._items=[]}_remove(e){const{_items:t}=this;for(let s=t.length-1;s>=0;--s){const o=t[s];e(o)&&(o.remove(),t.splice(s,1))}}}class c extends r{constructor(){super(...arguments),this.stateType=1}}class i extends r{constructor(e){super(),this.highlightName=e,this.stateType=0}}export{i as Object3DHighlightStateSet,c as Object3DOccludeeStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Object3DOccludeeStateSet as t,Object3DHighlightStateSet as e}from\"../../webgl-engine/lib/Object3DStateSet.js\";class s{constructor(t){this.objectIdField=t,this.ids=new Set,this.paused=!1}hasGraphic(t){const e=this.objectIdField?t.graphic.attributes[this.objectIdField]:t.graphic.uid;return this.ids.has(e)}}class i extends s{constructor(e){super(e),this.stateType=1,this.objectStateSet=new t}}class c extends s{constructor(t,s){super(s),this.highlightName=t,this.stateType=0,this.objectStateSet=new e(t)}}export{c as Graphics3DObjectHighlightStateSet,i as Graphics3DOccludeeStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{Graphics3DOccludeeStateSet as e,Graphics3DObjectHighlightStateSet as s}from\"./Graphics3DObjectStateSet.js\";class a{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach(t=>t.objectStateSet.removeAll()),this._stateSets.length=0)}acquireOccludeeSet(s){const a=new e(s);this._stateSets.push(a);const i=t(()=>this.releaseSet(a));return{set:a,handle:i}}acquireHighlightSet(e,a){const i=new s(e,a);this._stateSets.push(i);const c=t(()=>this.releaseSet(i));return{set:i,handle:c}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&s.addObjectStateSet(t.objectStateSet)}setUids(t,e){e.forEach(e=>this.setUid(t,e))}setObjectIds(t,e){e.forEach(e=>t.ids.add(e)),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach(e=>{!e.paused&&e.hasGraphic(t)&&t.addObjectStateSet(e.objectStateSet)})}removeGraphic(t){this._stateSets.forEach(e=>{e.hasGraphic(t)&&t.removeObjectState(e.objectStateSet)})}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach(t=>t.objectStateSet.removeAll())}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach(e=>{e&&t.hasGraphic(e)&&e.addObjectStateSet(t.objectStateSet)}):t.ids.forEach(s=>{const a=e.get(s);a&&a.addObjectStateSet(t.objectStateSet)})}get test(){}}export{a as Graphics3DObjectStates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../core/support/UpdatingHandles.js\";import{projectBoundingRect as l}from\"../../../../geometry/projection/projectBoundingRect.js\";import{create as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{scaleBoundsPredicate as c}from\"../../../support/layerViewUtils.js\";import{TaskPriority as o}from\"../../../support/Scheduler.js\";import{Yield as h}from\"../../../support/Yield.js\";let p=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this._updatingHandles=new a,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.addHandles(e.registerTask(o.SCALE_VISIBILITY,this)),this._updatingHandles.add(()=>this.layer.effectiveScaleRange,()=>this.layerMinMaxScaleChangeHandler())}destroy(){this._updatingHandles.destroy(),this.removeHandles(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this._updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=n();l(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&d(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some(e=>e&&d(e.minScale??0,e.maxScale??0)));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.hasHandles(u)&&this.basemapTerrain?(this.addHandles(this.basemapTerrain.on(\"scale-change\",e=>this._scaleUpdateHandler(e)),u),this.layerScaleEnabled&&this.addHandles(this.basemapTerrain.on(\"tiles-visibility-changed\",()=>this._setDirty()),u)):!t&&this.hasHandles(u)&&this.removeHandles(u),r}get readyToRun(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return h;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,e=>this._finishUpdate(e))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||c(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return c(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(null!=e.centroid?i=e.centroid:null!=e.graphic.geometry&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(!this._scaleRangeActive)return!1;const i=this._graphicVisible(e);return e.setVisibilityFlag(1,2,i)}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers.length)return!1;const t=e.labelLayers[0].labelClass;if(null!=t?.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(16,2,r))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,r=e.scale,s=this._visibleAtLayerScale(r);let a=!1;const n=this.graphicsCoreOwner.view.spatialReference,c=e.spatialReference;if(null==c)return void t.getLogger(this).error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const o=!c.equals(n);if(o){if(!l(i,c,g,n))return void t.getLogger(this).error(\"scaleUpdate: Internal error, cannot project AABR from \"+c+\" to wkid \"+n)}const h=o?g:i;this.queryGraphicUIDsInExtent(h,n,e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);if(null==t)return;const l=t.centroid;null!=l&&(i[0]>l.x||i[1]>l.y||i[2]<l.x||i[3]<l.y)||(t.setVisibilityFlag(1,2,s)&&(a=!0),this._updateLabelScaleVisibility(t,r)&&(a=!0))}),a&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities(e=>e.setVisibilityFlag(1,2,!0)):this._scaleRangeActive&&this.graphicsCore.updateGraphicsVisibilities(),this._setDirty()}};function d(e,i){return e>0||i>0}e([r()],p.prototype,\"graphicsCoreOwner\",void 0),e([r()],p.prototype,\"layer\",void 0),e([r()],p.prototype,\"queryGraphicUIDsInExtent\",void 0),e([r()],p.prototype,\"graphicsCore\",void 0),e([r()],p.prototype,\"basemapTerrain\",void 0),e([r({constructOnly:!0})],p.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],p.prototype,\"suspended\",void 0),e([r({readOnly:!0})],p.prototype,\"updating\",null),e([r()],p.prototype,\"_dirty\",void 0),p=e([s(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],p);const u=\"terrain-events\",g=n();export{p as Graphics3DScaleVisibility};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Collection.js\";import{makeHandle as o}from\"../../../../core/handleUtils.js\";import{isGraphic as t}from\"../../../../support/guards.js\";function e(o){return r.isCollection(o)?o.toArray():Array.isArray(o)?o:i(o)||t(o)||c(o)?[o]:n}function i(r){return\"number\"==typeof r||\"string\"==typeof r}const n=[],s=o();function c(r){return\"esri.views.3d.layers.i3s.PointCloudGraphic\"===r.declaredClass}export{s as emptyHighlightHandle,i as isObjectId,e as normalizeHighlightTarget};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import t from\"../../../../Graphic.js\";import e from\"../../../../core/Accessor.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{watch as o,sync as a,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as u}from\"../../../../core/support/UpdatingHandles.js\";import d from\"../../../../layers/Layer.js\";import{hydrateGraphic as y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{getRenderingInfo as g,getRenderingInfoAsync as m}from\"../../../../renderers/support/renderingInfoUtils.js\";import{suspendResumeExtentOptimism as f}from\"./constants.js\";import{Graphics3DCore as b}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as C}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as w}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as V}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as j}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as v}from\"./graphicUtils.js\";import{normalizeHighlightTarget as G}from\"../support/highlightUtils.js\";import{hasLayerBasedScaleVisibility as E}from\"../../../support/layerViewUtils.js\";let S=class extends e{constructor(i){super(i),this.drapeSourcePriorityOffset=0,this.type=\"graphics-3d\",this.graphicsCore=null,this.drapeSourceType=1,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null,this._updatingHandles=new u}initialize(){const{layer:i}=this,t=\"effectiveScaleRange\"in i?i:null,e=!E()&&this.scaleVisibilityEnabled&&null!=t,r=new b({owner:this,layer:this.owner.layer,preferredUpdatePolicy:1,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(i,t)=>new C({graphicsCoreOwner:this,graphicsCore:i,queryGraphicUIDsInExtent:t,elevationProvider:this.view.elevationProvider}),scaleVisibility:e?(i,e)=>new j({graphicsCoreOwner:this,layer:t,queryGraphicUIDsInExtent:e,graphicsCore:i,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:i=>new V(i)}});if(this._set(\"graphicsCore\",r),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new w({graphicsCoreOwner:this})),\"fullOpacity\"in this.owner){const i=this.owner;this._updatingHandles.add(()=>i.fullOpacity,()=>this.graphicsCore.opacityChange())}if(\"elevationInfo\"in i){const t=i;this._updatingHandles.add(()=>t.elevationInfo,(i,t)=>{h(i,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}this._set(\"initializePromise\",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){try{await this.graphicsCore.initializePromise}catch(i){if(n(i))return;throw i}this.destroyed||(this.addHandles(o(()=>this.view.clippingArea,()=>this._updateClippingExtent(),a)),this._updateClippingExtent(),this._setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",s(this.frustumVisibility)),this._set(\"graphicsCore\",s(this.graphicsCore))}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.uid}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get scaleVisibilitySuspended(){return!(null==this.scaleVisibility||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return null!=this.frustumVisibility&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||null!=this.scaleVisibility&&this.scaleVisibility.updating||null!=this.frustumVisibility&&this.frustumVisibility.updating||this._updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(i){this.graphicsCore.notifyGraphicGeometryChanged(i)}notifyGraphicVisibilityChanged(i){this.graphicsCore.notifyGraphicVisibilityChanged(i)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(i,t,e){const r=g(i,{renderer:t,arcade:e});if(r?.color){const i=r.color;i[0]=i[0]/255,i[1]=i[1]/255,i[2]=i[2]/255}return r}getRenderingInfoAsync(i,t,e,r){return m(i,{renderer:t,arcade:e,...r})}getHit(i,t){if(this.owner.loadedGraphics){const e=this.owner.loadedGraphics.find(t=>t.uid===i);if(e){const i=this.layer instanceof d?this.layer:null,r=y(e,i,t);return{type:\"graphic\",graphic:r,layer:r.layer}}}return null}whenGraphicBounds(i,t){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(i,t):Promise.reject()}computeAttachmentOrigin(i,t){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(i,t):null}getSymbolLayerSize(i,t){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(i,t):null}maskOccludee(i){const t=this.graphicsCore?.objectStates;if(!t)return r();const{set:e,handle:s}=t.acquireOccludeeSet(null);return t.setUid(e,i.uid),s}highlight(i,e){const r=this.graphicsCore?.objectStates;if(!r)return O;const s=G(i);if(0===s.length)return O;if(s[0]instanceof t){const i=s.map(i=>i.uid),{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setUids(t,i),n}if(\"number\"==typeof s[0]){const i=s,{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setObjectIds(t,i),n}return O}_setupSuspendResumeExtent(){const{scaleVisibility:i,frustumVisibility:t}=this;if(null==i&&null==t)return;const e=({computedExtent:e,extentPadding:r})=>{this._suspendResumeExtent=v(e,this._suspendResumeExtent,f,r),null!=i&&i.setExtent(this._suspendResumeExtent),null!=t&&t.setExtent(this._suspendResumeExtent)};this.addHandles(o(()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding}),i=>e(i),l))}_updateClippingExtent(){const i=this.view.clippingArea;this.graphicsCore.setClippingExtent(i,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};i([p()],S.prototype,\"drapeSourcePriorityOffset\",void 0),i([p()],S.prototype,\"type\",void 0),i([p({constructOnly:!0})],S.prototype,\"owner\",void 0),i([p()],S.prototype,\"layer\",null),i([p()],S.prototype,\"layerViewUid\",null),i([p()],S.prototype,\"view\",null),i([p({constructOnly:!0})],S.prototype,\"graphicsCore\",void 0),i([p()],S.prototype,\"scaleVisibility\",null),i([p({constructOnly:!0})],S.prototype,\"frustumVisibility\",void 0),i([p()],S.prototype,\"elevationAlignment\",null),i([p()],S.prototype,\"scaleVisibilitySuspended\",null),i([p({readOnly:!0})],S.prototype,\"frustumVisibilitySuspended\",null),i([p()],S.prototype,\"suspended\",null),i([p({readOnly:!0})],S.prototype,\"updating\",null),i([p()],S.prototype,\"loadedGraphics\",null),i([p()],S.prototype,\"fullOpacity\",null),i([p()],S.prototype,\"slicePlaneEnabled\",null),i([p()],S.prototype,\"drapeSourceType\",void 0),i([p()],S.prototype,\"updatePolicy\",null),i([p({constructOnly:!0})],S.prototype,\"scaleVisibilityEnabled\",void 0),i([p({constructOnly:!0})],S.prototype,\"frustumVisibilityEnabled\",void 0),i([p()],S.prototype,\"initializePromise\",void 0),S=i([c(\"esri.views.3d.layers.graphics.GraphicsProcessor\")],S);const O=r();export{S as GraphicsProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,o=[],c=[],{renderer:d}=r,l=null!=d&&\"arcadeRequired\"in d&&d.arcadeRequired?n():null,p=async(e,{graphic:n,graphics3DSymbol:t})=>{const a=await l,i=await r.getRenderingInfoAsync(n,d,a,{signal:s});return null==i?[]:t.queryForSnapping(e,g,i,s)},{candidates:u,spatialReference:g}=a;for(let e=0;e<u.length;++e){const n=u[e],{objectId:r}=n,t=\"number\"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(o.push(p(n,t)),c.push(e))}if(0===o.length)return t;const h=await Promise.all(o);e(s);const f=[],m=[];for(let e=0;e<h.length;++e){const n=h[e],r=c[e];for(const e of n)f.push(e),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};export{r as queryForSymbologySnapping};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e=0,s=0,r=0,i=0,o=null){this.usedMemory=t,this.displayedFeatures=e,this.totalFeatures=s,this.maximumFeatures=r,this.nodes=i,this.core=o}}function e(t){return\"performanceInfo\"in t}export{t as LayerViewPerformanceInfo,e as isPerformanceInfoLayerView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../core/Error.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{when as t}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{elevationAlignPointsInFeatures as n}from\"./graphics/elevationAlignPointsInFeatures.js\";import{GraphicsProcessor as p}from\"./graphics/GraphicsProcessor.js\";import{queryForSymbologySnapping as l}from\"./graphics/queryForSymbologySnapping.js\";import{LayerViewPerformanceInfo as c}from\"./support/LayerViewPerformanceInfo.js\";import h from\"../../layers/LayerView.js\";import{getHighlightName as d}from\"../../support/highlightOptionsUtils.js\";import{isInEffectiveScaleRange as u,hasLayerBasedScaleVisibility as g}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as m}from\"../../support/projectionUtils.js\";let y=class extends(a(h)){constructor(){super(...arguments),this.type=\"graphics-3d\",this.symbologySnappingSupported=!0,this._slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.ignoresMemoryFactor=!0}get highlightOptions(){return null}initialize(){this._set(\"processor\",new p({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.addHandles(this.layer.on(\"graphic-update\",e=>this.processor.graphicsCore.graphicUpdateHandler(e))),this.layer.internal?this.notifyChange(\"updating\"):(\"local\"===this.view.viewingMode&&this.addResolvingPromise((async()=>this.fullExtentInLocalViewSpatialReference=await m(this.layer.fullExtent,this.view.spatialReference))()),this.addHandles(t(()=>this.view?.basemapTerrain?.ready,()=>()=>this.notifyChange(\"updating\"),{once:!0})))}destroy(){this._updatingHandles.removeAll(),this._set(\"processor\",s(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}get visibleAtCurrentScale(){return g()?u(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get slicePlaneEnabled(){const e=this.layer.internal;return this._slicePlaneEnabled&&!e}set slicePlaneEnabled(e){this._slicePlaneEnabled=e}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}getHit(e){return this.processor.getHit(e,null)}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e,r){return this.processor.highlight(e,d(r))}notifyContentGeometryUpdate(){this.emit(\"visible-geometry-changed\")}async elevationAlignPointsInFeatures(e,s){const{processor:t}=this;if(null==t?.graphics3DGraphics)throw new r(\"graphicslayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");const{graphics3DGraphics:i}=t,o=e=>\"number\"==typeof e?i.get(e):void 0;return n(this.view,this.layer,o,e,s)}async queryForSymbologySnapping(e,r){return l(this.processor,e,r)}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||1}isUpdating(){return this.view&&this.layer&&!(!this.processor?.updating&&(this.layer.internal||this.view.basemapTerrain?.ready))}get performanceInfo(){return new c(this.usedMemory,this.loadedGraphics.length,-1,-1)}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return this.processor?.graphicsCore?.unprocessedMemoryEstimate}get test(){return{graphics3DProcessor:this.processor,loadedGraphics:this.loadedGraphics}}};e([i()],y.prototype,\"highlightOptions\",null),e([i()],y.prototype,\"loadedGraphics\",null),e([i({readOnly:!0})],y.prototype,\"legendEnabled\",null),e([i()],y.prototype,\"layer\",void 0),e([i({readOnly:!0})],y.prototype,\"processor\",void 0),e([i({readOnly:!0})],y.prototype,\"visibleAtCurrentScale\",null),e([i()],y.prototype,\"_slicePlaneEnabled\",void 0),e([i({type:Boolean})],y.prototype,\"slicePlaneEnabled\",null),y=e([o(\"esri.views.3d.layers.GraphicsLayerView3D\")],y);const f=y;export{f as default};\n"],
  "mappings": "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",
  "names": ["l", "n", "c", "g", "o", "s", "i", "a", "l", "m", "d", "j", "u", "v", "g", "I", "x", "y", "h", "f", "w", "R", "a", "s", "S", "b", "z", "E", "o", "F", "t", "P", "U", "n", "e", "i", "c", "t", "r", "s", "n", "u", "a", "i", "l", "o", "e", "g", "e", "m", "t", "a", "e", "t", "r", "s", "i", "u", "d", "t", "i", "e", "r", "$", "l", "o", "s", "r", "s", "t", "e", "s", "i", "r", "l", "m", "e", "r", "t", "u", "a", "o", "T", "c", "d", "Q", "r", "e", "i", "m", "s", "e", "t", "S", "o", "r", "g", "d", "$", "i", "n", "a", "c", "l", "h", "u", "f", "p", "O", "z", "m", "e", "t", "w", "r", "S", "n", "s", "u", "a", "i", "o", "G", "l", "f", "d", "g", "h", "j", "p", "O", "P", "E", "t", "e", "o", "l", "a", "O", "i", "r", "s", "f", "a", "p", "o", "n", "G", "e", "u", "j", "i", "v", "t", "r", "s", "z", "n", "g", "l", "a", "o", "M", "T", "w", "e", "o", "r", "h", "r", "e", "t", "s", "o", "a", "i", "m", "c", "n", "l", "v", "F", "O", "s", "h", "r", "o", "t", "e", "a", "_", "l", "u", "E", "t", "i", "n", "s", "h", "e", "r", "t", "s", "P", "s", "i", "t", "h", "s", "t", "i", "e", "a", "d", "t", "s", "u", "e", "e", "u", "f", "g", "l", "e", "t", "n", "r", "o", "s", "x", "i", "a", "b", "j", "_", "w", "v", "x", "n", "b", "j", "u", "l", "m", "i", "e", "o", "n", "e", "r", "n", "u", "d", "e", "t", "i", "r", "s", "a", "o", "l", "h", "m", "f", "b", "g", "y", "p", "c", "w", "$", "h", "a", "t", "i", "e", "o", "r", "l", "_", "d", "c", "z", "h", "t", "a", "i", "e", "p", "l", "r", "s", "f", "g", "r", "n", "t", "i", "x", "h", "b", "n", "h", "r", "c", "o", "f", "l", "p", "s", "g", "A", "v", "t", "i", "P", "k", "e", "x", "A", "E", "G", "t", "n", "e", "j", "i", "r", "a", "u", "g", "K", "H", "y", "k", "b", "o", "v", "f", "F", "h", "I", "s", "c", "l", "U", "p", "P", "h", "u", "e", "G", "t", "n", "o", "l", "U", "f", "s", "i", "e", "t", "s", "o", "r", "c", "i", "s", "t", "e", "i", "c", "a", "t", "s", "i", "e", "c", "p", "e", "h", "f", "i", "t", "r", "d", "u", "o", "s", "a", "n", "c", "g", "l", "e", "o", "i", "c", "n", "r", "s", "S", "i", "h", "t", "e", "a", "r", "p", "u", "y", "l", "U", "n", "b", "c", "s", "O", "_", "r", "a", "s", "t", "i", "o", "c", "d", "l", "e", "p", "n", "g", "u", "h", "f", "m", "t", "e", "s", "r", "i", "o", "y", "l", "d", "S", "e", "p", "f", "u", "a", "t", "r", "s", "i", "o"]
}
