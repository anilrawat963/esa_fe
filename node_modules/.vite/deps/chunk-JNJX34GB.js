import {
  D,
  l as l2,
  m as m3
} from "./chunk-3STJRSDT.js";
import {
  m as m2
} from "./chunk-67Q6KVC6.js";
import {
  v,
  w,
  ze
} from "./chunk-MC6NAKKX.js";
import {
  s as s2
} from "./chunk-ONXWBTTM.js";
import {
  l
} from "./chunk-T7F6Q6JJ.js";
import {
  O
} from "./chunk-YDTPM7OQ.js";
import {
  u
} from "./chunk-CCQFL76O.js";
import {
  r as r2
} from "./chunk-7H3U4IJR.js";
import {
  s
} from "./chunk-WRA2WBYC.js";
import {
  o as o2
} from "./chunk-XWE6BM2U.js";
import {
  r
} from "./chunk-SOIZOFSB.js";
import {
  n
} from "./chunk-XXLHAM2M.js";
import {
  b,
  m
} from "./chunk-5EI5H4QX.js";
import {
  S,
  a2,
  x
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  i as i2,
  o
} from "./chunk-65HD3WXL.js";
import {
  C
} from "./chunk-GNMPGHLQ.js";
import {
  a,
  i3 as i
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/popup/ExpressionInfo.js
var s3;
var p = s3 = class extends n {
  constructor(r6) {
    super(r6), this.name = null, this.title = null, this.expression = null, this.returnType = null;
  }
  clone() {
    return new s3({ name: this.name, title: this.title, expression: this.expression, returnType: this.returnType });
  }
};
__decorate([m({ type: String, json: { write: true } })], p.prototype, "name", void 0), __decorate([m({ type: String, json: { write: true } })], p.prototype, "title", void 0), __decorate([m({ type: String, json: { write: true } })], p.prototype, "expression", void 0), __decorate([m({ type: ["string", "number"], json: { write: true } })], p.prototype, "returnType", void 0), p = s3 = __decorate([a2("esri.popup.ExpressionInfo")], p);
var i3 = p;

// node_modules/@arcgis/core/support/actions/ActionBase.js
var r3;
var c = r3 = class extends s2(b) {
  constructor(t2) {
    super(t2), this.active = false, this.className = null, this.disabled = false, this.icon = null, this.id = null, this.indicator = false, this.title = null, this.type = null, this.visible = true;
  }
  clone() {
    return new r3({ active: this.active, className: this.className, disabled: this.disabled, icon: this.icon, id: this.id, indicator: this.indicator, title: this.title, visible: this.visible });
  }
};
__decorate([m()], c.prototype, "active", void 0), __decorate([m()], c.prototype, "className", void 0), __decorate([m()], c.prototype, "disabled", void 0), __decorate([m()], c.prototype, "icon", void 0), __decorate([m()], c.prototype, "id", void 0), __decorate([m()], c.prototype, "indicator", void 0), __decorate([m()], c.prototype, "title", void 0), __decorate([m()], c.prototype, "type", void 0), __decorate([m()], c.prototype, "visible", void 0), c = r3 = __decorate([a2("esri.support.actions.ActionBase")], c);
var p2 = c;

// node_modules/@arcgis/core/support/actions/ActionButton.js
var r4;
var e = r4 = class extends p2 {
  constructor(t2) {
    super(t2), this.image = null, this.type = "button";
  }
  clone() {
    return new r4({ active: this.active, className: this.className, disabled: this.disabled, icon: this.icon, id: this.id, indicator: this.indicator, title: this.title, visible: this.visible, image: this.image });
  }
};
__decorate([m()], e.prototype, "image", void 0), e = r4 = __decorate([a2("esri.support.actions.ActionButton")], e);
var c2 = e;

// node_modules/@arcgis/core/popup/content/Content.js
var s4 = class extends n {
  constructor(o4) {
    super(o4), this.type = null;
  }
};
__decorate([m({ type: ["attachments", "custom", "fields", "media", "text", "expression", "relationship", "utility-network-associations"], readOnly: true, json: { read: false, write: true } })], s4.prototype, "type", void 0), s4 = __decorate([a2("esri.popup.content.Content")], s4);
var p3 = s4;

// node_modules/@arcgis/core/popup/support/AttachmentsOrderByInfo.js
var c3 = new o({ asc: "ascending", desc: "descending" });
var i4 = class extends l(n) {
  constructor(o4) {
    super(o4), this.field = null, this.order = "ascending";
  }
};
__decorate([m({ type: String, json: { write: true } })], i4.prototype, "field", void 0), __decorate([m({ type: c3.apiValues, json: { type: c3.jsonValues, read: c3.read, write: c3.write } })], i4.prototype, "order", void 0), i4 = __decorate([a2("esri.popup.support.AttachmentsOrderByInfo")], i4);
var a3 = i4;

// node_modules/@arcgis/core/popup/content/AttachmentsContent.js
var i5 = class extends l(p3) {
  constructor(t2) {
    super(t2), this.attachmentKeywords = null, this.attachmentTypes = null, this.description = null, this.displayType = "auto", this.orderByFields = null, this.title = null, this.type = "attachments";
  }
};
__decorate([m({ type: [String], json: { write: true } })], i5.prototype, "attachmentKeywords", void 0), __decorate([m({ type: [["application", "audio", "image", "model", "text", "video"]], json: { write: true } })], i5.prototype, "attachmentTypes", void 0), __decorate([m({ type: String, json: { write: true } })], i5.prototype, "description", void 0), __decorate([m({ type: ["auto", "preview", "list"], json: { write: true } })], i5.prototype, "displayType", void 0), __decorate([m({ type: [a3], json: { write: true } })], i5.prototype, "orderByFields", void 0), __decorate([m({ type: String, json: { write: true } })], i5.prototype, "title", void 0), __decorate([m({ type: ["attachments"], readOnly: true, json: { read: false, write: { isRequired: true } } })], i5.prototype, "type", void 0), i5 = __decorate([a2("esri.popup.content.AttachmentsContent")], i5);
var n2 = i5;

// node_modules/@arcgis/core/popup/content/CustomContent.js
var p4;
var i6 = p4 = class extends p3 {
  constructor(o4) {
    super(o4), this.creator = null, this.destroyer = null, this.outFields = null, this.type = "custom";
  }
  clone() {
    return new p4({ creator: this.creator, destroyer: this.destroyer, outFields: Array.isArray(this.outFields) ? a(this.outFields) : null });
  }
};
__decorate([m()], i6.prototype, "creator", void 0), __decorate([m()], i6.prototype, "destroyer", void 0), __decorate([m()], i6.prototype, "outFields", void 0), __decorate([m({ type: ["custom"], readOnly: true })], i6.prototype, "type", void 0), i6 = p4 = __decorate([a2("esri.popup.content.CustomContent")], i6);
var c4 = i6;

// node_modules/@arcgis/core/popup/ElementExpressionInfo.js
var s5;
var p5 = s5 = class extends n {
  constructor(r6) {
    super(r6), this.title = null, this.expression = null, this.returnType = "dictionary";
  }
  clone() {
    return new s5({ title: this.title, expression: this.expression });
  }
};
__decorate([m({ type: String, json: { write: true } })], p5.prototype, "title", void 0), __decorate([m({ type: String, json: { write: true } })], p5.prototype, "expression", void 0), __decorate([m({ type: ["dictionary"], readOnly: true, json: { read: false, write: true } })], p5.prototype, "returnType", void 0), p5 = s5 = __decorate([a2("esri.popup.ElementExpressionInfo")], p5);
var i7 = p5;

// node_modules/@arcgis/core/popup/content/ExpressionContent.js
var p6;
var n3 = p6 = class extends p3 {
  constructor(o4) {
    super(o4), this.expressionInfo = null, this.type = "expression";
  }
  clone() {
    return new p6({ expressionInfo: this.expressionInfo?.clone() });
  }
};
__decorate([m({ type: i7, json: { write: true } })], n3.prototype, "expressionInfo", void 0), __decorate([m({ type: ["expression"], readOnly: true, json: { read: false, write: true } })], n3.prototype, "type", void 0), n3 = p6 = __decorate([a2("esri.popup.content.ExpressionContent")], n3);
var i8 = n3;

// node_modules/@arcgis/core/popup/FieldInfo.js
var d = class extends l(n) {
  constructor(t2) {
    super(t2), this.fieldName = null, this.isEditable = true, this.label = null, this.statisticType = null, this.stringFieldOption = "text-box", this.tooltip = null, this.visible = true;
  }
  set fieldFormat(t2) {
    this._set("fieldFormat", t2), this._set("format", t2 ? D(t2) : null);
  }
  set format(t2) {
    this._set("format", t2), this._set("fieldFormat", t2 ? m3(t2) : null);
  }
  readFormat(t2, o4) {
    if (!o4.fieldFormat) return t2 ? m2.fromJSON(t2) : null;
  }
  clone() {
    const t2 = super.clone();
    return t2._set("format", this.format?.clone()), t2._set("fieldFormat", this.fieldFormat?.clone()), t2;
  }
};
__decorate([m({ value: null, clonable: false, types: l2, json: { write: { overridePolicy(t2, o4, e4) {
  const { fieldName: r6 } = this;
  return { enabled: !!r6 && !r6.startsWith("expression/") && !r6.startsWith("relationships/") && !!e4?.writeFieldFormat };
} } } })], d.prototype, "fieldFormat", null), __decorate([m({ type: String, json: { write: true } })], d.prototype, "fieldName", void 0), __decorate([m({ value: null, clonable: false, type: m2, json: { write: true } })], d.prototype, "format", null), __decorate([o2("format")], d.prototype, "readFormat", null), __decorate([m({ type: Boolean, json: { write: { alwaysWriteDefaults: true }, default: true } })], d.prototype, "isEditable", void 0), __decorate([m({ type: String, json: { write: true } })], d.prototype, "label", void 0), __decorate([m({ type: ["count", "sum", "min", "max", "avg", "stddev", "var"], json: { write: true } })], d.prototype, "statisticType", void 0), __decorate([r2(new o({ richtext: "rich-text", textarea: "text-area", textbox: "text-box" }), { default: "text-box" })], d.prototype, "stringFieldOption", void 0), __decorate([m({ type: String, json: { write: true } })], d.prototype, "tooltip", void 0), __decorate([m({ type: Boolean, json: { write: true } })], d.prototype, "visible", void 0), d = __decorate([a2("esri.popup.FieldInfo")], d);
var f = d;

// node_modules/@arcgis/core/popup/content/FieldsContent.js
var p7;
var n4 = p7 = class extends p3 {
  constructor(t2) {
    super(t2), this.attributes = null, this.description = null, this.fieldInfos = null, this.title = null, this.type = "fields";
  }
  clone() {
    return new p7(a({ attributes: this.attributes, description: this.description, fieldInfos: this.fieldInfos, title: this.title }));
  }
};
__decorate([m({ type: Object, json: { write: true } })], n4.prototype, "attributes", void 0), __decorate([m({ type: String, json: { write: true } })], n4.prototype, "description", void 0), __decorate([m({ type: [f], json: { write: true } })], n4.prototype, "fieldInfos", void 0), __decorate([m({ type: String, json: { write: true } })], n4.prototype, "title", void 0), __decorate([m({ type: ["fields"], readOnly: true, json: { read: false, write: { isRequired: true } } })], n4.prototype, "type", void 0), n4 = p7 = __decorate([a2("esri.popup.content.FieldsContent")], n4);
var l3 = n4;

// node_modules/@arcgis/core/popup/content/mixins/MediaInfo.js
var p8 = class extends n {
  constructor(t2) {
    super(t2), this.altText = null, this.caption = "", this.title = "", this.type = null;
  }
};
__decorate([m({ type: String, json: { write: true } })], p8.prototype, "altText", void 0), __decorate([m({ type: String, json: { write: true } })], p8.prototype, "caption", void 0), __decorate([m({ type: String, json: { write: true } })], p8.prototype, "title", void 0), __decorate([m({ type: ["image", "bar-chart", "column-chart", "line-chart", "pie-chart"], readOnly: true, json: { read: false, write: true } })], p8.prototype, "type", void 0), p8 = __decorate([a2("esri.popup.content.mixins.MediaInfo")], p8);
var i9 = p8;

// node_modules/@arcgis/core/popup/content/support/ChartMediaInfoValueSeries.js
var s6;
var l4 = s6 = class extends b {
  constructor(o4) {
    super(o4), this.color = null, this.fieldName = null, this.tooltip = null, this.value = null;
  }
  clone() {
    return new s6({ color: this.color?.clone(), fieldName: this.fieldName, tooltip: this.tooltip, value: this.value });
  }
};
__decorate([m()], l4.prototype, "color", void 0), __decorate([m()], l4.prototype, "fieldName", void 0), __decorate([m()], l4.prototype, "tooltip", void 0), __decorate([m()], l4.prototype, "value", void 0), l4 = s6 = __decorate([a2("esri.popup.content.support.ChartMediaInfoValueSeries")], l4);
var p9 = l4;

// node_modules/@arcgis/core/popup/content/support/ChartMediaInfoValue.js
var n5;
var d2 = n5 = class extends n {
  constructor(o4) {
    super(o4), this.colors = null, this.fields = [], this.normalizeField = null, this.series = [], this.tooltipField = null;
  }
  clone() {
    return new n5({ colors: a(this.colors), fields: a(this.fields), normalizeField: this.normalizeField, series: a(this.series), tooltipField: this.tooltipField });
  }
};
__decorate([m({ type: [u], json: { type: [[x]], write: true } })], d2.prototype, "colors", void 0), __decorate([m({ type: [String], json: { write: { isRequired: true } } })], d2.prototype, "fields", void 0), __decorate([m({ type: String, json: { write: true } })], d2.prototype, "normalizeField", void 0), __decorate([m({ type: [p9], json: { read: false } })], d2.prototype, "series", void 0), __decorate([m({ type: String, json: { write: true } })], d2.prototype, "tooltipField", void 0), d2 = n5 = __decorate([a2("esri.popup.content.support.ChartMediaInfoValue")], d2);
var c5 = d2;

// node_modules/@arcgis/core/popup/content/mixins/ChartMediaInfo.js
var p10 = class extends i9 {
  constructor(o4) {
    super(o4), this.type = null, this.value = void 0;
  }
};
__decorate([m({ type: ["bar-chart", "column-chart", "line-chart", "pie-chart"], readOnly: true, json: { read: false, write: true } })], p10.prototype, "type", void 0), __decorate([m({ type: c5, json: { write: { isRequired: true } } })], p10.prototype, "value", void 0), p10 = __decorate([a2("esri.popup.content.mixins.ChartMediaInfo")], p10);
var i10 = p10;

// node_modules/@arcgis/core/popup/content/support/chartMediaInfoUtils.js
var c6 = i2()({ barchart: "bar-chart", columnchart: "column-chart", linechart: "line-chart", piechart: "pie-chart" });

// node_modules/@arcgis/core/popup/content/BarChartMediaInfo.js
var a4;
var i11 = a4 = class extends i10 {
  constructor(r6) {
    super(r6), this.type = "bar-chart";
  }
  clone() {
    return new a4({ altText: this.altText, title: this.title, caption: this.caption, value: this.value?.clone() });
  }
};
__decorate([m({ type: ["bar-chart"], readOnly: true, json: { type: ["barchart"], read: false, write: { writer: c6.write, isRequired: true } } })], i11.prototype, "type", void 0), i11 = a4 = __decorate([a2("esri.popup.content.BarChartMediaInfo")], i11);
var p11 = i11;

// node_modules/@arcgis/core/popup/content/ColumnChartMediaInfo.js
var i12;
var p12 = i12 = class extends i10 {
  constructor(t2) {
    super(t2), this.type = "column-chart";
  }
  clone() {
    return new i12({ altText: this.altText, title: this.title, caption: this.caption, value: this.value?.clone() });
  }
};
__decorate([m({ type: ["column-chart"], readOnly: true, json: { type: ["columnchart"], read: false, write: { writer: c6.write, isRequired: true } } })], p12.prototype, "type", void 0), p12 = i12 = __decorate([a2("esri.popup.content.ColumnChartMediaInfo")], p12);
var a5 = p12;

// node_modules/@arcgis/core/popup/content/support/ImageMediaInfoValue.js
var s7;
var p13 = s7 = class extends n {
  constructor(o4) {
    super(o4), this.linkURL = null, this.sourceURL = null;
  }
  clone() {
    return new s7({ linkURL: this.linkURL, sourceURL: this.sourceURL });
  }
};
__decorate([m({ type: String, json: { write: true } })], p13.prototype, "linkURL", void 0), __decorate([m({ type: String, json: { write: { isRequired: true } } })], p13.prototype, "sourceURL", void 0), p13 = s7 = __decorate([a2("esri.popup.content.support.ImageMediaInfoValue")], p13);
var i13 = p13;

// node_modules/@arcgis/core/popup/content/ImageMediaInfo.js
var i14;
var p14 = i14 = class extends i9 {
  constructor(e4) {
    super(e4), this.refreshInterval = 0, this.type = "image", this.value = void 0;
  }
  clone() {
    return new i14({ altText: this.altText, title: this.title, caption: this.caption, refreshInterval: this.refreshInterval, value: this.value?.clone() });
  }
};
__decorate([m({ type: Number, json: { write: true } })], p14.prototype, "refreshInterval", void 0), __decorate([m({ type: ["image"], readOnly: true, json: { read: false, write: { isRequired: true } } })], p14.prototype, "type", void 0), __decorate([m({ type: i13, json: { write: { isRequired: true } } })], p14.prototype, "value", void 0), p14 = i14 = __decorate([a2("esri.popup.content.ImageMediaInfo")], p14);
var a6 = p14;

// node_modules/@arcgis/core/popup/content/LineChartMediaInfo.js
var i15;
var p15 = i15 = class extends i10 {
  constructor(t2) {
    super(t2), this.type = "line-chart";
  }
  clone() {
    return new i15({ altText: this.altText, title: this.title, caption: this.caption, value: this.value?.clone() });
  }
};
__decorate([m({ type: ["line-chart"], readOnly: true, json: { type: ["linechart"], read: false, write: { writer: c6.write, isRequired: true } } })], p15.prototype, "type", void 0), p15 = i15 = __decorate([a2("esri.popup.content.LineChartMediaInfo")], p15);
var a7 = p15;

// node_modules/@arcgis/core/popup/content/PieChartMediaInfo.js
var i16;
var p16 = i16 = class extends i10 {
  constructor(t2) {
    super(t2), this.type = "pie-chart";
  }
  clone() {
    return new i16({ altText: this.altText, title: this.title, caption: this.caption, value: this.value?.clone() });
  }
};
__decorate([m({ type: ["pie-chart"], readOnly: true, json: { type: ["piechart"], read: false, write: { writer: c6.write, isRequired: true } } })], p16.prototype, "type", void 0), p16 = i16 = __decorate([a2("esri.popup.content.PieChartMediaInfo")], p16);
var a8 = p16;

// node_modules/@arcgis/core/popup/content/support/mediaInfoTypes.js
var m4 = { base: i9, key: "type", defaultKeyValue: "image", typeMap: { "bar-chart": p11, "column-chart": a5, "line-chart": a7, "pie-chart": a8, image: a6 } };

// node_modules/@arcgis/core/popup/content/MediaContent.js
var l5;
var u2 = l5 = class extends p3 {
  constructor(t2) {
    super(t2), this.activeMediaInfoIndex = null, this.attributes = null, this.description = null, this.mediaInfos = null, this.title = null, this.type = "media";
  }
  readMediaInfos(t2) {
    return t2 && t2.map((t3) => "image" === t3.type ? a6.fromJSON(t3) : "barchart" === t3.type ? p11.fromJSON(t3) : "columnchart" === t3.type ? a5.fromJSON(t3) : "linechart" === t3.type ? a7.fromJSON(t3) : "piechart" === t3.type ? a8.fromJSON(t3) : void 0).filter(Boolean);
  }
  writeMediaInfos(t2, o4) {
    o4.mediaInfos = t2 && t2.map((t3) => t3.toJSON());
  }
  clone() {
    return new l5(a({ activeMediaInfoIndex: this.activeMediaInfoIndex, attributes: this.attributes, description: this.description, mediaInfos: this.mediaInfos, title: this.title }));
  }
};
__decorate([m()], u2.prototype, "activeMediaInfoIndex", void 0), __decorate([m({ type: Object, json: { write: true } })], u2.prototype, "attributes", void 0), __decorate([m({ type: String, json: { write: true } })], u2.prototype, "description", void 0), __decorate([m({ types: [m4] })], u2.prototype, "mediaInfos", void 0), __decorate([o2("mediaInfos")], u2.prototype, "readMediaInfos", null), __decorate([r("mediaInfos")], u2.prototype, "writeMediaInfos", null), __decorate([m({ type: String, json: { write: true } })], u2.prototype, "title", void 0), __decorate([m({ type: ["media"], readOnly: true, json: { read: false, write: { isRequired: true } } })], u2.prototype, "type", void 0), u2 = l5 = __decorate([a2("esri.popup.content.MediaContent")], u2);
var I = u2;

// node_modules/@arcgis/core/popup/support/RelatedRecordsInfoFieldOrder.js
var s8;
var p17 = s8 = class extends n {
  constructor(r6) {
    super(r6), this.field = null, this.order = null;
  }
  clone() {
    return new s8({ field: this.field, order: this.order });
  }
};
__decorate([m({ type: String, json: { write: true } })], p17.prototype, "field", void 0), __decorate([m({ type: ["asc", "desc"], json: { write: true } })], p17.prototype, "order", void 0), p17 = s8 = __decorate([a2("esri.popup.support.RelatedRecordsInfoFieldOrder")], p17);
var i17 = p17;

// node_modules/@arcgis/core/popup/content/RelationshipContent.js
var n6 = class extends l(p3) {
  constructor(t2) {
    super(t2), this.description = null, this.displayCount = null, this.displayType = "list", this.orderByFields = null, this.relationshipId = null, this.title = null, this.type = "relationship";
  }
};
__decorate([m({ type: String, json: { write: true } })], n6.prototype, "description", void 0), __decorate([m({ type: Number, json: { type: x, write: true } })], n6.prototype, "displayCount", void 0), __decorate([m({ type: ["list"], json: { write: { isRequired: true } } })], n6.prototype, "displayType", void 0), __decorate([m({ type: [i17], json: { write: true } })], n6.prototype, "orderByFields", void 0), __decorate([m({ type: Number, json: { type: x, write: { isRequired: true } } })], n6.prototype, "relationshipId", void 0), __decorate([m({ type: String, json: { write: true } })], n6.prototype, "title", void 0), __decorate([m({ type: ["relationship"], readOnly: true, json: { read: false, write: { isRequired: true } } })], n6.prototype, "type", void 0), n6 = __decorate([a2("esri.popup.content.RelationshipContent")], n6);
var l6 = n6;

// node_modules/@arcgis/core/popup/content/TextContent.js
var s9;
var p18 = s9 = class extends p3 {
  constructor(t2) {
    super(t2), this.text = null, this.type = "text";
  }
  clone() {
    return new s9({ text: this.text });
  }
};
__decorate([m({ type: String, json: { write: true } })], p18.prototype, "text", void 0), __decorate([m({ type: ["text"], readOnly: true, json: { read: false, write: { isRequired: true } } })], p18.prototype, "type", void 0), p18 = s9 = __decorate([a2("esri.popup.content.TextContent")], p18);
var i18 = p18;

// node_modules/@arcgis/core/popup/support/UtilityNetworkAssociationType.js
var i19 = class extends l(n) {
  constructor(t2) {
    super(t2), this.title = null, this.description = null, this.type = null, this.associatedNetworkSourceId = null, this.associatedAssetGroup = null, this.associatedAssetType = null;
  }
};
__decorate([m({ type: String, json: { write: true } })], i19.prototype, "title", void 0), __decorate([m({ type: String, json: { write: true } })], i19.prototype, "description", void 0), __decorate([m({ type: ["attachment", "connectivity", "container", "content", "structure"], json: { write: true } })], i19.prototype, "type", void 0), __decorate([m({ type: Number, json: { type: x, write: true } })], i19.prototype, "associatedNetworkSourceId", void 0), __decorate([m({ type: Number, json: { type: x, write: true } })], i19.prototype, "associatedAssetGroup", void 0), __decorate([m({ type: Number, json: { type: x, write: true } })], i19.prototype, "associatedAssetType", void 0), i19 = __decorate([a2("esri.popup.support.UtilityNetworkAssociationType")], i19);
var c7 = i19;

// node_modules/@arcgis/core/popup/content/UtilityNetworkAssociationsContent.js
var c8 = class extends l(p3) {
  constructor(o4) {
    super(o4), this.description = null, this.displayCount = null, this.title = null, this.associationTypes = [], this.type = "utility-network-associations";
  }
};
__decorate([m({ type: String, json: { write: true } })], c8.prototype, "description", void 0), __decorate([m({ type: Number, json: { type: x, write: true } })], c8.prototype, "displayCount", void 0), __decorate([m({ type: String, json: { write: true } })], c8.prototype, "title", void 0), __decorate([m({ type: [c7], json: { write: true } })], c8.prototype, "associationTypes", void 0), __decorate([r2({ utilityNetworkAssociations: "utility-network-associations" })], c8.prototype, "type", void 0), c8 = __decorate([a2("esri.popup.content.UtilityNetworkAssociationsContent")], c8);
var a9 = c8;

// node_modules/@arcgis/core/popup/content.js
var a10 = { base: null, key: "type", typeMap: { attachment: n2, media: I, text: i18, expression: i8, field: l3, relationship: l6, utilityNetworkAssociations: a9 } };
var c9 = { base: null, key: "type", typeMap: { attachment: n2, media: I, text: i18, expression: i8, field: l3, relationship: l6 } };

// node_modules/@arcgis/core/popup/LayerOptions.js
var e2;
var p19 = e2 = class extends n {
  constructor(o4) {
    super(o4), this.returnTopmostRaster = null, this.showNoDataRecords = null;
  }
  clone() {
    return new e2({ showNoDataRecords: this.showNoDataRecords, returnTopmostRaster: this.returnTopmostRaster });
  }
};
__decorate([m({ type: Boolean, json: { write: true } })], p19.prototype, "returnTopmostRaster", void 0), __decorate([m({ type: Boolean, json: { write: true } })], p19.prototype, "showNoDataRecords", void 0), p19 = e2 = __decorate([a2("esri.popup.LayerOptions")], p19);
var a11 = p19;

// node_modules/@arcgis/core/popup/RelatedRecordsInfo.js
var p20;
var l7 = p20 = class extends n {
  constructor(o4) {
    super(o4), this.showRelatedRecords = null, this.orderByFields = null;
  }
  clone() {
    return new p20({ showRelatedRecords: this.showRelatedRecords, orderByFields: this.orderByFields ? a(this.orderByFields) : null });
  }
};
__decorate([m({ type: Boolean, json: { write: true } })], l7.prototype, "showRelatedRecords", void 0), __decorate([m({ type: [i17], json: { write: true } })], l7.prototype, "orderByFields", void 0), l7 = p20 = __decorate([a2("esri.popup.RelatedRecordsInfo")], l7);
var i20 = l7;

// node_modules/@arcgis/core/support/actions/ActionToggle.js
var e3;
var r5 = e3 = class extends p2 {
  constructor(t2) {
    super(t2), this.image = null, this.type = "toggle", this.value = false;
  }
  clone() {
    return new e3({ active: this.active, className: this.className, disabled: this.disabled, icon: this.icon, id: this.id, indicator: this.indicator, title: this.title, visible: this.visible, image: this.image, value: this.value });
  }
};
__decorate([m()], r5.prototype, "image", void 0), __decorate([m()], r5.prototype, "value", void 0), r5 = e3 = __decorate([a2("esri.support.actions.ActionToggle")], r5);
var a12 = r5;

// node_modules/@arcgis/core/PopupTemplate.js
var B = "relationships/";
var L = "expression/";
var M = O.ofType({ key: "type", defaultKeyValue: "button", base: p2, typeMap: { button: c2, toggle: a12 } });
var P = { base: p3, key: "type", typeMap: { media: I, custom: c4, text: i18, attachments: n2, fields: l3, expression: i8, relationship: l6, utilityNetworkAssociations: a9 } };
var W = /* @__PURE__ */ new Set(["attachments", "fields", "media", "text", "expression", "relationship"]);
var k = /* @__PURE__ */ new Set([...W, "utility-network-associations"]);
var U = class extends l(n) {
  constructor(t2) {
    super(t2), this.actions = null, this.content = "", this.expressionInfos = null, this.fieldInfos = null, this.layerOptions = null, this.lastEditInfoEnabled = true, this.outFields = null, this.overwriteActions = false, this.returnGeometry = false, this.title = "";
  }
  castContent(t2) {
    return Array.isArray(t2) ? t2.map((t3) => S(P, t3)) : "string" == typeof t2 || "function" == typeof t2 || t2 instanceof HTMLElement || C(t2) ? t2 : (i.getLogger(this).error("content error", "unsupported content value", { value: t2 }), null);
  }
  readContent(t2, e4) {
    const { popupElements: o4 } = e4;
    return Array.isArray(o4) && o4.length > 0 ? this._readPopupInfoElements(e4.description, e4.mediaInfos, o4) : this._readPopupInfo(e4);
  }
  writeWebSceneContent(t2, e4, o4, s10) {
    this._writePopupTemplateContent(t2, e4, s10);
  }
  writeWebMapContent(t2, e4, o4, s10) {
    this._writePopupTemplateContent(t2, e4, s10);
  }
  writeFieldInfos(t2, e4, o4, s10) {
    const { content: i21 } = this, r6 = Array.isArray(i21) ? i21 : null, { writeFieldFormat: n8, ...p22 } = s10 || {};
    if (t2) {
      const o5 = r6 ? r6.filter((t3) => "fields" === t3.type) : [], s11 = o5.length && o5.every((t3) => t3.fieldInfos?.length);
      e4.fieldInfos = t2.filter(Boolean).map((t3) => {
        const e5 = t3.toJSON(p22);
        return s11 && (e5.visible = false), e5;
      });
    }
    if (r6) for (const a13 of r6) "fields" === a13.type && this._writeFieldsContent(a13, e4, p22);
  }
  writeLayerOptions(t2, e4, o4, s10) {
    e4[o4] = !t2 || null === t2.showNoDataRecords && null === t2.returnTopmostRaster ? null : t2.toJSON(s10);
  }
  writeTitle(t2, e4) {
    e4.title = t2 || "";
  }
  async collectRequiredFields(t2, e4, o4) {
    const s10 = this.expressionInfos || [];
    await this._collectExpressionInfoFields(t2, e4, o4, [...s10, ...this._getContentExpressionInfos(this.content, s10)]), w(t2, e4, [...this.outFields || [], ...this._getActionsFields(this.actions), ...this._getTitleFields(this.title), ...this._getContentFields(this.content)]);
  }
  async getRequiredFields(t2, e4) {
    const o4 = /* @__PURE__ */ new Set();
    return await this.collectRequiredFields(o4, t2, e4), [...o4].sort();
  }
  _writePopupTemplateContent(t2, e4, o4) {
    "string" != typeof t2 ? Array.isArray(t2) && (e4.popupElements = t2.filter((t3) => "web-scene" === o4?.origin ? W.has(t3.type) : k.has(t3.type)).map((t3) => t3?.toJSON(o4)), e4.popupElements.forEach((t3) => {
      "attachments" === t3.type ? this._writeAttachmentContent(e4) : "media" === t3.type ? this._writeMediaContent(t3, e4) : "text" === t3.type ? this._writeTextContent(t3, e4) : "relationship" === t3.type && this._writeRelationshipContent(t3, e4);
    })) : e4.description = t2;
  }
  _writeFieldsContent(t2, e4, o4) {
    const s10 = t2.fieldInfos;
    if (!Array.isArray(s10) || !s10.length) return;
    const i21 = e4.fieldInfos;
    if (Array.isArray(i21)) for (const r6 of s10) {
      const t3 = i21.find((t4) => t4.fieldName?.toLowerCase() === r6.fieldName?.toLowerCase());
      t3 ? t3.visible = true : i21.push(r6.toJSON(o4));
    }
    else e4.fieldInfos = s10.map((t3) => t3.toJSON(o4));
  }
  _writeAttachmentContent(t2) {
    t2.showAttachments || (t2.showAttachments = true);
  }
  _writeRelationshipContent(t2, e4) {
    const o4 = t2.orderByFields?.map((e5) => this._toFieldOrderJSON(e5, t2.relationshipId)) || [], s10 = [...e4.relatedRecordsInfo?.orderByFields || [], ...o4];
    e4.relatedRecordsInfo = { showRelatedRecords: true, ...s10?.length && { orderByFields: s10 } };
  }
  _writeTextContent(t2, e4) {
    !e4.description && t2.text && (e4.description = t2.text);
  }
  _writeMediaContent(t2, e4) {
    if (!Array.isArray(t2.mediaInfos) || !t2.mediaInfos.length) return;
    const o4 = a(t2.mediaInfos);
    Array.isArray(e4.mediaInfos) ? e4.mediaInfos = [...e4.mediaInfos, ...o4] : e4.mediaInfos = o4;
  }
  _readPopupInfoElements(t2, e4, o4) {
    const s10 = { description: false, mediaInfos: false };
    return o4.map((o5) => "media" === o5.type ? (o5.mediaInfos || !e4 || s10.mediaInfos || (o5.mediaInfos = e4, s10.mediaInfos = true), I.fromJSON(o5)) : "text" === o5.type ? (o5.text || !t2 || s10.description || (o5.text = t2, s10.description = true), i18.fromJSON(o5)) : "attachments" === o5.type ? n2.fromJSON(o5) : "fields" === o5.type ? l3.fromJSON(o5) : "expression" === o5.type ? i8.fromJSON(o5) : "relationship" === o5.type ? l6.fromJSON(o5) : "utilityNetworkAssociations" === o5.type ? a9.fromJSON(o5) : void 0).filter(Boolean);
  }
  _toRelationshipContent(t2) {
    const { field: e4, order: o4 } = t2;
    if (!e4?.startsWith(B)) return null;
    const s10 = e4.replace(B, "").split("/");
    if (2 !== s10.length) return null;
    const i21 = parseInt(s10[0], 10), r6 = s10[1];
    return !Number.isNaN(i21) && r6 ? l6.fromJSON({ relationshipId: i21, orderByFields: [{ field: r6, order: o4 }] }) : null;
  }
  _toFieldOrderJSON(t2, e4) {
    const { order: o4, field: s10 } = t2;
    return { field: `${B}${e4}/${s10}`, order: o4 };
  }
  _readPopupInfo({ description: t2, mediaInfos: e4, showAttachments: o4, relatedRecordsInfo: s10 = { showRelatedRecords: false } }) {
    const i21 = [];
    t2 ? i21.push(new i18({ text: t2 })) : i21.push(new l3()), Array.isArray(e4) && e4.length && i21.push(I.fromJSON({ mediaInfos: e4 })), o4 && i21.push(n2.fromJSON({ displayType: "auto" }));
    const { showRelatedRecords: r6, orderByFields: n8 } = s10;
    return r6 && n8?.length && n8.forEach((t3) => {
      const e5 = this._toRelationshipContent(t3);
      e5 && i21.push(e5);
    }), i21.length ? i21 : t2;
  }
  _getContentElementFields(t2) {
    const e4 = t2?.type;
    if ("attachments" === e4) return [...this._extractFieldNames(t2.title), ...this._extractFieldNames(t2.description)];
    if ("custom" === e4) return t2.outFields || [];
    if ("fields" === e4) return [...this._extractFieldNames(t2.title), ...this._extractFieldNames(t2.description), ...this._getFieldInfoFields(t2.fieldInfos ?? this.fieldInfos)];
    if ("media" === e4) {
      const e5 = t2.mediaInfos || [];
      return [...this._extractFieldNames(t2.title), ...this._extractFieldNames(t2.description), ...e5.reduce((t3, e6) => [...t3, ...this._getMediaInfoFields(e6)], [])];
    }
    return "text" === e4 ? this._extractFieldNames(t2.text) : "relationship" === e4 || "utility-network-associations" === e4 ? [...this._extractFieldNames(t2.title), ...this._extractFieldNames(t2.description)] : [];
  }
  _getMediaInfoFields(t2) {
    const { caption: e4, title: o4, value: s10 } = t2, i21 = s10 || {}, { fields: r6, normalizeField: n8, tooltipField: p22, sourceURL: a13, linkURL: l8 } = i21, d3 = [...this._extractFieldNames(o4), ...this._extractFieldNames(e4), ...this._extractFieldNames(a13), ...this._extractFieldNames(l8), ...r6 ?? []];
    return n8 && d3.push(n8), p22 && d3.push(p22), d3;
  }
  _getContentExpressionInfos(t2, e4) {
    return Array.isArray(t2) ? t2.reduce((t3, e5) => [...t3, ..."expression" === e5.type && e5.expressionInfo ? [e5.expressionInfo] : []], e4) : [];
  }
  _getContentFields(t2) {
    return "string" == typeof t2 ? this._extractFieldNames(t2) : Array.isArray(t2) ? t2.reduce((t3, e4) => [...t3, ...this._getContentElementFields(e4)], []) : [];
  }
  async _collectExpressionInfoFields(t2, e4, o4, s10) {
    s10 && await Promise.all(s10.map((s11) => v(t2, e4, o4, s11.expression)));
  }
  _getFieldInfoFields(t2) {
    return t2 ? t2.filter(({ fieldName: t3, visible: e4 }) => !(void 0 !== e4 && !e4 || !t3 || t3.startsWith(B) || t3.startsWith(L))).map((t3) => t3.fieldName) : [];
  }
  _getActionsFields(t2) {
    return t2 ? t2.toArray().reduce((t3, e4) => [...t3, ...this._getActionFields(e4)], []) : [];
  }
  _getActionFields(t2) {
    const { className: e4, title: o4, type: s10 } = t2, i21 = "button" === s10 || "toggle" === s10 ? t2.image : "";
    return [...this._extractFieldNames(o4), ...this._extractFieldNames(e4), ...this._extractFieldNames(i21)];
  }
  _getTitleFields(t2) {
    return "string" == typeof t2 ? this._extractFieldNames(t2) : [];
  }
  _extractFieldNames(t2) {
    return ze(t2).filter((t3) => !(t3.startsWith(B) || t3.startsWith(L)));
  }
};
__decorate([m({ type: M })], U.prototype, "actions", void 0), __decorate([m()], U.prototype, "content", void 0), __decorate([s("content")], U.prototype, "castContent", null), __decorate([o2("content", ["description", "fieldInfos", "popupElements", "mediaInfos", "showAttachments", "relatedRecordsInfo"])], U.prototype, "readContent", null), __decorate([r("web-scene", "content", { popupElements: { type: O.ofType(c9) }, showAttachments: { type: Boolean }, mediaInfos: { type: O.ofType(m4) }, description: { type: String }, relatedRecordsInfo: { type: i20 } })], U.prototype, "writeWebSceneContent", null), __decorate([r("content", { popupElements: { type: O.ofType(a10) }, showAttachments: { type: Boolean }, mediaInfos: { type: O.ofType(m4) }, description: { type: String }, relatedRecordsInfo: { type: i20 } })], U.prototype, "writeWebMapContent", null), __decorate([m({ type: [i3], json: { write: true } })], U.prototype, "expressionInfos", void 0), __decorate([m({ type: [f] })], U.prototype, "fieldInfos", void 0), __decorate([r("fieldInfos")], U.prototype, "writeFieldInfos", null), __decorate([m({ type: a11 })], U.prototype, "layerOptions", void 0), __decorate([r("layerOptions")], U.prototype, "writeLayerOptions", null), __decorate([m({ type: Boolean, json: { read: { source: "showLastEditInfo" }, write: { target: "showLastEditInfo" }, default: true } })], U.prototype, "lastEditInfoEnabled", void 0), __decorate([m()], U.prototype, "outFields", void 0), __decorate([m()], U.prototype, "overwriteActions", void 0), __decorate([m()], U.prototype, "returnGeometry", void 0), __decorate([m({ json: { type: String } })], U.prototype, "title", void 0), __decorate([r("title")], U.prototype, "writeTitle", null), U = __decorate([a2("esri.PopupTemplate")], U);
var q = U;

// node_modules/@arcgis/core/graphic/getPopupProvider.js
var n7 = Symbol("popupProvider");
function o3(n8) {
  return "object" == typeof n8 && null !== n8 && "popupEnabled" in n8 && "popupTemplate" in n8;
}
function p21(o4) {
  return !!o4 && n7 in o4;
}
function t(o4) {
  return p21(o4) ? o4[n7] : null;
}

export {
  a3 as a,
  n2 as n,
  i7 as i,
  f,
  l3 as l,
  p9 as p,
  I,
  i17 as i2,
  i18 as i3,
  c7 as c,
  i3 as i4,
  p2,
  c2,
  a12 as a2,
  q,
  n7 as n2,
  o3 as o,
  t
};
//# sourceMappingURL=chunk-JNJX34GB.js.map
