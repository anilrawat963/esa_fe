{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/polygonUtils.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/polygon.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/focusAreaStyle.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lineUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/meshAutoFastUpdateConstants.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js", "../../@arcgis/core/views/3d/layers/graphics/webStyleUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js", "../../@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Path.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js", "../../@arcgis/core/core/libs/gl-matrix-2/math/mat2.js", "../../@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js", "../../@arcgis/core/views/3d/layers/support/uvUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js", "../../@arcgis/core/views/3d/layers/support/patternUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/LabelParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{e as t}from\"../../../../chunks/earcut.js\";import e from\"../../../../geometry/Extent.js\";import i from\"../../../../geometry/Polygon.js\";import{getZeroIndexArray as r}from\"../../../../geometry/support/Indices.js\";import{leastSignificantAxis as o}from\"../../../../geometry/support/polygonUtils.js\";import{Attribute as n}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as a}from\"../../webgl-engine/lib/Geometry.js\";function u(e,i,r){const n=(i.length>0?i[0]:e.length/3)-1,a=o(e,n,r);if(2!==a){e=e.slice();for(let t=0;t<e.length;t+=3)e[t+a]=e[t+2]}return t(e,i,3)}function s(t){const e=[[\"position\",new n(t.attributeData.position,t.indices,3,!0)]],i=r(t.indices.length);return null!=t.attributeData.colorFeature?e.push([\"colorFeatureAttribute\",new n([t.attributeData.colorFeature],i,1,!0)]):t.attributeData.color&&e.push([\"color\",new n(t.attributeData.color,i,4,!0)]),t.attributeData.uvMapSpace&&e.push([\"uvMapSpace\",new n(t.attributeData.uvMapSpace,t.indices,4,!0)]),t.attributeData.boundingRect&&e.push([\"boundingRect\",new n(t.attributeData.boundingRect,t.indices,9,!0)]),new a(t.material,e,t.mapPositions,0,t.attributeData.olidColor)}function c(t,e=null){const i=[[\"position\",new n(t.attributeData.position,t.indices,3,!0)],[\"uv0\",new n(t.attributeData.uv0,t.indices,2,!0)]];return new a(t.material,i,t.mapPositions,0,e)}function l(t){switch(t.type){case\"extent\":if(t instanceof e)return i.fromExtent(t);break;case\"polygon\":return t}return null}class p{constructor(t,e,i){this.renderData=t,this.layerViewUid=e,this.graphicUid=i,this.outGeometries=new Array}}export{p as PolygonCreationDataBase,s as createColorGeometry,u as createIndices3D,c as createWaterGeometry,l as geometryAsPolygon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as t,doubleSubArray as n}from\"../../../../geometry/support/DoubleArray.js\";import{ringsToTriangulationInfo as s}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as e}from\"../../terrain/OverlayRenderer.js\";function r(o,n,e,r){const p=s(o.rings,!!o.hasZ&&\"on-the-ground\"!==r.mode,1,o.spatialReference),u=t(p.position.length),a=i(p.position,o.spatialReference,0,u,0,p.position,0,p.position.length/3,n,e,r),h=null!=a;return new f(p.position,u,l(p.polygons,p.position,u),c(p.outlines,p.position,u),h,a)}function p(t,n){const i=s(t.rings,!1,1),r=o(i.position,t.spatialReference,0,i.position,n,0);for(let o=2;o<i.position.length;o+=3)i.position[o]=e;return{position:i.position,polygons:l(i.polygons,i.position),outlines:c(i.outlines,i.position),projectionSuccess:r}}function c(o,t,s=null){return o.filter(({count:o})=>o>1).map(({index:o,count:i})=>{const e=3*o,r=3*i;return null!=s?new a(o,i,n(t,e,r),n(s,e,r)):new u(o,i,n(t,e,r))})}function l(o,t,s=null){const i=new Array;for(const{index:e,count:r,holeIndices:p,pathLengths:c}of o){if(r<=1)continue;const o=3*e,l=3*r,u=p.map(o=>o-e),a=null!=s?new h(e,r,n(t,3*e,3*r),n(s,o,l),u,c):new m(e,r,n(t,3*e,3*r),u,c);i.push(a)}return i}class u{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class a extends u{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class h extends a{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class m extends u{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class f{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}export{f as PolygonRenderInfo,h as PolygonVertexData,m as PolygonVertexDataDraped,r as geometryToRenderInfo,p as geometryToRenderInfoDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{getMetersPerVerticalUnitForSR as e}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{normalFromMat4 as s}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as i,invertOrIdentity as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as l,a as c,i as p,g as m,n as h,t as u,d,e as g}from\"../../../../chunks/vec32.js\";import{ONES as f,create as y}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as b}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{create as _,fromBuffer as x,intersectsClippingArea as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as S}from\"../../../../geometry/support/DoubleArray.js\";import{newIndexArray as P,getZeroIndexArray as v}from\"../../../../geometry/support/Indices.js\";import{t as C}from\"../../../../chunks/vec3.js\";import{makeVertexCandidate as w,makeEdgeCandidate as E}from\"../../../../layers/graphics/data/SnappingCandidate.js\";import{getDriverAxisSizeValue as A}from\"../../../../renderers/support/renderingInfoUtils.js\";import{needsElevationUpdates3D as D,SampleElevationInfo as I}from\"./elevationAlignmentUtils.js\";import{Object3DEdgeState as U,Graphics3DObject3DGraphicLayer as L}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as z}from\"./Graphics3DSymbolLayer.js\";import{computeCentroid as O}from\"./graphicUtils.js\";import{geometryAsPolygon as M}from\"./polygonUtils.js\";import{createMaterial as G}from\"../support/edgeUtils.js\";import{encodeNaNUInt8 as V}from\"../support/symbolColorUtils.js\";import{debugFlags as T}from\"../../support/debugFlags.js\";import{SamplePosition as B}from\"../../support/ElevationProvider.js\";import{geometryToRenderInfo as R}from\"../../support/renderInfoUtils/polygon.js\";import{Attribute as F}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as H}from\"../../webgl-engine/lib/Geometry.js\";import{isGeometryWithMapPositions as k}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{compressNormals as N,compressNormal as W}from\"../../webgl-engine/lib/Normals.js\";import{Object3D as q}from\"../../webgl-engine/lib/Object3D.js\";import{DefaultMaterial as Z}from\"../../webgl-engine/materials/DefaultMaterial.js\";const J=[\"polygon\",\"extent\"];class K extends z{constructor(t,e,r,s){super(t,e,r,s,mt(e)),this.ensureDrapedStatus(!1)}async doLoad(){const t=this.symbolLayer,e=t?.material,r=this.symbolLayer.material?.color?.a,s=this.needsDrivenTransparentPass||null!=r&&1!==r,o=e?.emissive,i=!this._hasDrivenColorOrOpacity&&(null==r||0===r),n={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,ambient:f,diffuse:f,opacity:i?0:1,layerOpacity:this._getLayerOpacity(),drivenOpacity:s,hasSymbolColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:t.castShadows,emissiveStrength:o?.strength??0,emissiveSource:1,offsetTransparentBackfaces:!0,normalType:1},a=new Z(n,this._context),l=new Z({...n,cullFace:2},this._context);this._materials[0]=a,this._materials[1]=l,this._updateTransparentDepedentMaterialParameters()}destroy(){super.destroy(),this._materials.length=0}createGraphics3DGraphic(t){const e=t.graphic;if(!this._validateGeometry(e.geometry,J,this.symbolLayer.type))return null;const r=this._getDrivenUInt8ColorWithNaNSupport(t.renderingInfo,this._materialColor,!1);V(r,r);const s=this.createElevationContextForGraphic(e);return this._createAs3DShape(e,t.renderingInfo,r,s,e.uid)}layerOpacityChanged(t,e){const r=this._getLayerOpacity();this._materials[0]?.setParameters({layerOpacity:r}),this._materials[1]?.setParameters({layerOpacity:r}),this._updateTransparentDepedentMaterialParameters(),t?.forEach(t=>e(t)?.layerOpacityChanged(r,this._context.isAsync))}layerScreenSizePerspectiveChanged(){}layerElevationInfoChanged(t,e){return this.updateGraphics3DGraphicElevationInfo(t,e,D)}slicePlaneEnabledChanged(t,e){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[1]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t?.forEach(t=>{const r=e(t);null!=r&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)}),!0}physicalBasedRenderingChanged(){const t={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0};return this._materials[0]?.setParameters(t),this._materials[1]?.setParameters(t),!0}_getExtrusionSize(t){let e;return e=t.size&&this._drivenProperties.size?A(t.size,2)??0:this._getSymbolSize(),e/=this._context.renderCoordsHelper.unitInMeters,e}applyRendererDiff(t,e){return this._drivenPropertiesChanged(e)?0:1}async queryForSnapping(r,s,o,i){const n=this._getExtrusionSize(o)*this._context.renderCoordsHelper.unitInMeters/e(s),{objectId:a,target:l}=r,c=t(l);switch(c.z=(c.z??0)+n,r.type){case\"edge\":{const{start:e,end:s}=r,o=t(e),i=t(s);return o.z=(o.z??0)+n,i.z=(i.z??0)+n,[E(a,c,1/0,o,i)]}case\"vertex\":return[w(a,c,1/0),E(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(t,e,n,l,c){const p=M(t.geometry);if(null==p)return null;if(0===p.rings.length||!p.rings.some(t=>t.length>0))return this._logGeometryValidationWarnings(p.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),null;const m=R(p,this._context.elevationProvider,this._context.renderCoordsHelper,l);this._logGeometryCreationWarnings(m,p.rings,\"rings\",\"ExtrudeSymbol3DLayer\");const h=O(p);if(null==h)return null;const u=new Array,d=new Array,g=_(),f=a(),v=y(),w=1===this._context.renderCoordsHelper.viewingMode;w||this._context.renderCoordsHelper.worldUpAtPosition(null,v),b(p.spatialReference,[h.x,h.y,0],f,this._context.renderCoordsHelper.spatialReference);const E=a();i(E,f);const A=o();s(A,E);const{polygons:I,mapPositions:z,position:V}=m,T=new Map,B=this._materials[0];for(const s of I){const t=s.count;if(this._context.clippingExtent&&(x(s.mapPositions,g),!j(g,this._context.clippingExtent)))continue;const o=r(s.mapPositions,s.holeIndices,3);if(0===o.length)continue;const i=o.length,a=6*t,l=P(a+i),p=P(i),m=S(3*a),h=S(3*a),y=S(3*a),b=S(a);X(V,z,o,s,m,y,h,b,l,p,this._getExtrusionSize(e),v,w),C(m,m,E);const _=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerViewUid:this._context.layerViewUid}),A=new jt(m,y,N(h),b),D=Q(B,l,l.length-p.length,A,n,_),I=t,U=t,L=2*s.count,O=new St(I,U,L,i/3);pt(D,O,f),T.set(D,O),u.push(D,Q(this._materials[1],p,0,A,n,_)),d.push(A.heights)}if(0===u.length)return null;const F=new q({geometries:u,layerViewUid:this._context.layerViewUid,graphicUid:c,isElevationSource:!0});F.transformation=f;const H=G(this.symbolLayer,{opacity:this._getLayerOpacity()}),k=H?new U(this._materials[0],H,this._context.slicePlaneEnabled):null,W=new L(this,F,null,(t,e,r,s,o)=>ct(t,e,r,s,o,d,T),l,k);return W.alignedSampledElevation=m.sampledElevation,W.needsElevationUpdates=D(l.mode),W}get _materialColor(){return this.symbolLayer.material?.color}_updateTransparentDepedentMaterialParameters(){const t=this._materials[0];t&&t.setParameters({cullFace:t.transparent?0:2})}}function Q(t,e,r,s,o,i){const n=v(e.length),a=[[\"position\",new F(s.positions,e,3,!0)],[\"normalCompressed\",new F(s.normals,e,2,!0)],[\"symbolColor\",new F(o,n,4,!0)]];return new H(t,a,s.elevation,0,i,r)}function X(t,e,r,s,o,i,n,a,l,c,p,m,h){const u=r.length/3;let d=2*s.count;Y(t,e,s.index,s.count,r,0,u,o,i,n,a,l,c,d,p,m,h);let g=0,f=2*s.count;d=0;const y=s.pathLengths[0];et(o,i,a,n,g,y,s.count,f,l,d,p),f+=4*y,d+=2*y,g+=y;for(let b=1;b<s.pathLengths.length;++b){const t=s.pathLengths[b];et(o,i,a,n,g,t,s.count,f,l,d,p),f+=4*t,d+=2*t,g+=t}}function Y(t,e,r,s,o,i,n,a,l,c,p,m,u,g,f,y,b){d(ut,y),l??=[],c??=[],p??=[];const _=f>0?1:-1;let x=3*r,j=0,S=3*j,P=s,v=3*P;for(let d=0;d<s;++d){const r=t[x],s=t[x+1],o=t[x+2];b&&(ut[0]=r,ut[1]=s,ut[2]=o,h(ut,ut)),a[S+0]=r,a[S+1]=s,a[S+2]=o;const i=e[x+0],n=e[x+1],m=e[x+2];l[S+0]=i,l[S+1]=n,l[S+2]=m,c[S+0]=-_*ut[0],c[S+1]=-_*ut[1],c[S+2]=-_*ut[2],p[j]=0,a[v+0]=r+f*ut[0],a[v+1]=s+f*ut[1],a[v+2]=o+f*ut[2],l[v+0]=i,l[v+1]=n,l[v+2]=m,p[P]=f,S+=3,v+=3,x+=3,j+=1,P+=1}x=3*i,S=0,v=3*g;const C=f<0?ft:gt,w=f<0?gt:ft;for(let h=0;h<n;++h)u[S]=o[x+C[0]],u[S+1]=o[x+C[1]],u[S+2]=o[x+C[2]],m[v]=o[x+w[0]]+s,m[v+1]=o[x+w[1]]+s,m[v+2]=o[x+w[2]]+s,S+=3,v+=3,x+=3}function $(t,e,r,s,o,i,n){s[i]=s[n],n*=3,t[i*=3]=t[n],t[i+1]=t[n+1],t[i+2]=t[n+2],e[i]=e[n],e[i+1]=e[n+1],e[i+2]=e[n+2],r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2]}const tt=y();function et(t,e,r,s,o,i,n,a,l,c,p){e??=[],r??=[],s??=[];let m=o,h=o+1,u=o+n,d=o+n+1,g=a,f=a+1,y=a+2*i,b=a+2*i+1;p<0&&(m=o+n+1,d=o);let _=3*c;for(let x=0;x<i;++x)x===i-1&&(h=o,p>0?d=o+n:m=o+n),at(t,m,h,u,tt),$(t,e,s,r,tt,g,m),$(t,e,s,r,tt,f,h),$(t,e,s,r,tt,y,u),$(t,e,s,r,tt,b,d),l[_]=g,l[_+1]=y,l[_+2]=b,l[_+3]=g,l[_+4]=b,l[_+5]=f,_+=6,m++,h++,u++,d++,g+=2,f+=2,y+=2,b+=2}const rt=y(),st=y(),ot=y(),it=y(),nt=y();function at(t,e,r,s,o){e*=3,r*=3,s*=3,l(rt,t[e++],t[e++],t[e++]),l(st,t[r++],t[r++],t[r++]),l(ot,t[s++],t[s++],t[s++]),g(it,st,rt),g(nt,ot,rt),p(o,nt,it),h(o,o)}const lt=y();function ct(t,e,r,s,o,i,c){const p=t.stageObject,m=p.geometries,h=m.length,d=\"absolute-height\"!==e.mode;let g=0;const f=p.transformation,y=n(a(),f);for(let n=0;n<h;n+=2){const t=m[n];if(!k(t))continue;const e=t.getMutableAttribute(\"position\").data,a=i[n/2],h=new B(t.mapPositions),b=e.length/3;let _=!1,x=0;{let t=0;for(let i=0;i<b;i++){lt[0]=e[t],lt[1]=e[t+1],lt[2]=e[t+2],s(h,dt),d&&(x+=dt.sampledElevation),T.TESTS_DISABLE_OPTIMIZATIONS?(l(ht,h.array[h.offset],h.array[h.offset+1],dt.z+a[t/3]),null!=r&&o.toRenderCoords(ht,r,ht),u(ht,ht,y)):(l(ht,e[t],e[t+1],e[t+2]),u(ht,ht,f),o.setAltitude(ht,dt.z+a[t/3]),u(ht,ht,y)),e[t]=ht[0],e[t+1]=ht[1],e[t+2]=ht[2];const i=yt/o.unitInMeters;(Math.abs(lt[0]-e[t])>=i||Math.abs(lt[1]-e[t+1])>=i||Math.abs(lt[2]-e[t+2])>=i)&&(_=!0),h.offset+=3,t+=3}}if(_){const e=c.get(t);e&&pt(t,e,f),p.geometryVertexAttributeUpdated(m[n],\"normalCompressed\"),t.invalidateBoundingInfo(),p.geometryVertexAttributeUpdated(m[n],\"position\"),m[n+1].invalidateBoundingInfo(),p.geometryVertexAttributeUpdated(m[n+1],\"position\")}g+=x/b}return g/h}function pt(t,e,r){const s=t.getMutableAttribute(\"position\"),o=t.getMutableAttribute(\"normalCompressed\").data,i=s.data,n=t.attributes.get(\"position\").indices,{topVertexStart:a,topVertexCount:d,topFaceStart:g,topFaceCount:f}=e,y=g+f,b=a+d,_=bt,x=_t,j=xt,S=ut,P=ht;l(P,0,0,0);const v=(t,e)=>{const s=3*t;l(e,i[s+0],i[s+1],i[s+2]),u(e,e,r)};for(let l=g;l<y;++l){const t=3*l;v(n[t+0],_[0]),v(n[t+1],_[1]),v(n[t+2],_[2]),c(x,_[1],_[0]),c(j,_[2],_[0]),p(S,x,j),m(P,P,S)}h(P,P);for(let l=a;l<b;++l){const t=P[0],e=P[1],r=P[2];W(o,l,t,e,r)}}function mt(t){return 1===(t.material?.color?.a??0)}const ht=y(),ut=y(),dt=new I,gt=[0,2,1],ft=[0,1,2],yt=.01,bt=[y(),y(),y()],_t=y(),xt=y();class jt{constructor(t,e,r,s){this.positions=t,this.elevation=e,this.normals=r,this.heights=s}}class St{constructor(t,e,r,s){this.topVertexStart=t,this.topVertexCount=e,this.topFaceStart=r,this.topFaceCount=s}}export{K as Graphics3DExtrudeSymbolLayer,X as extrudePolygon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst t=.42,r=.32;function c(c,n){if(c)switch(n){case\"bright\":{const t=(c[0]+c[1]+c[2])/3;return[t*r+(1-r),t*r+(1-r),t*r+(1-r),c[3]*r]}case\"dark\":return[c[0]*t,c[1]*t,c[2]*t,c[3]*t]}}export{c as focusAreaHUDColor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r,empty as i,expandWithRect as o,center as s,set as d,toRect as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{demResolutionForBoundingBox as h}from\"./graphicUtils.js\";class c{constructor(e,t,r,i){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=r,this._drapeSourceRenderer=i,this.type=\"draped\",this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e.stage}get usedMemory(){return this.graphics3DSymbolLayer.usedMemory}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,0);if(e||this._addedToStage){for(const e of this.renderGeometries)e.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,1)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,2),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(r=t()){return e(r,0,0,0)}getBoundingBoxObjectSpace(e=r()){return i(e)}addObjectState(e){0===e.stateType&&(this.renderGeometries.forEach(t=>{const r=t.geometry.allocateIdAndHighlight(e.highlightName);e.addRenderGeometry(t,r,this)}),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,8))}removeObjectState(e){this.renderGeometries.forEach(t=>e.removeByObject(t))}updateHighlights(e){}removeRenderGeometryObjectState(e,t){0===t.channel&&(e.geometry.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries([e],8))}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.geometry.computeAttachmentOrigin(u)&&(e.draped.origin[0]+=u[0],e.draped.origin[1]+=u[1],e.draped.num++)}async getProjectedBoundingBox(e,t,r,d,a){i(a);for(let i=0;i<this.renderGeometries.length;i++){const t=this.renderGeometries[i];this._getRenderGeometryProjectedBoundingRect(t,e,m,r),o(a,m)}if(t){let e;s(a,u);const r=h(a,t.service.spatialReference,t);try{e=await t.service.queryElevation(u[0],u[1],d,r,\"ground\")}catch(n){}null!=e&&(a[2]=Math.min(a[2],e),a[5]=Math.max(a[5],e))}return a}_getRenderGeometryProjectedBoundingRect(e,t,r,i){if(this.boundingBox)d(g,this.boundingBox);else{const t=e.boundingSphere,r=t[3];g[0]=t[0]-r,g[1]=t[1]-r,g[2]=t[2]-r,g[3]=t[0]+r,g[4]=t[1]+r,g[5]=t[2]+r}return t(g,0,2),this.calculateRelativeScreenBounds&&i.push({location:s(g),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),a(g,r)}}const m=n(),g=r(),u=t();export{c as Graphics3DDrapedGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{result as t,createTask as r}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{abortMaybe as o,releaseMaybe as a}from\"../../../../core/maybe.js\";import{throwIfAbortError as n,throwIfAborted as l}from\"../../../../core/promiseUtils.js\";import{pt2px as c,px2pt as h}from\"../../../../core/screenUtils.js\";import{numericHash as u}from\"../../../../core/string.js\";import{dataComponents as m}from\"../../../../core/urlUtils.js\";import{fromValues as p,create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as _,create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as y,ZEROS as g,fromValues as x}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectPointToVector as b}from\"../../../../geometry/projection/projectPointToVector.js\";import{containsPoint as v}from\"../../../../geometry/support/aaBoundingBox.js\";import S from\"../../../../layers/support/FieldsIndex.js\";import{createRendererExpression as P}from\"../../../../support/ArcadeExpression.js\";import{CIMSymbolHelper as w}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import{evaluateValueOrFunction as z}from\"../../../../symbols/cim/utils.js\";import{scaleCIMSymbol as C}from\"../../../../symbols/support/cimSymbolUtils.js\";import{defaultPrimitive as R}from\"../../../../symbols/support/IconSymbol3DLayerResource.js\";import{Symbol3DAnchorPosition2D as M}from\"../../../../symbols/support/Symbol3DAnchorPosition2D.js\";import{getIconHref as I}from\"../../../../symbols/support/utils.js\";import{transparentUnit as O}from\"./constants.js\";import{perObjectElevationAligner as j}from\"./ElevationAligners.js\";import{elevationModeChangeUpdateType as F,needsElevationUpdates2D as T}from\"./elevationAlignmentUtils.js\";import{focusAreaHUDColor as E}from\"./focusAreaStyle.js\";import{Graphics3DDrapedGraphicLayer as U}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as D}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as V}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as G}from\"./graphicUtils.js\";import{namedAnchorToHUDMaterialAnchorPos as L}from\"./placementUtils.js\";import{placePointOnGeometry as A,updateStageObjectGeometry as H,getLocalOriginForPoint as k,extendPointGraphicElevationContext as B,createStageObject as $}from\"./pointUtils.js\";import{initFastSymbolUpdatesState as N,updateFastSymbolUpdatesState as q,evaluateModelTransformScale as J,ConvertOptions as Z}from\"../support/FastSymbolUpdates.js\";import{createTexture as W,requiresHalfTexelOffset as K,defaultBoundingBox as Q,defaultSymbolSizeRatio as X,defaultTexSize as Y}from\"../../support/engineContent/sdfPrimitives.js\";import{drapedZ as ee}from\"../../terrain/OverlayRenderer.js\";import{VerticalOffsetParameters as te}from\"../../webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{createPointGeometry as re}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderGeometry as ie}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Texture as se}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as oe}from\"../../webgl-engine/materials/HUDMaterial.js\";const ae=_(0,0,1),ne=16,le=1.5,ce=[Y*X,Y*X];class he extends V{static{this.PRIMITIVE_SIZE=ce}getCachedSize(){return{size:this._getIconSize()}}static{this.elevationModeChangeTypes={definedChanged:1,staysOnTheGround:0,onTheGroundChanged:2}}constructor(e,t,r,i){super(e,t,r,i,ye(t)),this._cimData=null,this._overrideHelperClass=null,this._arcadeInfo=null,this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._cimScaleFactorOrFunction=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._textureHandle=null,this._patchTask=null,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(null!=r)this._prepareResourcesPrimitive(t,r);else{const r=I(this.symbolLayer),i=pe(r);null!=i?await this._prepareResourcesCIM(t,JSON.parse(i),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=G(this._getIconSize());if(e)throw new i(\"graphics3diconsymbollayer:invalid-size\",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?c(e.size):ne);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e,t){const r=this._overrideHelperClass;let i=this._cimData;if(r&&i&&i.symbol||this.logger.error(\"Can't create texture, CIM data is undefined\"),i.primitiveOverrides){i=s(i);const o=i.primitiveOverrides;r.evaluateOverrides(o,e,this._arcadeInfo.geometryType,null,null,t.layer.fieldsIndex),r.applyOverrides(i.symbol,o)}const o=u(JSON.stringify(i));let a=this._cimSymbolTextures.get(o);if(a)return a;const n=this._context.sharedResources.cimSymbolRasterizer,l=this._context.renderer&&\"dictionary\"===this._context.renderer.type?this._context.renderer.fieldMap:null;l&&r.applyDictionaryTextOverrides(i.symbol,e,l,null);const c=null!=this._cimScaleFactorOrFunction?z(this._cimScaleFactorOrFunction,e):1;1!==c&&i.symbol&&C(i.symbol,c,!0);const h=w.getEnvelope(i,null,n.resourceManager);if(h?.width&&h.height){const e=h.x+h.width/2,t=h.y+h.height/2,r=n.rasterize({type:\"cim\",data:i},h.width,h.height,e,t,1,\"esriGeometryPoint\",0,null,this._context.graphicsCoreOwner.view.state.rasterPixelRatio),s=new M({x:-h.x/h.width-.5,y:(h.height+h.y)/h.height-.5});this._cimMaterialParametersInfo.anchorPosition=de(\"relative\",s),a=new se(r,{width:r?.width??1,height:r?.height??1,reloadable:!0})}else a=new se(new ImageData(1,1),{width:1,height:1,reloadable:!0});return this._cimSymbolTextures.set(o,a),this._context.stage.addTexture(a),a}_prepareMaterialParameters(){const e={anchorPosition:de(this.symbolLayer.anchor,this.symbolLayer.anchorPosition),rotation:this.symbolLayer.angle},t=this.symbol;ue(t)&&(e.verticalOffset=new te(t.verticalOffset)),this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this.view.screenSizePerspective.parameters),(0!==e.rotation||this._drivenProperties.rotation)&&(e.hasRotation=!0);const r=!!has(\"enable-feature:non-occluded-hud\");return e.occlusionTest=!r,e.occludedFragmentFade=r,e.horizonCullingEnabled=r&&this._context.spherical,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(me(t)&&0===r)throw new Error(\"Nothing to render\");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,null!=this._context.sharedResources.textures){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,()=>W(t));this._textureHandle=r,e.textureId=r.texture.id}e.textureIsSignedDistanceField=!0,e.sampleSignedDistanceFieldTexelCenter=K(t),e.distanceFieldBoundingBox=Q;const i=this._getIconSize();this._size=[i,i],this._symbolTextureRatio=1/X,this._createMaterial(e)}async _prepareResourcesHref(e,r,s){this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),a=o*this._context.graphicsCoreOwner.view.state.rasterPixelRatio;if(null!=this._context.sharedResources.textures){const l=await t(this._context.sharedResources.textures.fromUrl(r,a,{signal:s}));if(!1===l.ok){n(l.error);throw new i(\"graphics3diconsymbollayer:request-failed\",`Failed to load (Request for icon resource failed: ${r})`)}this._textureHandle=l.value;const c=l.value.texture;this._size=_e(c,o),e.textureId=c.id}this._createMaterial(e)}async _prepareResourcesCIM(e,t,r){const{OverrideHelper:i}=await import(\"../../../../symbols/cim/OverrideHelper.js\");if(this._overrideHelperClass=i,this._cimData=t,!this._context.sharedResources.cimSymbolRasterizer){const e=(await import(\"../../../../symbols/cim/CIMSymbolRasterizer.js\")).CIMSymbolRasterizer;l(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference))}const s=this._context.sharedResources.cimSymbolRasterizer,o=[],a=t,n=a?.symbol;w.fetchResources(n,s.resourceManager,o,r),w.fetchFonts(n,s.resourceManager,o);const c=this._context.layer.fields?this._context.layer.fields.map(e=>e.toJSON()):[],h=this._context.renderCoordsHelper.spatialReference;if(this._arcadeInfo={spatialReference:h,fields:c,geometryType:\"esriGeometryPoint\"},a?.primitiveOverrides&&o.push(i.createRenderExpressions(a.primitiveOverrides,this._arcadeInfo)),o.length>0&&(await Promise.all(o),l(r)),this._context.renderer&&\"dictionary\"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(e.scaleExpression){const t=e.scaleExpression,r=await P(t,this._context.layer.spatialReference),{default:i}=await import(\"../../../2d/arcade/callExpressionWithFeature.js\"),s=new S(c);this._cimScaleFactorOrFunction=(e,t,o)=>{const a=i(r,e,{$view:o},\"esriGeometryPoint\",s,t);return null!==a?a:1}}}l(r),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return fe(this.symbolLayer)}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(null!=t.outline?.size)return Math.max(c(t.outline.size),0);return e=me(this._getPrimitive())?le:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,i=r?.outline?.color;if(null!=i){const r=e.toUnitRGB(i),s=i.a*t;return[r[0],r[1],r[2],s]}return[0,0,0,0]}_getFillColor(){if(me(this._getPrimitive()))return O;const e=null==this._getPrimitive(),t=this._materialColor;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}get _materialColor(){return this.symbolLayer.material?.color}get _fastVisualVariableFallbackColor(){const t=this._materialColor;if(null==t){return null==this._getPrimitive()?y:g}return e.toUnitRGBA(t)}_getFallbackSize(){const e=this._getIconSize(),{symbolLayer:{size:t}}=this;return(null!=t?Math.round(c(t)):ne)/e}_createMaterial(e){const t=this._context.spherical;if(this._cimData){this._fastUpdates=null;let r=e.textureId?this._cimSymbolMaterials.get(e.textureId):null;return r||(r=new oe(e,t),this._cimSymbolMaterials.set(e.textureId??0,r)),r}this._fastUpdates=N(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates&&(e={...e,...this._fastUpdates.materialParameters}),this._materials[0]=new oe(e,t),e.isFocused=!1;const r=this.view.map?.focusAreas.style;return e.color=E(e.color,r),e.outlineColor=E(e.outlineColor,r),this._materials[1]=new oe(e,t),this._materials[0]}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial(e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,draped:this.draped})}),this.layerOpacityChanged())}destroy(){super.destroy(),this._patchTask=o(this._patchTask),this._materials.length=0,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach(e=>this._context.stage.removeTexture(e)),this._cimSymbolTextures.clear(),this._textureHandle=a(this._textureHandle)}_getScaleFactor({size:e},t){if(!this._drivenProperties.size)return 1;if(null==e)return this._getFallbackSize();const[r,i,s]=e;return\"symbol-value\"===r?1:\"number\"==typeof r&&isFinite(r)?c(r)/t:\"number\"==typeof s&&isFinite(s)?c(s)/t:1}_getDrivenRotation(e){return this._drivenProperties.rotation?e.heading??0:0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const r=A(t.geometry);if(null==r)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;let i,s=[0,0];const o=this.view.focusAreasView?.containsGeometry(r)??!0;if(this._cimData){if(!this._cimData.symbol)return null;const r=this._generateTextureCIM(t,e),a={textureId:r.id,isFocused:o,...this._cimMaterialParametersInfo};i=this._createMaterial(a);const n=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;s=[r.parameters.width/n,r.parameters.height/n]}else s=this._size,i=o?this._materials[0]:this._materials[1];if(null==r)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const a=e.renderingInfo,n=this._getDrivenUInt8Color(a,this._materialColor,null==this._getPrimitive()),l=this._getDrivenRotation(a);let c=1;if(!this._fastUpdates?.visualVariables.size){const e=s[0]>s[1]?s[0]:s[1];c=this._getScaleFactor(a,e)}c*=this._symbolTextureRatio;const h=p(s[0]*c,s[1]*c),u=this.createElevationContextForGraphic(t);return this.ensureDrapedStatus(\"on-the-ground\"===u.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,r,i,n,l,h):this._createAs3DShape(t,r,i,n,l,h,u,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial(r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})})}layerScreenSizePerspectiveChanged(){const e=this._context.screenSizePerspectiveEnabled&&!this.draped?this.view.screenSizePerspective.parameters:null;this._forEachMaterial(t=>{t.setParameters({screenSizePerspective:e})})}updateGeometry(e,t){const r=e.geometry;if(this.draped||!r||!this._validateGeometry(r))return!1;const{elevationContext:i,stageObject:s}=t;if(i.mode!==this.getGeometryElevationMode(r))return!1;const o=A(r);if(!o)return!1;i.updateFeatureExpressionFeature(e,this._context.layer);const a=H(s,this._context,o,i);if(null==a)return!1;const n=k(this._context,o);return s.geometries[0].localOrigin===n&&(t.alignedSampledElevation=a,B(t,o,this._context.elevationProvider),!0)}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=F(he.elevationModeChangeTypes,r,i);if(1!==s)return s;const o=T(i)||\"absolute-height\"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,()=>o)}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial(e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})}),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return null!=this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return 0;if(!q(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return 0;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return 2}get needsUpdateFocus(){return!0}prepareSymbolLayerPatch(e){if(this._patchTask?.abort(),\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchResource(e,t),this._preparePatchRotation(e,t)}_preparePatchResource(e,s){if(!s.resource||\"partial\"!==s.resource.type)return;const c=s.resource.diff;if(\"complete\"!==c?.href?.type)return;const h=c.href.newValue,{textures:u}=this._context.sharedResources;if(null==h||null==u||null!=pe(h))return;const m=this._getIconSize(),p=m*this._context.graphicsCoreOwner.view.state.pixelRatio;e.symbolLayerStatePatches.push(()=>{this._patchTask=o(this._patchTask),this._patchTask=r(e=>this._context.schedule(async(e,r)=>{const s=await t(u.fromUrl(h,p,{signal:r}));l(r);const o=!s.ok;if(o&&n(s.error),this._textureHandle=a(this._textureHandle),this._patchTask=null,o){this._forEachMaterial(e=>{e.visible=!1,e.setParameters({textureId:null})});const e=`Failed to load (Request for icon resource failed: ${h})`;return void this.logger.error(new i(\"graphics3diconsymbollayer:request-failed\",e))}this._textureHandle=s.value;const c=s.value.texture;this._size=_e(c,m),this._forEachMaterial(e=>{e.setParameters({textureId:c.id}),e.visible=!0})},e))}),delete c.href}_preparePatchRotation(e,t){if(!t.angle||\"complete\"!==t.angle.type)return;const r=t.angle.newValue??0,i=0!==r||this._drivenProperties.rotation;e.symbolLayerStatePatches.push(()=>{this._forEachMaterial(e=>e.setParameters({rotation:r,hasRotation:i}))}),delete t.angle}_defaultElevationInfoNoZ(){return ge}_createAs3DShape(e,t,r,i,s,o,a,n){const l=this.getFastUpdateAttrValues(e),c=this._context.layerViewUid,h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerViewUid:c}),u=re(r,{normal:ae,color:i,rotation:s,size:o,centerOffsetAndDistance:xe,featureAttribute:l,olidColor:h}),m=$(this._context,t,u,a,n);if(null==m)return null;const p=new D(this,m.object,null,j,a);return p.alignedSampledElevation=m.sampledElevation,p.needsElevationUpdates=T(a.mode)||\"absolute-height\"===a.mode,p.getScreenSize=this._createScreenSizeGetter(o,l),p.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(p.getScreenSize(),1,e),B(p,t,this._context.elevationProvider),p}_createAsOverlay(e,t,r,i,s,o){r.renderPriority=this._renderPriority;const a=f();b(t,a,this._context.overlaySR),a[2]=ee;const n=this._context.clippingExtent;if(null!=n&&!v(n,a))return null;const l=this.getFastUpdateAttrValues(e),c=e.uid,h=this._context.layerViewUid,u=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerViewUid:h}),m=re(r,{normal:ae,position:a,color:i,rotation:s,size:o,featureAttribute:l,olidColor:u}),p=new ie(m,{layerViewUid:h,graphicUid:c}),d=new U(this,[p],null,this._context.drapeSourceRenderer);return d.getScreenSize=this._createScreenSizeGetter(o,l),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),d}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates&&t){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=d())=>{const[o,a]=J(be,this._fastUpdates.materialParameters,t);return e[0]=o*i+r,e[1]=a*s+r,e}}const i=e[0]/this._symbolTextureRatio+r,s=e[1]/this._symbolTextureRatio+r;return(e=d())=>(e[0]=i,e[1]=s,e)}_fastVisualVariableConvertOptions(){const e=Math.max(this._size[0],this._size[1]),t=_(e,e,e),r=h(1),i=e*r,s=_(i,i,i),o=this._getFallbackSize();return new Z({supports:{size:!0,color:!0,rotation:!0,opacity:!1},modelSize:t,symbolSize:s,unitInMeters:r,fallbackColor:this._fastVisualVariableFallbackColor,fallbackSize:_(o,o,o)})}_forEachMaterial(e){this._materials.forEach(e),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._materials[0]}}}function ue(e){return e&&\"point-3d\"===e.type&&e.hasVisibleVerticalOffset()}function me(e){return null!=e&&(\"cross\"===e||\"x\"===e)}function pe(e){const t=m(e);return\"application/json\"===t?.mediaType?t.data:void 0}function de(e,t){return\"relative\"===e?p((t.x||0)+.5,.5-(t.y||0)):e in L?L[e]:L.center}function _e({parameters:e},t){const r=(e.width??1)/(e.height??1);return r>1?[t,Math.round(t/r)]:[Math.round(t*r),t]}function fe(e){return e.resource?.href?null:e.resource?.primitive??R}function ye(e){return 1===(e.material?.color?.a??0)&&null!=fe(e)}const ge={mode:\"relative-to-ground\",offset:0},xe=x(0,0,0,1),be=f();export{he as Graphics3DIconSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";function r(r){switch(r){case\"butt\":return 0;case\"square\":return 1;case\"round\":return 2;default:return null}}function t(r){return\"diamond\"===r?\"kite\":r}export{r as parseCapType,t as parseLineMarkerStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r,depthOnlyOutputBuffersOr as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{depthWrite as n,oitDepthTest as s,blending as o,getDrawBuffers as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as p,stencilWriteMaskOn as a,stencilToolTransparentOccluderParams as d,depthCompareAlways as h,stencilToolMaskOccluderParams as f,stencilWriteMaskOff as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{L as T}from\"../../../../chunks/LineMarker.glsl.js\";import{makePipelineState as W,defaultColorWrite as _,unpremultipliedAlphaToPremultipliedAlpha as b}from\"../../../webgl/renderState.js\";class g extends r{constructor(e,t){super(e,t,new i(T,()=>import(\"./LineMarker.glsl.js\")),S(t).locations)}_makePipelineState(e,i){const{output:r,oitPass:d,space:h,hasOccludees:f}=e;return W({blending:t(r)?o(d):null,depthTest:0===h?null:{func:s(d)},depthWrite:n(e),drawBuffers:l(r,c(d,r)),colorWrite:_,stencilWrite:f?a:null,stencilTest:f?i?u:p:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=W({blending:b,depthTest:h,depthWrite:null,colorWrite:_,stencilWrite:null,stencilTest:d}),this._occluderPipelineOpaque=W({blending:b,depthTest:h,depthWrite:null,colorWrite:_,stencilWrite:m,stencilTest:f}),this._occluderPipelineMaskWrite=W({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:u})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){return e?this._occludeePipelineState:11===t?this._occluderPipelineTransparent??super.getPipeline():10===t?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}function S(t){const i=e().vec3f(\"position\").vec4f16(\"previousDelta\").vec2f16(\"uv0\");return t.hasVVColor?i.f32(\"colorFeatureAttribute\"):i.vec4u8(\"color\",{glNormalized:!0}),t.hasVVOpacity&&i.f32(\"opacityFeatureAttribute\"),t.hasVVSize?i.f32(\"sizeFeatureAttribute\"):i.f16(\"size\"),t.worldSpace&&i.vec3f16(\"normal\"),i.freeze()}export{g as LineMarkerTechnique,S as getLayout};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends o{constructor(t){super(),this.spherical=t,this.space=1,this.anchor=0,this.occluder=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVVOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.hasScreenSizePerspective=!1,this.textureCoordinateType=0,this.emissionSource=0,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.hasSliceTranslatedView=!0,this.olidColorInstanced=!1,this.overlayEnabled=!1,this.snowCover=!1}get draped(){return 0===this.space}get worldSpace(){return 2===this.space}}t([e({count:3})],i.prototype,\"space\",void 0),t([e({count:2})],i.prototype,\"anchor\",void 0),t([e()],i.prototype,\"occluder\",void 0),t([e()],i.prototype,\"writeDepth\",void 0),t([e()],i.prototype,\"hideOnShortSegments\",void 0),t([e()],i.prototype,\"hasCap\",void 0),t([e()],i.prototype,\"hasTip\",void 0),t([e()],i.prototype,\"hasVVSize\",void 0),t([e()],i.prototype,\"hasVVColor\",void 0),t([e()],i.prototype,\"hasVVOpacity\",void 0),t([e()],i.prototype,\"hasOccludees\",void 0),t([e()],i.prototype,\"terrainDepthTest\",void 0),t([e()],i.prototype,\"cullAboveTerrain\",void 0),t([e()],i.prototype,\"hasScreenSizePerspective\",void 0);export{i as LineMarkerTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as e,G as t,t as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeFloat16Array as s}from\"../../../../geometry/support/float16.js\";import{isColorOrColorEmission as a,isDepth as o,isColorEmissionHighlightOIDOrDepth as n}from\"../core/shaderLibrary/ShaderOutput.js\";import h from\"../lib/GLMaterial.js\";import{Material as c}from\"../lib/Material.js\";import{VisualVariablePassParameters as p}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as l}from\"./internal/bufferWriterUtils.js\";import{getLayout as m,LineMarkerTechnique as u}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as d}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{alphaCutoff as f}from\"../../../../webscene/support/AlphaCutoff.js\";class g extends c{constructor(e,t){super(e,v),this.produces=new Map([[2,e=>9===e||a(e)&&8===this.parameters.renderOccluded],[3,e=>o(e)],[10,e=>n(e)&&8===this.parameters.renderOccluded],[11,e=>n(e)&&8===this.parameters.renderOccluded],[4,e=>a(e)&&this.parameters.writeDepth],[8,e=>a(e)&&!this.parameters.writeDepth],[18,e=>a(e)||9===e]]),this.intersectDraped=void 0,this._configuration=new d(t)}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.space=18===t.slot?0:this.parameters.worldSpace?2:1,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=0!==this.parameters.cap,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasVVSize=this.parameters.hasVVSize,this._configuration.hasVVColor=this.parameters.hasVVColor,this._configuration.hasVVOpacity=this.parameters.hasVVOpacity,this._configuration.occluder=8===this.parameters.renderOccluded,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&a(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration}get visible(){return this.parameters.color[3]>=f}intersect(){}createBufferWriter(){return new S(m(this.parameters),this.parameters)}createGLMaterial(e){return new _(e)}}class _ extends h{dispose(){super.dispose(),this._markerTextures?.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this.getTechnique(u,e)}}class v extends p{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive=\"arrow\",this.placement=\"end\",this.cap=0,this.anchor=0,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.stipplePattern=null,this.markerTexture=null}}class S{constructor(e,t){this.layout=e,this._parameters=t}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(i,a,o,n,h,c){const p=o.get(\"position\").data,m=p.length/3;let u=[1,0,0];const d=o.get(\"normal\");this._parameters.worldSpace&&null!=d&&(u=d.data);let f=1,g=0;this._parameters.vvSize?g=o.get(\"sizeFeatureAttribute\").data[0]:o.has(\"size\")&&(f=o.get(\"size\").data[0]);let _=[1,1,1,1],v=0;this._parameters.vvColor?v=o.get(\"colorFeatureAttribute\").data[0]:o.has(\"color\")&&(_=o.get(\"color\").data);let S=0;this._parameters.vvOpacity&&(S=o.get(\"opacityFeatureAttribute\").data[0]);const P=new Float32Array(h.buffer),T=s(h.buffer),k=new Uint8Array(h.buffer);let O=c*(this.layout.stride/4);const V=P.BYTES_PER_ELEMENT/T.BYTES_PER_ELEMENT,j=4/V,y=(e,t,r,i)=>{P[O++]=e[0],P[O++]=e[1],P[O++]=e[2],l(t,e,T,O*V),O+=j;let s=O*V;if(T[s++]=r[0],T[s++]=r[1],O=Math.ceil(s/V),this._parameters.vvColor)P[O++]=v;else{const e=Math.min(4*i,_.length-4),t=4*O++;k[t]=255*_[e],k[t+1]=255*_[e+1],k[t+2]=255*_[e+2],k[t+3]=255*_[e+3]}this._parameters.vvOpacity&&(P[O++]=S),s=O*V,this._parameters.vvSize?(P[O++]=g,s+=2):T[s++]=f,this._parameters.worldSpace&&(T[s++]=u[0],T[s++]=u[1],T[s++]=u[2]),O=Math.ceil(s/V)},M=(s,a)=>{const o=e(b,p[3*s],p[3*s+1],p[3*s+2]),n=w;let h=s+a;do{e(n,p[3*h],p[3*h+1],p[3*h+2]),h+=a}while(t(o,n)&&h>=0&&h<m);i&&(r(o,o,i),r(n,n,i)),y(o,n,[-1,-1],s),y(o,n,[1,-1],s),y(o,n,[1,1],s),y(o,n,[-1,-1],s),y(o,n,[1,1],s),y(o,n,[-1,1],s)},C=this._parameters.placement;return\"begin\"!==C&&\"begin-end\"!==C||M(0,1),\"end\"!==C&&\"begin-end\"!==C||M(m-1,-1),null}}const b=i(),w=i();export{g as LineMarkerMaterial,v as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Error.js\";import{px2pt as r,pt2px as i}from\"../../../../core/screenUtils.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{d as s}from\"../../../../chunks/vec42.js\";import{ZEROS as o,ones as l,clone as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import c from\"../../../../geometry/Extent.js\";import h from\"../../../../geometry/Polygon.js\";import{create as p,fromBuffer as m,intersectsClippingArea as y,empty as _,expandWithAABB as d,expandWithBuffer as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getDriverAxisSizeValueAny as g}from\"../../../../renderers/support/renderingInfoUtils.js\";import{sharedGeometryElevationAligner as f}from\"./ElevationAligners.js\";import{elevationModeChangeUpdateType as b,needsElevationUpdates2D as v}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as C}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as P}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as M,nanFallbackColor as k}from\"./Graphics3DSymbolLayer.js\";import{parseCapType as w,parseLineMarkerStyle as L}from\"./lineUtils.js\";import{initFastSymbolUpdatesState as S,updateFastSymbolUpdatesState as x,getAttributeValue as z,ConvertOptions as U}from\"../support/FastSymbolUpdates.js\";import{debugFlags as j}from\"../../support/debugFlags.js\";import{createGeometry as V}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as O,geometryToRenderInfoDraped as A}from\"../../support/renderInfoUtils/line.js\";import{Object3D as E}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as G}from\"../../webgl-engine/lib/RenderGeometry.js\";import{LineMarkerMaterial as D}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{getStipplePatternForLinePattern as F}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as R}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const I=[\"polyline\",\"polygon\",\"extent\"];class W extends M{static{this.elevationModeChangeTypes={definedChanged:2,staysOnTheGround:0,onTheGroundChanged:2}}constructor(e,t,r,i){super(e,t,r,i,T(t))}async doLoad(){this._fastUpdates=S(this._context.renderer,this._fastVisualVariableConvertOptions());const e=!0;if(this._fastMarkerUpdates=S(this._context.renderer,this._fastVisualVariableConvertOptions(e)),!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:r(1))<0)throw new t(\"graphics3dlinesymbollayer:invalid-size\",\"Symbol sizes may not be negative values\")}}_getMaterialParameters(e,t){const r=this._screenSizePerspective,i={...this._getMaterialColorParameters(t),width:this._computeMaterialWidth(this.symbolLayer?.size),hasPolygonOffset:!0,join:this.symbolLayer.join||\"miter\",cap:w(this.symbolLayer.cap||\"butt\"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:F(this.symbolLayer.pattern),emissiveStrength:this._emissiveStrength??0,screenSizePerspective:r};return 4===t&&this._fastMarkerUpdates?.visualVariables?{...i,...this._fastMarkerUpdates.materialParameters}:this._fastUpdates?.visualVariables?{...i,...this._fastUpdates.materialParameters}:i}_getMaterialColorParameters(e){const t=4===e,r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);return this._patternHidesLine&&!t&&(r[3]=0),{color:r}}get _materialColor(){return this.symbolLayer.material?.color}get _emissiveStrength(){return this.symbolLayer.material?.emissive?.strength}get _markerColor(){return this.symbolLayer.marker?.color}get _lineMaterial(){return null==this._materials[0]&&(this._materials[0]=new R(this._getMaterialParameters(!1,0),this.view.state.isGlobal)),this._materials[0]}get _ringMaterial(){return null==this._materials[1]&&(this._materials[1]=new R(this._getMaterialParameters(!0,1),this.view.state.isGlobal)),this._materials[1]}get _wireframeLineMaterial(){return null==this._materials[2]&&(this._materials[2]=new R({...this._getMaterialParameters(!1,2),wireframe:!0},this.view.state.isGlobal)),this._materials[2]}get _wireframeRingMaterial(){return null==this._materials[3]&&(this._materials[3]=new R({...this._getMaterialParameters(!0,3),wireframe:!0},this.view.state.isGlobal)),this._materials[3]}get _markerMaterial(){return null==this._materials[4]&&null!=this.symbolLayer.marker&&(this._materials[4]=new D({...this._getMaterialParameters(!1,4),placement:this.symbolLayer.marker.placement,markerPrimitive:L(this.symbolLayer.marker.style)},this.view.state.isGlobal)),this._materials[4]}_getDrivenSize(e){if(this._drivenProperties.size){const t=e.size;return null!=t?i(g(t)):this._getFallbackSize()}return 1}_getDrivenColor({color:e,opacity:t}){const r=l();return this._drivenProperties.color&&(s(r,e??this._getFallbackOpacityAndColor(o)),null==t)||this._drivenProperties.opacity&&(e||this._materialColor)&&(r[3]=t??this._getFallbackOpacity()),r}_getDrivenMarkerColor({color:e,opacity:t}){const r=l();return this._drivenProperties.color&&(s(r,e??this._getFallbackMarkerOpacityAndColor(o)),null==t)||this._drivenProperties.opacity&&(e||this._markerColor||this._materialColor)&&(r[3]=t??this._getFallbackMarkerOpacity()),r}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,I,this.symbolLayer.type))return null;const r=this.createElevationContextForGraphic(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.draped?this._createAsOverlay(e):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return 0;{const e=this._fastUpdates;if(!x(e,t,this._fastVisualVariableConvertOptions()))return 0;for(const t of this._materials)t instanceof R&&t.setParameters(e.materialParameters);const r=this._fastMarkerUpdates,i=!0;if(!x(r,t,this._fastVisualVariableConvertOptions(i)))return 0;for(const t of this._materials)t instanceof D&&t.setParameters(r.materialParameters)}}return 2}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff,r={};\"complete\"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),\"complete\"===t.cap?.type&&(r.cap=w(t.cap.newValue??\"butt\"),delete t.cap);const i=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,i),e.symbolLayerStatePatches.push(()=>{for(const e of this._materials)e?.setParameters(r)})}layerOpacityChanged(){for(let e=0;e<5;e++)this._materials[e]?.setParameters(this._getMaterialColorParameters(e))}get _screenSizePerspective(){return!this.draped&&this._context.screenSizePerspectiveEnabled?this.view.screenSizePerspective.parameters:null}layerScreenSizePerspectiveChanged(){const e=this._screenSizePerspective;for(const t of this._materials)t?.setParameters({screenSizePerspective:e})}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,a=b(W.elevationModeChangeTypes,r,i);if(1!==a)return a;const s=v(i);return this.updateGraphics3DGraphicElevationInfo(e,t,()=>s)}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};for(const t of this._materials)t?.setParameters(e);return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const i=H(e.graphic.geometry),a=\"polygon\"===i.type?i.rings:i.paths,s=new Array,o=p(),l=O(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(l,a,n,\"LineSymbol3DLayer\");for(let p=0;p<l.lines.length;p++){const t=l.lines[p],a=t.position,n=t.mapPositions;if(null!=this._context.clippingExtent&&(m(n,o),!y(o,this._context.clippingExtent)))continue;const c=this._createGeometry(\"polygon\"===i.type?this._ringMaterial:this._lineMaterial,e,a,n,i.type,1,r);if(s.push(c),j.LINE_WIREFRAMES&&s.push(c.instantiate({material:\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial})),null!=this._markerMaterial){const t=c.instantiate({material:this._markerMaterial});t.attributes.has(\"color\")&&t.setAttributeData(\"color\",this._getDrivenMarkerColor(e.renderingInfo)),s.push(t)}}if(0===s.length)return null;const c=this._context.layerViewUid,h=new E({geometries:s,castShadow:!1,layerViewUid:c,graphicUid:r}),_=new P(this,h,null,f,t);return _.alignedSampledElevation=l.sampledElevation,_.needsElevationUpdates=v(t.mode),_}_createGeometry(e,t,r,i,a,s,o){const l=0===s?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,n=\"polygon\"===a,c=this._fastUpdates?.visualVariables.color,h=this._fastUpdates?.visualVariables.size,p=this._fastUpdates?.visualVariables.opacity,m=this._context.layerViewUid,y=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerViewUid:m}),_={position:r,size:h?null:this._getDrivenSize(t.renderingInfo),color:c?null:this._getDrivenColor(t.renderingInfo),sizeFeature:h?z(h.field,t.graphic):null,colorFeature:c?z(c.field,t.graphic):null,opacityFeature:p?z(p.field,t.graphic):null};return V(e,{overlayInfo:l,removeDuplicateStartEnd:n,mapPositions:i,attributeData:_},y)}_createAsOverlay(e){const t=e.graphic,r=H(t.geometry),i=\"polygon\"===r.type?r.rings:r.paths,a=\"polygon\"===r.type?this._ringMaterial:this._lineMaterial;a.renderPriority=this._renderPriority;const s=j.LINE_WIREFRAMES?\"polygon\"===r.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,o=this._markerMaterial;null!=s&&(s.renderPriority=this._renderPriority-.001),null!=o&&(o.renderPriority=this._renderPriority-.002);const l=new Array,n=p(),c=_(),h=A(r,this._context.overlaySR),g=\"polygon\"===r.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(h,i,g,\"LineSymbol3DLayer\");for(const p of h.lines){if(m(p.position,n),!y(n,this._context.clippingExtent))continue;d(c,n);const i=this._createGeometry(a,e,p.position,void 0,r.type,0,t.uid),h=e=>{const r=this._context.layerViewUid,i=new G(e,{layerViewUid:r,graphicUid:t.uid});l.push(i)};if(null!=o){const t=i.instantiate({material:o});t.attributes.has(\"color\")&&t.setAttributeData(\"color\",this._getDrivenMarkerColor(e.renderingInfo)),h(t);const r=this.symbolLayer.marker.placement;\"begin\"!==r&&\"begin-end\"!==r||u(n,p.position,0,1),\"end\"!==r&&\"begin-end\"!==r||u(n,p.position,p.position.length-3,1)}h(i),j.LINE_WIREFRAMES&&h(i.instantiate({material:s}))}return new C(this,l,c,this._context.drapeSourceRenderer)}get _patternHidesLine(){const e=this.symbolLayer.pattern;return null!=e&&\"style\"===e.type&&\"none\"===e.style}_computeMaterialWidth(e){return e=e??r(1),this._drivenProperties.size?this._fastUpdates?.visualVariables.size?i(1):1:i(e)}_prepareMaterialPatch(e,t,r){const i=t.material;if(null==i)return void(r.changed&&r.useMaterialColor&&B(this._getCombinedOpacityAndColor(this._materialColor),this._materials[4],e));if(\"collection\"===i.type)return;const a=\"complete\"===i.type?i.newValue?.color:\"complete\"===i.diff.color?.type?i.diff.color.newValue:null,s=this._getCombinedOpacityAndColor(a);r.useMaterialColor&&B(n(s),this._materials[4],e),this._patternHidesLine&&(s[3]=0),B(s,this._materials[0],e),delete t.material}_prepareMarkerPatch(e,t){const r=t.marker,i=this._markerMaterial;if(null==r||\"partial\"!==r.type||null==r.diff||null!=r.diff.placement||null!=r.diff.style&&\"complete\"!==r.diff.style.type||null!=r.diff.color&&\"complete\"!==r.diff.color.type||null==i)return{changed:!1,useMaterialColor:null==this._markerColor};const a=r.diff.color,s=null!=a,o=s?a.newValue:null,l=null==o&&null==this._markerColor;o&&B(this._getCombinedOpacityAndColor(o),i,e);const n=r.diff.style?.newValue;return n&&e.symbolLayerStatePatches.push(()=>i.setParameters({markerPrimitive:L(n)})),delete t.marker,{changed:s,useMaterialColor:l}}_fastVisualVariableConvertOptions(e=!1){const t=this._getFallbackSize();return new U({supports:{size:!0,color:!0,rotation:!1,opacity:!0},fallbackColor:e?this._getFallbackMarkerOpacityAndColor(k):this._getFallbackOpacityAndColor(k),fallbackSize:a(t,t,t)})}_getFallbackOpacityAndColor(t){return e.toUnitRGBA(this._materialColor)??t}_getFallbackOpacity(){return this._materialColor?.a??0}_getFallbackMarkerOpacityAndColor(t){const r=this.symbolLayer?.marker?.color;return e.toUnitRGBA(r)??this._getFallbackOpacityAndColor(t)}_getFallbackMarkerOpacity(){return this.symbolLayer?.marker?.color?.a??this._getFallbackOpacity()}_getFallbackSize(){const e=this.symbolLayer?.size;return null!=e?i(e):1}}function H(e){switch(e.type){case\"extent\":if(e instanceof c)return h.fromExtent(e);break;case\"polygon\":case\"polyline\":return e}return null}function B(e,t,r){null!=t&&r.symbolLayerStatePatches.push(()=>t.setParameters({color:e}))}function T(e){const t=e.material?.color,r=e.marker?.color??t;return 1===(t?.a??0)&&1===(r?.a??0)}export{W as Graphics3DLineSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e={disableDelayMs:2e3};export{e as meshAutoFastUpdateConstants};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getTranslation as t,multiply as e,invert as a,copy as s,fromTranslation as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{h as n}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{perObjectElevationAligner as l}from\"./ElevationAligners.js\";import{evaluateElevationInfoAtPoint as f}from\"./elevationAlignmentUtils.js\";import{Graphics3DObject3DGraphicLayer as d}from\"./Graphics3DObject3DGraphicLayer.js\";import{meshAutoFastUpdateConstants as c}from\"./meshAutoFastUpdateConstants.js\";class h extends d{constructor(){super(...arguments),this.fastTransformUpdatesAllowed=!1,this._originalGeometries=[],this._fastTransformUpdatesEnabled=!1,this._autoDisableFastUpdatesTimeoutId=0}get fastTransformUpdatesEnabled(){return this._fastTransformUpdatesEnabled}destroy(){super.destroy(),this._cancelAutoDisableFastUpdates()}enableFastTransformUpdates(e,a){if(!this.fastTransformUpdatesAllowed||this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!0;const{stageObject:s}=this,r=s.geometries.slice();s.removeAllGeometries();const i=t(g,s.transformation),o=a.getOrigin(i);for(const t of r){const a=e(t.material),r=t.instantiate({material:a});r.localOrigin=o,s.addGeometry(r)}this._originalGeometries=r}autoDisableFastTransformUpdates(t){this._cancelAutoDisableFastUpdates(),this._autoDisableFastUpdatesTimeoutId=setTimeout(()=>{this._autoDisableFastUpdatesTimeoutId=0,t()},c.disableDelayMs)}updateAutoDisableFastTransformUpdates(t){this._autoDisableFastUpdatesTimeoutId&&this.autoDisableFastTransformUpdates(t)}_cancelAutoDisableFastUpdates(){clearTimeout(this._autoDisableFastUpdatesTimeoutId),this._autoDisableFastUpdatesTimeoutId=0}disableFastTransformUpdates(t){if(!this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!1;const{stageObject:e}=this,a=e.geometries.map(e=>t(e.material));e.removeAllGeometries();for(let s=0;s<this._originalGeometries.length;s++){const t=this._originalGeometries[s],r=a[s];r.setParameters({modelTransformation:null}),r===t.material?e.addGeometry(t):e.addGeometry(t.instantiate({material:r}))}this._originalGeometries.length=0}updateFastLocalOrigin(e,a,s){if(!this._fastTransformUpdatesEnabled)return;const{stageObject:r}=this;if(0===r.geometries.length)return;const o=r.geometries[0].localOrigin,n=t(g,e),m=s.getOrigin(n);if(m===o)return;const l=a?.localMatrix??i;r.shaderTransformation=null,r.transformation=e,r.geometries.forEach(t=>{t.transformation=l,t.localOrigin=m})}updateTransform(t,s,r){const{stageObject:o}=this,n=s?.localMatrix??i;if(!this._fastTransformUpdatesEnabled)return o.shaderTransformation=null,o.transformation=t,o.geometries.forEach(t=>t.transformation=n),void this._updateEdgeTransform(r);const m=o.transformation,l=o.geometries[0].transformation,f=t,d=n,c=e(p,m,l),h=e(u,f,d),g=e(b,h,a(b,l));o.shaderTransformation=g,this._setFastMaterialTransformation({matA:c,matB:h}),this._updateEdgeTransform(r)}alignWithElevation(t,a,r){if(!this._fastTransformUpdatesEnabled)return void super.alignWithElevation(t,a,r);const i=(e,s)=>f(e,t,this.elevationContext,a,s),{stageObject:o}=this;if(!o.geometries[0].material.parameters.modelTransformation)return;const n=o.transformation,m=o.geometries[0].transformation,d=e(p,n,m),c=o.effectiveTransformation,h=s(T,c);this.alignedSampledElevation=l(this,this.elevationContext,t.spatialReference,i,a,h),o.shaderTransformation=h;const g=o.geometries[0].transformation,b=e(u,h,g);this._setFastMaterialTransformation({matA:d,matB:b}),this._updateEdgeTransform(r)}_setFastMaterialTransformation({matA:t,matB:s}){const{stageObject:i}=this;if(0===i.geometries.length)return;const o=i.geometries[0].localOrigin,m=r(E,n(g,o.vec3,-1)),l=e(_,m,t),f=e(U,m,s),d=a(_,l),c=e(U,f,d);for(const e of i.geometries)e.material.setParameters({modelTransformation:c})}_updateEdgeTransform(t){const{stageObject:e,_stageLayer:a}=this;a.stage.renderer.withEdgeView(a=>{a.fastUpdateObject3DEdgesTransform(e)||this.resetEdgeObject(t)})}}const g=m(),p=o(),u=o(),T=o(),b=o(),_=o(),U=o(),E=o();export{h as Graphics3DMeshObject3DGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{DefaultMaterial as a}from\"../../webgl-engine/materials/DefaultMaterial.js\";class t{constructor(){this._fastTransformOriginalMaterials=new Map,this._fastTransformClonedMaterials=new Map,this._graphicReferenceCount=0}enable(t,e,r){t.enableFastTransformUpdates(t=>{if(this._graphicReferenceCount<=1){if(this._fastTransformOriginalMaterials.has(t))return t;const a=e.byMaterial(t);return this._fastTransformOriginalMaterials.set(t,a),e.delete(t),t}const s=new a(t.parameters,r);return this._fastTransformClonedMaterials.set(s,t),s},r.localOriginFactory)}disable(a,t){const e=new Set,r=new Set;a.disableFastTransformUpdates(a=>{if(!this._fastTransformClonedMaterials.has(a)){const s=a,i=this._fastTransformOriginalMaterials.get(s);return t.has(i.uid)?(e.add(s),t.byUid(i.uid).material):(r.add(s),i.material)}const s=a,i=this._fastTransformClonedMaterials.get(s);return this._fastTransformClonedMaterials.delete(s),i});for(const s of e)this._fastTransformOriginalMaterials.delete(s);for(const s of r){const a=this._fastTransformOriginalMaterials.get(s);this._fastTransformOriginalMaterials.delete(s),t.set(a.uid,a)}}onAddGraphic(){this._graphicReferenceCount++}onRemoveGraphic(a,t){this._graphicReferenceCount--,this.disable(a,t)}forEachMaterialInfo(a){this._fastTransformOriginalMaterials.forEach(a)}forEachClonedMaterial(a){this._fastTransformClonedMaterials.forEach(a)}destroy(){this._fastTransformClonedMaterials.clear(),this._fastTransformOriginalMaterials.clear()}}class e{constructor(){this._byUid=new Map,this._byMaterial=new Map}get materials(){return Array.from(this._byUid.values(),a=>a.material)}byUid(a){return this._byUid.get(a)}byMaterial(a){return this._byMaterial.get(a)}set(a,t){this._byUid.set(a,t),this._byMaterial.set(t.material,t)}delete(a){const t=this._byMaterial.get(a)?.uid;t&&(this._byUid.delete(t),this._byMaterial.delete(a))}has(a){return this._byUid.has(a)}forEachMaterialInfo(a){this._byUid.forEach(a)}clear(){this._byUid.clear(),this._byMaterial.clear()}}export{e as MaterialInfoCache,t as MeshFastUpdateProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{getDrawBuffers as i}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as s,stencilBaseAllZerosParams as l,stencilWriteMaskOn as o,depthCompareLess as n}from\"../lib/StencilUtils.js\";import{PositionColorLayout as a,PositionLayout as p}from\"../materials/DefaultLayouts.js\";import{N as u}from\"../../../../chunks/NativeLine.glsl.js\";import{PrimitiveType as c}from\"../../../webgl/enums.js\";import{makePipelineState as m,defaultColorWrite as d,defaultDepthWrite as h,unpremultipliedAlphaToPremultipliedAlpha as f}from\"../../../webgl/renderState.js\";class j extends t{constructor(e,t){super(e,t,new r(u,()=>import(\"./NativeLine.glsl.js\")),t.hasVertexColors?a.locations:p.locations),this.primitiveType=c.LINES}initializePipeline(r){const{hasOccludees:t,output:a,transparent:p,oitPass:u}=r,c=(e,r=null,p=null)=>m({blending:r,depthTest:n,depthWrite:p,colorWrite:d,stencilWrite:t?o:null,stencilTest:t?e?s:l:null,drawBuffers:i(u,a)});return e(a)?(this._occludeePipeline=c(!0,p?f:null,h),c(!1,p?f:null,h)):c(!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}export{j as NativeLineTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends r{constructor(){super(...arguments),this.hasVertexColors=!1,this.transparent=!1,this.hasOccludees=!1,this.writeDepth=!0,this.draped=!1,this.snowCover=!1,this.emissionSource=0,this.textureCoordinateType=0}get discardInvisibleFragments(){return this.transparent&&this.writeDepth}}t([e()],s.prototype,\"hasVertexColors\",void 0),t([e()],s.prototype,\"transparent\",void 0),t([e()],s.prototype,\"hasOccludees\",void 0),t([e()],s.prototype,\"writeDepth\",void 0);export{s as NativeLineTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{j as s,e as i,f as n,h as a,g as c,d as l,b as m,k as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{distance2 as h,fromPoints as g,create as d,closestLineSegmentPoint as j}from\"../../../../geometry/support/lineSegment.js\";import{fromPoints as b,create as x,signedDistance as L,getNormal as v}from\"../../../../geometry/support/plane.js\";import{isColorEmissionHighlightOrOID as y}from\"../core/shaderLibrary/ShaderOutput.js\";import S from\"../lib/GLMaterial.js\";import{Material as M,MaterialParameters as _}from\"../lib/Material.js\";import{isTranslationMatrix as w}from\"../lib/Util.js\";import{DefaultBufferWriter as C}from\"./DefaultBufferWriter.js\";import{PositionColorLayout as T,PositionLayout as A}from\"./DefaultLayouts.js\";import{NativeLineTechnique as V}from\"../shaders/NativeLineTechnique.js\";import{NativeLineTechniqueConfiguration as N}from\"../shaders/NativeLineTechniqueConfiguration.js\";import{alphaCutoff as R}from\"../../../../webscene/support/AlphaCutoff.js\";class U extends M{constructor(e){super(e,P),this._configuration=new N,this.produces=new Map([[2,e=>y(e)]])}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.transparent=this.parameters.color[3]<1||this.parameters.width<1,this._configuration.hasOccludees=t.hasOccludees,this._configuration}get visible(){return this.parameters.color[3]>=R}intersect(t,r,f,p,d,x){const{options:y,camera:S,rayBegin:M,rayEnd:_}=f;if(!y.selectionMode||!t.visible||!S)return;if(!w(r))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\").error(\"intersection assumes a translation-only matrix\");const C=t.attributes.get(\"position\").data,T=H;o(T,f.point);const A=2;s(I[0],T[0]-A,T[1]+A,0),s(I[1],T[0]+A,T[1]+A,0),s(I[2],T[0]+A,T[1]-A,0),s(I[3],T[0]-A,T[1]-A,0);for(let e=0;e<4;e++)if(!S.unprojectFromRenderScreen(I[e],J[e]))return;b(S.eye,J[0],J[1],K),b(S.eye,J[1],J[2],Q),b(S.eye,J[2],J[3],Y),b(S.eye,J[3],J[0],Z);let V=Number.MAX_VALUE,N=0;for(let e=0;e<C.length-5;e+=3){if(q[0]=C[e]+r[12],q[1]=C[e+1]+r[13],q[2]=C[e+2]+r[14],B[0]=C[e+3]+r[12],B[1]=C[e+4]+r[13],B[2]=C[e+5]+r[14],L(K,q)<0&&L(K,B)<0||L(Q,q)<0&&L(Q,B)<0||L(Y,q)<0&&L(Y,B)<0||L(Z,q)<0&&L(Z,B)<0)continue;const t=S.projectToRenderScreen(q,W),o=S.projectToRenderScreen(B,X);if(null==t||null==o)continue;if(t[2]<0&&o[2]>0){i(D,q,B);const e=S.frustum,r=-L(e[4],q)/n(D,v(e[4]));if(a(D,D,r),c(q,q,D),!S.projectToRenderScreen(q,t))continue}else if(t[2]>0&&o[2]<0){i(D,B,q);const e=S.frustum,t=-L(e[4],B)/n(D,v(e[4]));if(a(D,D,t),c(B,B,D),!S.projectToRenderScreen(B,o))continue}else if(t[2]<0&&o[2]<0)continue;t[2]=0,o[2]=0;const s=h(g(t,o,z),T);s<V&&(V=s,l(k,q),l(G,B),N=e/3)}if(V<A*A){let e=Number.MAX_VALUE;if(j(g(k,G,z),g(M,_,F),O)){i(O,O,M);const t=m(O);a(O,O,1/t),e=t/u(M,_)}x(e,O,N)}}intersectDraped(e,r,o,s,i){if(!r.options.selectionMode)return;const n=e.attributes.get(\"position\").data,a=e.attributes.get(\"size\"),c=a?a.data[0]:0,l=o[0],m=o[1],u=((c+1)/2+4)*e.screenToWorldRatio;let f=Number.MAX_VALUE,p=0;for(let h=0;h<n.length-5;h+=3){const e=n[h],r=n[h+1],o=l-e,s=m-r,i=n[h+3]-e,a=n[h+4]-r,c=t((i*o+a*s)/(i*i+a*a),0,1),u=i*c-o,g=a*c-s,d=u*u+g*g;d<f&&(f=d,p=h/3)}f<u*u&&s(i.distance,i.normal,p)}createGLMaterial(e){return new E(e)}createBufferWriter(){const e=this.parameters.hasVertexColors?T:A;return new C(e)}}class E extends S{beginSlot(e){return this.getTechnique(V,e)}}class P extends _{constructor(){super(...arguments),this.color=p,this.hasVertexColors=!1,this.hasSlicePlane=!1,this.width=1}}const q=f(),B=f(),D=f(),O=f(),W=r(),X=r(),k=f(),G=f(),z=d(),F=d(),H=f(),I=[r(),r(),r(),r()],J=[f(),f(),f(),f()],K=x(),Q=x(),Y=x(),Z=x();export{U as NativeLineMaterial,P as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{linearize as t}from\"../../../../colorUtils.js\";import\"../../../../core/has.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{releaseMaybe as o}from\"../../../../core/maybe.js\";import{isPromiseLike as n}from\"../../../../core/promiseUtils.js\";import{normalFromMat4 as a,fromMat4 as s}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{fromTranslation as l,multiply as c,invert as u,getTranslation as m}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f,IDENTITY as p,clone as h}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as d}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{j as g,g as x,h as _,t as y,o as T,n as b,c as v,e as w,i as C,f as j}from\"../../../../chunks/vec32.js\";import{create as M,fromValues as A,ONES as R,ZEROS as P}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as S}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{canProjectWithoutEngine as I}from\"../../../../geometry/projectionUtils.js\";import{computeTranslationToOriginAndRotation as B}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as U}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as E}from\"../../../../geometry/projection/projectVectorToVector.js\";import{fromBuffer as O,create as F,intersectsClippingArea as V}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as $}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as G,getContinuousIndexArray as D}from\"../../../../geometry/support/Indices.js\";import L from\"../../../../geometry/support/MeshComponent.js\";import N from\"../../../../geometry/support/MeshMaterialMetallicRoughness.js\";import H from\"../../../../geometry/support/MeshTextureTransform.js\";import{isRelativeVertexSpace as k,isAbsoluteVertexSpace as z}from\"../../../../geometry/support/meshVertexSpaceUtils.js\";import{equals as q,isPlateCarree as W}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{t as Y}from\"../../../../chunks/vec3.js\";import{transformNormal as J,transformVectorENUPlateCarree as K,transformVectorWMPlateCarree as Q,projectNormalToPCPF as X,transformTangent as Z,projectTangentToPCPF as ee}from\"../../../../geometry/support/meshUtils/projection.js\";import{projectMeshVertexPositions as te}from\"../../../../geometry/support/meshUtils/projectMeshVertexPositions.js\";import{getEmissiveMode as re}from\"../../../../symbols/support/materialUtils.js\";import{isEncodedMeshTexture as oe}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as ne}from\"../../glTF/internal/TextureTransformUtils.js\";import{defaultSymbolLayerMemoryComplexity as ae}from\"./defaultSymbolComplexity.js\";import{perObjectElevationAligner as se}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as ie,evaluateElevationInfoAtPoint as le}from\"./elevationAlignmentUtils.js\";import{Graphics3DMeshObject3DGraphicLayer as ce}from\"./Graphics3DMeshObject3DGraphicLayer.js\";import{Object3DEdgeState as ue}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as me,nanFallbackColor as fe}from\"./Graphics3DSymbolLayer.js\";import{MaterialInfoCache as pe,MeshFastUpdateProcessor as he}from\"./MeshFastUpdateProcessor.js\";import{SymbolComplexity as de}from\"./SymbolComplexity.js\";import{hasEdges as ge,createMaterial as xe}from\"../support/edgeUtils.js\";import{debugFlags as _e}from\"../../support/debugFlags.js\";import{Attribute as ye}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as Te}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as be}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as ve}from\"../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as we}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{NativeLineMaterial as Ce}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{useSchematicPBR as je,advancedMRRFactors as Me,schematicMRRFactors as Ae}from\"../../webgl-engine/materials/pbrUtils.js\";const Re=[\"mesh\"];class Pe extends me{constructor(e,t,r,o){super(e,t,r,o,We(t)),this._materialInfoCache=new pe,this._fastUpdateProcessor=new he,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){_e.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new Ce({color:[1,0,1,1]}),this._debugTangentNormalMaterial=new Ce({color:[1,.5,0,1]}),this._debugFaceNormalMaterial=new Ce({color:[0,1,1,1]})),this.updateComplexity()}destroy(){super.destroy(),this._textures.forEach(e=>e.unload()),this._context.stage.removeTextures(Array.from(this._textures.values())),this._materialInfoCache.clear(),this._textures.clear(),this._fastUpdateProcessor.destroy()}get materials(){return this._materialInfoCache.materials}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,Re,\"fill on mesh-3d\"))return null;const r=this.createElevationContextForGraphic(t),o=e.renderingInfo;return this._createAs3DShape(t,o,r,t.uid)}onRemoveGraphic(e){this._fastUpdateProcessor.onRemoveGraphic(e,this._materialInfoCache)}layerOpacityChanged(e,t){const r=this._getLayerOpacity();this._updateMaterialParameters(e=>{e.material.setParameters({layerOpacity:r});const t=e.material.parameters;this._setMaterialTextureAlphaMode(t,e)}),e?.forEach(e=>t(e)?.layerOpacityChanged(r,this._context.isAsync))}layerScreenSizePerspectiveChanged(){}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,ie)}slicePlaneEnabledChanged(e,t){return this._updateMaterialParameters(({material:e})=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})}),e?.forEach(e=>t(e)?.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._updateMaterialParameters(({material:t})=>t.setParameters({usePBR:e})),!0}updateTransform(e,t,r,o){if(!e.fastTransformUpdatesAllowed)return!1;const n=e.fastTransformUpdatesEnabled;switch(o){case 0:if(n)return!0;break;case 1:if(!n)return!0;break;default:if(!n)return!!this.updateTransform(e,t,r,0)&&(e.autoDisableFastTransformUpdates(()=>this.updateTransform(e,t,r,1)),!0)}const a=this._context.renderCoordsHelper.spatialReference,s=tt,{origin:i,transform:l}=r;if(!B(t,g(Ke,i.x,i.y,i.z??0),s,a))return!1;switch(o){case 0:this._fastUpdateProcessor.enable(e,this._materialInfoCache,this._context);break;case 1:this._fastUpdateProcessor.disable(e,this._materialInfoCache);break;case 2:e.updateFastLocalOrigin(s,l,this._context.localOriginFactory)}const{elevationContext:c}=e;c.centerInElevationSR=this._getCenterInElevationSR(s);const{elevationProvider:u,renderCoordsHelper:m}=this._context,f=(e,t)=>le(e,u,c,m,t);return e.alignedSampledElevation=se(e,c,u.spatialReference,f,m,s),e.updateTransform(s,l,this._context.isAsync),e.updateAutoDisableFastTransformUpdates(()=>this.updateTransform(e,t,r,1)),!0}computeComplexity(){if(!this._textures||0===this._textures.size)return super.computeComplexity();let e=0;for(const o of this._textures.values())e+=o.usedMemory;const t={...ae(this.symbol,this.symbolLayer),resourceBytes:e},r=ge(this.symbolLayer)?2:0;return new de({drawCallsPerFeature:r,memory:t})}_requiresSymbolVertexColors(){return this._hasDrivenColorOrOpacity}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),o=!!e.vertexAttributes.color,n=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:o,hasVertexTangents:n,uid:`vc:${o},vt:${n},vct${t},svc:${r}`}}_materialProperties(e,t,r){const o=this._materialPropertiesDefault(e,r);if(!t.material)return o;const{color:n,colorTexture:a,colorTextureTransform:s,normalTexture:i,normalTextureTransform:l,doubleSided:c,alphaCutoff:u,alphaMode:m}=t.material,f=ke(n),p=ke(a),h=ze(s),d=ke(i),g=ze(l);if(o.color=n,o.colorTexture=a,o.normalTexture=i,o.uid=`${o.uid},cmuid:${f},ctmuid:${p},cttuid:${h},ntmuid:${d},nttuid:${g},ds:${c},ac:${u},am:${m}`,t.material instanceof N){const{metallic:e,roughness:r,metallicRoughnessTexture:n,metallicRoughnessTextureTransform:a,emissiveColor:i,emissiveTexture:c,emissiveTextureTransform:u,occlusionTexture:m,occlusionTextureTransform:f}=t.material,p=ke(n),h=ze(a),d=ke(i),g=ke(c),x=ze(u),_=ke(m),y=ze(f);o.uid=`${o.uid},mrm:${e},mrr:${r},mrt:${p},mrtt:${h},emuid:${d},etmuid:${g},ett:${x},otmuid:${_},ott:${y}`,o.metallic=e,o.roughness=r,o.metallicRoughnessTexture=n,o.emissiveColor=i,o.emissiveTexture=c,o.occlusionTexture=m,o.colorTextureTransform=$e(s),o.normalTextureTransform=$e(l),o.emissiveTextureTransform=$e(u),o.occlusionTextureTransform=$e(f),o.metallicRoughnessTextureTransform=$e(a)}return o}_getInternalTexture(e,t=!1,r=1){const a=He(e);if(!a)return null;const s=`${e.contentHash}/${r}`;let i=this._textures.get(s);if(i){const e=this._context.stage.renderView.textures;let t=null;const r=e.acquire(i.id);return null==r||n(r)||(i.events.on(\"unloaded\",()=>t=o(t)),t=r),i}let l=null;const c=this._context.stage.renderView.renderingContext.parameters.maxMaxAnisotropy,u={wrap:Ge(e.wrap),noUnpackFlip:!0,maxAnisotropy:c,mipmap:c>1};return oe(a)?(l=a.data,u.preMultiplyAlpha=!1,u.encoding=a.encoding):(l=a,u.preMultiplyAlpha=1!==r,u.compressionOptions=t?{compressionTracker:this._context.compressionTracker,compressionCallback:()=>this.updateComplexity()}:void 0),i=new ve(l,u),this._textures.set(s,i),i.events.on(\"loaded\",()=>this.updateComplexity()),i.load(this._context.stage.renderView.renderingContext),this._context.stage.addTexture(i),i.events.on(\"unloaded\",()=>{this._textures.delete(s)}),i}_setInternalMaterialTextureParameters(r,o){if(null!=r.colorTexture){const e=1!==o.textureAlphaMode,t=this._getInternalTexture(r.colorTexture,e,o.textureAlphaMode);t?(o.textureId=t.id,o.textureAlphaPremultiplied=!!t.parameters.preMultiplyAlpha):o.textureId=void 0}if(r.normalTexture&&(o.normalTextureId=this._getInternalTexture(r.normalTexture)?.id),r.emissiveColor){const n=e.toUnitRGB(r.emissiveColor);o.emissiveBaseColor=A(t(n[0]),t(n[1]),t(n[2]))}r.emissiveTexture&&(o.emissiveTextureId=this._getInternalTexture(r.emissiveTexture)?.id),r.occlusionTexture&&(o.occlusionTextureId=this._getInternalTexture(r.occlusionTexture,!0)?.id),r.metallicRoughnessTexture&&(o.metallicRoughnessTextureId=this._getInternalTexture(r.metallicRoughnessTexture,!0)?.id)}_setInternalMaterialParameters(e,t,r){null!=e.color&&Ne(e.color,t,r),this._setInternalMaterialTextureParameters(e,t),t.colorTextureTransformMatrix=ne(e.colorTextureTransform),t.normalTextureTransformMatrix=ne(e.normalTextureTransform);const o=null!=e.normalTextureTransform?.scale?e.normalTextureTransform?.scale:d;t.scale=[o[0],o[1]],t.occlusionTextureTransformMatrix=ne(e.occlusionTextureTransform),t.emissiveTextureTransformMatrix=ne(e.emissiveTextureTransform),t.metallicRoughnessTextureTransformMatrix=ne(e.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(t,r=this._materialColor){const o=this._drivenProperties.color,n=this._drivenProperties.opacity;if(o)t.externalColor=S;else{const o=r??null;if(o){const r=e.toUnitRGBA(o);n&&(r[3]=1),t.externalColor=r}else t.externalColor=fe}t.colorMixMode=this.symbolLayer.material?.colorMixMode??\"multiply\",t.castShadows=!!this.symbolLayer.castShadows,t.emissiveStrength=this.symbolLayer?.material?.emissive?.strength??1,t.emissiveSource=re(this.symbolLayer?.material?.emissive?.source??\"emissive\")}_getOrCreateMaterial(t,r){const o=r.material?.color,n=r.material?.colorTexture,a=r.material?.alphaMode,s=\"blend\"===a,i=!(\"opaque\"===a)&&(Le(t)||null!=o&&o.a<1||n?.transparent||s),l=this._materialProperties(t,r,i),c=this._materialInfoCache.byUid(l.uid);if(c)return this._setInternalMaterialTextureParameters(l,c.material.parameters),c.material;const u={uid:l.uid,material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:\"opaque\"},m=je({normalTexture:l.normalTexture,metallicRoughnessTexture:l.metallicRoughnessTexture,metallicFactor:l.metallic,roughnessFactor:l.roughness,emissiveTexture:l.emissiveTexture,emissiveFactor:e.toUnitRGB(l.emissiveColor),occlusionTexture:l.occlusionTexture}),f={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:P,diffuse:R,opacity:1,doubleSided:!0,doubleSidedType:\"winding-order\",cullFace:0,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled,drivenOpacity:this.needsDrivenTransparentPass||u.isComponentTransparent};f.mrrFactors=m?Ae:[l.metallic,l.roughness,Me[2]],r.material&&(f.doubleSided=r.material.doubleSided,f.cullFace=r.material.doubleSided?0:2,f.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(f),this._setMaterialTextureAlphaMode(f,u),this._setInternalMaterialParameters(l,f,u);const p=new we(f,this._context);return u.material=p,this._materialInfoCache.set(l.uid,u),p}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchColor(e,t)}_preparePatchColor(e,t){if(!t.material||\"partial\"!==t.material.type)return;const r=t.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const o=r.color.newValue;delete r.color,e.symbolLayerStatePatches.push(()=>{this._updateMaterialParameters(e=>{const t=e.material.parameters;this._setExternalMaterialParameters(t,o),this._setMaterialTextureAlphaMode(t,e),e.material.setParameters({externalColor:t.externalColor})})})}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTextureAlphaMode(e,t){if(\"auto\"===t.alphaMode){const r=this.needsDrivenTransparentPass||t.isComponentTransparent||(e.layerOpacity??1)<1||(e.opacity??1)<1||(e.externalColor?.[3]??1)<1;e.textureAlphaMode=r?3:1}else e.textureAlphaMode=\"opaque\"===t.alphaMode?1:\"mask\"===t.alphaMode?2:0}_createFaceDebugNormals(e,t){const r=t.length,o=e.spatialReference.isGeographic?20015077/180:1,n=.1*Math.max(e.extent.width*o,e.extent.height*o,e.extent.zmax-e.extent.zmin),s=[],l=[],c=t[0].transformation,u=a(i(),c);for(let a=0;a<r;a++){const e=t[a].attributes.get(\"position\");if(!e)continue;const r=e.data,o=e.indices;for(let t=0;t<o.length;t+=3)Ve(r,o,t,Ze),Fe(r,o,t,Ke,Qe,Xe),x(Ke,Ke,Qe),x(Ke,Ke,Xe),_(Ke,Ke,1/3),y(Ke,Ke,c),s.push(...Ke),T(Ze,Ze,u),b(Ze,Ze),v(Ke,Ke,Ze,n),s.push(...Ke),l.push(l.length),l.push(l.length)}return s.length?new Te(this._debugFaceNormalMaterial,[[\"position\",new ye(s,l,3,!0)]],null,2):null}_createPerVertexDebugVectors(e,t,r,o,n){const l=t.length,c=e.spatialReference.isGeographic?20015077/180:1,u=.1*n*Math.max(e.extent.width*c,e.extent.height*c,e.extent.zmax-e.extent.zmin),m=[],f=[],p=t[0].transformation,h=a(i(),p);\"tangent\"===r&&s(h,p);for(let a=0;a<l;a++){const e=t[a],o=e.attributes.get(\"position\"),n=e.attributes.get(r);if(!o||!n)continue;const s=o.data,i=o.indices,l=n.data,c=n.indices;for(let t=0;t<i.length;t++){const e=3*i[t],r=c[t]*n.stride;g(Ke,s[e+0],s[e+1],s[e+2]),y(Ke,Ke,p),m.push(...Ke),g(Qe,l[r+0],l[r+1],l[r+2]),T(Qe,Qe,h),b(Qe,Qe),v(Ke,Ke,Qe,u),m.push(...Ke),f.push(f.length),f.push(f.length)}}return m.length?new Te(o,[[\"position\",new ye(m,f,3,!0)]],null,2):null}_createAs3DShape(e,t,r,o){const n=e.geometry;if(\"mesh\"!==n.type)return null;const a=this._createGeometryInfo(n,t,o);if(null==a)return null;const{geometries:s,objectTransformation:i}=a;if(_e.DRAW_MESH_GEOMETRY_NORMALS){const e=this._createPerVertexDebugVectors(n,s,\"normal\",this._debugVertexNormalMaterial,1),t=this._createPerVertexDebugVectors(n,s,\"tangent\",this._debugTangentNormalMaterial,.5),r=this._createFaceDebugNormals(n,s);e&&s.push(e),t&&s.push(t),r&&s.push(r)}const l=this._context.layerViewUid,c=new be({geometries:s,layerViewUid:l,graphicUid:o,isElevationSource:!0});c.transformation=i;const u=xe(this.symbolLayer,{opacity:this._getLayerOpacity()}),m=u?new ue(s[0].material,u,this._context.slicePlaneEnabled):null,f=new ce(this,c,null,se,r,m);this._fastUpdateProcessor.onAddGraphic(),f.needsElevationUpdates=ie(r.mode),f.useObjectOriginAsAttachmentOrigin=!0,f.fastTransformUpdatesAllowed=this._fastTransformUpdatesAllowed(n),r.centerInElevationSR=this._getCenterInElevationSR(c.transformation);const{elevationProvider:p,renderCoordsHelper:h}=this._context,d=(e,t)=>le(e,p,r,h,t);return f.alignedSampledElevation=se(f,r,p.spatialReference,d,h),f}_fastTransformUpdatesAllowed(e){const{vertexSpace:t,spatialReference:r}=e;if(!k(t))return!1;const{type:o}=t,{view:n}=this._context.graphicsCoreOwner,{viewingMode:a}=n.state,s=n.spatialReference;return 1===a&&\"local\"===o||2===a&&q(s,r)&&\"georeferenced\"===o&&!r.isGeographic}_getElevationSR(){return this._context.elevationProvider.spatialReference??null}_getCenterInElevationSR(e){const t=M(),r=g(nt,e[12],e[13],e[14]);return E(r,this._context.renderCoordsHelper.spatialReference,t,this._getElevationSR()),t}_passthroughReprojectionInfo(e){return 0===e.reprojection&&!!e.objectTransformation}_createPositionBuffer(e,t){const r=e.vertexAttributes.position;let o,n=r;if(0===t.reprojection)return{position:n,georeferencedPositionBuffer:o};const a=1===t.reprojection?t.transformBeforeProject:null;a&&(n=Y(new Float64Array(n.length),n,a));const{normal:s,tangent:i}=e.vertexAttributes;this._passthroughReprojectionInfo(t)||!s&&!i||(o=n);const l=n===r||n===o?new Float64Array(n.length):n;return U(n,e.spatialReference,0,l,this._context.renderCoordsHelper.spatialReference,0),{position:l,georeferencedPositionBuffer:o}}_createNormalBuffer(e,t,r,o){const n=e.vertexAttributes.normal;if(null==n)return null;let a=n;const s=1===o.reprojection?o.transformBeforeProject:null;s&&(a=J(a,new Float32Array(a.length),s));const i=this._context.graphicsCoreOwner.view.viewingMode;if(0===o.reprojection)return a;if(\"local\"===i){if(!W(this._context.renderCoordsHelper.spatialReference))return a;if(null==r)return null;if(e.spatialReference.isGeographic){const e=a===n?new Float32Array(a.length):a;return K(a,0,r,e)}if(e.spatialReference.isWebMercator){const e=a===n?new Float32Array(a.length):a;return Q(a,0,r,e)}return a}if(null==r)return null;const l=a===n?new Float32Array(a.length):a,c=this._context.renderCoordsHelper.spatialReference;return X(a,r,e.spatialReference,t,c,l)}_createTangentBuffer(e,t,r,o){const n=e.vertexAttributes.tangent;if(null==n)return null;let a=n;const s=1===o.reprojection?o.transformBeforeProject:null;s&&(a=Z(a,new Float32Array(a.length),s));const i=this._context.graphicsCoreOwner.view.viewingMode;if(0===o.reprojection)return a;if(\"local\"===i){if(!W(this._context.renderCoordsHelper.spatialReference))return a;if(null==r)return null;if(e.spatialReference.isGeographic){const e=a===n?new Float32Array(a.length):a;return K(a,1,r,e)}if(e.spatialReference.isWebMercator){const e=a===n?new Float32Array(a.length):a;return Q(a,1,r,e)}return a}if(null==r)return null;const l=a===n?new Float32Array(a.length):a,c=this._context.renderCoordsHelper.spatialReference;return ee(a,r,e.spatialReference,t,c,l)}_createSymbolColorBuffer(e){return this._requiresSymbolVertexColors()?new Uint8Array(this._getDrivenUInt8ColorWithNaNSupport(e,this._materialColor,!0)):null}_createBuffers(e,t){const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return this.logger.warn(\"Mesh geometry must contain position vertex attributes\"),null;const o=e.vertexAttributes.normal,n=e.vertexAttributes.uv,a=e.vertexAttributes.tangent;if(o&&o.length!==r.length)return this.logger.warn(\"Mesh normal vertex buffer must contain the same number of elements as the position buffer\"),null;if(a&&a.length/4!=r.length/3)return this.logger.warn(\"Mesh tangent vertex buffer must contain the same number of elements as the position buffer\"),null;if(n&&n.length/2!=r.length/3)return this.logger.warn(\"Mesh uv vertex buffer must contain the same number of elements as the position buffer\"),null;const s=this._computeReprojectionInfo(e),{position:i,georeferencedPositionBuffer:l}=this._createPositionBuffer(e,s),c=qe(e),u=this._createSymbolColorBuffer(t),m=this._createNormalBuffer(e,i,l,s),p=this._createTangentBuffer(e,i,l,s),h=n,{transformation:d,position:g,normal:x,tangent:_}=this._passthroughReprojectionInfo(s)?{transformation:s.objectTransformation,position:i,normal:m,tangent:p}:this._transformOriginLocal(e,i,m,p);return{positionBuffer:g,normalBuffer:x,tangentBuffer:_,uvBuffer:h,colorBuffer:c,symbolColorBuffer:u,objectTransformation:d,geometryTransformation:0===s.reprojection&&s.geometryTransformation?s.geometryTransformation:f()}}_computeReprojectionInfo(e){const{vertexSpace:t}=e,r=\"georeferenced\"===t.type?q(this._context.renderCoordsHelper.spatialReference,e.spatialReference)?0:1:0;if(z(t))return{reprojection:r};const o=t.origin,n=f(),a=e.transform?.localMatrix??p;if(0===r){B(e.spatialReference,o,n,this._context.renderCoordsHelper.spatialReference);return{reprojection:r,objectTransformation:n,geometryTransformation:h(a)}}const s=l(f(),o);return c(s,s,a),{reprojection:r,transformBeforeProject:s}}_transformOriginLocal(e,t,r,o){const n=this._context.renderCoordsHelper.spatialReference,a=e.origin;Je[0]=a.x,Je[1]=a.y,Je[2]=a.z??0;const s=f();B(e.spatialReference,Je,s,n),u(et,s);const{position:i,normal:l,tangent:c}=e.vertexAttributes,m=t===i?new Float64Array(t.length):t;Y(m,t,et);const p=r?r===l?new Float32Array(r.length):r:null,h=o?o===c?new Float32Array(o.length):o:null;return r&&p&&J(r,p,et),o&&h&&Z(o,h,et),{transformation:s,position:m,normal:p,tangent:h}}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,o=t.faces;if(o){let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn(\"Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)\"),!1;return!0}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const t=e.vertexAttributes?.position;if(!t)return!1;const r=this._context.elevationProvider.spatialReference,o=te(e,r??e.spatialReference);return!!o&&(O(o,rt),!V(rt,this._context.clippingExtent))}_createGeometryInfo(e,t,r){if(!I(e.spatialReference,this._context.renderCoordsHelper.spatialReference))return this.logger.warn(\"Geometry spatial reference is not compatible with the view\"),null;if(!this._validateVertexSpace(e))return null;if(this._isOutsideClippingArea(e))return null;const o=this._createBuffers(e,t);if(null==o)return null;const{positionBuffer:n,uvBuffer:a,colorBuffer:s,symbolColorBuffer:i,normalBuffer:l,tangentBuffer:c,objectTransformation:u,geometryTransformation:f}=o,p=e.components??ot,h=new Array;let d=!1;const g=m(Ke,u),x=this._context.localOriginFactory.getOrigin(g);for(const m of p){if(!this._validateFaces(e,m))return null;const t=Ie(e,m);if(0===t.length)continue;const o=Be(n,l,m,t);o.didFlipNormals&&(d=!0);const u=[[\"position\",new ye(n,t,3,!0)],[\"normal\",new ye(o.normals,o.indices,3,!0)]];s&&u.push([\"color\",new ye(s,t,4,!0)]),i&&u.push([\"symbolColor\",new ye(i,G(t.length),4,!0)]),a&&u.push([\"uv0\",new ye(a,t,2,!0)]),c&&u.push([\"tangent\",new ye(c,t,4,!0)]);const p=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:r,layerViewUid:this._context.layerViewUid}),g=this._getOrCreateMaterial(e,m),_=new Te(g,u,null,0,p);_.transformation=f,_.localOrigin=x,h.push(_)}return d&&this.logger.warn(\"Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals.\"),{geometries:h,objectTransformation:u}}_updateMaterialParameters(e){this._materialInfoCache.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachClonedMaterial((e,t)=>{t.setParameters(e.parameters)})}_validateVertexSpace(e){const{_context:{graphicsCoreOwner:{view:{state:{viewingMode:t}}}}}=this,{vertexSpace:r}=e;return 2!==t||\"local\"!==r.type||(this.logger.warn(\"Displaying a mesh with a local vertex space in a view in local viewing mode is not supported.\"),!1)}test(){return{...super.test(),materials:this._materialInfoCache.materials}}get _materialColor(){return this.symbolLayer.material?.color}}class Se{constructor(e,t,r){this.normals=e,this.indices=t,this.didFlipNormals=r}}function Ie(e,t){return t.faces??D(e.vertexAttributes.position.length/3)}function Be(e,t,r,o){switch(r.shading||\"flat\"){default:case\"source\":return Ee(e,t,r,o);case\"flat\":return Ue(e,o);case\"smooth\":return Oe(e,o)}}function Ue(e,t){const r=$(t.length),o=new Array(3*t.length);for(let n=0;n<t.length;n+=3){const a=Ve(e,t,n,Ze);for(let e=0;e<3;e++)r[n+e]=a[e],o[n+e]=n/3}return new Se(r,o,!1)}function Ee(e,t,r,o){if(null==t)return Ue(e,o);let n=!1;if(!r.trustSourceNormals)for(let a=0;a<o.length;a+=3){Ve(e,o,a,Ze);for(let e=0;e<3;e++){const r=3*o[a+e];Ke[0]=t[r],Ke[1]=t[r+1],Ke[2]=t[r+2],j(Ze,Ke)<0&&(t[r]=-t[r],t[r+1]=-t[r+1],t[r+2]=-t[r+2],n=!0)}}return new Se(t,o,n)}function Oe(e,t){const r={};for(let a=0;a<t.length;a+=3){const o=Ve(e,t,a,Ze);for(let e=0;e<3;e++){const n=t[a+e];let s=r[n];s||(s={normal:M(),count:0},r[n]=s),x(s.normal,s.normal,o),s.count++}}const o=$(3*t.length),n=new Array(3*t.length);for(let a=0;a<t.length;a++){const e=r[t[a]];1!==e.count&&(b(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)o[3*a+t]=e.normal[t];n[a]=a}return new Se(o,n,!1)}function Fe(e,t,r,o,n,a){const s=3*t[r],i=3*t[r+1],l=3*t[r+2];o[0]=e[s],o[1]=e[s+1],o[2]=e[s+2],n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],a[0]=e[l],a[1]=e[l+1],a[2]=e[l+2]}function Ve(e,t,r,o){return Fe(e,t,r,Ke,Qe,Xe),w(Qe,Qe,Ke),w(Xe,Xe,Ke),C(Ke,Qe,Xe),b(o,Ke),o}function $e(e){if(!e)return null;const{scale:t,offset:o,rotation:n}=e;return{scale:t,offset:o,rotation:r(n)}}function Ge(e=\"repeat\"){if(\"string\"==typeof e){const t=De(e);return{s:t,t}}return{s:De(e.horizontal),t:De(e.vertical)}}function De(e){switch(e){case\"clamp\":return 33071;case\"mirror\":return 33648;default:return 10497}}function Le(e){const t=e.vertexAttributes.color;if(null==t)return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}function Ne(t,r,o){r.diffuse=e.toUnitRGB(t),r.opacity=\"opaque\"===o.alphaMode?1:t.a}function He(e){return e.data??e.url}function ke(t){return null==t?\"-\":t instanceof e?t.toHex():t.contentHash}function ze(e){const{offset:t,scale:r,rotation:o}=e??Ye;return`${t[0]},${t[1]},${o},${r[0]},${r[1]}`}function qe(e){return e.vertexAttributes.color}function We(e){return 1===(e.material?.color?.a??0)}const Ye=new H,Je=M(),Ke=M(),Qe=M(),Xe=M(),Ze=M(),et=f(),tt=f(),rt=F(),ot=[new L],nt=M();export{Pe as Graphics3DMeshFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e,j as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as s,empty as a,expandWithVec3 as h,isPoint as r,center as l,offset as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{evaluateElevationInfoAtPoint as g}from\"./elevationAlignmentUtils.js\";import{demResolutionForBoundingBox as c}from\"./graphicUtils.js\";import{Object3DHighlightStateID as d}from\"../../webgl-engine/lib/Object3DStateID.js\";class m{constructor(t,e,i,n,s){this.graphics3DSymbolLayer=t,this.instanceIndex=e,this.elevationAligner=i,this.elevationContext=n,this._highlightOrderMap=s,this.type=\"lod-instance\",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1,this._highlightName=null}initialize(){}setVisibility(t){const{instanceData:e}=this;t!==e.getVisible(this.instanceIndex)&&e.setVisible(this.instanceIndex,t)}destroy(){null!=this.instanceIndex&&(this.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}get usedMemory(){return this.graphics3DSymbolLayer.usedMemory}alignWithElevation(t,e){if(this.elevationAligner){const i=(i,n)=>g(i,t,this.elevationContext,e,n),n=this.elevationAligner(this,this.elevationContext,t.spatialReference,i,e);null!=n&&(this.alignedSampledElevation=n)}}getCenterObjectSpace(t=n()){return this.instanceData.getCombinedLocalTransform(this.instanceIndex,b),e(t,this._lodRenderer.baseBoundingSphere.center,b)}getBoundingBoxObjectSpace(t=s()){this.instanceData.getCombinedLocalTransform(this.instanceIndex,b);const n=this._lodRenderer.baseBoundingBox;a(t);for(let s=0;s<8;++s)i(u,1&s?n[3]:n[0],2&s?n[4]:n[1],4&s?n[5]:n[2]),e(u,u,b),h(t,u);return t}computeAttachmentOrigin(t){this.instanceData.getGlobalTransform(this.instanceIndex,b),t.render.origin[0]+=b[12],t.render.origin[1]+=b[13],t.render.origin[2]+=b[14],t.render.num++}async getProjectedBoundingBox(t,i,n,s,h){const g=this.getBoundingBoxObjectSpace(h),d=v,m=r(g)?1:d.length;this.instanceData.getGlobalTransform(this.instanceIndex,b);for(let a=0;a<m;a++){const t=d[a];u[0]=g[t[0]],u[1]=g[t[1]],u[2]=g[t[2]],e(u,u,b),p[3*a]=u[0],p[3*a+1]=u[1],p[3*a+2]=u[2]}if(!t(p,0,m))return null;a(g);let _=null;this.calculateRelativeScreenBounds&&(_=this.calculateRelativeScreenBounds());for(let e=0;e<3*m;e+=3){for(let t=0;t<3;t++)g[t]=Math.min(g[t],p[e+t]),g[t+3]=Math.max(g[t+3],p[e+t]);_&&n.push({location:p.slice(e,e+3),screenSpaceBoundingRect:_})}if(i&&(l(g,f),\"absolute-height\"!==this.elevationContext.mode)){let t;const e=c(g,i.service.spatialReference,i);try{t=await i.service.queryElevation(f[0],f[1],s,e,\"ground\")}catch(x){}null!=t&&o(g,0,0,-this.alignedSampledElevation+t)}return g}addObjectState(t){0===t.stateType&&this.addObjectHighlightState(t)}addObjectHighlightState(t){const e=new d(t.highlightName);this._addHighlightId(e),t.addExternal(t=>{this._removeHighlightId(t)},e)}removeObjectState(t){this._highlights.forEach(e=>t.remove(e))}updateHighlights(t){this._highlightOrderMap=t,this._updateHighlightOptions()}_calculateHighlightOptions(){let t=-1,e=null;return this._highlights.forEach(({highlightName:i})=>{const n=this._highlightOrderMap.get(i);void 0!==n&&n>t&&(t=n,e=i)}),e}_addHighlightId(t){this._highlights.add(t),this._updateHighlightOptions()}_removeHighlightId(t){this._highlights.delete(t),this._updateHighlightOptions()}_updateHighlightOptions(){const t=this._calculateHighlightOptions();t!==this._highlightName&&(this._highlightName=t,this.instanceData.setHighlight(this.instanceIndex,t))}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}get instanceData(){return this._lodRenderer.instanceData}}const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=n(),f=n(),v=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],b=t();export{m as Graphics3DLodInstanceGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{LodResources as e,LodComponentResources as n,LodComponentEngineGeometry as o,LodLevelResources as r}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function t(e,t){const s=e.stageResources.geometries.map(r=>new n(new o(r),e.stageResources.textures)),l=null==e.lodThreshold||0===e.lodThreshold&&t>0?u(s):e.lodThreshold;return new r(s,l,e.pivotOffset)}function s(n){return new e(n.map((e,n)=>t(e,n)))}function u(e){const n=e.reduce((e,n)=>e+n.numTriangles,0);return Math.sqrt(n*l/Math.PI)}const l=20;export{s as makeLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport l from\"../../../../core/Error.js\";import{fetchStyle as t,symbolUrlFromStyleItem as e}from\"../../../../symbols/support/styleUtils.js\";import{getStyleItemFromStyle as s,fetchSymbolFromStyle as n}from\"../../../../symbols/support/webStyleSymbolUtils.js\";async function r(r){if(null==r||null==r.styleName&&null==r.styleUrl)return null;const o=r.name;if(null==o)throw new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");const u={portal:r.portal},i=await t(r,u).catch(()=>null);if(null===i)return null;const m=s(o,i.data);if(m&&!m.formatInfos?.some(l=>\"gltf_basisu\"===l.type))return null;const a=await n(i,o,u,e,{acceptedFormats:[\"web-gltf-basisu\",\"web-gltf\",\"web\"]}).catch(()=>null);if(null===a||\"point-3d\"!==a.type)return null;const y=a.symbolLayers.items[0];return\"object\"===y.type?y.resource:null}export{r as getResourceUrlFromSymbolStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{A as s,c as i,q as r,y as a}from\"../../../../../chunks/sphere.js\";import{maxScale as n}from\"../../../support/mathUtils.js\";import{Octree as o}from\"../Octree.js\";class h extends o{constructor(e,r){super(t=>s(this._instanceData.view.boundingSphere.getVec(t,m)),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const e=this._instanceData.view.boundingSphere,s=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);r(this._tmpSphere,this._boundingSphere.center,s),this._tmpSphere[3]=this._boundingSphere.radius*n(s),e.setVec(t,a(this._tmpSphere)),this.add([t])}removeInstance(t){this.remove([t])}}const m=e();export{h as InstanceOctree};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s){this._material=t,this._repository=s,this._map=new Map}dispose(){this._map.forEach((t,s)=>{null!=t&&this._repository.release(this._material,s)})}load(t,s,e){const r=this._material.produces.get(s);if(!r?.(e))return null;this._map.has(e)||this._map.set(e,this._repository.acquire(this._material,s,e));const i=this._map.get(e);if(i){if(2===i.ensureResources(t))return i;this._repository.requestRender()}return null}}export{t as GLMaterials};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glLayout as e}from\"../../../support/buffer/glUtil.js\";import{GLMaterials as t}from\"../GLMaterials.js\";import{VertexArrayObject as r}from\"../VertexArrayObject.js\";import{VertexBuffer as s}from\"../../../../webgl/VertexBuffer.js\";class o{constructor(o,i){this.geometry=i;const n=o.renderContext.rctx,m=i.renderGeometry,{material:a,layout:u,buffer:l}=m;this._materials=o.materials,a.setParameters({instancedDoublePrecision:!0}),this.glMaterials=new t(a,this._materials),this.vbo=new s(n,e(u),l),this.vao=new r(n,this.vbo)}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get material(){return this.geometry.renderGeometry.material}get layout(){return this.geometry.renderGeometry.layout}get boundingInfo(){return this.geometry.boundingInfo}get numTriangles(){return this.numVertices/3}get numVertices(){return this.geometry.renderGeometry.numVertices}get usedMemory(){return 128+this.vbo.usedMemory+this.vao.usedMemory}intersect(e,t,r,s,o,i,n,m){return this.geometry.intersect(e,t,r,s,o,i,n,m)}}export{o as LodComponentData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map(o=>e.controller.schedule(()=>new u(e,o.geometry),i))),c=s.map(o=>\"fulfilled\"===o.status?o.value:null).filter(o);if(n(i)||c.length!==s.length){c.forEach(o=>o.destroy()),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach(o=>o.destroy())}intersect(o,n,t,e,r,i,s){this.components.forEach(c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach(n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))}),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce((o,n)=>o+n.numTriangles,0)}}export{a as LodLevel};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import r from\"../../../../../core/Error.js\";import{someMap as s,getOrCreateMapValue as n}from\"../../../../../core/MapUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{isAborted as i,throwIfAborted as o}from\"../../../../../core/promiseUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{e as d,f as u,t as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as p,freeze as _}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as g}from\"../../../support/debugFlags.js\";import{glLayout as y}from\"../../../support/buffer/glUtil.js\";import v from\"../../../webgl/RenderCamera.js\";import{AsyncRenderPlugin as b}from\"../../effects/RenderPlugin.js\";import{DepthRange as I}from\"../DepthRange.js\";import{assert as C}from\"../Util.js\";import{InstanceData as D}from\"./InstanceData.js\";import{InstanceOctree as R}from\"./InstanceOctree.js\";import{LevelSelector as E}from\"./LevelSelector.js\";import{LodLevel as x}from\"./LodLevel.js\";import{getRenderInstanceDataLayout as S,RenderInstanceData as w}from\"./RenderInstanceData.js\";import{colorMixModes as L}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as j}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as U}from\"../../shaders/DefaultMaterialTechnique.js\";import{defaultHighlightName as T}from\"../../../../support/HighlightDefaults.js\";import{TaskPriority as O,noBudget as A}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as M}from\"../../../../webgl/Util.js\";import{fromLayout as q}from\"../../../../webgl/VertexAttributeLocations.js\";const B=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map(e=>e.minScreenSpaceRadius);return new E(t,r)};let F=class extends b{constructor(e,t){super(e),this.type=3,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDatas=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new v,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[2,e=>this._produces(e)],[4,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new D({shaderTransformation:e.shaderTransformation},e.symbol.materialParameters),this.addHandles(t.registerTask(O.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=S(this.symbol.materialParameters),this._glInstanceBufferLayout=y(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",()=>this._requestUpdateCycle()),this._instanceData.events.on(\"instance-transform-changed\",({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)}),this._instanceData.events.on(\"instance-visibility-changed\",({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)}),this._instanceData.events.on(\"instance-highlight-changed\",()=>this._requestUpdateCycle(!0))])}get _allRenderInstanceData(){return[this._defaultRenderInstanceData,...this._highlightRenderInstanceDatas.values()]}get _allRenderInstanceDataExceptHighlightShadow(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDatas)t[0]!==T&&e.push(t[1]);return e}hasHighlight(e){return this._highlightRenderInstanceDatas.has(e)}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerViewUid(){return this.metadata.layerViewUid}get instanceData(){return this._instanceData}get hasEmitters(){return this._levels.some(e=>e.components.some(e=>e.material.hasEmissions))}get usedMemory(){return this._allRenderInstanceData.reduce((e,t)=>t.reduce((e,t)=>e+t.usedMemory,e),this._levels.reduce((e,t)=>e+t.components.reduce((e,t)=>e+t.usedMemory,0),0))}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach((e,r)=>{const s=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,n=e.triangleCount;t.push({renderedInstances:s,renderedTriangles:s*n,trianglesPerInstance:n})}),{totalInstances:e,renderedInstances:t.reduce((e,t)=>e+t.renderedInstances,0),renderedTriangles:t.reduce((e,t)=>e+t.renderedTriangles,0),levels:t}}_createRenderInstanceDataArray(){const{rctx:e}=this._context.renderContext;return this.symbol.levels.map(t=>new w(e,this._instanceBufferLayout))}async initializeRenderContext(e,r){this._context=e,this._defaultRenderInstanceData=this._createRenderInstanceDataArray();const s=await Promise.allSettled(this.symbol.levels.map(t=>x.create(e,t,r))),n=s.map(e=>\"fulfilled\"===e.status?e.value:null).filter(t);if(i(r)||n.length!==s.length){n.forEach(e=>e.destroy()),o(r);for(const e of s)if(\"rejected\"===e.status)throw e.reason}this._levels=n,this._levelSelector=B(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach(e=>e.destroy()),this._defaultRenderInstanceData.forEach(e=>e.destroy()),this._highlightRenderInstanceDatas.forEach(e=>e.forEach(e=>e.destroy()))}_hasTransparentLevels(){return this._levels.some(e=>e.components.some(e=>{const t=e.material.produces.get(4);return t?.(0)}))}hasHighlights(){return s(this._highlightRenderInstanceDatas,e=>e.some(e=>e.size>0))}_produces(e){return(9!==e||this.hasHighlights())&&(5!==e||this.hasHighlight(T))}prepareRender(e){if(!g.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(A),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,s=this.levels;return t.forEach(t=>s.forEach(({components:s},n)=>s.forEach(s=>r.push(this._beginComponent(e,t[n],s))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let s=0;const n=this.levels;r.forEach(r=>n.forEach(({components:n},a)=>n.forEach(n=>this._renderComponent(e,t[s++],r[a],n,a)))),e.rctx.unbindBuffer(34962),e.rctx.bindVAO(null)}_getInstanceDatas(e){const{output:t,bind:r}=e,s=9===t,n=5===t,a=6!==t;if(!s&&!n)return a?this._allRenderInstanceData:this._allRenderInstanceDataExceptHighlightShadow;const{_highlightRenderInstanceDatas:i}=this;if(a){if(s){const e=r.highlight?.name;if(!e)return null;const t=i.get(e);return t?[t]:null}const e=i.get(T);return n?e?[e]:null:Array.from(i.values())}return null}intersect(e,t,r,s){if(!this.baseMaterial.visible||null==this._octree)return;const n=f();d(n,s,r);const a=n=>{this._instanceData.getCombinedModelTransform(n,N),e.transform.set(N),m(G,r,e.transform.inverse),m(W,s,e.transform.inverse);const a=this._instanceData.getState(n),i=this._instanceData.getLodLevel(n),o=this._levels.length;4&a&&(C(!!(18&a),\"invalid instance state\"),C(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,G,W,n,this.metadata,o))};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(a):this._octree.forEachAlongRay(r,n,a)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new R(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)18&t.get(r)&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=a(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return new I;const t=e.viewForward,r=this._octree.findClosest(t,1,e.frustum),s=this._octree.findClosest(t,-1,e.frustum);if(null==r||null==s)return new I;const n=e.eye,a=this._instanceData.view;a.boundingSphere.getVec(r,z),d(z,z,n);const i=u(z,t)-z[3];a.boundingSphere.getVec(s,z),d(z,z,n);const o=u(z,t)+z[3];return new I(i,o)}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach(e=>e.forEach(e=>e.startUpdateCycle()))}get readyToRun(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:s,_levelSelector:a}=this;this._allRenderInstanceData.forEach(e=>e.forEach(e=>e.beginUpdate()));const i=this._instanceData,o=i.view;let l=i.size;const c=i.capacity;let h=this._instanceIndex;const d=Math.ceil(c/500),{_highlightRenderInstanceDatas:u}=this;for(let m=0;m<l&&!e.done;++m){h===this._cycleStartIndex&&this._startUpdateCycle();const m=o.state.get(h);let f=0;if(!(1&m)){h=h+1===c?0:h+1,l++;continue}const p=o.lodLevel.get(h);if(2&m&&this._defaultRenderInstanceData[p].freeTail(),16&m){const e=i.geHighlightOptionsPrev(h);if(e){const t=u.get(e);if(!t)throw new r(\"internal:lod-renderer\",\"Internal error in lodRenderer\");t[p].freeTail(),t.every(e=>e.isEmpty)&&(t.forEach(e=>e.destroy()),u.delete(e))}}if(32&m)i.freeInstance(h);else if(4&m){let e=0;if(t&&(o.modelOrigin.getVec(h,P),e=a.selectLevel(P,i.getCombinedMedianScaleFactor(h),s)),f=-83&m,e>=0)if(8&m){const t=i.getHighlightName(h);if(t){const s=()=>{const e=this._createRenderInstanceDataArray();return e.forEach(e=>e.beginUpdate()),e},a=n(u,t,s);if(e>=a.length)throw new r(\"internal:lod-renderer\",`LodRenderer internal error - missing lodLevel ${e}`);H(a[e],o,h)}f|=16}else H(this._defaultRenderInstanceData[e],o,h),f|=2;o.state.set(h,f),o.lodLevel.set(h,e)}else f=-83&m,o.state.set(h,f);const _=!!(18&m),g=!!(18&f);null!=this._octreeCached&&(!_&&g?this._octreeCached.addInstance(h):_&&!g?this._octreeCached.removeInstance(h):_&&g&&64&m&&(this._octreeCached.removeInstance(h),this._octreeCached.addInstance(h))),h=h+1===c?0:h+1,h%d===0&&e.madeProgress(),_!==g&&this.metadata.notifyGraphicVisibilityChanged(h),g&&64&m&&this.metadata.notifyGraphicGeometryChanged(h)}this._instanceIndex=h,this._allRenderInstanceData.forEach(e=>e.forEach(e=>e.endUpdate())),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const s=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return s?.beginSlot(e.bind)}_renderComponent(e,t,r,s,n){if(!t)return;const{bind:a,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,a,s.material.parameters,Y),l=this._glInstanceBufferLayout;o.assertCompatibleVertexAttributeLocations(s.vao,q(l)),i.bindVAO(s.vao),g.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&0===e.output&&(o.setUniform4fv(\"externalColor\",k[Math.min(n,k.length-1)]),o.setUniform1i(\"symbolColorMixMode\",L.replace));const c=r.capacity,h=r.headIndex,d=r.tailIndex,u=r.firstIndex,m=(e,n)=>{M(i,o.locations,r.buffer,e),i.drawArraysInstanced(t.primitiveType,0,s.numVertices,n-e)};s.material.transparent&&null!=u?h>d?(C(u>=d&&u<=h,\"invalid firstIndex\"),m(u,h),m(d,u)):h<d&&(u<=h?(C(u>=0&&u<=h,\"invalid firstIndex\"),m(u,h),m(d,c),m(0,u)):(C(u>=d&&u<=c,\"invalid firstIndex\"),m(u,c),m(0,h),m(d,u))):h>d?m(d,h):h<d&&(m(0,h),m(d,c))}};function H(e,t,r){const s=e.allocateHead();V(t,r,e.view,s)}function V(e,t,r,s){j(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,s),r.model.copyFrom(s,e.model,t),r.modelNormal.copyFrom(s,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(s,e.color,t),e.olidColor&&r.olidColor&&r.olidColor.copyFrom(s,e.olidColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(s,e.featureAttribute,t)}e([l({constructOnly:!0})],F.prototype,\"symbol\",void 0),e([l({constructOnly:!0})],F.prototype,\"metadata\",void 0),e([l({constructOnly:!0})],F.prototype,\"shaderTransformation\",void 0),e([l()],F.prototype,\"_instanceData\",void 0),e([l()],F.prototype,\"_cycleStartIndex\",void 0),e([l({readOnly:!0})],F.prototype,\"_enableLevelSelection\",null),e([l()],F.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([l({readOnly:!0})],F.prototype,\"readyToRun\",null),F=e([c(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],F);const P=f(),z=p(),N=h(),G=f(),W=f(),k=[_(1,0,1,1),_(0,0,1,1),_(0,1,0,1),_(1,1,0,1),_(1,0,0,1)],Y=new U;export{F as LodRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{identity as r,scale as i,translate as a,copy as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{b as l,u as c,d as h,C as d,g as m,j as u}from\"../../../../chunks/vec32.js\";import{fromArray as p,ONES as f,create as y,ZEROS as _,fromValues as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ZEROS as b,ONES as v,create as P}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{computeTranslationToOriginAndRotation as x}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectPointToVector as R}from\"../../../../geometry/projection/projectPointToVector.js\";import{create as S,size as C,containsPoint as L,center as w}from\"../../../../geometry/support/aaBoundingBox.js\";import{getEmissiveMode as O}from\"../../../../symbols/support/materialUtils.js\";import{defaultPrimitive as j}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as U,objectSymbolLayerSizeWithResourceSize as E}from\"../../../../symbols/support/symbolLayerUtils3D.js\";import{estimateNumVerticesForLods as T,defaultSymbolLayerMemoryComplexity as G}from\"./defaultSymbolComplexity.js\";import{perLodInstanceElevationAligner as B}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as z,SampleElevationInfo as D,evaluateElevationInfoAtPoint as V}from\"./elevationAlignmentUtils.js\";import{Graphics3DLodInstanceGraphicLayer as A}from\"./Graphics3DLodInstanceGraphicLayer.js\";import{Graphics3DSymbolLayer as F,nanFallbackColor as I}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as k,computeObjectScale as H,computeObjectRotation as M}from\"./graphicUtils.js\";import{makeLodResources as W}from\"./lodResourceUtils.js\";import{fetch as q}from\"./objectResourceUtils.js\";import{placePointOnGeometry as N,extendPointGraphicElevationContext as $}from\"./pointUtils.js\";import{isValidPrimitive as Z,primitiveLodResources as J}from\"./primitiveObjectSymbolUtils.js\";import{SymbolComplexity as K}from\"./SymbolComplexity.js\";import{getResourceUrlFromSymbolStyle as Q}from\"./webStyleUtils.js\";import{initFastSymbolUpdatesState as X,updateFastSymbolUpdatesState as Y,ConvertOptions as ee,evaluateModelTransformScale as te,evaluateModelTransform as se}from\"../support/FastSymbolUpdates.js\";import{VerticalOffsetParameters as re}from\"../../webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{LodRenderer as ie}from\"../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{DefaultMaterial as ae}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{schematicMRRFactors as oe}from\"../../webgl-engine/materials/pbrUtils.js\";class ne{constructor(e,t,s,r,i,a,o,n,l,c,h=null){this.lodResources=e,this.lodRenderer=t,this.stageResources=s,this.resourceSize=r,this.isEsriSymbolResource=i,this.isWosr=a,this.resourceBoundingBox=o,this.symbolSize=n,this.extentPadding=l,this.physicalBasedRenderingEnabled=c,this.pivotOffset=h}}class le extends F{getCachedSize(){const[e,t,s]=null!=this._resources?this._resources.symbolSize:[1,1,1];return{width:e,depth:t,height:s}}constructor(e,t,s,r){super(e,t,s,r,de(t)),this._resources=null,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.skipHighSymbolLodsChanged=!1,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}async doLoad(e){if(!this._drivenProperties.size){const e=k(this.symbolLayer);if(e)throw new Error(e)}if(this._isPrimitive){const t=this.symbolLayer.resource,s=t&&Z(t?.primitive)?t.primitive:j;this._resources=await this._createResourcesForPrimitive(s,e)}else{const t=await Q(this.symbol.styleOrigin),s=t?.href??this.symbolLayer.resource?.href;this._resources=await this._createResourcesForUrl(s,e)}this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.updateComplexity()}get extentPadding(){return null!=this._resources?this._resources.extentPadding:0}get _isPrimitive(){return null!=this._primitive}get lodRenderer(){return this._resources?.lodRenderer}get materials(){return this._resources?.stageResources.materials??[]}async _createResourcesForPrimitive(t,s){const r=this.symbolLayer,i=S(U(t)),a=p(C(i)),o=p(E(a,r)),n=l(o),c=!1,h=!1,d=r?.material,m={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:oe,ambient:f,diffuse:f,opacity:1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:r.castShadows,emissiveStrength:d?.emissive?.strength??0,emissiveSource:1,offsetTransparentBackfaces:!1,drivenOpacity:this.needsDrivenTransparentPass},u=!!m.usePBR,y=this.symbol;\"point-3d\"===y.type&&y.verticalOffset&&(m.verticalOffset=new re(y.verticalOffset),m.castShadows=!1),this._context.screenSizePerspectiveEnabled&&(m.screenSizePerspective=this.view.screenSizePerspective.parameters),this._hasDrivenColorOrOpacity?m.externalColor=I:m.externalColor=e.toUnitRGBA(this._materialColor)??b,this._fastUpdates=X(this._context.renderer,this._fastVisualVariableConvertOptions(i,o,a,null)),m.instanced=!0,this._fastUpdates?(Object.assign(m,this._fastUpdates.materialParameters),m.instancedFeatureAttribute=!0):this._hasDrivenColorOrOpacity&&(m.instancedColor=!0);const _=new ae(m,this._context);_.setParameters({cullFace:me(_.transparent)});const g=J(t,_);if(!g)throw new Error(`Unknown object symbol primitive: ${t}`);const v=await this._createStageResources(g,u,s),P=await this._createLodRenderer(g,s);return new ne(g,P,v,a,c,h,i,o,n,u)}async _createResourcesForUrl(e,t){const r={instanced:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},i={spherical:this._context.spherical,materialParameters:r,streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache,compressionOptions:{compressionTracker:this._context.compressionTracker,compressionCallback:()=>this.updateComplexity()}};this._fastUpdates=X(this._context.renderer,this._fastVisualVariableConvertOptions(null,null,null,null)),this._fastUpdates?(Object.assign(i.materialParameters,this._fastUpdates.materialParameters),i.materialParameters.instancedFeatureAttribute=!0):this._hasDrivenColorOrOpacity&&(i.materialParameters.instancedColor=!0);const a=this.symbol;if(\"point-3d\"===a.type&&a.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=a.verticalOffset;i.materialParameters.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},i.materialParameters.castShadows=!1}const o=this._context.physicalBasedRenderingEnabled;i.signal=t,i.usePBR=o,i.skipHighLods=this._context.skipHighSymbolLods;const n=await q(e,i),c=n.isEsriSymbolResource,h=n.isWosr,d=W(n.lods),m=this._context,u=this.symbolLayer.material,f=this._getExternalColorParameters(u),y=this.needsDrivenTransparentPass,_=d.getMaterials();_.forEach(e=>{e.setParameters({...f,drivenOpacity:y}),m.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:this.view.screenSizePerspective.parameters})});const g=n.referenceBoundingBox,b=p(C(g)),v=p(d.levels[0].pivotOffset),P=p(E(b,this.symbolLayer)),x=l(P),R=this._fastUpdates;Y(R,this._context.renderer,this._fastVisualVariableConvertOptions(g,P,b,v))&&_.forEach(e=>e.setParameters(R.materialParameters));const S=await this._createStageResources(d,o,t),L=await this._createLodRenderer(d,t);return new ne(d,L,S,b,c,h,g,P,x,o,v)}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,s,r){const i=this._context.stage,a=e.getMaterials();s!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged();const o=e.getTextures();i.addTextures(o),this._addDisposeResource(()=>{o.forEach(e=>e.unload()),i.removeTextures(o)}),await Promise.all(o.map(e=>this._context.stage.schedule(()=>e.load(i.renderView.renderingContext),r))),t(r);const n=e.getEngineGeometries();return{materials:a,textures:o,geometries:n}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerViewUid:this._context.layerViewUid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},i=this._fastUpdates,a=new ie({symbol:e,metadata:r,shaderTransformation:i?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,ye),o(s,se(i.materialParameters,ye,s))},scaleFactor:(e,t,s)=>{t.getFeatureAttribute(s,ye),te(e,i.materialParameters,ye)}}:null},this._context.scheduler);return a.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource(()=>{s.removeRenderPlugin(a),a.destroy()}),await s.addRenderPlugin(a,t),a}_getExternalColorParameters(t){const s={};if(s.externalColor=I,!this._drivenProperties.color&&null!=t?.color){const r=e.toUnitRGBA(t.color);this._drivenProperties.opacity&&(r[3]=NaN),s.externalColor=r}return s.emissiveStrength=t?.emissive?.strength??1,s.emissiveSource=O(t?.emissive?.source??\"emissive\"),s}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach(e=>e()),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=N(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for object symbol: ${t.geometry.type}`),null;const r=this.createElevationContextForGraphic(t),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(null==this._resources)return;const e=this._getLayerOpacity(),t=this._resources.stageResources.materials;for(let s=0;s<t.length;s++){const r=t[s];r.setParameters({layerOpacity:e}),this._isPrimitive&&r.setParameters({cullFace:me(r.transparent)})}}layerScreenSizePerspectiveChanged(){if(null==this._resources)return;const e=this._context.screenSizePerspectiveEnabled?this.view.screenSizePerspective.parameters:null;for(const t of this._resources.stageResources.materials)t.setParameters({screenSizePerspective:e})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,z)}slicePlaneEnabledChanged(){if(null==this._resources)return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(null==this._resources)return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}applyRendererDiff(e,t){if(null==this._resources)return 0;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:a,resourceSize:o,pivotOffset:n}=this._resources;for(const l in e.diff){if(\"visualVariables\"!==l)return 0;if(!Y(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,a,o,n)))return 0;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return 2}computeComplexity(){if(null==this._resources)return super.computeComplexity();const e=this._resources.lodResources,t=T(e.levels),s=e.computeUsedMemory(),r={...G(this.symbol,this.symbolLayer),resourceBytes:s};return new K({verticesPerFeature:t,memory:r})}_hasLodRenderer(){return null!=this._resources}_createAs3DShape(e,t,s,r,i){if(!this._hasLodRenderer()||null==this._resources)return null;const a=this.getFastUpdateAttrValues(e),o=this._context.clippingExtent;if(R(t,ue,this._context.elevationProvider.spatialReference),null!=o&&!L(o,ue))return null;const n=he(r),l=this._computeGlobalTransform(t,r,fe,_e),c=this._computeLocalTransform(this._resources,this.symbolLayer,s,pe),h=this._resources.lodRenderer.instanceData,d=h.addInstance();this._instanceIndexToGraphicUid.set(d,i),h.setLocalTransform(d,c,!1),h.setGlobalTransform(d,l),a&&h.setFeatureAttribute(d,a),null==this._fastUpdates&&this._hasDrivenColorOrOpacity&&h.setColor(d,this._getDrivenUInt8ColorWithNaNSupport(s,this._materialColor,!this._isPrimitive));const m=this._context.stage.renderView.olidRenderHelper;if(m){const e=m.getObjectAndLayerIdColor({graphicUid:i,layerViewUid:this._context.layerViewUid});h.setObjectAndLayerIdColor(d,e)}const u=new A(this,d,B,r,this._context.stage.view.state.highlightOrderMap);return n&&(u.alignedSampledElevation=_e.sampledElevation),u.needsElevationUpdates=z(r.mode),$(u,t,this._context.elevationProvider),u}_computeGlobalTransform(e,t,s,r){return V(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),ue[0]=e.x,ue[1]=e.y,ue[2]=r.z,x(e.spatialReference,ue,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,i){return r(i),this._applyObjectRotation(s,!1,i),this._applyObjectRotation(t,!0,i),this._applyObjectScale(e,s,i),this._applyAnchor(e,t,i),i}_applyObjectScale(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,a=H(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===a[0]&&1===a[1]&&1===a[2]||i(s,s,a)}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(null==this._resources)return!0;const s=e.geometry;if(!s)return!1;const r=N(s);if(null==r)return!1;const i=this.getGeometryElevationMode(s),{elevationContext:a}=t;return a.mode===i&&(a.updateFeatureExpressionFeature(e,this._context.layer),this._computeGlobalTransform(r,a,fe,_e),he(a)&&(t.alignedSampledElevation=_e.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(t.instanceIndex,fe,!0),$(t,r,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(null==this._resources)return;const s=(e,t,s)=>(null!=e&&\"complete\"===e.type?e.newValue:t)??s,r=s(t.heading,this.symbolLayer.heading,0),i=s(t.tilt,this.symbolLayer.tilt,0),a=s(t.roll,this.symbolLayer.roll,0),o=s(t.width,this.symbolLayer.width,void 0),n=s(t.height,this.symbolLayer.height,void 0),l=s(t.depth,this.symbolLayer.depth,void 0),c=s(t.anchor,this.symbolLayer.anchor,void 0),h=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const d={heading:r,tilt:i,roll:a,anchor:c,anchorPosition:h},m=this._resources;1===this.loadStatus&&e.symbolLayerStatePatches.push(()=>{m.symbolSize=p(E(m.resourceSize,{width:o,height:n,depth:l,isPrimitive:this._isPrimitive}))}),e.graphics3DGraphicPatches.push(({instanceIndex:e},t)=>{const s=this._computeLocalTransform(m,d,t,pe);m.lodRenderer.instanceData.setLocalTransform(e,s,!0)})}_preparePatchColor(t,s){if(!s.material||\"partial\"!==s.material.type)return;const r=s.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const i=r.color.newValue,a=null!=i?e.toUnitRGBA(i):v;delete r.color;const o=this._resources;if(null==o)return;const n=this._isPrimitive;t.graphics3DGraphicPatches.push(({instanceIndex:e})=>{if(this._hasDrivenColorOrOpacity)o.lodRenderer.instanceData.setColor(e,a);else{const e={externalColor:a};for(const t of o.stageResources.materials)t.setParameters(e),n&&t.setParameters({cullFace:me(t.transparent)})}})}_applyObjectRotation(e,t,s){if(!this._fastUpdates?.requiresShaderTransformation||!t)return M(e.heading,e.tilt,e.roll,s)}_applyAnchor(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=ce(e.resourceBoundingBox,e.pivotOffset,t);r&&a(s,s,r)}_fastVisualVariableConvertOptions(e,t,s,r){const i=null!=e?p(C(e)):f,a=null!=e?ce(e,r,this.symbolLayer):_,o=this._context.renderCoordsHelper.unitInMeters,n=H(null!=t?t:void 0,t,s,o),l=g(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return new ee({supports:{size:!0,color:!0,rotation:!0,opacity:!1},modelSize:i,symbolSize:t??f,unitInMeters:o,anchor:a,scale:n,rotation:l,fallbackColor:this._getFallbackOpacityAndColor(),fallbackSize:n})}get _primitive(){const{resource:e}=this.symbolLayer;return null!=e?.href?null:e?.primitive??j}_getFallbackOpacityAndColor(){return e.toUnitRGBA(this._materialColor)??(this._isPrimitive?b:I)}get _materialColor(){return this.symbolLayer.material?.color}}function ce(e,t,s){const r=y();switch(s.anchor){case\"center\":h(r,w(e)),c(r,r);break;case\"top\":{const t=w(e);u(r,-t[0],-t[1],-e[5]);break}case\"bottom\":{const t=w(e);u(r,-t[0],-t[1],-e[2]);break}case\"relative\":{const t=w(e),i=C(e),a=s.anchorPosition,o=a?g(a.x,a.y,a.z):_;d(r,i,o),m(r,r,t),c(r,r);break}default:null!=t?c(r,t):h(r,_)}return r}function he(e){return\"absolute-height\"!==e.mode}function de(e){return 1===(e.material?.color?.a??0)&&null==e.resource?.href}function me(e){return e?0:2}const ue=y(),pe=n(),fe=n(),ye=P(),_e=new D;export{le as Graphics3DObjectSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{b as t,n as i,d as s}from\"../../../../chunks/vec32.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class h{constructor(t,i,s,h,o){this.vertices=t,this.positionsES=i,this.offset=h,this.positions=o;const n=t.length,v=Math.floor(n/2),g=this.offset+3*v,f=s[g],r=s[g+1],c=s[g+2];this.origin=e(f,r,c);const l=this.offset+3*n;for(let e=this.offset;e<l;e+=3)o[e]=s[e]-f,o[e+1]=s[e+1]-r,o[e+2]=s[e+2]-c;this.updatePathVertexInformation()}updatePathVertexInformation(){const e=this.vertices.length,h=this.vertices[0];let o=this.offset;const n=this.positions;h.vRight[0]=n[o+3]-n[o],h.vRight[1]=n[o+4]-n[o+1],h.vRight[2]=n[o+5]-n[o+2],o+=3;let v=t(h.vRight);h.vMinSiblingLength=v,i(h.vRight,h.vRight);let g=h;for(let f=1;f<e;++f){const h=this.vertices[f];if(h.vLeft=g.vRight,f<e-1){h.vRight[0]=n[o+3]-n[o],h.vRight[1]=n[o+4]-n[o+1],h.vRight[2]=n[o+5]-n[o+2];const s=t(h.vRight);h.vMinSiblingLength=Math.min(v,s),v=s,i(h.vRight,h.vRight)}else s(h.vRight,h.vLeft),h.vMinSiblingLength=v;g=h,o+=3}}}export{h as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatSubArray as t}from\"../../../../geometry/support/FloatArray.js\";import{newHalfFloatArray as e}from\"../../../../geometry/support/HalfFloatArray.js\";import{newIntArray as i,compactIndices as s}from\"../../../../geometry/support/Indices.js\";import{newShortArray as r}from\"../../../../geometry/support/ShortArray.js\";import{compressNormal as o}from\"./Normals.js\";class h{constructor(s,o,h,n,a,p={}){this.path=s,this.profile=o,this.extruder=h,this.startCap=n,this.endCap=a,this.options=p,this._extrusionVertexCount=0;const l=this.path.vertices.length-2;this.numExtrusionProfiles=h.numProfilesPerJoin()*l+2,this.numVerticesTotal=o.vertices.length*this.numExtrusionProfiles,this.startCap.vertexBufferStart=this.numVerticesTotal;const u=this.startCap.numVertices;this.numVerticesTotal+=u,this.endCap.vertexBufferStart=this.numVerticesTotal;const x=this.endCap.numVertices;this.numVerticesTotal+=x,this.pathVertexData=i(1*this.numVerticesTotal),this.profileRightAxes=r(2*this.numVerticesTotal),this.profileUpAxes=r(2*this.numVerticesTotal),this.profileVertexAndNormals=e(4*this.numVerticesTotal),this.profileAuxData=e(3*this.numVerticesTotal),this.positions=t(s.positions,s.offset,3*s.vertices.length),this._rebuildGeometry(),this._buildTopology()}emitVertex(t,e,i,s,r){let h=4*this._extrusionVertexCount;if(this.profileVertexAndNormals[h]=i[0],this.profileVertexAndNormals[h+1]=i[1],this.profileVertexAndNormals[h+2]=s[0],this.profileVertexAndNormals[h+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,h=3*this._extrusionVertexCount,r){const e=this.path.vertices[t],i=e.maxStretchDistance;this.profileAuxData[h]=e.rotationRight[0]*i,this.profileAuxData[h+1]=e.rotationRight[1]*i}else this.profileAuxData[h]=this.profileAuxData[h+1]=0;this.profileAuxData[h+2]=0,o(this.profileRightAxes,this._extrusionVertexCount,e.right[0],e.right[1],e.right[2]),o(this.profileUpAxes,this._extrusionVertexCount,e.up[0],e.up[1],e.up[2]),++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,h){let n=4*this._extrusionVertexCount;this.profileVertexAndNormals[n]=i[0],this.profileVertexAndNormals[n+1]=i[1],this.profileVertexAndNormals[n+2]=s[0],this.profileVertexAndNormals[n+3]=s[1],n=3*this._extrusionVertexCount,this.profileAuxData[n]=r,this.profileAuxData[n+1]=h,this.profileAuxData[n+2]=1,o(this.profileRightAxes,this._extrusionVertexCount,e.right[0],e.right[1],e.right[2]),o(this.profileUpAxes,this._extrusionVertexCount,e.up[0],e.up[1],e.up[2]),this.pathVertexData[this._extrusionVertexCount]=t,++this._extrusionVertexCount}_rebuildGeometry(){this._extrusionVertexCount=0;const{positions:e,offset:i,vertices:s}=this.path;this.positions=t(e,i,3*s.length);let r=0;const o=(t,e,i,s,o)=>this.emitCapVertex(r,t,e,i,s,o),h=(t,e,i,s)=>this.emitVertex(r,t,e,i,s);for(this.startCap.rebuildConnectingProfileGeometry(s[r],this.profile,o),r=1;r<s.length-1;++r)this.extruder.extrude(s[r],this.profile,h);this.endCap.rebuildConnectingProfileGeometry(s[r],this.profile,o),r=0,this.startCap.rebuildCapGeometry(s[r],o),r=s.length-1,this.endCap.rebuildCapGeometry(s[r],o)}_buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let r=3*(2*(e*i));this.startCap.indexBufferStart=r,this.startCap.firstProfileVertexIndex=0,r+=this.startCap.numIndices,this.endCap.indexBufferStart=r,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1);const o=new Array,h=new Array,n=(t,e,i)=>{o.push(t),o.push(e),o.push(i),h.push(this.pathVertexData[t]),h.push(this.pathVertexData[e]),h.push(this.pathVertexData[i])};for(let s=0;s<e;++s){const e=this.profile.indices[2*s],r=this.profile.indices[2*s+1];for(let s=0;s<i;++s){const i=s*t+e,o=(s+1)*t+r,h=s*t+r;n(i,(s+1)*t+e,o),n(i,o,h)}}this.startCap.buildTopology(this.path.vertices[0],n),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],n),this.vertexIndices=s(o),this.pathVertexIndices=s(h)}onPathChanged(){this._rebuildGeometry()}}export{h as PathBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{set as e,subtract as t,scale as s,add as i,normalize as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";class o{rebuildConnectingProfileGeometry(e,t,s){for(let i=0;i<t.vertices.length;++i)s(e.frame,t.vertices[i],t.normals[i],0,0)}}class l extends o{constructor(){super(),this.numVertices=0,this.numIndices=0}rebuildCapGeometry(){}buildTopology(){}}class f extends o{constructor(e,t=0,s=!1){super(),this.profile=e,this.profilePlaneOffset=t,this.flip=s}get numVertices(){return this.profile.vertices.length}get numIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(e,t,s){const i=this.profilePlaneOffset;for(let r=0;r<t.vertices.length;++r)s(e.frame,t.vertices[r],t.normals[r],i,0)}rebuildCapGeometry(t,s){const i=this.profile,r=this.flip?1:-1,n=this.profilePlaneOffset,o=m;e(o,0,0);for(let e=0;e<i.vertices.length;++e)s(t.frame,i.vertices[e],o,n,r)}buildTopology(e,t){const s=this.profile,i=this.vertexBufferStart+s.indices[0];for(let r=1;r<s.numSegments;++r){const e=s.indices[2*r],n=s.indices[2*r+1],o=this.vertexBufferStart+e,l=this.vertexBufferStart+n;this.flip?t(l,o,i):t(i,o,l)}}}class h extends o{constructor(e){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=e.profile,this.flip=e.flip,this.sign=this.flip?1:-1,this.breakNormals=e.breakNormals,this.numSegments=e.subdivisions}get numVertices(){let e=this.profile.vertices.length*(this.numSegments-1)+this.profile.poles.length;return this.breakNormals&&(e+=this.profile.vertices.length),e}get numIndices(){let e=0;const t=this.profile;e+=2*t.numSegments*(this.numSegments-1);for(let s=0;s<t.numSegments;++s){const i=t.indices[2*s],r=t.indices[2*s+1];t.poleIndices[i]===t.poleIndices[r]?e+=1:e+=2}return 3*e}rebuildCapGeometry(n,o){const l=this.profile,f=n.frame,h=.5*this.sign,p=c,a=m;e(a,0,0);for(const e of l.poles)e.normal?o(f,e.position,e.normal,h,0):o(f,e.position,a,h,this.sign);if(this.breakNormals)for(let e=0;e<l.vertices.length;++e)o(f,l.vertices[e],l.normals[e],0,0);for(let e=0;e<this.numSegments-1;++e){const n=(1-(e+1)/this.numSegments)*Math.PI*.5,c=Math.sin(n),m=Math.cos(n);for(let e=0;e<l.vertices.length;++e){const n=l.poles[l.poleIndices[e]];t(p,l.vertices[e],n.position),s(p,p,c),n.normal?(i(p,p,n.position),o(f,p,n.normal,h*m,0)):(r(a,p),s(a,a,c),i(p,p,n.position),o(f,p,a,h*m,this.sign*m))}}}buildTopology(e,t){const s=this.profile,i=this.breakNormals?this.vertexBufferStart+s.poles.length:this.firstProfileVertexIndex,r=this.breakNormals?this.vertexBufferStart+s.poles.length+s.vertices.length:this.vertexBufferStart+s.poles.length;for(let n=0;n<s.numSegments;++n){const e=s.indices[2*n],o=s.indices[2*n+1],l=this.vertexBufferStart+s.poleIndices[e],f=this.vertexBufferStart+s.poleIndices[o];let h=i+e,c=i+o;for(let i=0;i<this.numSegments-1;++i){const n=r+i*s.vertices.length+e,l=r+i*s.vertices.length+o;this.flip?(t(n,c,h),t(c,n,l)):(t(h,c,n),t(l,n,c)),h=n,c=l}this.flip?(t(l,c,h),l!==f&&t(l,f,c)):(t(h,c,l),l!==f&&t(c,f,l))}}}const c=n(),m=n();export{l as NoCapBuilder,o as PathCapBuilder,h as RoundCapBuilder,f as TriangulationCapBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{dot as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{t as i}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class n{}class c{numProfilesPerJoin(){return 1}extrude(t,e,r){for(let s=0;s<e.vertices.length;++s)r(t.frame,e.vertices[s],e.normals[s],!1)}}class a{constructor(t,e){this.cutoffAngle=t,this.numBendSubdivisions=e}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(e,s,i){const o=h,{rotationAngle:n,rotationRight:c,frame:a}=e;if(Math.abs(n)>=this.cutoffAngle){const l=e.rotationFrameUp;for(let h=0;h<this.numBendSubdivisions+1;++h){t(u,.5*-n+h*n/this.numBendSubdivisions,l),m(o,a,u);for(let t=0;t<s.vertices.length;++t){if(r(s.vertices[t],c)*n>=0)i(o,s.vertices[t],s.normals[t],!1);else{i(a,e.applyMiterStretch(f,s.vertices[t]),s.normals[t],!0)}}}}else for(let t=0;t<this.numBendSubdivisions+1;++t)for(let o=0;o<s.vertices.length;++o){const t=r(s.vertices[o],c)*n>=0;i(a,e.applyMiterStretch(f,s.vertices[o]),s.normals[o],!t)}}}class l{constructor(){this.up=o(),this.right=o()}}function m(t,e,r){i(t.up,e.up,r),i(t.right,e.right,r)}const f=s(),u=e(),h=new l;export{l as Frame2D,a as MiterExtruder,n as PathExtruder,c as SimpleExtruder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Geometry as t}from\"./Geometry.js\";class e extends t{constructor(t,e,r,s,i,n){super(t,e,null,0,n),this.path=r,this.geometrySR=s,this.stencilWidth=i}}function r(t){return\"path\"in t}export{e as PathGeometry,r as isPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as t,set as e,length as i,normalize as s,dot as o,scale as r,add as n}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as l,j as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{d as p}from\"../../../../chunks/vec42.js\";import{fromValues as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newFloatArray as m}from\"../../../../geometry/support/FloatArray.js\";import{newHalfFloatArray as f}from\"../../../../geometry/support/HalfFloatArray.js\";import{getZeroIndexArray as d}from\"../../../../geometry/support/Indices.js\";import{Attribute as b,Vertices as v}from\"./Attribute.js\";import{decompressNormal as g,compressNormal as x}from\"./Normals.js\";import{intersectTriangles as A}from\"./RayIntersections.js\";class w{constructor(t){this.builder=t}onPathChanged(t){this.builder.onPathChanged()}}class y extends w{constructor(t){super(t),this.color=u(255,255,255,255),this._size=a(),this.positions=m(3*this.builder.numVerticesTotal),this.normals=new Int16Array(2*this.builder.numVerticesTotal)}bakeVertexColors(t){p(this.color,t)}bake(a){t(this._size,a);const{numVerticesTotal:c,pathVertexData:p,positions:u,profileRightAxes:m,profileUpAxes:f,profileVertexAndNormals:d,profileAuxData:b}=this.builder;for(let t=0;t<c;++t){let c=p[t];c*=3;const v=_;let A=0,w=0;const y=g(I,m,t),j=g(k,f,t),D=4*t,P=e(V,d[D]*a[0],d[D+1]*a[1]),F=3*t;if(1===b[F+2])l(v,j,y),A=b[F]*a[0],w=b[F+1];else{const t=C,a=z;e(t,b[F],b[F+1]);const l=i(t);s(t,t);const c=o(P,t);if(Math.abs(c)>l){e(a,-t[1],t[0]);const i=o(P,a);r(t,t,l*Math.sign(c)),r(a,a,i),n(P,t,a)}h(v,0,0,0)}const N=y[0]*P[0]+j[0]*P[1],R=y[1]*P[0]+j[1]*P[1],M=y[2]*P[0]+j[2]*P[1];this.positions[F]=u[c]+N+v[0]*A,this.positions[F+1]=u[c+1]+R+v[1]*A,this.positions[F+2]=u[c+2]+M+v[2]*A;const T=d[D+2],U=d[D+3];x(this.normals,t,y[0]*T+j[0]*U+v[0]*w,y[1]*T+j[1]*U+v[1]*w,y[2]*T+j[2]*U+v[2]*w)}}createGeometryData(){const t=this.builder.vertexIndices;return[[\"position\",new b(this.positions,t,3,!0)],[\"normalCompressed\",new b(this.normals,t,2,!0)],[\"color\",new b(this.color,d(t.length),4,!0)]]}onPathChanged(t){super.onPathChanged(t),this.bake(this.size)}intersect(t,e,i,s){const o=this.builder.vertexIndices,r=new v(this.positions,3),n=o.length/3;A(t,e,0,n,o,r,void 0,i,(t,e,i)=>s(t,i,e))}get size(){return this._size}}class j extends w{constructor(t,e,i,s){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=i,this.opacityAttributeValue=s,this.baked=new y(t),this._vvSize=m(this.builder.path.vertices.length).fill(e),this._vvColor=f(this.builder.path.vertices.length).fill(i),this._vvOpacity=f(this.builder.path.vertices.length).fill(s)}createGeometryData(){const t=this.builder,{pathVertexIndices:e,vertexIndices:i}=t;return[[\"position\",new b(t.positions,e,3,!0)],[\"profileVertexAndNormal\",new b(t.profileVertexAndNormals,i,4,!0)],[\"profileAuxData\",new b(t.profileAuxData,i,3,!0)],[\"profileRight\",new b(t.profileRightAxes,i,2,!0)],[\"profileUp\",new b(t.profileUpAxes,i,2,!0)],[\"sizeFeatureAttribute\",new b(this._vvSize,e,1,!0)],[\"colorFeatureAttribute\",new b(this._vvColor,e,1,!0)],[\"opacityFeatureAttribute\",new b(this._vvOpacity,e,1,!0)]]}onPathChanged(t){super.onPathChanged(t);const e=t.getMutableAttribute(\"position\");e&&(e.data=this.builder.positions)}}const V=a(),C=a(),z=a(),_=c(),I=c(),k=c();export{j as FastUpdatePathGeometry,w as PathGeometryData,y as StaticPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{d as t,j as e,g as r,b as s,n as o,i}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as a,fromPositionAndNormal as f,intersectRay as p}from\"../../../../geometry/support/plane.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as g}from\"./GeometryUtil.js\";function l(l,v){let h=null;const u=l.vertices.length,j=.99619469809,R=m(),y=m(),b=m(),x=m(),L=m(),d=m(),k=a();let q=l.vertices[0];t(y,v),e(R,0,1,0),g(q.vRight,y,R,R,b,y,j),t(q.frame.up,y),t(q.frame.right,b);const G=l.positions;let M=l.offset;h=q;for(let m=1;m<u;++m){q=l.vertices[m],r(L,q.vLeft,q.vRight);let a=s(L);a>0?(a=1/Math.sqrt(a),L[0]=L[0]*a,L[1]=L[1]*a,L[2]=L[2]*a):(L[0]=q.vRight[0],L[1]=q.vRight[1],L[2]=q.vRight[2]),d[0]=G[M]+h.frame.up[0],d[1]=G[M+1]+h.frame.up[1],d[2]=G[M+2]+h.frame.up[2],M+=3;const v=e(n,G[M],G[M+1],G[M+2]);f(v,L,k);p(k,c(d,q.vLeft),x)?(x[0]-=G[M],x[1]-=G[M+1],x[2]-=G[M+2],o(y,x),i(b,L,y),o(b,b)):g(L,h.frame.up,h.frame.right,R,b,y,j),t(q.frame.up,y),t(q.frame.right,b),h=q}}const n=m();export{l as computeMinimumRotationTangentFrame};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{estimateNumberArrayMemory as t}from\"../../../../core/memoryEstimations.js\";import{fromValues as e,clone as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{pathNumCircleProfileSubdivisions as o}from\"../../layers/graphics/Graphics3DPathSymbolLayerConstants.js\";class r{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,e){return this.vertices.push(s(t)),this.normals.push(s(e)),this.vertices.length-1}addPole(t,e=null){return this.poles.push({position:s(t),normal:e?s(e):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}get usedMemory(){return this.vertices.length*t(this.vertices[0])*2+t(this.indices)}}const n={top:[0,-.5],bottom:[0,.5]};function i(t){const s=.5,i=o,d=new r,a={v0:0,v1:0};d.addPole(e(0,0));for(let o=0;o<i;++o){const t=2*o*Math.PI/i,r=Math.cos(t),n=Math.sin(t),a=e(r*s,n*s),c=e(r,n);d.addVertex(a,c)}for(let e=0;e<i-1;++e){const t={v0:e,v1:e+1};d.addSegment(t,a)}const c={v0:i-1,v1:0};if(d.addSegment(c,a),\"center\"!==t){const e=n[t];d.translate(e[0],e[1])}return d}const d={center:i(\"center\"),top:i(\"top\"),bottom:i(\"bottom\")},a={center:c(\"center\"),top:c(\"top\"),bottom:c(\"bottom\")};function c(t){const s=1,o=1,i=new r,d=e(.5*-s,.5*-o),a=e(.5*s,.5*-o),c=e(.5*s,.5*o),h=e(.5*-s,.5*o),l=e(0,-1),v=e(1,0),m=e(0,1),p=e(-1,0);if(i.addPole(e(0,.5*o),m),i.addPole(e(0,.5*o)),i.addPole(e(0,.5*-o)),i.addPole(e(0,.5*-o),l),i.addVertex(d,l),i.addVertex(a,l),i.addSegment({v0:0,v1:1},{v0:3,v1:3}),i.addVertex(a,v),i.addVertex(c,v),i.addSegment({v0:2,v1:3},{v0:2,v1:1}),i.addVertex(c,m),i.addVertex(h,m),i.addSegment({v0:4,v1:5},{v0:0,v1:0}),i.addVertex(h,p),i.addVertex(d,p),i.addSegment({v0:6,v1:7},{v0:1,v1:2}),\"center\"!==t){const e=n[t];i.translate(e[0],e[1])}return i}export{r as PathProfile,d as circleProfiles,a as quadProfiles};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getEpsilon as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t}function u(t,n){if(t===n){const r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function o(t,n){const r=n[0],a=n[1],u=n[2],o=n[3];let e=r*o-u*a;return e?(e=1/e,t[0]=o*e,t[1]=-a*e,t[2]=-u*e,t[3]=r*e,t):null}function e(t,n){const r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function s(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3];return t[0]=a*c+o*s,t[1]=u*c+e*s,t[2]=a*i+o*f,t[3]=u*i+e*f,t}function i(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*c,t[1]=u*s+e*c,t[2]=a*-c+o*s,t[3]=u*-c+e*s,t}function f(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1];return t[0]=a*c,t[1]=u*c,t[2]=o*s,t[3]=e*s,t}function l(t,n){const r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function h(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]}function d(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function p(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3],l=t();return Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-s)<=l*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-i)<=l*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(e-f)<=l*Math.max(1,Math.abs(e),Math.abs(f))}function S(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function j(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t}const _=s,g=p,q=Object.freeze(Object.defineProperty({__proto__:null,LDU:m,add:d,adjoint:e,copy:n,determinant:c,equals:x,exactEquals:y,frob:b,fromRotation:l,fromScaling:M,identity:r,invert:o,mul:_,multiply:s,multiplyScalar:S,multiplyScalarAndAdd:j,rotate:i,scale:f,set:a,str:h,sub:g,subtract:p,transpose:u},Symbol.toStringTag,{value:\"Module\"}));export{m as LDU,d as add,e as adjoint,n as copy,c as determinant,x as equals,y as exactEquals,b as frob,l as fromRotation,M as fromScaling,r as identity,o as invert,q as m,_ as mul,s as multiply,S as multiplyScalar,j as multiplyScalarAndAdd,i as rotate,f as scale,a as set,h as str,g as sub,p as subtract,u as transpose};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function t(e){return[e[0],e[1],e[2],e[3]]}function n(e,t,n,r){return[e,t,n,r]}const r=Object.freeze(Object.defineProperty({__proto__:null,clone:t,create:e,fromValues:n},Symbol.toStringTag,{value:\"Module\"}));export{t as clone,e as create,n as fromValues,r as m};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{acosClamped as t,reciprocalClamped as i}from\"../../../../core/mathUtils.js\";import{set as r}from\"../../../../core/libs/gl-matrix-2/math/mat2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat2f64.js\";import{transformMat2 as e,set as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as h,UNIT_X as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as o,i as g,h as m,n as f,g as c,u,e as l,d as p}from\"../../../../chunks/vec32.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Frame2D as M}from\"./PathExtruder.js\";class b{constructor(){this.vLeft=v(),this.vRight=v(),this.vMinSiblingLength=0,this.frame=new M}setFrameFromUpVector(t){p(this.frame.up,t),c(y,this.vLeft,this.vRight),f(y,y),m(I,this.frame.up,o(y,this.frame.up)),l(D,y,I),f(D,D),g(this.frame.right,D,this.frame.up)}get foldingAngle(){return Math.PI-this.rotationAngle}}class R extends b{get rotationFrameUp(){return this.frame.up}get rotationRight(){return n}get rotationAngle(){m(w,this.frame.up,o(this.frame.up,this.vLeft)),l(w,this.vLeft,w),u(w,w),f(w,w),m(P,this.frame.up,o(this.frame.up,this.vRight)),l(P,this.vRight,P),f(P,P),g(U,this.rotationFrameUp,this.vLeft);return Math.sign(o(U,this.vRight))*(Math.PI-t(o(w,P)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}applyMiterStretch(t,r){const s=this.rotationAngle;if(Math.abs(s)<=0)return r;const e=i(Math.cos(.5*s));return a(t,(e-1+1)*r[0],r[1])}}class x extends b{get rotationFrameUp(){const t=Math.sign(o(this.frame.right,this.vRight));return g(A,this.vRight,this.vLeft),m(A,A,t),f(A,A)}get rotationRight(){const t=this.rotationFrameUp,i=o(t,this.frame.up),r=o(t,this.frame.right);return m(S,this.frame.up,-r),m(F,this.frame.right,i),c(S,S,F),f(S,S),L(d,this.frame,S),d}get rotationAngle(){const i=Math.sign(o(this.frame.right,this.vRight));return u(U,this.vLeft),-i*(Math.PI-t(o(U,this.vRight)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength*i(Math.cos(.5*this.foldingAngle)))}applyMiterStretch(t,s){const a=this.rotationAngle;if(0===Math.abs(a))return s;const h=i(Math.cos(.5*a)),n=this.rotationRight,o=r(k,1+(h-1)*n[0]*n[0],(h-1)*n[0]*n[1],(h-1)*n[0]*n[1],1+(h-1)*n[1]*n[1]);return e(t,s,o)}}function L(t,i,r){a(t,o(r,i.right),o(r,i.up))}function j(t){switch(t){case 0:return new R;case 1:return new x}}const A=v(),d=h(),S=v(),F=v(),U=v(),w=v(),P=v(),I=v(),y=v(),D=v(),k=s();export{b as PathVertex,j as newPathVertex};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{freeze as e,create as r,ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{PathVertexPositionPassParameters as s}from\"../core/shaderLibrary/attributes/PathVertexPosition.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a,depthOnlyOutputBuffersOr as n}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as c}from\"../effects/geometry/olidUtils.js\";import{OITPolygonOffset as u,oitDepthTest as f,blending as m,getDrawBuffers as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilBaseAllZerosParams as d,stencilWriteMaskOn as h}from\"../lib/StencilUtils.js\";import{advancedMRRFactors as b}from\"./pbrUtils.js\";import{P as g}from\"../../../../chunks/Path.glsl.js\";import{makePipelineState as j,defaultColorWrite as v,defaultDepthWrite as S,frontFaceCullingParams as y}from\"../../../webgl/renderState.js\";class P extends s{constructor(){super(...arguments),this.ambient=e(.2,.2,.2),this.diffuse=e(.8,.8,.8),this.opacity=1,this.origin=r(),this.modelTransformation=null,this.mrrFactors=b,this.emissiveStrength=0,this.emissiveSource=1,this.emissiveBaseColor=t}}class V extends a{constructor(e,r){super(e,r,new l(g,()=>import(\"../shaders/Path.glsl.js\")),x(r).locations)}initializePipeline(e){const{output:r,transparent:t,hasSlicePlane:i,doubleSidedMode:s,hasOccludees:l,oitPass:a}=e,c=0===a,b=2===a;return j({blending:o(r)&&t?m(a):null,culling:i&&!t&&0!==s?y:null,depthTest:{func:f(a)},depthWrite:c||b?S:null,drawBuffers:n(r,p(a,r)),colorWrite:v,stencilWrite:l?h:null,stencilTest:l?d:null,polygonOffset:c||b?null:u})}}function x(e){const r=i().vec3f(\"position\").vec4f16(\"profileVertexAndNormal\").vec2i16(\"profileRight\",{glNormalized:!0}).vec2i16(\"profileUp\",{glNormalized:!0});return e.hasVVSize&&r.f32(\"sizeFeatureAttribute\"),e.hasVVColor&&r.f32(\"colorFeatureAttribute\"),e.hasVVOpacity&&r.f32(\"opacityFeatureAttribute\"),c()&&r.vec4u8(\"olidColor\"),r.vec3f16(\"profileAuxData\"),r.freeze()}export{P as PathPassParameters,V as PathTechnique,x as getLayout};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"./DefaultTechniqueConfiguration.js\";class i extends o{constructor(e){super(),this.spherical=e,this.pbrMode=0,this.doubleSidedMode=0,this.emissionSource=0,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVVOpacity=!1,this.transparent=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.snowCover=!1,this.textureCoordinateType=0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.useCustomDTRExponentForWater=!1,this.useFillLights=!1,this.hasColorTexture=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.draped=!1,this.overlayEnabled=!1}get discardInvisibleFragments(){return this.transparent}}e([t({count:7})],i.prototype,\"pbrMode\",void 0),e([t({count:3})],i.prototype,\"doubleSidedMode\",void 0),e([t({count:8})],i.prototype,\"emissionSource\",void 0),e([t()],i.prototype,\"receiveShadows\",void 0),e([t()],i.prototype,\"receiveAmbientOcclusion\",void 0),e([t()],i.prototype,\"hasVVSize\",void 0),e([t()],i.prototype,\"hasVVColor\",void 0),e([t()],i.prototype,\"hasVVOpacity\",void 0),e([t()],i.prototype,\"transparent\",void 0),e([t()],i.prototype,\"hasOccludees\",void 0),e([t()],i.prototype,\"terrainDepthTest\",void 0),e([t()],i.prototype,\"cullAboveTerrain\",void 0),e([t()],i.prototype,\"snowCover\",void 0);export{i as PathTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{isShadowLikeOutput as r,is3DGeometryOutputMRT as a,isColorOrColorEmission as o}from\"../core/shaderLibrary/ShaderOutput.js\";import n from\"../lib/GLMaterial.js\";import{Material as h}from\"../lib/Material.js\";import{isPathGeometry as c}from\"../lib/PathGeometry.js\";import{MeshIntersectionOptions as p,intersectAabbInvDir as u}from\"../lib/RayIntersections.js\";import{DefaultBufferWriter as m}from\"./DefaultBufferWriter.js\";import{getLayout as l,PathPassParameters as f,PathTechnique as d}from\"./PathTechnique.js\";import{PathTechniqueConfiguration as b}from\"./PathTechniqueConfiguration.js\";import{alphaCutoff as g}from\"../../../../webscene/support/AlphaCutoff.js\";class _ extends h{constructor(t,e){super(t,w),this.supportsEdges=!0,this._pp0=i(0,0,1),this._pp1=i(0,0,0),this.produces=new Map([[2,t=>(this.parameters.castShadows&&r(t)||a(t))&&!this.transparent],[4,t=>(this.parameters.castShadows&&r(t)||a(t))&&this.transparent]]),this._configuration=new b(e.spherical)}get hasEmissions(){return this.parameters.emissiveStrength>0}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.hasVVSize=this.parameters.hasVVSize,this._configuration.hasVVColor=this.parameters.hasVVColor,this._configuration.hasVVOpacity=this.parameters.hasVVOpacity,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.transparent,this._configuration.hasOccludees=e.hasOccludees,o(t)?(this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?1:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?2:0,this._configuration.receiveShadows=e.shadowMap.enabled,this._configuration.receiveAmbientOcclusion=null!=e.ssao):this._configuration.receiveShadows=this._configuration.receiveAmbientOcclusion=!1,this._configuration.pbrMode=this.parameters.usePBR?2:0,this._configuration.emissionSource=this.parameters.usePBR?1:0,this._configuration.oitPass=e.oitPass,this._configuration.terrainDepthTest=e.terrainDepthTest,this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration.snowCover=e.snowCover>0,this._configuration}isVisibleForOutput(t){return 4!==t&&6!==t&&5!==t||this.parameters.castShadows}get visible(){return this.parameters.opacity>=g}intersect(t,e,i,s,r,a){this._intersect(t,i,s,r,a)}intersectDraped(t,e,i,s){return this._pp0[0]=this._pp1[0]=i[0],this._pp0[1]=this._pp1[1]=i[1],this._intersect(t,e,this._pp0,this._pp1,s)}_intersect(i,r,a,o,n){const h=i;if(!c(h))return;const m=h.path,l=e(this.parameters.size);if(this.parameters.vvSize){const{offset:e,factor:i,minSize:s,maxSize:r,fallback:a}=this.parameters.vvSize,o=m.sizeAttributeValue;Number.isNaN(o)?(l[0]*=a[0],l[1]*=a[2]):(l[0]*=t(e[0]+o*i[0],s[0],r[0]),l[1]*=t(e[2]+o*i[2],s[2],r[2]))}const f=new p(r.tolerance,!1,r.options.normalRequired),d=Math.max(l[0],l[1]),b=i.boundingInfo;if(null==b)return void v(m,l,a,o,f,n);const g=s(b.bbMin[0]-d,b.bbMin[1]-d,b.bbMin[2]-d,b.bbMax[0]+d,b.bbMax[1]+d,b.bbMax[2]+d),_=[o[0]-a[0],o[1]-a[1],o[2]-a[2]],S=Math.sqrt(_[0]*_[0]+_[1]*_[1]+_[2]*_[2]),w=[S/_[0],S/_[1],S/_[2]];u(g,a,w,r.tolerance)&&v(m,l,a,o,f,n)}createBufferWriter(){return new m(l(this.parameters))}createGLMaterial(t){return new S(t)}get transparent(){const{parameters:t}=this;return t.drivenOpacity||t.opacity<1}}class S extends n{beginSlot(t){return this.getTechnique(d,t)}}function v(t,e,i,s,r,a){t.baked.size&&t.baked.size[0]===e[0]&&t.baked.size[1]===e[1]||t.baked.bake(e),t.baked.intersect(i,s,r,a)}class w extends f{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType=\"normal\",this.castShadows=!0,this.hasSlicePlane=!1,this.drivenOpacity=!1,this.usePBR=!1}}export{w as Parameters,_ as PathMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Error.js\";import{translate as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as a,scale as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as n,fromArray as l,clone as h}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{j as c}from\"../../../../chunks/vec32.js\";import{fromArray as p,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as f}from\"../../../../geometry/projection/projectBuffer.js\";import{create as d,fromSubBuffer as u,intersectsClippingArea as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as _,doubleArrayFrom as b}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as y}from\"../../../../geometry/support/FloatArray.js\";import{needsElevationUpdates3D as v,evaluateElevationAlignmentAtPoint as w,SampleElevationInfo as x}from\"./elevationAlignmentUtils.js\";import{Graphics3DObject3DGraphicLayer as C}from\"./Graphics3DObject3DGraphicLayer.js\";import{pathNumRoundJoinSubdivisions as S,pathNumRoundCapExtrusionSubdivisions as P}from\"./Graphics3DPathSymbolLayerConstants.js\";import{Graphics3DSymbolLayer as D,nanFallbackColor as j}from\"./Graphics3DSymbolLayer.js\";import{isValidSize as V}from\"./graphicUtils.js\";import{ConvertOptions as U,initFastSymbolUpdatesState as A,updateFastSymbolUpdatesState as z,getAttributeValue as E}from\"../support/FastSymbolUpdates.js\";import{SamplePosition as R}from\"../../support/ElevationProvider.js\";import{Object3D as k}from\"../../webgl-engine/lib/Object3D.js\";import{Path as L}from\"../../webgl-engine/lib/Path.js\";import{PathBuilder as G}from\"../../webgl-engine/lib/PathBuilder.js\";import{RoundCapBuilder as O,TriangulationCapBuilder as I,NoCapBuilder as B}from\"../../webgl-engine/lib/PathCapBuilder.js\";import{SimpleExtruder as M,MiterExtruder as F}from\"../../webgl-engine/lib/PathExtruder.js\";import{PathGeometry as T,isPathGeometry as q}from\"../../webgl-engine/lib/PathGeometry.js\";import{FastUpdatePathGeometry as H,StaticPathGeometry as N}from\"../../webgl-engine/lib/PathGeometryData.js\";import{computeMinimumRotationTangentFrame as W}from\"../../webgl-engine/lib/pathGeometryUtils.js\";import{quadProfiles as Z,circleProfiles as J}from\"../../webgl-engine/lib/PathProfile.js\";import{newPathVertex as K}from\"../../webgl-engine/lib/PathVertex.js\";import{DefaultMaterial as Q}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{PathMaterial as X}from\"../../webgl-engine/materials/PathMaterial.js\";const Y=[\"polyline\"];class $ extends D{constructor(e,t,r,i){super(e,t,r,i,se(t)),this._intrinsicSize=n(1,1),this._upVectorAlignment=1,this._stencilWidth=.1,this.ensureDrapedStatus(!1)}async doLoad(){const e=this.symbolLayer,r=null!=e.width?e.width:e.height,i=null!=e.height?e.height:r;this._vvConvertOptions=new U({supports:{size:!0,color:!0,rotation:!1,opacity:!0},modelSize:[1,1,1],symbolSize:[r,1,i],unitInMeters:this._context.renderCoordsHelper.unitInMeters,fallbackColor:this._getFallbackOpacityAndColor(j),fallbackSize:[r,1,i]});const s=this._context.renderer?.visualVariables;this._fastUpdates=s?.length?A(this._context.renderer,this._vvConvertOptions):null;const n=e.anchor||\"center\";this._upVectorAlignment=\"heading\"===e.profileRotation?0:1;const h=e.profile||\"circle\";switch(h){default:case\"circle\":this._profile=J[n];break;case\"quad\":this._profile=Z[n]}switch(e.join){case\"round\":this._extruder=new F(0,S);break;case\"bevel\":this._extruder=new F(0,1);break;case\"miter\":this._extruder=new F(.8*Math.PI,1);break;default:this._extruder=new M}switch(this._cap){case\"none\":this._startCap=new B,this._endCap=new B;break;case\"butt\":default:this._startCap=new I(this._profile,0),this._endCap=new I(this._profile,0,!0);break;case\"square\":this._startCap=new I(this._profile,-.5),this._endCap=new I(this._profile,.5,!0);break;case\"round\":{const e=\"quad\"===h;this._startCap=new O({profile:this._profile,flip:!1,breakNormals:e,subdivisions:P}),this._endCap=new O({profile:this._profile,flip:!0,breakNormals:e,subdivisions:P});break}}const c=this._materialColor,m=this._getCombinedOpacityAndColor(c),f=p(m),d=m[3],u=this.needsDrivenTransparentPass,g=e.material?.emissive,_={diffuse:f,ambient:f,emissiveStrength:g?.strength??0,emissiveSource:1,opacity:d,drivenOpacity:u,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&(a(this._intrinsicSize,r,i),!V(this._intrinsicSize[0])||!V(this._intrinsicSize[1])))throw new t(\"graphics3dpathsymbollayer:invalid-size\",\"Symbol sizes may not be negative values\");let b;this._fastUpdates?.visualVariables.size||o(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates?b=new X({..._,...this._fastUpdates.materialParameters,size:l(this._intrinsicSize)},this._context):(_.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,_.normalType=1,b=new Q(_,this._context)),b.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._materials[0]=b,this._updateTransparentDepedentMaterialParameters()}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,Y,this.symbolLayer.type))return null;const r=this.createElevationContextForGraphic(t);return this._createAs3DShape(e,r)}layerOpacityChanged(){const e=this._materialColor,t=this._getCombinedOpacity(e),r=this._materials[0];r&&(r.setParameters({opacity:t}),this._updateTransparentDepedentMaterialParameters())}layerScreenSizePerspectiveChanged(){}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,v)}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._materials[0]?.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return 0;if(!z(this._fastUpdates,t,this._vvConvertOptions))return 0;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return 2}_getVertexData(e){let t=0;const r=e.paths,i=[],s=e.spatialReference,a=this._context.elevationProvider.spatialReference,o=this._context.renderCoordsHelper.spatialReference;for(const c of r)t+=c.length;const n=_(3*t);let l,h=0;for(const c of r){i.push({offset:h,numVertices:c.length});for(const t of c)n[h++]=t[0],n[h++]=t[1],n[h++]=e.hasZ?t[2]:0}return null==a||s.equals(a)||f(n,s,0,n,a,0,t)?(null==a||a.equals(o)?l=b(n):(l=_(3*t),f(n,a,0,l,o,0,t)),{pathVertexDataInfos:i,vertexDataES:n,vertexDataRS:l}):null}_createAs3DShape(e,t){const{graphic:a,renderingInfo:o}=e,n=a.geometry,l=this._getVertexData(n);if(null==l)return this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)\"),null;if(0===l.pathVertexDataInfos.length)return 0!==n.paths.length&&n.paths.some(e=>e.length>0)||this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (no paths were defined)\"),null;const p=new Array,m=n.spatialReference,f=d(),_=this._context.renderCoordsHelper,b=new R(l.vertexDataES),x=a.uid,S=y(l.vertexDataRS.length);for(const d of l.pathVertexDataInfos){const e=d.numVertices;if(e<2)continue;const n=d.offset;if(null!=this._context.clippingExtent&&(u(l.vertexDataES,n,e,f),!g(f,this._context.clippingExtent)))continue;const y=new Array,v=n+3*e;for(let r=n;r<v;r+=3){b.offset=r;const e=w(b,this._context.elevationProvider,t,_);c(ae,l.vertexDataRS[r],l.vertexDataRS[r+1],l.vertexDataRS[r+2]),_.setAltitude(ae,e),l.vertexDataRS[r]=ae[0],l.vertexDataRS[r+1]=ae[1],l.vertexDataRS[r+2]=ae[2],y.push(K(this._upVectorAlignment))}const C=new L(y,l.vertexDataES,l.vertexDataRS,n,S);ee(C,this._upVectorAlignment,this._context.renderCoordsHelper);const P=new G(C,this._profile,this._extruder,this._startCap,this._endCap);let D=null;if(this._fastUpdates){const e=this._fastUpdates.visualVariables,t=E(e.size?.field,a),r=E(e.color?.field,a),i=E(e.opacity?.field,a);D=new H(P,t,r,i)}else{const e=h(this._intrinsicSize);if(this._drivenProperties.size){const t=o.size??[\"symbol-value\",\"symbol-value\",\"symbol-value\"];e[0]*=te(t[0],\"symbol-value\"===t[2]?this.symbolLayer.height||0:t[2],this.symbolLayer.width||0),e[1]*=te(t[2],\"symbol-value\"===t[0]?this.symbolLayer.width||0:t[0],this.symbolLayer.height||0)}const t=new N(P);t.bake(e);const r=this._getDrivenColor(o);r&&t.bakeVertexColors(r),D=t}const j=D.createGeometryData(),V=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:x,layerViewUid:this._context.layerViewUid}),U=new T(this._materials[0],j,D,m,this._stencilWidth,V);U.transformation=r(s(),i,P.path.origin),p.push(U)}if(0===p.length)return null;const P=new k({geometries:p,layerViewUid:this._context.layerViewUid,graphicUid:x}),D=new C(this,P,null,(e,t,r,i,s)=>ie(e,t,i,s,this._upVectorAlignment),t,null);return D.alignedSampledElevation=0,D.needsElevationUpdates=v(t.mode),D}_getDrivenColor(e){return this._hasDrivenColorOrOpacity?this._getDrivenUInt8ColorWithNaNSupport(e,this._materialColor,!1):null}get _materialColor(){return this.symbolLayer.material?.color}_getFallbackOpacityAndColor(t){return e.toUnitRGBA(this._materialColor)??t}get _cap(){return this.symbolLayer.cap||\"butt\"}_updateTransparentDepedentMaterialParameters(){const e=this._materials[0];e&&e.setParameters({cullFace:e.transparent||\"none\"===this._cap?0:2})}}function ee(e,t,r){const{origin:i,positions:s}=e;let a=e.offset;switch(t){default:case 0:for(const t of e.vertices)ae[0]=s[a++]+i[0],ae[1]=s[a++]+i[1],ae[2]=s[a++]+i[2],r.worldUpAtPosition(ae,ae),t.setFrameFromUpVector(ae);break;case 1:ae[0]=s[a]+i[0],ae[1]=s[a+1]+i[1],ae[2]=s[a+2]+i[2],r.worldUpAtPosition(ae,ae),W(e,ae)}}function te(e,t,r){switch(e){case\"symbol-value\":return r;case\"proportional\":return t;default:return e}}function re(e,t,r,i){let s=0;const{origin:a,vertices:o,positions:n,positionsES:l}=e,h=e.offset+3*o.length;for(let p=e.offset;p<h;p+=3)c(ae,l[p],l[p+1],l[p+2]),r(ae,oe),s+=oe.sampledElevation,ae[0]=n[p]+a[0],ae[1]=n[p+1]+a[1],ae[2]=n[p+2]+a[2],i.setAltitude(ae,oe.z),n[p]=ae[0]-a[0],n[p+1]=ae[1]-a[1],n[p+2]=ae[2]-a[2];return e.updatePathVertexInformation(),s/o.length}function ie(e,t,r,i,s){const a=e.stageObject,o=a.geometries;let n=0;for(const l of o){if(!q(l))continue;const e=l.path,o=e.builder.path;n+=re(o,t,r,i),0!==s&&ee(o,s,i),e.onPathChanged(l),l.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l,\"position\")}return n/o.length}function se(e){return 1===(e.material?.color?.a??0)}const ae=m(),oe=new x;export{$ as Graphics3DPathSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{j as e,f as s,e as a,h as i,g as n,d as m,c,n as l,i as f}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as N}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as p}from\"../../../../geometry/support/DoubleArray.js\";import{fromArray as g,getNormal as u,create as b}from\"../../../../geometry/support/plane.js\";function j(t,r,e,s,a=1){if(e.isGeographic&&1===s){const t=p(r.length),o=r.length,s=h(e);for(let e=0;e<o;e+=3)N(r,e,t,e,s);r=t}o(_,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let o=0;o<r.length;o+=3)_[0]=Math.min(_[0],r[o]),_[1]=Math.min(_[1],r[o+1]);const i=_[0]%a,n=_[1]%a,m=_[0]-i,c=_[1]-n;for(let o=0;o<r.length;o+=3){const e=o/3*4;t[e]=(r[o]-m)/a,t[e+1]=(r[o+1]-c)/a,t[e+2]=m/a,t[e+3]=c/a}}function T(t,r,m,c,l=1){e(F,1,0,0),e(V,0,1,0),e(Y,0,0,1),D(M,m),g(E,m)&&O(E,F,V,Y,c,M),o(_,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),o(y,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let o=0;o<m.length;o+=3){e(x,m[o],m[o+1],m[o+2]);const t=s(F,x),r=s(V,x);_[0]=Math.min(_[0],t),_[1]=Math.min(_[1],r),y[0]=Math.max(y[0],t),y[1]=Math.max(y[1],r)}const f=s(Y,M);q(P,_[0],_[1],f,F,V,Y),q(v,y[0],_[1],f,F,V,Y),q(A,_[0],y[1],f,F,V,Y),a(v,v,P),i(v,v,.5),a(A,A,P),i(A,A,.5),n(P,P,v),n(P,P,A);const I=_[0]%l,h=_[1]%l,N=_[0]-I,p=_[1]-h;for(let o=0;o<m.length;o+=3){e(x,m[o],m[o+1],m[o+2]);const a=o/3,i=4*a;t[i]=(s(F,x)-N)/l,t[i+1]=(s(V,x)-p)/l,t[i+2]=N/l,t[i+3]=p/l;const n=9*a;for(let t=0;t<3;t++)r[n+t]=P[t],r[n+t+3]=v[t],r[n+t+6]=A[t]}}const M=I(),x=I(),E=b(),F=I(),V=I(),Y=I(),_=r(),y=r(),P=I(),v=I(),A=I();function O(t,o,r,a,n,I){null!=n?(n.basisMatrixAtPosition(I,S),e(G,S[0],S[1],S[2]),e(d,S[4],S[5],S[6]),e(k,S[8],S[9],S[10])):(e(G,1,0,0),e(d,0,1,0),e(k,0,0,1));const h=u(t);s(h,k)<0&&i(h,h,-1),m(a,h);const N=s(h,d),p=s(h,G);Math.abs(N)>Math.abs(p)?(c(o,G,h,-p),l(o,o),f(r,o,h),l(r,r),i(r,r,-1)):(c(r,d,h,-N),l(r,r),f(o,r,h),l(o,o))}const S=t(),G=I(),d=I(),k=I();function D(t,o){e(U,0,0,0);for(let r=0;r<o.length-3;r+=3)U[0]+=o[r],U[1]+=o[r+1],U[2]+=o[r+2];i(t,U,1/(o.length/3-1))}const U=I();function q(t,o,r,s,a,i,n){e(t,o*a[0]+r*i[0]+s*n[0],o*a[1]+r*i[1]+s*n[1],o*a[2]+r*i[2]+s*n[2])}export{T as createMapSpaceUVCoords,j as createMapSpaceUVCoordsDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i,depthOnlyOutputBuffersOr as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as l}from\"../effects/geometry/olidUtils.js\";import{oitPolygonOffset as n,depthWrite as s,oitDepthTest as c,blending as u,getDrawBuffers as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as d,stencilWriteMaskOn as f}from\"../lib/StencilUtils.js\";import{P as m}from\"../../../../chunks/Pattern.glsl.js\";import{makePipelineState as h,defaultColorWrite as P,cullingParams as g}from\"../../../webgl/renderState.js\";class S extends i{constructor(e,t){super(e,t,new r(m,()=>import(\"./Pattern.glsl.js\")),b(t).locations)}_setPipelineState(e,r){const{oitPass:i,output:l,cullFace:m,draped:S,hasOccludees:b,polygonOffset:v}=e,y=0===i;return h({blending:t(l)?u(i):null,culling:g(m),depthTest:S?null:{func:c(i)},depthWrite:s(e),drawBuffers:o(l,a(i,l)),colorWrite:P,stencilWrite:b?f:null,stencilTest:b?r?p:d:null,polygonOffset:y?v?j:null:n(e)})}initializePipeline(e){return this._occludeePipelineState=this._setPipelineState(e,!0),this._setPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const j={factor:1,units:1};function b(t){const r=e().vec3f(\"position\").vec4f(\"uvMapSpace\");return t.draped||r.mat3f(\"boundingRect\"),t.hasVVColor?r.f32(\"colorFeatureAttribute\"):r.vec4u8(\"color\"),l()&&r.vec4u8(\"olidColor\"),r.freeze()}export{S as PatternTechnique,b as getLayout};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.cullFace=0,this.style=0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasOccludees=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.hasVVColor=!1,this.draped=!1,this.textureCoordinateType=0,this.emissionSource=0,this.discardInvisibleFragments=!0,this.writeDepth=!0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.hasVVSize=!1,this.hasVVOpacity=!1,this.overlayEnabled=!1,this.snowCover=!1}}t([e({count:3})],s.prototype,\"cullFace\",void 0),t([e({count:6})],s.prototype,\"style\",void 0),t([e()],s.prototype,\"hasVertexColors\",void 0),t([e()],s.prototype,\"polygonOffset\",void 0),t([e()],s.prototype,\"hasOccludees\",void 0),t([e()],s.prototype,\"enableOffset\",void 0),t([e()],s.prototype,\"terrainDepthTest\",void 0),t([e()],s.prototype,\"cullAboveTerrain\",void 0),t([e()],s.prototype,\"hasVVColor\",void 0),t([e()],s.prototype,\"draped\",void 0);export{s as PatternTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{BufferViewMat3f as t,BufferViewVec4f as r}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as s,isColorOrColorEmission as i,isDepth as o,isColorEmissionHighlightOrOID as a}from\"../core/shaderLibrary/ShaderOutput.js\";import n from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as c}from\"../lib/OrderIndependentTransparency.js\";import{assert as f}from\"../lib/Util.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as u}from\"./VisualVariablePassParameters.js\";import{writeAttributes as p,writeBufferVec4 as m}from\"./internal/bufferWriterUtils.js\";import{getLayout as g,PatternTechnique as d}from\"../shaders/PatternTechnique.js\";import{PatternTechniqueConfiguration as b}from\"../shaders/PatternTechniqueConfiguration.js\";import{alphaCutoff as y}from\"../../../../webscene/support/AlphaCutoff.js\";class _ extends h{constructor(e){super(e,x),this._configuration=new b,this.supportsEdges=!0,this.produces=new Map([[2,e=>s(e)],[4,e=>i(e)],[5,e=>o(e)],[18,e=>this.parameters.draped&&a(e)]])}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.style=this.parameters.style,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<c,this._configuration.terrainDepthTest=t.terrainDepthTest&&i(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.hasVVColor=!!this.parameters.vvColor,this._configuration}get visible(){return this.parameters.color[3]>=y}createGLMaterial(e){return new j(e)}createBufferWriter(){return new v(g(this.parameters))}}class j extends n{beginSlot(e){return this.getTechnique(d,e)}}class v extends l{write(e,s,i,o,a,n){const c=p(i,o,this.layout,e,s,a,n);for(const l of this.layout.fields.keys()){const s=i.get(l),o=s?.indices;if(s&&o)switch(l){case\"uvMapSpace\":{f(4===s.size);const e=a.getField(l,r);e&&m(s,e,n);break}case\"boundingRect\":{f(9===s.size);const r=a.getField(l,t);r&&C(s,e,r,n);break}}}return c}}function C(e,t,r,s){const{data:i,indices:o}=e,a=t,n=r.typedBuffer,c=r.typedBufferStride,f=o.length;s*=c;for(let l=0;l<f;++l){const e=9*o[l],t=i[e],r=i[e+1],f=i[e+2];n[s]=a[0]*t+a[4]*r+a[8]*f+a[12],n[s+1]=a[1]*t+a[5]*r+a[9]*f+a[13],n[s+2]=a[2]*t+a[6]*r+a[10]*f+a[14];for(let o=3;o<9;++o)n[s+o]=i[e+o];s+=c}}class x extends u{constructor(){super(...arguments),this.color=e(1,1,1,1),this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=0,this.hasOccludees=!1,this.style=2,this.draped=!0}}export{x as Parameters,_ as PatternMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{perVertexElevationAligner as e}from\"../graphics/ElevationAligners.js\";import{createMapSpaceUVCoords as r}from\"./uvUtils.js\";import{ColorMaterial as a}from\"../../webgl-engine/materials/ColorMaterial.js\";import{PatternMaterial as n}from\"../../webgl-engine/materials/PatternMaterial.js\";function o(e,r){const o=e?.pattern;return null==o?new a(r):\"none\"===o.style||\"solid\"===o.style?(\"none\"===o.style&&(r.color=t(0,0,0,0),r.forceTransparentMode=!0),new a(r)):(r.style=i(o.style),new n(r))}function i(t){switch(t){case\"horizontal\":return 0;case\"vertical\":return 1;case\"cross\":return 2;case\"forward-diagonal\":return 3;case\"backward-diagonal\":return 4;case\"diagonal-cross\":return 5;default:return}}function s(t){return t.material instanceof n&&!t.material.parameters.draped}function c(t,e){if(s(t)){const a=t.attributes.get(\"position\").data,n=t.getMutableAttribute(\"uvMapSpace\").data,o=t.getMutableAttribute(\"boundingRect\").data;r(n,o,a,e)}}function l(t,r,a,n,o){const i=e(t,r,a,n,o),s=t.stageObject.geometries;for(const e of s)c(e,o);return i}export{o as createMaterial,i as parsePatternStyle,s as requiresUVUpdates,c as updateMapSpaceUVCoords,l as uvElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{e as i}from\"../../../../chunks/earcut.js\";import{ZEROS as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{fromBuffer as s,create as o,intersectsClippingArea as n,empty as a,expandWithAABB as l}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as c,doubleSubArray as p}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as h,floatSubArray as u}from\"../../../../geometry/support/FloatArray.js\";import{elevationModeChangeUpdateType as d,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as _}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as y}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as f}from\"./graphicUtils.js\";import{parseCapType as v}from\"./lineUtils.js\";import{geometryAsPolygon as b,createIndices3D as x,createColorGeometry as C,PolygonCreationDataBase as S}from\"./polygonUtils.js\";import{initFastSymbolUpdatesState as P,updateFastSymbolUpdatesState as D,getAttributeValue as O,ConvertOptions as U}from\"../support/FastSymbolUpdates.js\";import{createMaterial as j,uvElevationAligner as w}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as G,createMapSpaceUVCoordsDraped as A}from\"../support/uvUtils.js\";import{createGeometry as E}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as M,geometryToRenderInfoDraped as V}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as L}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as R}from\"../../webgl-engine/lib/RenderGeometry.js\";import{isScreenSizePerspectiveEnabled as z}from\"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{getStipplePatternForLinePattern as B}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as F}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as I}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const T=[\"polyline\",\"polygon\",\"extent\"];class H extends y{static{this.elevationModeChangeTypes={definedChanged:2,staysOnTheGround:0,onTheGroundChanged:2}}constructor(e,t,i,r){super(e,t,i,r,K(t)),this._needsUV=!1,this._materials=[]}async doLoad(){this._fastUpdates=P(this._context.renderer,this._vvConvertOptions)}get _materialColor(){return this.symbolLayer.material?.color}_createMaterials(){if(this._materials.length>0)return;const e=this._materialColor,i=this._getCombinedOpacityAndColor(e);this._materials[0]=j(this.symbolLayer,{color:i,forceTransparentMode:this.needsDrivenTransparentPass,discardInvisibleFragments:!0,polygonOffset:!1,hasVertexColors:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._materials[0]instanceof F;const r=this.symbolLayer.outline;if(J(r)){const e=B(r.pattern);this._materials[1]=new I({width:t(r.size),color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:e,cap:v(r.patternCap||\"butt\"),screenSizePerspective:this._outlineScreenSizePerspective},this.view.state.isGlobal)}}get _outlineScreenSizePerspective(){return!this.draped&&z(this._context.layer.screenSizePerspectiveEnabled)?this.view.screenSizePerspective.parameters:null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,T,this.symbolLayer.type))return null;const i=this._getDrivenUInt8Color(e.renderingInfo,this._materialColor,!1),r=this.createElevationContextForGraphic(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._createMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return 0;if(!D(this._fastUpdates,t,this._vvConvertOptions))return 0;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return 2}layerOpacityChanged(){if(null!=this._materials[0]){const e=this._materials[0].parameters.color,t=this._materialColor,i=this._getCombinedOpacity(t);this._materials[0].setParameters({color:[e[0],e[1],e[2],i],forceTransparentMode:this.needsDrivenTransparentPass})}if(null!=this._materials[1]){const e=this._materials[1].parameters.color;this._materials[1].setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerScreenSizePerspectiveChanged(){this._materials[1]?.setParameters({screenSizePerspective:this._outlineScreenSizePerspective})}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,s=d(H.elevationModeChangeTypes,i,r);if(1!==s)return s;const o=m(r);return this.updateGraphics3DGraphicElevationInfo(e,t,()=>o)}slicePlaneEnabledChanged(){if(this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[1]){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._materials[1].setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=b(e.geometry);if(!r)return null;const s=M(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),o=new W(s,t,this._context.layerViewUid,e.uid),n=o.renderData.position.length/3;if(this._needsUV&&(o.uvMapSpace=h(4*n,!0),o.boundingRect=c(9*n),G(o.uvMapSpace,o.boundingRect,o.renderData.position,this._context.renderCoordsHelper)),o.olidColor=this._context.stage.renderView?.getObjectAndLayerIdColor(o),this._createAs3DShapeFill(e,o),this._materials[1]&&this._createAs3DShapeOutline(o),this._logGeometryCreationWarnings(o.renderData,r.rings,\"rings\",\"FillSymbol3DLayer\"),0===o.outGeometries.length)return null;const a=new L({geometries:o.outGeometries,castShadow:!1,layerViewUid:this._context.layerViewUid,graphicUid:e.uid}),l=new g(this,a,null,w,i);return l.alignedSampledElevation=o.renderData.sampledElevation,l.needsElevationUpdates=m(i.mode),l}_createAs3DShapeFill(e,t){const i=t.renderData.polygons;for(const{position:r,mapPositions:o,holeIndices:a,index:l,count:c}of i){if(null!=this._context.clippingExtent&&(s(o,k),!n(k,this._context.clippingExtent)))continue;const i=x(o,a,this._context.elevationProvider.spatialReference);if(0===i.length)continue;const h=this._fastUpdates?.visualVariables.color,d=C({material:this._materials[0],indices:i,mapPositions:o,attributeData:{position:r,color:h?null:t.color,colorFeature:h?O(h.field,e):null,uvMapSpace:this._needsUV?u(t.uvMapSpace,4*l,4*c):null,boundingRect:this._needsUV?p(t.boundingRect,9*l,9*c):null,olidColor:t.olidColor}});t.outGeometries.push(d)}}_createAs3DShapeOutline(e){if(null==this._materials[1])return;const t=e.renderData.outlines;for(const{mapPositions:i,position:r}of t){if(null!=this._context.clippingExtent&&(s(i,k),!n(k,this._context.clippingExtent)))continue;const t=E(this._materials[1],{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:i,attributeData:{position:r}},e.olidColor);e.outGeometries.push(t)}}_createAsOverlay(e,t){const i=b(e.geometry);if(null==i)return null;this._materials[0].renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._materials[1]&&(this._materials[1].renderPriority=this._renderPriority);const r=V(i,this._context.overlaySR),s=new q(r,t,this._context.layerViewUid,e.uid),o=s.renderData.position.length/3;return this._needsUV&&(s.uvMapSpace=h(4*o,!0),A(s.uvMapSpace,s.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),s.outBoundingBox=a(),s.olidColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAsOverlayFill(e,s),this._materials[1]&&this._createAsOverlayOutline(s),this._logGeometryCreationWarnings(s.renderData,i.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length?null:new _(this,s.outGeometries,s.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:o,holeIndices:a,index:c,count:p}of r){const r=s(o,k);if(!n(r,this._context.clippingExtent))continue;const h=i(o,a,3);if(0===h.length)continue;l(t.outBoundingBox,r);const d=this._fastUpdates?.visualVariables.color,m=C({material:this._materials[0],indices:h,attributeData:{position:o,color:d?null:t.color,colorFeature:d?O(d.field,e):null,uvMapSpace:this._needsUV?u(t.uvMapSpace,4*c,4*p):null,olidColor:t.olidColor}});t.outGeometries.push(new R(m,t))}}_createAsOverlayOutline(e){if(null==this._materials[1])return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(s(r,k),!n(k,this._context.clippingExtent))continue;l(e.outBoundingBox,k);const o=E(this._materials[1],{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.olidColor);e.outGeometries.push(new R(o,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return f(null!=t?e.toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}get _vvConvertOptions(){return new U({supports:{size:!1,color:!0,rotation:!1,opacity:!1},fallbackColor:e.toUnitRGBA(this._materialColor)??r})}}const k=o();class W extends S{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends S{constructor(e,t,i,r){super(e,i,r),this.color=t}}function J(e){return null!=e?.size&&e.size>0&&null!=e.color&&(null==e.pattern||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}function K(e){return 1===(e.material?.color?.a??0)}export{H as Graphics3DPolygonFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class i{constructor(i,r=\"center\",c=!1,a=t(),o=s(0,0,0,-1),l=\"world\",f=e(),n=0){this.verticalOffset=i,this.anchor=r,this.hasLabelVerticalOffset=c,this.screenOffset=a,this.centerOffset=o,this.centerOffsetUnits=l,this.translation=f,this.elevationOffset=n}}class r{constructor(e,s=\"center\",i=\"center\",r=null,c=t(),a=!0){this.placement=e,this.horizontalPlacement=s,this.verticalPlacement=i,this.text=r,this.displaySize=c,this.isFocused=a}}export{r as LabelParameters,i as LabelPlacement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{isCachedFontFace as t,loadFont as e}from\"../../../../core/fontUtils.js\";import i from\"../../../../core/Logger.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{ZEROS as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=a(o.color),this.haloStyle=l(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?a(o.background.color):null}fontString(o){const t=this.definition.font,e=\"sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji\";return`${t.style} ${t.weight} ${o}px ${t.family}, ${e}`}setFontProperties(o,t){o.font=this.fontString(t),o.textAlign=\"left\",o.textBaseline=\"alphabetic\"}static async fromSymbol(l,a){const f=l?.material?.color,m=o.toUnitRGBA(f)??n,g=null!=l.size?r(l.size):12,u=l.lineHeight,d=null!=l.background?o.toUnitRGBA(l.background.color):n,h={family:l.font?.family??\"sans-serif\",decoration:l.font?.decoration??\"none\",weight:l.font?.weight??\"normal\",style:l.font?.style??\"normal\"},y=l.halo,b=null!=y?.color&&y.size>0?{size:r(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:n},p=new s({color:m,size:g,background:{color:d,padding:null!=l.background?[.65*g,.5*g]:[0,0],borderRadius:null!=l.background?g*(6/16):0},lineSpacingFactor:u,font:h,halo:b,pixelRatio:a});if(l.font){let o=!1;const r=p.fontString(g);try{o=(await document.fonts.load(r)).some(o=>!t(o))}catch(S){i.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!c.has(l.font.family))try{await e(l.font)}catch(S){}}return p}}function l(o){return`rgb(${o.slice(0,3).map(o=>Math.floor(255*o)).toString()})`}function a(o){return`rgba(${o.slice(0,3).map(o=>Math.floor(255*o)).toString()},${o[3]})`}const c=new Set([\"Arial\",\"Times New Roman\",\"Courier New\",\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]);export{s as TextRenderParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{EventEmitter as s}from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{disposeMaybe as i,removeMaybe as r}from\"../../../../core/maybe.js\";import{generateUID as h}from\"../../../../core/uid.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as o,s as l}from\"../../../../chunks/vec42.js\";import{ZEROS as _,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{textTextureAtlas as d}from\"./testUtils.js\";import{applyTextureResizeModuloCeil as u}from\"./textureUtils.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";import{Yield as g}from\"../../../support/Yield.js\";import{Texture as p}from\"../../../webgl/Texture.js\";import{TextureDescriptor as f}from\"../../../webgl/TextureDescriptor.js\";const x=4096;let v=class extends t{constructor(e){super(e),this.id=h(),this.events=new s,this._glTexture=null,this._atlas=new y(256,256),this._needsRepack=!1,this._canRepack=!0,this._elementsToRender=new Map,this._elements=new Map,this._uvCallbacks=new Map,this.updating=!1}initialize(){this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"id\",\"textAtlasCanvas\"),this._canvas.setAttribute(\"style\",\"display:none\"),this._ctx=this._canvas.getContext(\"2d\"),this._stage=this.view.stage,this._stage.addTexture(this),this._updateCanvasElementSize(this._atlas),this._reset()}unload(){this._glTexture=i(this._glTexture),this._frameWorker=r(this._frameWorker),this.updating=!1,this.events.emit(\"unloaded\")}get loaded(){return null!=this._glTexture}get glTexture(){return this._glTexture}static get maxSize(){return b=d.stableRendering?T:0,[x-T-b,x-T-b-w]}load(e){if(this._glTexture)return this._glTexture;const t=new f;return t.wrapMode=33071,t.samplingMode=9987,t.hasMipmap=!0,t.preMultiplyAlpha=!0,t.maxAnisotropy=e.parameters.maxMaxAnisotropy,this._glTexture=new p(e,t,this._canvas),this._frameWorker=this.view.resourceController.scheduler.registerTask(m.TEXT_TEXTURE_ATLAS,this),this.setDirty(),this._glTexture}dispose(){this._elements.clear(),this._elementsToRender.clear(),this._frameWorker=r(this._frameWorker),this._glTexture&&(this._stage.removeTexture(this),this._glTexture=i(this._glTexture)),this._canvas.width=0,this._canvas.height=0,this._canvas=null,this._ctx=null}_updateCanvasElementSize(e){this._canvas.width=e.width,this._canvas.height=e.height}_resizeAtlas(e,t){const{width:s,height:i}=this._atlas;s===e&&i===t||(this._atlas.width=e,this._atlas.height=t,this._glTexture?.resize(e,t),this._glTexture?.updateData(0,0,0,s,i,this._canvas),this._updateCanvasElementSize(this._atlas),this._elements.forEach(e=>this._uvCallbacks.get(e.textRenderer.key)?.forEach(t=>t(e.uv))),this._reset())}_reset(){this._elementsToRender.clear(),this._atlas.reset(),this._needsRepack=!0,this.setDirty()}_addAtlasElement(e,t,s,i){const r=this._atlas;if(r.width<s||r.height<i)return!1;let h=r.cursors.get(i);if(!h){if(r.height<r.nextY+i)return!1;h=[new R(r.nextY)],r.cursors.set(i,h),r.nextY+=i}let n=h.find(e=>r.width>=e.x+s);if(null==n){if(r.height<r.nextY+i)return!1;n=new R(r.nextY),r.nextY+=i,h.push(n)}return e.setNewPosition(n),this._elements.set(t,e),this._elementsToRender.set(t,e),n.x+=s,!0}_ensureCallbacks(e){const t=this._uvCallbacks.get(e);if(t)return t;const s=new Set;return this._uvCallbacks.set(e,s),s}_addCallback(e,t){this._ensureCallbacks(e).add(t)}_removeCallback(e,t){const s=this._uvCallbacks.get(e);return!(!s?.delete(t)||0!==s.size)&&(this._uvCallbacks.delete(e),!0)}_processAddition(e){const t=e.textRenderer.key;if(this._needsRepack)return void this._elements.set(t,e);const s=this._atlas,i=e.textRenderer.renderedWidth,r=e.textRenderer.renderedHeight,h=i+T,n=r+T+w;if(!this._addAtlasElement(e,t,h,n)){if(this._canRepack)this._reset();else if(s.width<h){const e=u(Math.max(h,1.5*s.width),x);this._resizeAtlas(e,s.height)}else{const e=s.nextY+n,t=u(Math.max(e,1.5*s.height),x);if(t>s.height)this._resizeAtlas(s.width,t);else if(s.width<x){const e=u(1.5*s.width,x);this._resizeAtlas(e,s.height)}}this._elements.set(t,e)}}_renderElement(e){const t=e.commitNewPosition(),s=e.textRenderer;this._ctx.clearRect(t[0]-T,t[1]-T,s.renderedWidth+2*T,s.renderedHeight+2*T),s.render(this._ctx,t[0],t[1]),this._uvCallbacks.get(s.key)?.forEach(t=>t(e.uv))}get readyToRun(){return this.updating}runTask(e){if(null==this._glTexture)return g;for(;this._needsRepack&&(this._canRepack||this._atlas.height<x&&this._atlas.height<x);){this._canRepack=this._needsRepack=!1;const t=this._elements;this._elements=new Map,t.forEach(e=>this._processAddition(e)),e.madeProgress()}if(this._elementsToRender.size>0){for(const[t,s]of this._elementsToRender){if(e.done)break;this._renderElement(s),this._elementsToRender.delete(t),e.madeProgress()}this._glTexture.setData(this._canvas)}this.updating=this._elementsToRender.size>0}addText(e,t){const s=e.key;this._addCallback(s,t);let i=this._elements.get(s);return i?o(i.uv,_)||t(i.uv):(i=new k(e),this._processAddition(i),this.setDirty()),{remove:()=>this._removeText(e,t)}}_removeText(e,t){const s=e.key;this._elements.get(s)&&this._removeCallback(s,t)&&(this._elements.delete(s),this._elementsToRender.delete(s),this._canRepack=!0)}setDirty(){this._glTexture&&(this.updating=!0)}get test(){}get usedMemory(){return(this._glTexture?.usedMemory??0)+(this._canvas?.width??0)*(this._canvas?.height??0)*4}};e([n({constructOnly:!0})],v.prototype,\"view\",void 0),e([n({type:Boolean})],v.prototype,\"updating\",void 0),v=e([a(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")],v);const T=2,w=2;class k{constructor(e){this.textRenderer=e,this._uv=c(),this._newPosition=[0,0]}get uv(){if(null==this._xOffset||null==this._yOffset)return _;const{renderedWidth:e,renderedHeight:t}=this.textRenderer;return l(this._uv,this._xOffset,this._yOffset+t,this._xOffset+e,this._yOffset)}setNewPosition(e){this._newPosition[0]=e.x,this._newPosition[1]=e.y}commitNewPosition(){return this._xOffset=this._newPosition[0],this._yOffset=this._newPosition[1],this._newPosition}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}}class y{constructor(e,t){this.width=e,this.height=t,this.cursors=new Map,this.nextY=0}reset(){this.cursors.clear(),this.nextY=b}}class R{constructor(e){this.y=e,this.x=b}}let b=0;export{v as TextTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as e}from\"./TextHelperCanvas.js\";import{TextRenderer as r}from\"./TextRenderer.js\";import{TextTextureAtlas as t}from\"./TextTextureAtlas.js\";import{Texture as n}from\"./Texture.js\";class i{constructor(e,n,i){this._renderer=new r(e,n,i,t.maxSize)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const r=e(s,this._renderer.renderedWidth,this._renderer.renderedHeight),t=r.getContext(\"2d\");return t.save(),this._renderer.render(t,0,0),t.restore(),new n(r,{wrap:{s:33071,t:33071},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0})}}const s={canvas:null};export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{releaseMaybe as t}from\"../../../../core/maybe.js\";import{isPromiseLike as r}from\"../../../../core/promiseUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{fromValues as n,ZEROS as i,create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{freeze as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasCalloutSupport as c,textSymbolLayerSupportsVerticalOffset as m}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as f}from\"./ElevationAligners.js\";import{needsElevationUpdates2D as h}from\"./elevationAlignmentUtils.js\";import{focusAreaHUDColor as p}from\"./focusAreaStyle.js\";import{Graphics3DObject3DGraphicLayer as u}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as d}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as g}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as y}from\"./graphicUtils.js\";import{LabelPlacement as v,LabelParameters as x}from\"./LabelParameters.js\";import{verticalScreenOffsetFromAlignment as b,verticalPlacementFromAlignment as O,textRenderAlignmentFromHorizontalPlacement as P,horizontalPlacementToAnchorX as w,anchorFromPlacements as j,namedAnchorToHUDMaterialAnchorPos as S}from\"./placementUtils.js\";import{placePointOnGeometry as _,updateStageObjectGeometry as E,getLocalOriginForPoint as z,extendPointGraphicElevationContext as C,createStageObject as F}from\"./pointUtils.js\";import{getFontMetrics as G}from\"../../webgl-engine/lib/FontMetrics.js\";import{createPointGeometry as L}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as A}from\"../../webgl-engine/lib/TextRenderParameters.js\";import U from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as D}from\"../../webgl-engine/materials/HUDMaterial.js\";const R=a(0,0,1);class T extends g{constructor(e,t,r,s){super(e,t,r,s),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=y(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await A.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,r=_(t.geometry);if(null==r)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const s=this.view.focusAreasView?.containsGeometry(r)??!0,n=this.symbolLayer.text;if(null==n||\"\"===n)return null;const i=c(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=i&&!m(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const{verticalAlignment:o}=this.symbolLayer,a=new v(i);b(o,a.screenOffset);const l=new x(a,this.symbolLayer.horizontalAlignment,O(o));return l.isFocused=s??l.isFocused,this._createAs3DShape(t,r,n,l)}get needsUpdateFocus(){return!0}createLabel(e,t,r,s,n){const i=e.graphic,o=_(i.geometry);if(null==o)return this.logger.warn(`unsupported geometry type for label: ${i.geometry.type}`),null;const a=this.view.focusAreasView?.containsGeometry(o)??!0,l=t.text;return!l||/^\\s+$/.test(l)?null:(t.isFocused=a??t.isFocused,this._createAs3DShape(i,o,l,t,r,s,n))}createElevationContextForGraphic(e,t=0){const r=super.createElevationContextForGraphic(e);return r.addOffsetRenderUnits(t),r}updateElevationContextForGraphic(e,t,r=0){super.updateElevationContextForGraphic(e,t),e.addOffsetRenderUnits(r)}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerScreenSizePerspectiveChanged(e,t){const r=!this.draped&&this._context.screenSizePerspectiveEnabled,s=r?this.view.screenSizePerspective.labelParameters:null,n=r?this.view.screenSizePerspective.parameters:null;V(e,t,e=>{for(const t of e.stageObject.geometries)t.material.setParameters({screenSizePerspective:s,screenSizePerspectiveAlignment:n})})}layerElevationInfoChanged(e,t){return V(e,t,(e,t)=>{this.graphics3DGraphicLayerElevationInfoChanged(t,e)}),1}slicePlaneEnabledChanged(e,t){return V(e,t,e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})}),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}graphics3DGraphicLayerElevationInfoChanged(e,t){const{elevationContext:r,metadata:s}=t;this.updateElevationContextForGraphic(r,e,s?.elevationOffset??0),t.needsElevationUpdates=h(r.mode)||\"absolute-height\"===r.mode}updateGeometry(e,t){const r=e.geometry;if(this.draped||!r||!this._validateGeometry(r))return!1;const{elevationContext:s,stageObject:n}=t;if(s.mode!==this.getGeometryElevationMode(r))return!1;const i=_(r);if(!i)return!1;s.updateFeatureExpressionFeature(e,this._context.layer);const o=E(n,this._context,i,s);if(null==o)return!1;const a=z(this._context,i);return n.geometries[0].localOrigin===a&&(t.alignedSampledElevation=o,C(t,i,this._context.elevationProvider),!0)}_defaultElevationInfoNoZ(){return I}_createAs3DShape(e,a,c,m,g,y=null,v=()=>m.placement.elevationOffset){const x=this.createElevationContextForGraphic(e,m.placement.elevationOffset),b=e.uid;let O=null,w=null;if(null==y){const e=P(m.horizontalPlacement);O=new U(c,e,this._textRenderParameters);let s=null;if(null!=this._context.sharedResources.textures){w=this._context.sharedResources.textures.fromData(O.key,()=>O.create()),w.texture.events.on(\"unloaded\",()=>s=t(s));const e=this._context.stage.renderView.textures.acquire(w.texture.id);if(null==e||r(e))return w.release(),null;s=e}}const j=!!has(\"enable-feature:non-occluded-hud\"),S=H(O,m),_={occlusionTest:!j,occludedFragmentFade:j,horizonCullingEnabled:j&&this._context.spherical,screenOffset:m.placement.screenOffset,anchorPosition:S,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:m.placement.centerOffsetUnits,depthEnabled:!1,drawAsLabel:!0,isLabel:!0,isFocused:m.isFocused};if(\"polyline\"===e.geometry?.type&&(_.shaderPolygonOffset=1e-4),y?_.textureId=y.id:w&&(_.textureId=w.texture.id),null!=m.placement.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=m.placement.verticalOffset;_.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0}}const E=this._context.graphicsCoreOwner.view.focusAreasView?.polygons.length,z={screenOffset:_.screenOffset,anchorPosition:S,centerOffsetUnits:_.centerOffsetUnits,verticalOffset:_.verticalOffset,shaderPolygonOffset:_.shaderPolygonOffset,occlusionTest:_.occlusionTest,isFocused:m.isFocused,focusStyle:this.view.map?.focusAreas.style??\"none\"};if(this._context.screenSizePerspectiveEnabled){const{parameters:e,labelParameters:t}=this.view.screenSizePerspective,r=G(this._textRenderParameters);_.screenSizePerspective=t,_.screenSizePerspectiveMinPixelReferenceSize=r.maxHeight,_.screenSizePerspectiveAlignment=e,z.fontHeight=r.maxHeight}_.hasSlicePlane=this._context.slicePlaneEnabled;const A=this._context.spherical,T=g?JSON.stringify(z):\"\";let V=g?.get(T);if(null==V){if(!m.isFocused&&E){const e=this.view.map?.focusAreas.style;_.color=p(_.color,e),_.outlineColor=p(_.outlineColor,e)}V=new D(_,A),g?.set(T,V)}const I=m.placement.translation,W=O?n(O.displayWidth,O.displayHeight):i,M=m.placement.centerOffset,$=R,k=y?l(0,0,0,0):null,N=L(V,{normal:$,position:I,size:W,centerOffsetAndDistance:M,uvi:k}),q=F(this._context,a,N,x,b);if(null==q)return null;const B=(t,r,s,n,i,o)=>{const a=v()||m.placement.elevationOffset;return this.updateElevationContextForGraphic(r,e,a),f(t,r,s,n,i,o)},J=new u(this,q.object,w,B,x);J.alignedSampledElevation=q.sampledElevation,J.needsElevationUpdates=h(x.mode)||\"absolute-height\"===x.mode,J.getScreenSize=(e=o())=>(e[0]=O?O.displayWidth:m.displaySize[0],e[1]=O?O.displayHeight:m.displaySize[1],e);const Y=new d(m.placement.elevationOffset,c);return J.metadata=Y,C(J,a,this._context.elevationProvider),J}}function V(e,t,r){e?.forEach(e=>{const s=t(e);null!=s&&r(s,e.graphic)})}function H(e,t){if(\"baseline\"===t.verticalPlacement){const r=w[t.horizontalPlacement],s=null!=e?e.baselineAnchorY:0;return n(r,s)}const r=j(t.horizontalPlacement,t.verticalPlacement);return S[r]}const I={mode:\"relative-to-ground\",offset:0};export{T as Graphics3DTextSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{WaterDistortionPassParameters as e}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as s}from\"../effects/geometry/olidUtils.js\";import{oitPolygonOffset as o,getDrawBuffers as a,depthWrite as i,oitDepthTest as n,blending as l}from\"../lib/OrderIndependentTransparency.js\";import{PositionUvf32OlidLayout as d,PositionUvf32Layout as c}from\"./DefaultLayouts.js\";import{W as p}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as f,defaultColorWrite as m}from\"../../../webgl/renderState.js\";class u extends e{}class h extends t{constructor(e,t){super(e,t,new r(p,()=>import(\"../shaders/WaterSurface.glsl.js\")),s()?d.locations:c.locations)}initializePipeline(e){const{oitPass:r,output:t,transparent:s,draped:d}=e;return f({blending:3!==t&&9!==t&&10!==t&&s?l(r):null,depthTest:d?null:{func:n(r)},depthWrite:i(e),drawBuffers:a(r,t),colorWrite:m,polygonOffset:o(e)})}}export{u as WaterMaterialPassParameters,h as WaterTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{WaterTechnique as t}from\"./WaterTechnique.js\";class r extends e{ensureResources(e){return this._techniques.context.waterTextures.ensureResources(e)}beginSlot(e){const r=this._techniques.context.waterTextures.passParameters;return this._material.setParameters({wavePerturbation:r.wavePerturbation,waveNormal:r.waveNormal}),this.getTechnique(t,e)}}export{r as WaterGLMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"./DefaultTechniqueConfiguration.js\";class o extends i{constructor(e){super(),this.spherical=e,this.receiveShadows=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.screenSpaceReflections=!1,this.cloudReflections=!1,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=0,this.emissionSource=0,this.pbrMode=3,this.occlusionPass=!1,this.useCustomDTRExponentForWater=!0,this.highStepCount=!0,this.useFillLights=!1,this.overlayEnabled=!1,this.snowCover=!1}get discardInvisibleFragments(){return this.transparent&&this.writeDepth}}e([t()],o.prototype,\"receiveShadows\",void 0),e([t()],o.prototype,\"transparent\",void 0),e([t()],o.prototype,\"enableOffset\",void 0),e([t()],o.prototype,\"writeDepth\",void 0),e([t()],o.prototype,\"screenSpaceReflections\",void 0),e([t()],o.prototype,\"cloudReflections\",void 0),e([t()],o.prototype,\"draped\",void 0),e([t()],o.prototype,\"terrainDepthTest\",void 0),e([t()],o.prototype,\"cullAboveTerrain\",void 0);export{o as WaterTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{secondsFromMilliseconds as t}from\"../../../../core/time.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as a,isHighlightOrOID as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as o}from\"../effects/geometry/olidUtils.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as c}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUvf32OlidLayout as h,PositionUvf32Layout as m}from\"./DefaultLayouts.js\";import{TriangleMaterial as f}from\"./TriangleMaterial.js\";import{WaterGLMaterial as p}from\"./WaterGLMaterial.js\";import{WaterTechniqueConfiguration as u}from\"./WaterTechniqueConfiguration.js\";class d extends f{constructor(t,e){super(t,g),this.produces=new Map([[2,t=>a(t)&&!this.parameters.transparent||s(t)],[4,t=>a(t)&&this.parameters.transparent||s(t)],[18,t=>this.parameters.draped&&a(t)||3===t||s(t)],[19,t=>3===t]]),this._configuration=new u(e.spherical)}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.writeDepth=!0,this._configuration.receiveShadows=a(t)&&e.shadowMap.enabled,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.screenSpaceReflections=null!=e.ssr.lastFrameColor,this._configuration.cloudReflections=null!=e.clouds.data,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=e.oitPass,this._configuration.enableOffset=e.camera.relativeElevation<c,this._configuration.terrainDepthTest=e.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration}get visible(){return!0}update(e){return this.setParameters({timeElapsed:t(e.time)*this.parameters.animationSpeed},!1),this._animationEnabled(e.camera)&&e.dt>0}_animationEnabled(t){const e=Math.min(t.relativeElevation,t.distance);return Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*e<v}createGLMaterial(t){return new p(t)}createBufferWriter(){return new l(o()?h:m)}get test(){}}class g extends n{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=e(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=i(0,0,0,0),this.transparent=!0,this.hasSlicePlane=!1,this.draped=!1,this.origin=r(),this.modelTransformation=null}}const v=35e3;export{g as Parameters,d as WaterMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e={\"calm-small\":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},\"rippled-small\":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},\"slight-small\":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},\"moderate-small\":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},\"calm-medium\":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},\"rippled-medium\":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},\"slight-medium\":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},\"moderate-medium\":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},\"calm-large\":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},\"rippled-large\":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},\"slight-large\":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},\"moderate-large\":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};export{e as wavePresets};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{set as i}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as o,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c as s}from\"../../../../chunks/vec42.js\";import{toRadian as a}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{fromBuffer as l,create as c,intersectsClippingArea as h,empty as p,expandWithAABB as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as u,create as d,expandPointInPlace as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{newFloatArray as y,floatSubArray as f}from\"../../../../geometry/support/FloatArray.js\";import{perVertexElevationAligner as v}from\"./ElevationAligners.js\";import{elevationModeChangeUpdateType as x,needsElevationUpdates2D as _}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as w}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as b}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as S,createWaterGeometry as C,PolygonCreationDataBase as j}from\"./polygonUtils.js\";import{geometryToRenderInfo as G,geometryToRenderInfoDraped as P}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as L}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as O}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Parameters as A,WaterMaterial as E}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as T}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const U=[\"polyline\",\"polygon\",\"extent\"];class B extends D{static{this.unitSizeOfTexture=100}static{this.elevationModeChangeTypes={definedChanged:2,staysOnTheGround:0,onTheGroundChanged:2}}constructor(e,t,r,i){super(e,t,r,i)}async doLoad(){}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,U,this.symbolLayer.type))return null;const r=this.createElevationContextForGraphic(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(this._materials[0])return;const t=new A,r=e.toUnitRGBA(this.symbolLayer.color);r[3]*=this._getLayerOpacity(),t.color=r,t.transparent=r[3]<1||this.needsDrivenTransparentPass,t.waveDirection=null!=this.symbolLayer.waveDirection?M(this.symbolLayer.waveDirection):o(0,0);const i=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,n=T[i];t.waveStrength=n.waveStrength,t.waveTextureRepeat=n.textureRepeat,t.waveVelocity=n.waveVelocity,t.flowStrength=n.perturbationStrength,t.hasSlicePlane=this._context.slicePlaneEnabled,t.draped=this.draped,this._materials[0]=new E(t,this._context)}layerOpacityChanged(){if(null==this._materials[0])return;const e=this._materials[0].parameters.color,t=this.symbolLayer.color.a*this._getLayerOpacity(),r=t<1||this.needsDrivenTransparentPass;this._materials[0].setParameters({color:[e[0],e[1],e[2],t],transparent:r})}layerScreenSizePerspectiveChanged(){}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,o=x(B.elevationModeChangeTypes,r,i);if(1!==o)return o;const n=_(i);return this.updateGraphics3DGraphicElevationInfo(e,t,()=>n)}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}get needsDrivenTransparentPass(){return!1}_createAs3DShape(e,t,r){const i=S(e.geometry);if(null==i)return null;const o=G(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=o.position.length/3,s=y(2*n);R(s,o.mapPositions,n,this._context.elevationProvider.spatialReference);const a=new k(o,s,this._context.layerViewUid,e.uid);if(a.olidColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._create3DShapeGeometries(a),this._logGeometryCreationWarnings(a.renderData,i.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length)return null;const l=new L({geometries:a.outGeometries,castShadow:!1,layerViewUid:this._context.layerViewUid,graphicUid:r}),c=new b(this,l,null,v,t);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=_(t.mode),c}_create3DShapeGeometries(e){const t=e.renderData.polygons,i=e.uvCoords;for(const{count:o,index:n,position:s,mapPositions:a,holeIndices:c}of t){if(null!=this._context.clippingExtent&&(l(a,W),!h(W,this._context.clippingExtent)))continue;const t=r(a,c,3);if(0===t.length)continue;const p=f(i,2*n,2*o),m=C({material:this._materials[0],indices:t,mapPositions:a,attributeData:{position:s,uv0:p}},e.olidColor);e.outGeometries.push(m)}}_createAsOverlay(e){const t=S(e.geometry);if(null==t)return null;this._materials[0].renderPriority=this._renderPriority;const r=P(t,this._context.overlaySR),i=r.position.length/3,o=y(2*i);R(o,r.position,i,this._context.overlaySR);const n=new F(r,o,this._context.layerViewUid,e.uid);return n.olidColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),n.outBoundingBox=p(),this._createAsOverlayWater(n),this._logGeometryCreationWarnings(n.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===n.outGeometries.length?null:new w(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,i=e.renderData.polygons;for(const{position:o,holeIndices:n,index:s,count:a}of i){if(l(o,W),!h(W,this._context.clippingExtent))continue;m(e.outBoundingBox,W);const i=r(o,n,3);if(0===i.length)continue;const c=f(t,2*s,2*a),p=C({material:this._materials[0],indices:i,attributeData:{position:o,uv0:c}},e.olidColor);e.outGeometries.push(new O(p,e))}}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}function M(e){const t=n(),r=a(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}function R(e,r,o,n){const a=t(n);u(z);for(let t=0;t<o;t++)i(I,r[3*t],r[3*t+1]),g(z,I);s(z,z,a);const l=z[0]%B.unitSizeOfTexture,c=z[1]%B.unitSizeOfTexture;V[0]=z[0]-l,V[1]=z[1]-c;for(let t=0;t<o;t++)e[2*t]=(r[3*t]*a-V[0])/B.unitSizeOfTexture,e[2*t+1]=(r[3*t+1]*a-V[1])/B.unitSizeOfTexture}const V=n(),z=d(),I=n(),W=c();class k extends j{constructor(e,t,r,i){super(e,r,i),this.uvCoords=t}}class F extends j{constructor(e,t,r,i){super(e,r,i),this.uvCoords=t}}export{B as Graphics3DWaterSymbolLayer,M as headingVectorFromAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";import{Graphics3DExtrudeSymbolLayer as o}from\"./Graphics3DExtrudeSymbolLayer.js\";import{Graphics3DIconSymbolLayer as e}from\"./Graphics3DIconSymbolLayer.js\";import{Graphics3DLineSymbolLayer as t}from\"./Graphics3DLineSymbolLayer.js\";import{Graphics3DMeshFillSymbolLayer as m}from\"./Graphics3DMeshFillSymbolLayer.js\";import{Graphics3DObjectSymbolLayer as i}from\"./Graphics3DObjectSymbolLayer.js\";import{Graphics3DPathSymbolLayer as a}from\"./Graphics3DPathSymbolLayer.js\";import{Graphics3DPolygonFillSymbolLayer as y}from\"./Graphics3DPolygonFillSymbolLayer.js\";import{Graphics3DTextSymbolLayer as s}from\"./Graphics3DTextSymbolLayer.js\";import{Graphics3DWaterSymbolLayer as p}from\"./Graphics3DWaterSymbolLayer.js\";function l(o,e,t,m){const i=h[o.type]?.[e.type]||c[e.type];return i?new i(o,e,t,m):(r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory\").error(\"GraphicsLayerFactory#make\",`unknown symbol type ${e.type}`),null)}const c={icon:e,object:i,line:t,path:a,fill:y,extrude:o,text:s,water:p},h={\"mesh-3d\":{fill:m}};export{l as make};\n"],
  "mappings": "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",
  "names": ["u", "e", "i", "r", "n", "a", "t", "s", "m", "c", "l", "P", "p", "r", "o", "n", "e", "p", "h", "u", "a", "l", "f", "c", "t", "i", "B", "s", "m", "J", "K", "m", "t", "e", "r", "s", "o", "i", "n", "_", "a", "P", "l", "c", "p", "h", "w", "u", "d", "g", "f", "v", "E", "A", "j", "I", "z", "V", "T", "B", "y", "b", "X", "D", "Q", "U", "L", "O", "F", "H", "k", "W", "Y", "x", "S", "C", "$", "tt", "at", "ot", "dt", "t", "r", "c", "n", "c", "e", "t", "r", "i", "n", "o", "u", "q", "d", "a", "m", "b", "G", "k", "g", "ae", "r", "ne", "a", "o", "m", "e", "t", "i", "d", "Z", "u", "n", "l", "c", "f", "h", "s", "p", "M", "K", "g", "Q", "O", "B", "G", "j", "r", "t", "g", "m", "e", "t", "j", "S", "i", "r", "d", "h", "f", "T", "o", "a", "p", "c", "n", "u", "i", "e", "t", "g", "s", "e", "t", "v", "o", "b", "a", "i", "S", "_", "n", "h", "c", "p", "m", "u", "d", "f", "P", "T", "k", "O", "V", "j", "y", "r", "x", "M", "w", "J", "E", "C", "I", "m", "e", "t", "r", "i", "T", "K", "n", "J", "g", "u", "s", "a", "Q", "f", "d", "H", "o", "l", "p", "c", "h", "_", "O", "y", "ot", "q", "B", "G", "W", "P", "e", "h", "O", "e", "a", "s", "r", "i", "g", "o", "t", "n", "m", "l", "f", "d", "c", "p", "u", "b", "T", "E", "_", "U", "t", "e", "r", "a", "s", "P", "i", "j", "m", "e", "t", "d", "v", "o", "_", "r", "a", "p", "u", "c", "T", "f", "s", "e", "i", "U", "s", "e", "P", "x", "t", "o", "r", "f", "p", "d", "y", "S", "M", "_", "m", "C", "T", "H", "A", "I", "J", "w", "K", "Q", "Y", "Z", "V", "N", "q", "B", "W", "X", "c", "D", "k", "g", "u", "b", "z", "G", "F", "O", "i", "n", "a", "l", "h", "E", "v", "j", "m", "e", "t", "r", "o", "U", "n", "a", "s", "tt", "i", "l", "f", "c", "u", "C", "p", "h", "d", "g", "x", "_", "y", "M", "O", "P", "j", "E", "N", "A", "q", "nt", "v", "R", "w", "F", "et", "rt", "ot", "m", "t", "e", "i", "n", "s", "c", "b", "E", "u", "q", "o", "l", "h", "g", "d", "v", "C", "a", "p", "_", "f", "G", "x", "t", "e", "s", "r", "m", "o", "l", "u", "a", "n", "c", "r", "o", "u", "i", "m", "g", "l", "a", "j", "y", "h", "e", "r", "t", "R", "m", "P", "s", "n", "e", "i", "t", "c", "r", "s", "a", "t", "s", "e", "r", "i", "o", "i", "n", "m", "a", "u", "l", "t", "r", "e", "s", "a", "e", "r", "i", "s", "o", "c", "n", "t", "q", "l", "b", "B", "e", "t", "r", "F", "u", "tt", "f", "c", "s", "n", "o", "a", "i", "N", "E", "G", "W", "h", "z", "P", "l", "d", "m", "p", "H", "_", "g", "Y", "k", "R", "V", "A", "ne", "e", "t", "s", "r", "i", "a", "o", "n", "l", "c", "h", "le", "m", "de", "Z", "S", "d", "u", "p", "_", "y", "O", "K", "P", "me", "g", "v", "z", "f", "b", "x", "R", "Q", "L", "F", "ye", "w", "C", "ue", "he", "fe", "_e", "pe", "D", "E", "ce", "G", "h", "t", "i", "s", "o", "n", "v", "g", "f", "r", "c", "l", "e", "A", "h", "s", "o", "n", "a", "p", "l", "u", "x", "t", "e", "i", "r", "o", "e", "t", "s", "i", "l", "f", "r", "n", "m", "h", "p", "c", "a", "u", "c", "t", "e", "r", "s", "a", "i", "o", "h", "n", "l", "u", "m", "f", "E", "e", "m", "t", "r", "s", "i", "n", "w", "t", "y", "r", "n", "a", "c", "p", "u", "m", "f", "d", "b", "v", "_", "A", "I", "j", "k", "D", "P", "o", "V", "F", "C", "z", "l", "q", "i", "N", "R", "M", "T", "U", "e", "s", "l", "v", "h", "u", "j", "R", "n", "y", "b", "x", "L", "d", "k", "q", "s", "o", "G", "M", "m", "a", "r", "U", "K", "A", "_", "r", "t", "e", "s", "i", "n", "c", "d", "a", "o", "h", "l", "v", "m", "p", "n", "t", "r", "a", "u", "o", "e", "c", "s", "i", "f", "l", "M", "h", "b", "m", "d", "p", "y", "x", "S", "j", "_", "g", "q", "e", "t", "n", "r", "b", "n", "l", "t", "s", "u", "y", "A", "g", "I", "P", "c", "D", "_", "R", "w", "U", "r", "e", "o", "x", "i", "S", "F", "d", "a", "h", "k", "j", "P", "u", "e", "n", "t", "a", "V", "m", "r", "I", "x", "i", "s", "l", "c", "b", "T", "o", "p", "g", "d", "f", "i", "e", "_", "s", "t", "e", "w", "r", "n", "i", "o", "a", "h", "m", "l", "f", "d", "b", "v", "g", "S", "U", "x", "V", "P", "Y", "$", "m", "e", "t", "r", "i", "G", "O", "s", "K", "n", "h", "d", "a", "o", "c", "l", "f", "u", "g", "_", "k", "b", "P", "Q", "p", "x", "S", "y", "v", "ae", "j", "C", "D", "ot", "V", "U", "ie", "j", "t", "r", "e", "s", "a", "o", "_", "i", "n", "m", "c", "T", "l", "F", "V", "Y", "D", "M", "z", "E", "O", "y", "x", "P", "f", "q", "v", "A", "g", "u", "I", "h", "N", "p", "S", "G", "d", "k", "U", "S", "m", "e", "t", "x", "b", "r", "i", "l", "v", "y", "T", "o", "a", "_", "p", "g", "d", "f", "c", "j", "s", "e", "i", "_", "i", "e", "x", "s", "t", "o", "b", "l", "j", "v", "S", "a", "n", "c", "T", "h", "r", "d", "C", "f", "o", "e", "r", "m", "i", "_", "t", "s", "c", "a", "n", "T", "l", "f", "T", "m", "e", "t", "i", "r", "K", "o", "_", "J", "n", "u", "Q", "s", "f", "d", "l", "W", "a", "O", "c", "k", "h", "ot", "p", "q", "j", "A", "G", "H", "i", "r", "c", "a", "n", "o", "l", "f", "e", "s", "s", "o", "a", "l", "t", "e", "f", "m", "u", "g", "d", "h", "y", "b", "p", "r", "i", "S", "c", "x", "v", "e", "i", "y", "l", "b", "n", "T", "w", "t", "h", "A", "f", "s", "r", "R", "o", "E", "a", "k", "i", "e", "n", "r", "v", "a", "s", "t", "M", "R", "e", "T", "m", "t", "r", "s", "Z", "d", "n", "i", "o", "l", "a", "u", "V", "g", "f", "I", "c", "y", "v", "x", "b", "O", "w", "j", "S", "H", "_", "E", "z", "A", "W", "M", "$", "k", "N", "q", "p", "B", "J", "Y", "h", "m", "e", "t", "C", "c", "r", "s", "d", "T", "a", "p", "i", "r", "t", "e", "h", "o", "e", "i", "d", "i", "t", "e", "g", "o", "l", "u", "v", "r", "s", "c", "a", "n", "e", "U", "m", "e", "t", "r", "i", "g", "u", "M", "n", "d", "o", "f", "l", "s", "R", "a", "k", "c", "O", "W", "p", "F", "q", "h", "B", "z", "I", "V", "l", "o", "e", "t", "m", "i", "h", "c", "le", "W", "$", "H", "K", "T", "B"]
}
