{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/tiles3DUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as e}from\"../../core/mathUtils.js\";import{e as t,g as r,t as n,d as o,A as i,z as s,a as m}from\"../../chunks/vec32.js\";import{fromValues as a,create as h}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WGS84ECEFSpatialReferenceLike as l}from\"../../geometry/ellipsoidUtils.js\";import c from\"../../geometry/Extent.js\";import f from\"../../geometry/HeightModelInfo.js\";import x from\"../../geometry/SpatialReference.js\";import{projectBuffer as g}from\"../../geometry/projection/projectBuffer.js\";function u(e,t){if(!Array.isArray(e)||e.length<t)return!1;for(const r of e)if(\"number\"!=typeof r)return!1;return!0}const d=7645211,p={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850},S=new Map([[5773,new f({heightModel:\"gravity-related-height\",heightUnit:\"meters\",vertCRS:\"EGM96_Geoid\"})],[3855,new f({heightModel:\"gravity-related-height\",heightUnit:\"meters\",vertCRS:\"EGM2008_Geoid\"})],[115700,new f({heightModel:\"ellipsoidal\",heightUnit:\"meters\",vertCRS:\"WGS_1984\"})],[115701,new f({heightModel:\"ellipsoidal\",heightUnit:\"meters\",vertCRS:\"ETRS_1989\"})],[6360,new f({heightModel:\"gravity-related-height\",heightUnit:\"us-feet\",vertCRS:\"NAVD88_height_(ftUS)\"})],[7837,new f({heightModel:\"gravity-related-height\",heightUnit:\"meters\",vertCRS:\"DHHN2016_(height) \"})]]);function _(e){if(!e)return null;const t=e.vcsWkid||e.latestVcsWkid;return t?S.get(t):null}function R(e){return!(!(e.extensions?.ESRI_crs?.wkid||e.extensions?.ESRI_crs?.latestWkid||e.extensions?.ESRI_crs?.wkt)||!e.root?.extensions?.ESRI_crs?.boundingVolume?.box&&!e.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)}function E(f,S=!1){let _=new x({wkid:4326,vcsWkid:115700}),R=f.root?.boundingVolume,E=!1,b=f?.root?.transform;if(S&&(f.extensions?.ESRI_crs?.wkid||f.extensions?.ESRI_crs?.latestWkid||f.extensions?.ESRI_crs?.wkt)&&(f.root?.extensions?.ESRI_crs?.boundingVolume?.box||f.root?.extensions?.ESRI_crs?.boundingVolume?.sphere))_=new x(f.extensions?.ESRI_crs),R=f.root?.extensions?.ESRI_crs?.boundingVolume,b=f.root?.transform,E=!0;else if(!R)return new c(-180,-90,180,90,_);if(R.box){const e=R?.box;if(e[3]>d&&e[7]>d&&e[11]>d)return new c({...p,spatialReference:_})}const w=h();if(!E&&R.region&&u(R.region,6)){const t=R.region,r=e(t[0]),n=e(t[1]),o=t[4],i=e(t[2]),s=e(t[3]),m=t[5];return new c({xmin:r,ymin:n,zmin:o,xmax:i,ymax:s,zmax:m,spatialReference:_})}if(R.sphere&&u(R.sphere,4)){const e=R.sphere,m=a(e[0],e[1],e[2]),f=e[3]/Math.sqrt(3),d=h();t(d,m,a(f,f,f));const p=h();if(r(p,m,a(f,f,f)),b&&u(b,16)){const e=b;n(w,d,e),o(d,w),n(w,p,e),o(p,w)}E||(g(d,l,0,d,x.WGS84,0),g(p,l,0,p,x.WGS84,0));const S=h(),y=h();return i(S,d,p),s(y,d,p),new c({xmin:S[0],ymin:S[1],zmin:S[2],xmax:y[0],ymax:y[1],zmax:y[2],spatialReference:_})}if(R.box&&u(R.box,12)){const e=R.box,t=a(e[0],e[1],e[2]),o=a(e[3],e[4],e[5]),f=a(e[6],e[7],e[8]),d=a(e[9],e[10],e[11]),p=[];for(let r=0;r<8;++r)p.push(h());if(r(p[0],t,o),r(p[0],p[0],f),r(p[0],p[0],d),m(p[1],t,o),r(p[1],p[1],f),r(p[1],p[1],d),r(p[2],t,o),m(p[2],p[2],f),r(p[2],p[2],d),m(p[3],t,o),m(p[3],p[3],f),r(p[3],p[3],d),r(p[4],t,o),r(p[4],p[4],f),m(p[4],p[4],d),m(p[5],t,o),r(p[5],p[5],f),m(p[5],p[5],d),r(p[6],t,o),m(p[6],p[6],f),m(p[6],p[6],d),m(p[7],t,o),m(p[7],p[7],f),m(p[7],p[7],d),b&&u(b,16)){const e=b;for(let t=0;t<8;++t)n(p[t],p[t],e)}const S=a(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),w=a(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let r=0;r<8;++r)E||g(p[r],l,0,p[r],x.WGS84,0),i(w,w,p[r]),s(S,S,p[r]);return new c({xmin:w[0],ymin:w[1],zmin:w[2],xmax:S[0],ymax:S[1],zmax:S[2],spatialReference:_})}return new c(-180,-90,180,90,_)}export{_ as getHeightModelInfoFromVCS,R as hasEsriCrs,E as initFullExtent,u as verifyArray};\n"],
  "mappings": "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",
  "names": ["u", "r", "d", "p", "R", "E", "f", "S", "d", "p", "u", "r", "n", "o", "s", "m", "e", "t", "w"]
}
