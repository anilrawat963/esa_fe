{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/OperatorCut.js", "../../@arcgis/core/geometry/operators/gx/operatorCut.js", "../../@arcgis/core/chunks/cutOperator.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{G as t}from\"./SimpleGeometryCursor.js\";import{G as e,d as s,g as n}from\"./Geometry.js\";import{P as r,a as o,E as m,n as i}from\"./MultiPathImpl.js\";import{g as u,c}from\"./Envelope.js\";import{Q as h,R as l,T as a,U as d,V as y,W as p}from\"./UnitFactory.js\";var _=p;function g(t,e){return{m_geometry:t,m_side:e}}function f(t,e,s,n,r,o){if(e.isEmpty()){const t=g(e,0);return void r.push(t)}if(s.isEmpty()){const t=g(e,0);return void r.push(t)}const i=[],u=new m;{const m=u.createGeometryUserIndex(),c=u.addGeometry(e),p=u.addGeometry(s),f=new d(o);let C=0,E=null;if(u.hasCurves()){E=new _;const t=u.getEnvelope2D(o);C=h(n.total());const e=l(n.total(),t);a(u,e,n.total(),12e3,E,null,o)}u.dbgVerifyCurves(),f.setEditShapeCrackAndCluster(u,n),f.cut(t,m,c,p,i);for(const t of i){null!==E&&E.stitchCurves(u,t,C,!1);const e=g(u.getGeometry(t),y(u.getGeometryUserIndex(t,m)));r.push(e)}null!==E&&E.clearStitcher(u)}}function C(t,e,s,n,r,u){if(e.isEmpty()){const t=g(e,0);return void r.push(t)}if(s.isEmpty()){const t=g(e,0);return void r.push(t)}const c=[],y=new m;{const t=y.createGeometryUserIndex(),p=y.addGeometry(e),f=y.addGeometry(s),C=new d(u);let E=0,G=null;if(y.hasCurves()){G=new _;const t=y.getEnvelope2D(u);E=h(n.total());const e=l(n.total(),t);a(y,e,n.total(),12e3,G,null,u)}y.dbgVerifyCurves(),C.setEditShapeCrackAndCluster(y,n),C.cut(!1,t,p,f,c),null!==G&&G.stitchCurves(y,i,E,!0);let v=y.getGeometry(p);const w=new o,x=new o,I=[];for(let e=0;e<c.length;e++){let s=null;{const r=new m,o=r.addGeometry(v),d=r.addGeometry(y.getGeometry(c[e]));if(r.hasCurves()){const t=r.getEnvelope2D(u);E=h(n.total());const e=l(n.total(),t);a(r,e,n.total(),12e3,G,null,u)}C.setEditShapeCrackAndCluster(r,n);const p=C.intersection(o,d);if(null!==G&&G.stitchCurves(r,i,E,!0),s=r.getGeometry(p),s.isEmpty())continue;const _=y.getGeometryUserIndex(c[e],t);2===_?w.add(s,!1):1===_?x.add(s,!1):I.push(s)}{const t=new m,s=t.addGeometry(v),r=t.addGeometry(y.getGeometry(c[e]));if(t.hasCurves()){const e=t.getEnvelope2D(u);E=h(n.total());const s=l(n.total(),e);a(t,s,n.total(),12e3,G,null,u)}C.setEditShapeCrackAndCluster(t,n);const o=C.difference(s,r);null!==G&&G.stitchCurves(t,i,E,!0);v=t.getGeometry(o)}}if(!v.isEmpty()&&c.length>0&&I.push(v),w.isEmpty()&&x.isEmpty())return;if(!w.isEmpty()){const t=g(w,1);r.push(t)}if(!x.isEmpty()){const t=g(x,2);r.push(t)}for(let e=0,s=I.length;e<s;++e){const t=g(I[e],3);r.push(t)}}}class E{getOperatorType(){return 10005}accelerateGeometry(t,e,s){return!1}canAccelerateGeometry(t){return!1}supportsCurves(){return!0}execute(t,e,s,n,r){return new G(t,e,s,n,r)}}class G extends t{constructor(t,e,s,n,o){super(),this.m_cutIndex=-1,this.m_cuts=[],this.m_progressTracker=o,this.m_cuttee=e.clone(),this.m_cutter=new r({copy:s}),this.m_bConsiderTouch=t;const m=u(e,s);this.m_tolerance=c(n,m,!0)}next(){return-1===this.m_cutIndex&&this.generateCuts(),++this.m_cutIndex<this.m_cuts.length?this.m_cuts[this.m_cutIndex]:null}getGeometryID(){return this.m_cutIndex}tock(){return!0}getRank(){return 1}generateCuts(){switch(this.m_cuttee.getGeometryType()){case e.enumPolyline:this.generatePolylineCuts();break;case e.enumPolygon:this.generatePolygonCuts()}}generatePolylineCuts(){const t=new r,e=new r,n=new r;this.m_cuts.length=0,this.m_cuts.push(t),this.m_cuts.push(e);const o=[];f(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,o,this.m_progressTracker);for(let r=0;r<o.length;r++){const m=o[r];1===m.m_side?t.add(m.m_geometry,!1):2===m.m_side||4===m.m_side?e.add(m.m_geometry,!1):3===m.m_side?this.m_cuts.push(m.m_geometry):0===m.m_side?n.add(m.m_geometry,!1):s(\"\")}n.isEmpty()||t.isEmpty()&&e.isEmpty()&&!(this.m_cuts.length>=3)||this.m_cuts.push(n),t.isEmpty()&&e.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}generatePolygonCuts(){const t=new o,e=new o,r=new o;this.m_cuts.length=0,this.m_cuts.push(t),this.m_cuts.push(e);const m=[];C(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,m,this.m_progressTracker);for(let n=0;n<m.length;n++){const o=m[n];1===o.m_side?t.add(o.m_geometry,!1):2===o.m_side?e.add(o.m_geometry,!1):3===o.m_side?this.m_cuts.push(o.m_geometry):0===o.m_side?r.add(o.m_geometry,!1):s(\"\")}n(r.isEmpty()||1===m.length),t.isEmpty()&&e.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}}export{E as O};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{O as r}from\"../../../chunks/OperatorCut.js\";const t=new r;function n(r,n,o){const u=t.execute(!0,r,n,o,null);return Array.from(u)}function o(){return t.supportsCurves()}export{n as execute,o as supportsCurves};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../core/arrayUtils.js\";import{supportsCurves as e,execute as o}from\"../geometry/operators/gx/operatorCut.js\";import{getSpatialReference as t,fromSpatialReference as s,fromPolyline as p,fromGeometry as a,toGeometry as u}from\"../geometry/operators/support/apiConverter.js\";function m(e,m){const c=t(e);return o(a(e),p(m),s(c)).map(r=>u(r,c)).filter(r)}const c=e(),i=Object.freeze(Object.defineProperty({__proto__:null,execute:m,supportsCurves:c},Symbol.toStringTag,{value:\"Module\"}));export{i as c,m as e,c as s};\n"],
  "mappings": "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",
  "names": ["t", "n", "o", "i", "m", "c", "f", "C", "E", "e", "G", "x", "s", "r", "p", "_", "t", "n", "o", "m", "c", "n"]
}
