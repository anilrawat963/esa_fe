{
  "version": 3,
  "sources": ["../../@arcgis/core/views/draw/support/ConnectedReshapeManager.js", "../../@arcgis/core/views/interactive/tooltip/infos/TranslateVertexTooltipInfo.js", "../../@arcgis/core/views/draw/support/reshapeTooltipUtils.js", "../../@arcgis/core/views/draw/support/reshapeUtils.js", "../../@arcgis/core/views/draw/support/Reshape.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../core/Accessor.js\";import{createTask as t}from\"../../../core/asyncUtils.js\";import{makeHandle as r,handlesGroup as s}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{getOrCreateMapValue as o}from\"../../../core/MapUtils.js\";import{throwIfAborted as n}from\"../../../core/promiseUtils.js\";import{whenOnce as p,watch as d}from\"../../../core/reactiveUtils.js\";import{addMaybe as c}from\"../../../core/SetUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as u}from\"../../../core/support/UpdatingHandles.js\";import m from\"../../../layers/GraphicsLayer.js\";import{isSubtypeSublayer as y,isKnowledgeGraphSublayer as g}from\"../../../layers/support/layerUtils.js\";import{getDisplayedSymbol as f}from\"../../../symbols/support/symbolUtils.js\";import{GraphicState as v}from\"../../3d/layers/graphics/GraphicState.js\";const _=()=>a.getLogger(\"esri.views.draw.support.ConnectedReshapeManager\"),w=Symbol();let G=class extends i{constructor(e){super(e),this.activeOperationType=null,this.providerFactories=[],this.view=null,this._activeProviders=new Set,this._graphics=new Map,this._modifiedFeatures=new Map,this._modifiedGraphicsLayer=new m({listMode:\"hide\",internal:!0,title:\"Connected Reshape Modified Graphics (Internal)\"}),this._pendingGraphicsLayer=new m({listMode:\"hide\",internal:!0,title:\"Connected Reshape Pending Graphics (Internal)\"}),this._pendingFeatures=new Map,this._updatingHandles=new u}initialize(){this.view.map.addMany([this._modifiedGraphicsLayer,this._pendingGraphicsLayer])}destroy(){this.view.destroyed||this.view.map.removeMany([this._modifiedGraphicsLayer,this._pendingGraphicsLayer]),this._modifiedGraphicsLayer.destroy(),this._pendingGraphicsLayer.destroy(),this._updatingHandles.destroy()}get updating(){return this._updatingHandles.updating||Array.from(this._activeProviders).some(e=>e.updating)}startFeatureMove(e){this.activeOperationType=0,this._activeProviders.clear();for(const i of this.providerFactories)c(this._activeProviders,i.getFeatureReshapeProvider(e))}startVertexMove(e,i){this.activeOperationType=1,this._activeProviders.clear();for(const t of this.providerFactories)c(this._activeProviders,t.getVertexReshapeProvider(e,i))}finish(){this.activeOperationType=null,this._activeProviders.clear();for(const[e,i]of this._pendingFeatures){this._pendingFeatures.delete(e),this._modifiedFeatures.set(e,i);const t=this._graphics.get(e);t&&(this._modifiedGraphicsLayer.add(t),this._pendingGraphicsLayer.remove(t))}}translate(e,i,t=0){if(null===this.activeOperationType)return;const r=P(e),s=P(i),a=P(t);for(const o of this._activeProviders){const e=o.translate(r,s,a);this._update(e)}}async _initializeGraphic(e,i){e.symbol??=await this._updatingHandles.addPromise(f(e,{scale:this.view.scale,useSourceLayer:!0})),this._pendingFeatures.has(i.uniqueId)?this._pendingGraphicsLayer.add(e):this._modifiedFeatures.has(i.uniqueId)&&this._modifiedGraphicsLayer.add(e),this.addHandles(await L(i.originalGraphic,e,this.view),w)}_update(e){for(const i of e){const e=this._modifiedFeatures.delete(i.uniqueId);this._pendingFeatures.set(i.uniqueId,i);const t=o(this._graphics,i.uniqueId,()=>{const e=i.graphic.cloneShallow();return this._initializeGraphic(e,i),e});t.geometry=i.graphic.geometry,e&&(this._modifiedGraphicsLayer.remove(t),this._pendingGraphicsLayer.add(t))}}get test(){return{activeProviders:this._activeProviders,modifiedFeatures:this._modifiedFeatures,modifiedGraphicsLayer:this._modifiedGraphicsLayer,pendingFeatures:this._pendingFeatures,pendingGraphicsLayer:this._pendingGraphicsLayer}}};async function L(e,i,a){const o=e.sourceLayer,d=e.getObjectId();if(null==d)return _().error(\"editing:cannot-hide-graphic\",\"Unable to hide original graphic because it has no objectId.\"),r();let c=null;function h(e){c?.abort(),c=t(async i=>{const t=await b(a,o);n(i),t&&t.setVisibility?.(d,e)})}return await F(a,i),h(!1),s([j(a,i,e=>h(!e)),r(async()=>{h(!0);const e=await b(a,o);await p(()=>!e?.updating)})])}function j(e,i,t){if(\"3d\"===e.type){const r=new v({graphic:i});return s([e.trackGraphicState(r),d(()=>r.displaying,t)])}return d(()=>i.visible,t)}async function F(e,i){if(\"3d\"===e.type){const t=new v({graphic:i}),r=e.trackGraphicState(t);await p(()=>t.displaying||t.error),r.remove()}else await p(()=>i.visible)}async function b(e,i){const t=y(i)||g(i)?i.parent:i;return t?e.whenLayerView(t):null}function P(e){return isNaN(e)?0:e}e([h()],G.prototype,\"activeOperationType\",void 0),e([h()],G.prototype,\"providerFactories\",void 0),e([h()],G.prototype,\"updating\",null),e([h({constructOnly:!0})],G.prototype,\"view\",void 0),G=e([l(\"esri.views.draw.support.ConnectedReshapeManager\")],G);export{G as ConnectedReshapeManager,L as swapForEditingSession,j as watchGraphicVisibility,F as whenGraphicDisplayed};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{zeroMeters as o}from\"../../../../core/quantityUtils.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipInfo as s}from\"./SketchTooltipInfo.js\";let i=class extends s{constructor(t){super(t),this.type=\"translate-vertex\",this.distance=o,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=o,this.elevation=null,this.area=null,this.totalLength=null}};t([e()],i.prototype,\"type\",void 0),t([e()],i.prototype,\"distance\",void 0),t([e()],i.prototype,\"elevation\",void 0),t([e()],i.prototype,\"area\",void 0),t([e()],i.prototype,\"totalLength\",void 0),i=t([r(\"esri.views.interactive.tooltip.infos.TranslateVertexTooltipInfo\")],i);export{i as TranslateVertexTooltipInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../core/handleUtils.js\";import{zeroMeters as e}from\"../../../core/quantityUtils.js\";import{watch as o,syncAndInitial as n,sync as i}from\"../../../core/reactiveUtils.js\";import{createScreenPoint as r}from\"../../../core/screenUtils.js\";import a from\"../../../geometry/Point.js\";import{isCurvedGeometry as s}from\"../../../geometry/support/curves/curveUtils.js\";import{connectPasteEvent as c,getXYZDeltasFromTooltipInfo as l}from\"../../interactive/tooltip/tooltipCommonUtils.js\";import{MovePointTooltipInfo as p}from\"../../interactive/tooltip/infos/MovePointTooltipInfo.js\";import{SelectedVertexTooltipInfo as m}from\"../../interactive/tooltip/infos/SelectedVertexTooltipInfo.js\";import{TranslateTooltipInfo as u}from\"../../interactive/tooltip/infos/TranslateTooltipInfo.js\";import{TranslateVertexTooltipInfo as f}from\"../../interactive/tooltip/infos/TranslateVertexTooltipInfo.js\";import{elevationFromPoint as y}from\"../../support/euclideanLengthMeasurementUtils.js\";function v(t){const e={sketchOptions:t,viewType:\"2d\"};return{movePoint:new p(e),selectedVertex:new m(e),translateGraphic:new u(e),translateVertices:new f(e)}}function g(e,r){function a(){const t=r(),e=t.sketchOptions.tooltips.effectiveEnabled?t.activeTooltipInfo:null;return{...t,activeTooltipInfo:e}}let s=!1;function l(t){s||(s=!0,t(),s=!1)}return t([o(()=>{const t=a();return{context:t,geometry:t.graphic?.geometry,vertexGeometry:t.selectedVertex?.geometry}},({context:t})=>{l(()=>{h(t),e.info=t.activeTooltipInfo})},n),o(()=>{const t=a(),{activeTooltipInfo:e}=t;if(e&&\"key\"in e)return{context:t,key:e.key}},(t,e)=>{t&&e&&t.key!==e.key&&l(()=>j(t.context))},i),c(e,{onBeforePaste:()=>{s=!0},onAfterPaste:()=>{j(a()),s=!1}})])}function h(t){const e=t.activeTooltipInfo;if(e){switch(e?.type){case\"move-point\":return d(e,t);case\"selected-vertex\":return x(e,t)}e.sketchOptions=t.sketchOptions}}function d(t,{graphic:e}){T(t,e,e?.geometry)}function x(t,{graphic:e,selectedVertex:o,automaticAreaMeasurementUtils:n,automaticLengthMeasurementUtils:i}){T(t,e,o?.geometry);const r=e?.geometry;if(!r||!s(r))switch(r?.type){case\"polygon\":t.geometryType=\"polygon\",t.totalLength.visible=!1,t.area.actual=n.autoArea2D(r);break;case\"polyline\":t.geometryType=\"polyline\",t.totalLength.actual=i.autoLength2D(r),t.area.visible=!1;break;case\"multipoint\":t.geometryType=\"multipoint\",t.area.visible=!1,t.totalLength.visible=!1}}function T(t,e,o){e&&\"point\"===o?.type&&(t.setLocationFromPoint(o),t.elevation.actual=y(o),t.elevation.visible=!!e.geometry?.hasZ,t.elevation.readOnly=!1,t.elevation.showAsZ=!0)}function j(t){function e(e,o){const n=o?.geometry;if(!n||\"point\"!==n.type)return;const{dx:i,dy:r,dz:s}=l(e,n);if(0===i&&0===r&&0===s)return;const{x:c,y:p,z:m,m:u,spatialReference:f}=n,y=new a({x:c+i,y:p+r,z:null!=m?m+s:void 0,m:u,spatialReference:f});t.updateGeometry(o,y,n,i,r)}const{activeTooltipInfo:o,graphic:n,selectedVertex:i}=t;switch(o?.type){case\"move-point\":return e(o,n);case\"selected-vertex\":return e(o,i)}}function U(t,e,o,n){t.clear(),w(t,e,n,o)}function k(t,e,o,n,i){if(t.clear(),o&&s(o))return;const{automaticAreaMeasurementUtils:r,automaticLengthMeasurementUtils:a}=n;\"polygon\"===o?.type?t.area=r.autoArea2D(o):\"polyline\"===o?.type&&(t.totalLength=a.autoLength2D(o)),w(t,e,i,n)}function w(t,o,n,{automaticLengthMeasurementUtils:i}){if(!n)return;const{x:a,y:s}=n.origin,c=o.toMap(n),l=o.toMap(r(a,s)),p=i.autoDistanceBetweenPoints2D(l,c);t.distance=null!=p?p:e}export{g as connectTooltip,v as createTooltipInfos,U as updateTranslateTooltipInfo,k as updateTranslateVertexTooltipInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{equals as t}from\"../../../core/arrayUtils.js\";import o from\"../../../geometry/Point.js\";import r from\"../../../geometry/Polyline.js\";import{getMidpoint as n}from\"../../../geometry/support/coordsUtils.js\";import{isMultipoint as i,isPolygon as s,isPolyline as l}from\"../../../geometry/support/typeUtils.js\";import{interpolateBezierCurve as c,splitBezierCurve as a}from\"../../../geometry/support/curves/bezierCurveUtils.js\";import{interpolateCircle as p}from\"../../../geometry/support/curves/circleUtils.js\";import{deriveCircleFromCircularArc as u,splitCircularArc as m}from\"../../../geometry/support/curves/circularArcUtils.js\";import{getEndpoint as d,isCoordinate as f,isBezierCurve as h,isEllipticArc4 as y,isCircularArc as v,isEllipticArc as g,isEllipticArc7 as x}from\"../../../geometry/support/curves/curveUtils.js\";import{deriveCircleFromEllipticArc4 as b,splitEllipticArc4 as w}from\"../../../geometry/support/curves/ellipticArc4Utils.js\";import{deriveEllipse as z,interpolateEllipse as I,splitEllipticArc7 as j}from\"../../../geometry/support/curves/ellipticArc7Utils.js\";import P from\"../../../symbols/SimpleLineSymbol.js\";import S from\"../../../symbols/SimpleMarkerSymbol.js\";import{settings as C}from\"./settings.js\";const R={pathIndex:\"pathIndex\",pointIndex:\"pointIndex\",pointIndexStart:\"pointIndexStart\",pointIndexEnd:\"pointIndexEnd\",controlPointKind:\"kind\",relatedGraphicIndices:\"relatedGraphicIndices\",curveFromStraightEdgeFlag:\"curveFromStraightEdgeFlag\",tool:\"esriSketchTool\"},U={bezier:{cp1:\"bezier-cp-1\",cp2:\"bezier-cp-2\",line1:\"bezier-line-1\",line2:\"bezier-line-2\"},circle:{interior:\"circle-interior\"}},k=\"box\",E=C.reshapeGraphics,T={vertices:{default:new S({style:\"circle\",size:E.vertex.size,color:E.vertex.color,outline:{color:E.vertex.outlineColor,width:1}}),hover:new S({style:\"circle\",size:E.vertex.hoverSize,color:E.vertex.hoverColor,outline:{color:E.vertex.hoverOutlineColor,width:1}}),selected:new S({style:\"circle\",size:E.selected.size,color:E.selected.color,outline:{color:E.selected.outlineColor,width:1}})},controlPoints:{default:new S({style:\"diamond\",size:E.vertex.size,color:E.vertex.color,outline:{color:E.vertex.outlineColor,width:1}}),hover:new S({style:\"diamond\",size:E.vertex.hoverSize,color:E.vertex.hoverColor,outline:{color:E.vertex.hoverOutlineColor,width:1}}),selected:new S({style:\"diamond\",size:E.selected.size,color:E.selected.color,outline:{color:E.selected.outlineColor,width:1}})},midpoints:{default:new S({style:\"circle\",size:E.midpoint.size,color:E.midpoint.color,outline:{color:E.midpoint.outlineColor,width:1}}),hover:new S({style:\"circle\",size:E.midpoint.size,color:E.midpoint.color,outline:{color:E.midpoint.outlineColor,width:1}})},constructionLines:new P({style:\"solid\",width:1,color:E.vertex.color})};function K(t,o,r){const n=[];return t?.forEach((t,i)=>{t.forEach((t,s)=>{n.push(new e({geometry:r.arrayToPoint(d(t)),symbol:o?.vertices?.default,attributes:{[R.tool]:k,[R.pathIndex]:i,[R.pointIndex]:s}}))})}),n}function F(t,o,r){const n=[];for(let i=0;i<t.length;i++){const s=t[i];if(!Z(t,i))for(let t=1;t<s.length;t++){const l=s[t];if(f(l))continue;const c=d(s[t-1]),a={[R.tool]:k,[R.pathIndex]:i,[R.pointIndex]:t};if(h(l)){const t=l.b.slice(1);n.push(...t.map((t,n)=>new e({geometry:r.arrayToPoint(t),symbol:o?.controlPoints?.default,attributes:{...a,[R.controlPointKind]:0===n?U.bezier.cp1:U.bezier.cp2}})))}const m=v(l),g=y(l);if(m||g){const t=m?u(c,l):b(c,l),i=p(t,.25);n.push(new e({geometry:r.arrayToPoint(i),symbol:o?.controlPoints?.default,attributes:{...a,[R.controlPointKind]:U.circle.interior}}))}}}return n}function G(t,o,n){const i=[],{spatialReference:s}=n;for(let l=0;l<t.length;l++){const n=t[l];for(let t=1;t<n.length;t++){const c=n[t];if(!h(c))continue;const[a,p,u]=c.b,m=d(n[t-1]),f={[R.tool]:k,[R.pathIndex]:l,[R.pointIndex]:t};i.push(new e({geometry:new r({paths:[[[m[0],m[1]],p]],spatialReference:s}),symbol:o?.constructionLines,attributes:{...f,[R.controlPointKind]:U.bezier.line1}}),new e({geometry:new r({paths:[[[a[0],a[1]],u]],spatialReference:s}),symbol:o?.constructionLines,attributes:{...f,[R.controlPointKind]:U.bezier.line2}}))}}return i}function L(t,o,r,n){const i=[];for(let s=0;s<t.length;s++){const l=t[s],c=O(t,s);for(let t=0;t<l.length;t++){const a=(t+1)%l.length;if((!n||c)&&0===a)continue;const p=M(l[t],l[a],r);i.push(new e({geometry:p,symbol:o.midpoints.default,attributes:{[R.tool]:k,[R.pathIndex]:s,[R.pointIndexStart]:t,[R.pointIndexEnd]:a}}))}}return i}function M(e,t,r){const i=d(e),s=d(t),{spatialReference:l}=r,a=r.arrayToVector(i),m=r.arrayToVector(s),g=r.toXYZ(a),x=r.toXYZ(m),[w,j,P]=n(g,x),S=r.hasM()?0:void 0;if(f(t))return new o({x:w,y:j,z:P,m:S,spatialReference:l});if(h(t)){const[e,r]=c(i,t,.5);return new o({x:e,y:r,z:P,m:S,spatialReference:l})}if(v(t)){const e=u(i,t),[r,n]=p(e,.5);return new o({x:r,y:n,z:P,m:S,spatialReference:l})}if(y(t)){const e=b(i,t),[r,n]=p(e,.5);return new o({x:r,y:n,z:P,m:S,spatialReference:l})}const C=z(i,t),[R,U]=I(C,.5);return new o({x:R,y:U,z:P,m:S,spatialReference:l})}function Z(e,o){const r=e.at(o);return 2===r?.length&&t(d(r[1]),d(r[0]))&&y(r[1])}function A(e,o){const r=e.at(o);return 2===r?.length&&t(d(r[1]),d(r[0]))&&x(r[1])}function O(e,o){const r=e.at(o);return 2===r?.length&&t(d(r[1]),d(r[0]))&&g(r[1])}function V(e,t){if(i(e))return void(e.points=t.flat());const o=t.some(e=>e.some(e=>!f(e)));s(e)?o?(e.curveRings=t,e.rings=[]):(e.rings=t,e.curveRings=void 0):l(e)&&(o?(e.curvePaths=t,e.paths=[]):(e.curvePaths=void 0,e.paths=t))}function X(e,t,o,r){const n=d(t);let i=[];switch(!0){case h(t):i=a(e,t,o);break;case v(t):{const r=u(e,t);i=m(r,t,o);break}case y(t):{const r=b(e,t);i=w(r,t,o);break}default:{const r=z(e,t);i=j(r,t,o);break}}if(i.length<2)return i;if(r.hasZ()){const t=e.at(2)??0,r=n.at(2)??0,s=t+(r-t)*o;d(i[0])[2]=s,d(i[1])[2]=r}if(r.hasM()){const e=r.hasZ()?3:2;d(i[0])[e]=0,d(i[1])[e]=n.at(-1)??0}return i}export{R as attributeKeys,U as controlPointKinds,G as createCurveConstructionLineGraphics,F as createCurveControlPointGraphics,L as createMidpointGraphics,K as createVertexGraphics,T as defaultSymbols,M as getMidpoint,Z as isSingleSegmentCircle,A as isSingleSegmentEllipse,O as isSingleSegmentPolygon,V as saveUpdatedCurveOrCoordinate,X as splitCurve,k as toolIdAttribute};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../Graphic.js\";import{createTask as i}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import{EventedAccessor as r}from\"../../../core/Evented.js\";import n from\"../../../core/Logger.js\";import{getOrCreateMapValue as a}from\"../../../core/MapUtils.js\";import{destroyMaybe as h,assertIsSome as p,abortMaybe as c}from\"../../../core/maybe.js\";import{pausable as l,when as d,watch as m,initial as v,sync as u}from\"../../../core/reactiveUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import g from\"../../../geometry/Point.js\";import f from\"../../../geometry/Polyline.js\";import{fromGeometry as G,toGeometry as x}from\"../../../geometry/operators/support/apiConverter.js\";import{closeRingsAndFixWinding as M,geometryToCoordinates as b}from\"../../../geometry/support/coordsUtils.js\";import{isPoint as C}from\"../../../geometry/support/typeUtils.js\";import{interpolateCircle as S}from\"../../../geometry/support/curves/circleUtils.js\";import{deriveCircleFromCircularArc as E,toEllipticArc7 as w}from\"../../../geometry/support/curves/circularArcUtils.js\";import{getEndpoint as O,isCircularArc as V,isEllipticArc4 as I,isBezierCurve as P,isCoordinate as k,isEllipticArc7 as H}from\"../../../geometry/support/curves/curveUtils.js\";import{deriveCircleFromEllipticArc4 as R}from\"../../../geometry/support/curves/ellipticArc4Utils.js\";import{wrapAtan2 as T}from\"../../../geometry/support/curves/mathUtils.js\";import A from\"../../../layers/GraphicsLayer.js\";import{SnappingVisualizer2D as j}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{ConnectedReshapeManager as L}from\"./ConnectedReshapeManager.js\";import{screenDeltaToMapDelta as U,cloneMove as F}from\"./drawUtils.js\";import D from\"./GraphicMover.js\";import z from\"./HighlightHelper.js\";import{addUniqueLayer as K,isConnectedReshapeSupportedLayer as N}from\"./layerUtils.js\";import{createTooltipInfos as q,connectTooltip as Z,updateTranslateTooltipInfo as $,updateTranslateVertexTooltipInfo as B}from\"./reshapeTooltipUtils.js\";import{defaultSymbols as J,createMidpointGraphics as Q,createVertexGraphics as W,createCurveControlPointGraphics as X,createCurveConstructionLineGraphics as Y,attributeKeys as tt,getMidpoint as et,controlPointKinds as it,saveUpdatedCurveOrCoordinate as st,toolIdAttribute as ot,splitCurve as rt,isSingleSegmentCircle as nt,isSingleSegmentEllipse as at}from\"./reshapeUtils.js\";import{ViewEventPriorities as ht}from\"../../input/InputManager.js\";import{createCoordinateHelper as pt}from\"../../interactive/coordinateHelper.js\";import{sketchKeys as ct}from\"../../interactive/keybindings.js\";import{EditGeometryOperations as lt}from\"../../interactive/editGeometry/EditGeometryOperations.js\";import dt from\"../../interactive/sketch/SketchOptions.js\";import{SnappingContext as mt}from\"../../interactive/snapping/SnappingContext.js\";import{makeTooltip as vt,enterInputModeIfAvailable as ut}from\"../../interactive/tooltip/tooltipCommonUtils.js\";const yt=Symbol();let _t=class extends r{constructor(t){super(t),this._updateHandlesOnExternalGeometryChange=null,this._activeOperationInfo=null,this._connectedReshapeManager=null,this._editGeometryOperations=null,this._mover=null,this._snappingContext=null,this._snappingGraphicsLayer=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this.tooltip=null,this.activeTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.connectedReshapeProviders=null,this.enableMidpoints=!0,this.enableCurveOnMidpoint=!1,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.highlightName=null,this.highlightsEnabled=!0,this.layer=null,this.snappingManager=null,this.symbols=J,this.sketchOptions=new dt,this.type=\"reshape\",this.vertexGraphics=new s,this.curveControlPointGraphics=new s,this.constructionLineGraphics=new s,this.midpointGraphics=new s,this.selectedManipulators=new s,this.view=null}initialize(){const t=this.view;this._highlightHelper=new z({view:t}),this._setup(),this._updateHandlesOnExternalGeometryChange=l(()=>this.graphic?.geometry,t=>{if(!t)return;const e=new Set(this.selectedManipulators.map(wt));this._highlightHelper.removeAll(),this._setUpHighlights(),this._setupGraphics(),this._clearSelection(),this.vertexGraphics.filter(t=>e.has(wt(t))).forEach(t=>this._addToSelection(t));const{enableMovement:i,_mover:s,graphic:o,midpointGraphics:r,vertexGraphics:n,curveControlPointGraphics:a}=this,h=n.concat(r,a).items;i&&h.push(o),s?.set(\"graphics\",h)},u),this.tooltip=vt(()=>({view:t,options:this.sketchOptions.tooltips})),this.tooltipInfos=q(this.sketchOptions),this.addHandles([d(()=>t?.ready,()=>{const{layer:t,view:e}=this;K(e,t),this.addHandles(e.on(\"key-down\",t=>this._keyDownHandler(t),ht.TOOL))},{once:!0,initial:!0}),m(()=>this.graphic,()=>this.refresh()),m(()=>this.layer,(t,e)=>{e&&(this._clearSelection(),this._resetGraphics(e)),this.refresh()}),m(()=>[this.highlightsEnabled,this.highlightName],()=>{this._highlightHelper?.removeAll(),this._setUpHighlights()}),m(()=>this.enableMidpoints,()=>this.refresh()),Z(this.tooltip,()=>this._tooltipsContext),m(()=>this.view.effectiveTheme.accentColor,()=>this._updateSymbolsForTheme(),v),this._updateHandlesOnExternalGeometryChange]),this._updateTooltip()}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._connectedReshapeManager=h(this._connectedReshapeManager),this.tooltip=h(this.tooltip)}get _coordinateHelper(){return this._editGeometryOperations?.data.coordinateHelper??pt(!!this.graphic.geometry?.hasZ,!!this.graphic.geometry?.hasM,this.view.spatialReference)}get _selectedManipulator(){return 1===this.selectedManipulators.length?this.selectedManipulators.at(0):void 0}get _tooltipsContext(){const{automaticAreaMeasurementUtils:t,automaticLengthMeasurementUtils:e,sketchOptions:i,activeTooltipInfo:s,graphic:o}=this;return{sketchOptions:i,activeTooltipInfo:s,graphic:o,selectedVertex:this._selectedManipulator,automaticAreaMeasurementUtils:t,automaticLengthMeasurementUtils:e,updateGeometry:(t,e,i,s,o)=>{this._setUpGeometryHelper();const r=t===this.graphic;r?this._emitMoveStartEvent(0,0):this._emitReshapeStartEvent(t);const n=!0;if(this._syncGeometryAfterVertexMove(t,e,s,o,n),r){const{view:t}=this,s=t.toScreen(i),o=t.toScreen(e),r=(o?.x??0)-(s?.x??0),n=(o?.y??0)-(s?.y??0);this._emitMoveEvent(r,n),this._emitMoveStopEvent(r,n)}else this._emitReshapeEvent(t),this._emitReshapeStopEvent(t);this._editGeometryOperations=h(this._editGeometryOperations)}}}get state(){const t=this.view.ready,e=!(!this.graphic||!this.layer);return t&&e?\"active\":t?\"ready\":\"disabled\"}isUIGraphic(t){return t===this.graphic||this._isMidpoint(t)||this._isCurveControlPoint(t)||this._isVertex(t)||this._isConstructionLine(t)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){const{selectedManipulators:t}=this;t.length&&this._removeVertices(t)}_setup(){const{graphic:t,layer:e}=this;if(!e||null==t?.geometry)return;const i=t.geometry;\"mesh\"!==i.type&&\"extent\"!==i.type?(\"polygon\"===i.type&&M(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover(),this._setupConnectedReshapeManager()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper?.add(this.graphic,this.highlightName)}_setUpGeometryHelper(){const t=this.graphic.geometry;null!=t&&\"mesh\"!==t.type&&\"extent\"!==t.type?this._editGeometryOperations??=lt.fromGeometry(t,2,{allowCurves:!0}):this._logGeometryTypeError()}_saveSnappingContextForHandle(t,e){this._snappingGraphicsLayer=new A({listMode:\"hide\",internal:!0,title:\"Reshape snapping layer\"}),this.view.map.layers.add(this._snappingGraphicsLayer);const i=this._editGeometryOperations;p(i),this._snappingContext=new mt({editGeometryOperations:i,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:e.viewEvent?.pointerType||\"mouse\",excludeFeature:this.graphic,feature:this.graphic,visualizer:new j(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(t)})}_reset(){this._clearSelection(),this._highlightHelper?.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover?.destroy(),this._mover=null,this.removeHandles(yt)}_resetSnappingStateVars(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=h(this._editGeometryOperations),this._snappingTask=c(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(t){this._removeMidpointGraphics(t),this._removeVertexGraphics(t),this._removeCurveGraphics(t),this._updateTooltip()}_removeMidpointGraphics(t=this.layer){const{midpointGraphics:e}=this;t?.removeMany(e.items),e.drain(h)}_removeVertexGraphics(t=this.layer){const{vertexGraphics:e}=this;t?.removeMany(e.items),e.drain(h)}_removeCurveGraphics(t=this.layer){const{curveControlPointGraphics:e,constructionLineGraphics:i}=this;t?.removeMany(e.items),t?.removeMany(i.items),e.drain(h),i.drain(h)}_setupGraphics(){const t=this.graphic.geometry;if(null!=t&&(\"polyline\"===t.type||\"polygon\"===t.type||\"multipoint\"===t.type)){const e=gt(t);this.enableMidpoints&&\"multipoint\"!==t.type&&this._setUpMidpointGraphics(e),this.enableVertices&&(this._setUpVertexGraphics(e),this._setupCurveGraphics(e))}}_setUpMidpointGraphics(t){this._removeMidpointGraphics();const e=Q(t,this.symbols,this._coordinateHelper,\"polygon\"===this.graphic.geometry?.type);this.midpointGraphics.addMany(e),this.layer.addMany(e)}_setUpVertexGraphics(t){this._removeVertexGraphics();const e=W(t,this.symbols,this._coordinateHelper);this.vertexGraphics.addMany(e),this._storeRelatedVertexIndices(),this.layer.addMany(e)}_setupCurveGraphics(t){this._removeCurveGraphics();const e=X(t,this.symbols,this._coordinateHelper),i=Y(t,this.symbols,this._coordinateHelper);this.curveControlPointGraphics.addMany(e),this.constructionLineGraphics.addMany(i),this.layer.addMany(i),this.layer.addMany(e)}_updateSymbolsForTheme(){const t=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set(\"color\",t),hover:this.symbols.vertices.hover?.clone().set(\"color\",t)},controlPoints:{...this.symbols.controlPoints,default:this.symbols.controlPoints.default.clone().set(\"color\",t),hover:this.symbols.controlPoints.hover?.clone().set(\"color\",t)},midpoints:{...this.symbols.midpoints},constructionLines:this.symbols.constructionLines.clone().set(\"color\",t)};for(const e of this.vertexGraphics)this._isSelected(e)?e.symbol=this.symbols.vertices.selected:this._hoverGraphic===e?e.symbol=this.symbols.vertices.hover:e.symbol=this.symbols.vertices.default;for(const e of this.curveControlPointGraphics)this._isSelected(e)?e.symbol=this.symbols.controlPoints.selected:this._hoverGraphic===e?e.symbol=this.symbols.controlPoints.hover:e.symbol=this.symbols.controlPoints.default;for(const e of this.constructionLineGraphics)e.symbol=this.symbols.constructionLines}_storeRelatedVertexIndices(){const t=this.vertexGraphics.items;if(!t)return;const e=t.map(({geometry:t})=>({x:t.x,y:t.y}));for(let i=0;i<e.length;i++){const s=[];for(let t=0;t<e.length;t++){if(i===t)continue;const o=e[i],r=e[t];o.x===r.x&&o.y===r.y&&s.push(t)}t[i].attributes[tt.relatedGraphicIndices]=s}}_setupMover(){const{enableMovement:t,graphic:e,midpointGraphics:i,vertexGraphics:s,view:o}=this,r=s.concat(i,this.curveControlPointGraphics).items;t&&\"multipoint\"!==e.geometry?.type&&r.push(e),this._mover=new D({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:r,view:o,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_setupConnectedReshapeManager(){const{connectedReshapeProviders:t}=this;null!=t&&0!==t.length&&(this._connectedReshapeManager=new L({providerFactories:t,view:this.view}))}_onGraphicClickCallback(t){t.viewEvent.stopPropagation();const e=t.graphic,i=this._isCurveControlPoint(e);if(e===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick?.(t);else if(this._isMidpoint(e)){if(2===t.viewEvent.button)return;const i=this.graphic.clone(),s=this._handleMidpointClickOrStartMove(t);this.refresh(),s.length&&this._emitVertexAddEvent([e],i,s)}else if(this._isVertex(e)||i){if(t.viewEvent.stopPropagation(),2===t.viewEvent.button)return void(i||this._removeVertices(e));t.viewEvent.native.shiftKey||this._clearSelection(),this.selectedManipulators.includes(e)?this._removeFromSelection(e,!0):this._addToSelection(e)}}_setUpOperation(t){const{graphic:e,dx:i,dy:s}=t,o=e===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(e,t),this._activeOperationInfo={target:this.graphic,mover:e,operationType:o?\"move\":\"reshape\",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(t){const{dx:e,dy:i,graphic:s}=t,o=this._connectedReshapeManager,r=o?Vt(this.graphic):null;if(s===this.graphic){const{geometry:n}=s;return this._setUpOperation(t),this._emitMoveStartEvent(e,i),r&&o?.startFeatureMove([r]),void(null!=n&&\"point\"===n.type&&this._onHandleMove(s,e,i,t,()=>{this._updateTooltip(this.graphic,t.viewEvent),this._emitMoveEvent(e,i)}))}const{selectedManipulators:n}=this;if(!n.includes(s)){if(this._clearSelection(),this._isMidpoint(s)){const e=this.graphic.clone(),i=this._handleMidpointClickOrStartMove(t);i.length&&(this._emitVertexAddEvent([s],e,i),this._refreshGraphicIndicesAttributes(i[0]))}this._addToSelection(s)}if(this._setUpOperation(t),r){const t=n.filter(t=>this._isVertex(t));o?.startVertexMove(r,It(t))}this._emitReshapeStartEvent(s),this._onHandleMove(s,e,i,t,()=>{this._updateTooltip(s,t.viewEvent),this._emitReshapeEvent(s)})}_onGraphicMoveCallback(t){const e=this._activeOperationInfo;if(!e)return;const{dx:i,dy:s,graphic:o}=t;e.totalDx+=i,e.totalDy+=s;const{operationType:r}=e,{geometry:n}=o;if(null!=n)if(\"move\"!==r)this._onHandleMove(o,i,s,t,()=>{this._updateTooltip(o,t.viewEvent),this._emitReshapeEvent(o)});else if(\"point\"===n.type)this._onHandleMove(o,i,s,t,()=>{this._updateTooltip(this.graphic,t.viewEvent),this._emitMoveEvent(i,s)});else if(\"polyline\"===n.type||\"polygon\"===n.type){const e=gt(n);this._updateVertexGraphicLocations(e);const{dxMap:o,dyMap:r}=U(i,s,this.view);this._connectedReshapeManager?.translate(o,r,0),this._updateTooltip(this.graphic,t.viewEvent),this._emitMoveEvent(i,s)}}_onGraphicMoveStopCallback(t){const e=this._activeOperationInfo;if(!e)return;const{dx:i,dy:s,graphic:o}=t,{operationType:r}=e;e.totalDx+=i,e.totalDy+=s,this._onHandleMove(o,i,s,t,()=>\"move\"===r?this._emitMoveStopEvent():this._emitReshapeStopEvent(o)),this._isMidpoint(o)||o.getAttribute(tt.curveFromStraightEdgeFlag)?this.refresh():(this._updateTooltip(this._isVertex(o)?o:null),this._resetSnappingStateVars(),this._connectedReshapeManager?.finish(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(t){const{_coordinateHelper:e}=this;for(const i of this.vertexGraphics){const{pathIndex:s,pointIndex:o}=i.attributes;i.geometry=e.arrayToPoint(O(t[s][o]))}this._updateMidpointGraphicLocations(t),this._updateCurveGraphicLocations(t)}_updateMidpointGraphicLocations(t){const{_coordinateHelper:e}=this;for(const i of this.midpointGraphics){const{pathIndex:s,pointIndexStart:o,pointIndexEnd:r}=i.attributes,n=t[s];i.geometry=et(n[o],n[r],e)}}_updateCurveGraphicLocations(t){const{spatialReference:e}=this._coordinateHelper,i=new Map;for(const s of this.selectedManipulators){const[t,e]=Et(s);null!=t&&null!=e&&s.getAttribute(tt.controlPointKind)&&a(i,t,()=>new Set)?.add(e)}for(const s of this.curveControlPointGraphics){const[e,o]=Et(s);if(i.get(e)?.has(o))continue;const r=t[e][o];if(V(r)||I(r)){const i=O(t[e][o-1]),n=V(r)?E(i,r):R(i,r),[a,h]=S(n,.25);s.geometry=new g({x:a,y:h,spatialReference:this._coordinateHelper.spatialReference})}else if(P(r)){const t=s.getAttribute(tt.controlPointKind),[e,i]=t===it.bezier.cp1?r.b[1]:r.b[2];s.geometry=new g({x:e,y:i,spatialReference:this._coordinateHelper.spatialReference})}}for(const s of this.constructionLineGraphics){const i=s.getAttribute(tt.controlPointKind),[o,r]=Et(s),n=t[o],a=O(n[r-1]),h=O(n[r]),p=t[o][r];i===it.bezier.line1?s.geometry=new f({paths:[[[a[0],a[1]],[...p.b[1]]]],spatialReference:e}):s.geometry=new f({paths:[[[h[0],h[1]],[...p.b[2]]]],spatialReference:e})}}_refreshGraphicIndicesAttributes(t){const{componentIndex:e,vertexIndex:i}=t,s=t=>{const[s,o]=Et(t);s===e&&o>=i&&t.setAttribute(tt.pointIndex,o+1)};this.vertexGraphics.forEach(s),this.curveControlPointGraphics.forEach(s),this.constructionLineGraphics.forEach(s);for(const o of this.midpointGraphics){if(o.getAttribute(tt.pathIndex)!==e)continue;const t=o.getAttribute(tt.pointIndexStart);t>=i&&(o.setAttribute(tt.pointIndexStart,t+1),o.setAttribute(tt.pointIndexEnd,o.getAttribute(tt.pointIndexEnd)+1))}}_getVertexFromEditGeometry(t){const[e,i]=Et(t);return p(this._editGeometryOperations),this._editGeometryOperations.data.parts[e].vertices[i]}_onHandleMove(t,e,s,o,r){c(this._snappingTask);const n=this._snappingContext;if(!n)return;const a=t.geometry,h=\"graphic-move-stop\"===o.type;if(a&&C(a))if(null!=this.snappingManager&&this.selectedManipulators.length<2&&!h){const o=this.snappingManager;this._stagedVertex=o.update({point:a,context:n}),this._syncGeometryAfterVertexMove(t,new g(this._stagedVertex),e,s,h),r(),this._snappingTask=i(async i=>{const p=await o.snap({point:a,context:n,signal:i});p.valid&&(this._stagedVertex=p.apply(),this._syncGeometryAfterVertexMove(t,new g(this._stagedVertex),e,s,h),r())})}else{const i=null!=this._stagedVertex?new g(this._stagedVertex):a;this._syncGeometryAfterVertexMove(t,i,e,s,h),r()}else r()}_syncGeometryAfterVertexMove(t,e,i,s,o=!1){const r=this._editGeometryOperations?.data.geometry;if(!r)return;const{_coordinateHelper:n}=this,a=n.pointToVector(e),h=this._getVertexFromEditGeometry(t);if(h){const t=n.getZ(a),e=a[0]-h.pos[0],i=a[1]-h.pos[1],s=null!=t?t-h.pos[2]:0;\"point\"!==r.type&&\"mesh\"!==r.type||this._editGeometryOperations?.moveVertices([h],e,i,s),this._connectedReshapeManager?.translate(e,i,s)}if(\"point\"===r.type)t.geometry=e;else if(\"mesh\"===r.type)t.geometry=r.centerAt(e);else{if(t!==this.graphic){const o=n.spatialReference,[a,h]=Et(t);let p=ft(r);const c=n.pointToArray(e);this._updateGeometryFromGraphic(t,p,a,h,c,o,\"polygon\"===r.type),this._isVertex(t)||this._isCurveControlPoint(t)?(p=this._moveRelatedCoordinates(p,t,c),p=this._moveSelectedHandleCoordinates(p,t,i,s,\"polygon\"===r.type),this._updateMidpointGraphicLocations(p),this._updateCurveGraphicLocations(p)):this._isMidpoint(t)&&this._updateCurveGraphicLocations(p),st(r,p)}this._updateGraphicGeometry(r.clone()),this._editGeometryOperations=lt.fromGeometry(r,2,{allowCurves:!0}),o&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(t),e):t.geometry=e)}}_moveRelatedCoordinates(t,e,i){const{relatedGraphicIndices:s}=e.attributes,o=this._coordinateHelper.spatialReference;if(!s?.length)return t;for(const r of s){const s=this.vertexGraphics.at(r),[n,a]=Et(s);St(t,n,a,i,o),s.geometry=e.geometry}return t}_moveSelectedHandleCoordinates(t,e,i,s,o){const r=this._coordinateHelper.spatialReference;for(const n of this.selectedManipulators)if(n!==e){const[e,a]=Et(n),h=n.getAttribute(tt.relatedGraphicIndices),p=F(n.geometry,i,s,this.view),c=b(p);if(n.geometry=p,this._updateGeometryFromGraphic(n,t,e,a,c,r,o),h?.length)for(const i of h){const e=this.vertexGraphics.at(i),[s,o]=Et(e);St(t,s,o,c,r),e.geometry=p}}return t}_updateGeometryFromGraphic(t,e,i,s,o,r,n){const a=e[i].length-1;this._isCurveControlPoint(t)?xt(e,i,s,[o[0],o[1]],t.getAttribute(tt.controlPointKind)):(St(e,i,s,o,r),n&&(0===s?St(e,i,a,o,r):s===a&&(e[i][0]=o)))}_onGraphicPointerOverCallback(t){const e=t.graphic;this._hoverGraphic=e;const i=this._isVertex(e);i&&!this._isSelected(e)?e.symbol=this.symbols.vertices.hover:this._isCurveControlPoint(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.controlPoints.hover),this._updateTooltip(i?e:null),this._updateHoverCursor(e)}_onGraphicPointerOutCallback(t){const e=t.graphic;this._hoverGraphic=null,this._isVertex(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.vertices.default),this._isCurveControlPoint(e)&&!this._isSelected(e)&&(e.symbol=this.symbols.controlPoints.default),this.removeHandles(yt),this._updateTooltip()}_handleMidpointClickOrStartMove(t){const{graphic:e}=t,i=this.graphic.geometry;if(null==i||\"polygon\"!==i.type&&\"polyline\"!==i.type)return[];const s=i.clone(),o=[],{[tt.pathIndex]:r,[tt.pointIndexStart]:n,[tt.pointIndexEnd]:a}=e.attributes,h=b(e.geometry),p=0===a?n+1:a;e.attributes={[tt.tool]:ot,[tt.pathIndex]:r,[tt.pointIndex]:p,[tt.relatedGraphicIndices]:[]};const c=ft(s),l=c[r][a];if(k(l)){if(this.enableCurveOnMidpoint&&t.viewEvent.native.shiftKey){const t=O(c[r][p]);c[r].splice(p,1,{c:[t,[h[0],h[1]]]}),e.setAttribute(tt.controlPointKind,it.circle.interior),e.setAttribute(tt.curveFromStraightEdgeFlag,!0),this.midpointGraphics.remove(e),this.curveControlPointGraphics.push(e),st(s,c)}else c[r].splice(p,0,h),o.push({coordinates:c[r][p],componentIndex:r,vertexIndex:p})}else{const t=O(c[r][n]),e=rt(t,l,.5,this._coordinateHelper);c[r].splice(a,1,...e),o.push({coordinates:O(c[r][p]),componentIndex:r,vertexIndex:p})}return this._updateGraphicGeometry(s),o}_addToSelection(t){const e=Ot(t);for(const i of e)this._isCurveControlPoint(i)?i.symbol=this.symbols.controlPoints.selected:i.symbol=this.symbols.vertices.selected,this.selectedManipulators.add(i),this._updateTooltip(i);this._emitSelectEvent(e)}_removeFromSelection(t,e){if(this._isVertex(t)){const{vertices:i}=this.symbols;t.symbol=e?i.hover:i.default}else if(this._isCurveControlPoint(t)){const{controlPoints:i}=this.symbols;t.symbol=e?i.hover:i.default}this.selectedManipulators.remove(t),this._emitDeselectEvent([t]),this._updateTooltip()}_clearSelection(){const t=this.selectedManipulators.toArray(),{controlPoints:e,vertices:i}=this.symbols;if(t.length>0){for(const s of t)this._isVertex(s)?s.symbol=i.default:this._isCurveControlPoint(s)&&(s.symbol=e.default);this.selectedManipulators.removeAll(),this._emitDeselectEvent(t),this._updateTooltip()}}_keyDownHandler(t){null==this._activeOperationInfo&&ut(t,this.tooltip)||ct.delete.includes(t.key)&&!t.repeat&&this.selectedManipulators.length&&this._removeVertices(this.selectedManipulators)}_removeVertices(t){const e=this.graphic.geometry,i=this.vertexGraphics.length;if(null==e||\"polygon\"!==e.type&&\"polyline\"!==e.type&&\"multipoint\"!==e.type)return;if(\"polygon\"===e.type&&i<4||\"multipoint\"===e.type&&i<2||\"polyline\"===e.type&&i<3)return;const s=this.graphic.clone(),o=e.clone();let r=ft(o);const n=[],a=Ot(t);for(const h of a){if(this._isCurveControlPoint(h))continue;const{x:t,y:e}=h.geometry;for(let i=0;i<r.length;i++){const s=r[i];for(let o=0;o<s.length;o++){const[a,h]=O(s[o]);if(t===a&&e===h){n.push({coordinates:O(r[i][o]),componentIndex:i,vertexIndex:o}),r[i].splice(Number(o),1);const t=r[i][o];t&&!k(t)&&(r[i][o]=O(t))}}}}if(\"polygon\"===o.type)r=r.filter(t=>{if(t.length<2)return!1;const[e,i]=O(t[0]),[s,o]=O(t[t.length-1]);return(2!==t.length||e!==s||i!==o)&&(e===s&&i===o||t.push(t[0]),!0)});else if(\"polyline\"===o.type)for(const h of r)1===h.length&&r.splice(r.indexOf(h),1);st(o,r),this._updateGraphicGeometry(o),this.refresh(),this._emitVertexRemoveEvent(a,s,n)}_isVertex(t){return this.vertexGraphics.includes(t)}_isCurveControlPoint(t){return this.curveControlPointGraphics.includes(t)}_isConstructionLine(t){return this.constructionLineGraphics.includes(t)}_isSelected(t){return(this._isVertex(t)||this.curveControlPointGraphics.includes(t))&&this.selectedManipulators.includes(t)}_isMidpoint(t){return this.midpointGraphics.includes(t)}_updateHoverCursor(t){const e=this._isMidpoint(t)?\"copy\":\"move\";this.addHandles(this.view.acquireCursor(e,\"high\"),yt)}_updateTooltip(t,e){let i=null;const{graphic:s,view:o,tooltipInfos:r}=this,n=s?.geometry;\"point\"===n?.type?i=r.movePoint:this._selectedManipulator?i=r.selectedVertex:t===this.graphic?(i=r.translateGraphic,$(i,o,this._tooltipsContext,e)):t&&this.selectedManipulators.length>1&&(i=r.translateVertices,B(i,o,n,this._tooltipsContext,e)),this.activeTooltipInfo=i}_updateGraphicGeometry(t){this._updateHandlesOnExternalGeometryChange?.pause(),this.graphic.geometry=t,this._updateHandlesOnExternalGeometryChange?.resume()}_emitMoveStartEvent(t,e){const i={type:\"move-start\",mover:this.graphic,dx:t,dy:e};this.emit(\"move-start\",i),this.callbacks.onMoveStart?.(i)}_emitMoveEvent(t,e){const i={type:\"move\",mover:this.graphic,dx:t,dy:e};this.emit(\"move\",i),this.callbacks.onMove?.(i)}_emitMoveStopEvent(t,e){if(null==t||null==e){const i=this._activeOperationInfo;if(!i)return;t=i.totalDx,e=i.totalDy}const i={type:\"move-stop\",mover:this.graphic,dx:t,dy:e};this.emit(\"move-stop\",i),this.callbacks.onMoveStop?.(i)}_emitReshapeStartEvent(t){const e={type:\"reshape-start\",graphic:this.graphic,mover:t,selected:this.selectedManipulators.toArray()};this.emit(\"reshape-start\",e),this.callbacks.onReshapeStart?.(e)}_emitReshapeEvent(t){const e={type:\"reshape\",graphic:this.graphic,mover:t,selected:this.selectedManipulators.toArray()};this.emit(\"reshape\",e),this.callbacks.onReshape?.(e)}_emitReshapeStopEvent(t){const e={type:\"reshape-stop\",graphic:this.graphic,mover:t,selected:this.selectedManipulators.toArray()};this.emit(\"reshape-stop\",e),this.callbacks.onReshapeStop?.(e)}_emitSelectEvent(t){const e={type:\"vertex-select\",added:t};this.emit(\"select\",e),this.callbacks.onVertexSelect?.(e)}_emitDeselectEvent(t){const e={type:\"vertex-deselect\",removed:t};this.emit(\"deselect\",e),this.callbacks.onVertexDeselect?.(e)}_emitVertexAddEvent(t,e,i){const s={type:\"vertex-add\",added:t,graphic:this.graphic,oldGraphic:e,vertices:i};this.emit(\"vertex-add\",s),this.callbacks.onVertexAdd?.(s)}_emitVertexRemoveEvent(t,e,i){const s={type:\"vertex-remove\",removed:t,graphic:this.graphic,oldGraphic:e,vertices:i};this.emit(\"vertex-remove\",s),this.callbacks.onVertexRemove?.(s)}_logGeometryTypeError(){n.getLogger(this).error(new o(\"reshape:invalid-geometry\",\"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"))}};function gt(t){const e=ft(t.clone());if(\"polygon\"===t.type)for(const i of e){const t=i[i.length-1];if(!k(t))continue;const e=i[0];e[0]===t[0]&&e[1]===t[1]&&i.length>2&&i.pop()}return e}function ft(t){return\"polygon\"===t.type?t.curveRings?.slice()??t.rings.slice():\"polyline\"===t.type?t.curvePaths?.slice()??t.paths.slice():t.points.map(t=>[t])}function Gt(t,e,i,s){const o=t[e][i];if(V(o))o.c[1]=s;else if(I(o)){const o=O(t[e][i]);t[e][i]={c:[o,s]}}}function xt(t,e,i,s,o){switch(o){case it.circle.interior:Gt(t,e,i,s);break;case it.bezier.cp1:t[e][i].b[1]=s;break;case it.bezier.cp2:t[e][i].b[2]=s}}function Mt(t,e){return t<1e-8*e}function bt(t,{cx:e,cy:i,isInvalid:s,thetaStart:o,thetaEnd:r},n,a){const[h,p]=t,[c,l]=n,d=c-h,m=l-p;e-=h,i-=p;const v=a?o>r:o<r,[u,y]=s?[e,i]:v?[-i,e]:[i,-e],[_,g]=[d,m],[f,G]=[u,y],x=_*G-g*f,M=(d**2+m**2)/2;if(Mt(Math.abs(x),M))return[(h+c)/2,(p+l)/2];const[b,C]=[G/x*M,-f/x*M],S=b**2+C**2,[E,w]=[d/2-b,m/2-C];if(Mt(E**2+w**2,S)){const[t,e]=v?[-C,b]:[C,-b];return[t+b+h,e+C+p]}const O=Math.sqrt((b**2+C**2)/(E**2+w**2))*Math.sign(d*u+m*y);return[E*O+b+h,w*O+C+p]}function Ct(t,e,i){const s=G(new f({curvePaths:[[t,e]],spatialReference:i})),{curvePaths:o}=x(s,i),r=o[0][1];return H(r)?r:w(t,r)}function St(t,e,i,s,o){const r=t[e][i],n=t[e].at(i+1);if(nt(t,e)){const i=t[e][1];return t[e][0]=[...s],void(t[e][1]={a:[[...s],[...i.a[1]],0,0]})}if(at(t,e)){const i=t[e][1],[o,r]=i.a[1],[n,a]=s,h=Math.hypot(n-o,a-r),[p,c]=[n-o,a-r],l=T(c,p);return t[e][0]=[...s],void(t[e][1]={a:[[...s],[...i.a[1]],0,0,l,h,i.a[6]]})}const a=O(r);if(k(r))r.splice(0,r.length,...s);else if(P(r))r.b[0].splice(0,r.b[0].length,...s);else if(V(r)||I(r)){const o=O(t[e][i-1]),n=V(r)?E(o,r):R(o,r);t[e].splice(i,1,{c:[[...s],bt(o,n,s,!0)]})}else if(H(r)){r.a[0].splice(0,r.a[0].length,...s);const n=O(t[e][i-1]);r.a=Ct(n,r,o).a}if(n&&!k(n)&&!P(r))if(V(n)||I(n)){const o=O(n),r=V(n)?E(a,n):R(a,n);t[e].splice(i+1,1,{c:[o,bt(o,r,s,!1)]})}else if(H(n)){const t=O(r);n.a=Ct(t,n,o).a}}function Et({attributes:t}){return[t?.[tt.pathIndex]||0,t?.[tt.pointIndex]||0]}function wt({attributes:t}){return`${t?.[tt.pathIndex]}-${t?.[tt.pointIndex]}`}function Ot(t){return t instanceof e?[t]:[...t]}function Vt(t){const e=t.sourceLayer??t.layer;return N(e)?{graphic:t,layer:e}:null}function It(t){return t.toArray().map(({attributes:t})=>({pathIndex:t[tt.pathIndex],vertexIndex:t[tt.pointIndex]}))}t([y()],_t.prototype,\"_activeOperationInfo\",void 0),t([y()],_t.prototype,\"_connectedReshapeManager\",void 0),t([y()],_t.prototype,\"_coordinateHelper\",null),t([y()],_t.prototype,\"_editGeometryOperations\",void 0),t([y()],_t.prototype,\"tooltip\",void 0),t([y()],_t.prototype,\"tooltipInfos\",void 0),t([y()],_t.prototype,\"activeTooltipInfo\",void 0),t([y({constructOnly:!0})],_t.prototype,\"automaticAreaMeasurementUtils\",void 0),t([y({constructOnly:!0})],_t.prototype,\"automaticLengthMeasurementUtils\",void 0),t([y()],_t.prototype,\"_selectedManipulator\",null),t([y()],_t.prototype,\"_tooltipsContext\",null),t([y()],_t.prototype,\"callbacks\",void 0),t([y()],_t.prototype,\"connectedReshapeProviders\",void 0),t([y()],_t.prototype,\"enableMidpoints\",void 0),t([y()],_t.prototype,\"enableCurveOnMidpoint\",void 0),t([y()],_t.prototype,\"enableMovement\",void 0),t([y()],_t.prototype,\"enableVertices\",void 0),t([y()],_t.prototype,\"graphic\",void 0),t([y()],_t.prototype,\"highlightName\",void 0),t([y()],_t.prototype,\"highlightsEnabled\",void 0),t([y()],_t.prototype,\"layer\",void 0),t([y()],_t.prototype,\"snappingManager\",void 0),t([y({readOnly:!0})],_t.prototype,\"state\",null),t([y()],_t.prototype,\"symbols\",void 0),t([y({type:dt})],_t.prototype,\"sketchOptions\",void 0),t([y({readOnly:!0})],_t.prototype,\"type\",void 0),t([y({readOnly:!0})],_t.prototype,\"vertexGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"curveControlPointGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"constructionLineGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"midpointGraphics\",void 0),t([y({readOnly:!0})],_t.prototype,\"selectedManipulators\",void 0),t([y()],_t.prototype,\"view\",void 0),_t=t([_(\"esri.views.draw.support.Reshape\")],_t);const Pt=_t;export{Pt as default};\n"],
  "mappings": "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",
  "names": ["_", "w", "G", "e", "n", "h", "i", "t", "r", "P", "s", "a", "d", "c", "b", "F", "j", "l", "m", "i", "r", "t", "d", "t", "e", "i", "p", "g", "r", "a", "s", "l", "h", "j", "d", "x", "n", "y", "o", "F", "c", "m", "u", "f", "U", "w", "R", "U", "k", "h", "T", "u", "m", "t", "r", "n", "i", "s", "_", "f", "F", "l", "c", "a", "g", "G", "p", "y", "L", "O", "M", "e", "x", "w", "j", "P", "C", "d", "t", "T", "l", "e", "i", "s", "r", "n", "a", "h", "f", "g", "w", "o", "L", "F", "G", "R", "j", "M", "u", "U", "p", "y", "c", "x", "k", "d", "m", "v", "_", "b", "C", "E", "O"]
}
