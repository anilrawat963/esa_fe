import {
  m as m2
} from "./chunk-MHV23XAQ.js";
import {
  s as s3
} from "./chunk-ONXWBTTM.js";
import {
  u
} from "./chunk-XCKT47LJ.js";
import {
  z
} from "./chunk-H74Q4SYB.js";
import {
  n
} from "./chunk-TFJXG32O.js";
import {
  f
} from "./chunk-5T3MJDSR.js";
import {
  H2 as H,
  I
} from "./chunk-V2H77UEV.js";
import {
  m
} from "./chunk-5EI5H4QX.js";
import {
  a2 as a
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  d
} from "./chunk-GNMPGHLQ.js";
import {
  i3 as i,
  s,
  s2
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/layers/support/fromPortalItem.js
async function o(o2) {
  const a2 = "portalItem" in o2 ? o2 : { portalItem: o2 }, { fromItem: e } = await import("./portalLayers-AZMJIPJF.js");
  try {
    return await e(a2);
  } catch (p) {
    const o3 = a2?.portalItem, e2 = o3?.id || "unset", l = o3?.portal?.url || s.portalUrl;
    throw i.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()", "Failed to create layer from portal item (portal: '" + l + "', id: '" + e2 + "')", p), p;
  }
}

// node_modules/@arcgis/core/layers/Layer.js
var h = 0;
var b = class extends n(s3(u)) {
  constructor() {
    super(...arguments), this.attributionDataUrl = null, this.fullExtent = new z(-180, -90, 180, 90, f.WGS84), this.id = Date.now().toString(16) + "-layer-" + h++, this.legendEnabled = true, this.listMode = "show", this.opacity = 1, this.parent = null, this.persistenceEnabled = false, this.popupEnabled = true, this.attributionVisible = true, this.spatialReference = f.WGS84, this.title = null, this.type = null, this.url = null, this.visibilityTimeExtent = null, this.visible = true;
  }
  static async fromArcGISServerUrl(t) {
    const e = "string" == typeof t ? { url: t } : t;
    return (await import("./arcgisLayers-FRKHQ74Y.js")).fromUrl(e);
  }
  static fromPortalItem(t) {
    return o(t);
  }
  initialize() {
    this.when().catch((t) => {
      d(t) || i.getLogger(this).error("#load()", `Failed to load layer (title: '${this.title ?? "no title"}', id: '${this.id ?? "no id"}')`, { error: t });
    });
  }
  destroy() {
    const { parent: t } = this;
    t && (this.parent = null, t.removeChildLayer?.(this));
  }
  get effectiveVisible() {
    return this.visible && (this.parent?.effectiveVisible ?? true);
  }
  get hasAttributionData() {
    return null != this.attributionDataUrl;
  }
  get loaded() {
    return super.loaded;
  }
  removeFromParent() {
    const { parent: t } = this;
    t && (t.removeChildLayer?.(this), this.parent = null);
  }
  get parsedUrl() {
    return I(this.url);
  }
  createLayerView(t, e) {
    return Promise.reject(new s2("layer:create-layer-view", "Layer does not support creating a layer view"));
  }
  async fetchAttributionData() {
    const t = this.attributionDataUrl;
    if (this.hasAttributionData && t) {
      return (await H(t, { query: { f: "json" }, responseType: "json" })).data;
    }
    throw new s2("layer:no-attribution-data", "Layer does not have attribution data");
  }
};
__decorate([m({ type: String })], b.prototype, "attributionDataUrl", void 0), __decorate([m({ readOnly: true })], b.prototype, "effectiveVisible", null), __decorate([m({ type: z })], b.prototype, "fullExtent", void 0), __decorate([m({ readOnly: true })], b.prototype, "hasAttributionData", null), __decorate([m({ type: String, clonable: false })], b.prototype, "id", void 0), __decorate([m({ type: Boolean, nonNullable: true })], b.prototype, "legendEnabled", void 0), __decorate([m({ type: ["show", "hide", "hide-children"] })], b.prototype, "listMode", void 0), __decorate([m({ type: Number, range: { min: 0, max: 1 }, nonNullable: true })], b.prototype, "opacity", void 0), __decorate([m({ clonable: false })], b.prototype, "parent", void 0), __decorate([m({ readOnly: true })], b.prototype, "parsedUrl", null), __decorate([m({ type: Boolean, readOnly: true })], b.prototype, "persistenceEnabled", void 0), __decorate([m({ type: Boolean })], b.prototype, "popupEnabled", void 0), __decorate([m({ type: Boolean })], b.prototype, "attributionVisible", void 0), __decorate([m({ type: f })], b.prototype, "spatialReference", void 0), __decorate([m({ type: String })], b.prototype, "title", void 0), __decorate([m({ readOnly: true, json: { read: false } })], b.prototype, "type", void 0), __decorate([m()], b.prototype, "url", void 0), __decorate([m({ type: m2 })], b.prototype, "visibilityTimeExtent", void 0), __decorate([m({ type: Boolean, nonNullable: true })], b.prototype, "visible", void 0), b = __decorate([a("esri.layers.Layer")], b);

export {
  b
};
//# sourceMappingURL=chunk-P6IKJIMO.js.map
