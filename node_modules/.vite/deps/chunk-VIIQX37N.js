import {
  S
} from "./chunk-BRGWF4BT.js";
import {
  o as o3
} from "./chunk-KEMYAF6M.js";
import {
  c as c4,
  e as e3,
  l as l2,
  r as r5
} from "./chunk-FDSAQJ3R.js";
import {
  d as d2
} from "./chunk-I4DSU5MJ.js";
import {
  c as c3
} from "./chunk-BZV32YR7.js";
import {
  A as A2,
  e as e2
} from "./chunk-YYXR3KOD.js";
import {
  J,
  T,
  f,
  g as g2,
  h as h2,
  l,
  m,
  o as o2,
  p,
  y as y2
} from "./chunk-NDFIZYZY.js";
import {
  s as s3
} from "./chunk-TLTSPUO7.js";
import {
  a
} from "./chunk-U55FA2EK.js";
import {
  C,
  D,
  U
} from "./chunk-QNVJVDYZ.js";
import {
  A,
  E,
  I,
  R,
  W,
  _,
  c as c2,
  g,
  o,
  r as r4,
  s as s2,
  u as u2,
  v
} from "./chunk-VYMBX5H5.js";
import {
  Z,
  d,
  u
} from "./chunk-HWUOAPTX.js";
import {
  r as r3,
  t as t2
} from "./chunk-K2OZ6WVC.js";
import {
  G,
  H
} from "./chunk-XLOINTMG.js";
import {
  n,
  r as r2,
  t
} from "./chunk-75XOUSSS.js";
import {
  e4 as e
} from "./chunk-5EI5H4QX.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  r
} from "./chunk-A5XN2VFT.js";
import {
  s2 as s
} from "./chunk-QY7XKUIV.js";
import {
  c2 as c,
  h,
  i2 as i,
  y
} from "./chunk-AL6YUTZM.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/AttributeArray.js
function e4(e7) {
  if (e7.length < y) return Array.from(e7);
  if (Array.isArray(e7)) return Float64Array.from(e7);
  if (!("BYTES_PER_ELEMENT" in e7)) return Array.from(e7);
  switch (e7.BYTES_PER_ELEMENT) {
    case 1:
      return Uint8Array.from(e7);
    case 2:
      return i(e7) ? l().from(e7) : c(e7) ? Uint16Array.from(e7) : Int16Array.from(e7);
    case 4:
      return Float32Array.from(e7);
    default:
      return Float64Array.from(e7);
  }
}

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js
var h3 = class _h {
  get center() {
    return r2(this._data[0], this._data[1], this._data[2]);
  }
  get radius() {
    return this._data[3];
  }
  get bbMin() {
    return r2(this._data[4], this._data[5], this._data[6]);
  }
  get bbMax() {
    return r2(this._data[7], this._data[8], this._data[9]);
  }
  constructor(t5, e7, h6) {
    this.primitiveIndices = t5, this._numIndexPerPrimitive = e7, this.position = h6, this._data = [0.1, 0, 0, 0, 0, 0, 0, 0, 0, 0], this._children = void 0, s3(t5.length >= 1), s3(3 === h6.size || 4 === h6.size);
    const { data: d6, size: l6, indices: c8 } = h6;
    s3(c8.length % this._numIndexPerPrimitive === 0), s3(c8.length >= t5.length * this._numIndexPerPrimitive);
    const m7 = t5.length;
    let _2 = l6 * c8[this._numIndexPerPrimitive * t5[0]];
    o4.clear(), o4.push(_2);
    const u5 = r2(d6[_2], d6[_2 + 1], d6[_2 + 2]), f5 = t(u5);
    for (let i7 = 0; i7 < m7; ++i7) {
      const e8 = this._numIndexPerPrimitive * t5[i7];
      for (let t6 = 0; t6 < this._numIndexPerPrimitive; ++t6) {
        _2 = l6 * c8[e8 + t6], o4.push(_2);
        let i8 = d6[_2];
        u5[0] = Math.min(i8, u5[0]), f5[0] = Math.max(i8, f5[0]), i8 = d6[_2 + 1], u5[1] = Math.min(i8, u5[1]), f5[1] = Math.max(i8, f5[1]), i8 = d6[_2 + 2], u5[2] = Math.min(i8, u5[2]), f5[2] = Math.max(i8, f5[2]);
      }
    }
    for (let i7 = 0; i7 < 3; ++i7) this._data[4 + i7] = u5[i7], this._data[7 + i7] = f5[i7];
    const x3 = I(n(), this.bbMin, this.bbMax, 0.5);
    let P = 0.5 * Math.max(Math.max(f5[0] - u5[0], f5[1] - u5[1]), f5[2] - u5[2]), v3 = P * P;
    for (let i7 = 0; i7 < o4.length; ++i7) {
      _2 = o4.at(i7);
      const t6 = d6[_2] - x3[0], e8 = d6[_2 + 1] - x3[1], r7 = d6[_2 + 2] - x3[2], s8 = t6 * t6 + e8 * e8 + r7 * r7;
      if (s8 <= v3) continue;
      const n4 = Math.sqrt(s8), a8 = 0.5 * (n4 - P);
      P += a8, v3 = P * P;
      const h7 = a8 / n4;
      x3[0] += t6 * h7, x3[1] += e8 * h7, x3[2] += r7 * h7;
    }
    this._data[3] = P;
    for (let i7 = 0; i7 < 3; ++i7) this._data[0 + i7] = x3[i7];
    o4.clear();
  }
  getChildren() {
    if (this._children || v(this.bbMin, this.bbMax) <= 1) return this._children;
    const t5 = I(n(), this.bbMin, this.bbMax, 0.5), r7 = this.primitiveIndices.length, s8 = new Uint8Array(r7), a8 = new Array(8);
    for (let i7 = 0; i7 < 8; ++i7) a8[i7] = 0;
    const { data: o5, size: d6, indices: l6 } = this.position;
    for (let i7 = 0; i7 < r7; ++i7) {
      let e7 = 0;
      const r8 = this._numIndexPerPrimitive * this.primitiveIndices[i7];
      let n4 = d6 * l6[r8], h6 = o5[n4], c9 = o5[n4 + 1], m8 = o5[n4 + 2];
      for (let t6 = 1; t6 < this._numIndexPerPrimitive; ++t6) {
        n4 = d6 * l6[r8 + t6];
        const i8 = o5[n4], e8 = o5[n4 + 1], s9 = o5[n4 + 2];
        i8 < h6 && (h6 = i8), e8 < c9 && (c9 = e8), s9 < m8 && (m8 = s9);
      }
      h6 < t5[0] && (e7 |= 1), c9 < t5[1] && (e7 |= 2), m8 < t5[2] && (e7 |= 4), s8[i7] = e7, ++a8[e7];
    }
    let c8 = 0;
    for (let i7 = 0; i7 < 8; ++i7) a8[i7] > 0 && ++c8;
    if (c8 < 2) return;
    const m7 = new Array(8);
    for (let i7 = 0; i7 < 8; ++i7) m7[i7] = a8[i7] > 0 ? new Uint32Array(a8[i7]) : void 0;
    for (let i7 = 0; i7 < 8; ++i7) a8[i7] = 0;
    for (let i7 = 0; i7 < r7; ++i7) {
      const t6 = s8[i7];
      m7[t6][a8[t6]++] = this.primitiveIndices[i7];
    }
    this._children = new Array();
    for (let i7 = 0; i7 < 8; ++i7) void 0 !== m7[i7] && this._children.push(new _h(m7[i7], this._numIndexPerPrimitive, this.position));
    return this._children;
  }
  static prune() {
    o4.prune();
  }
};
var o4 = new r({ deallocator: null });

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryBaseInstance.js
var i2 = class {
  constructor(i7) {
    this.id = e(), this._attributes = /* @__PURE__ */ new Map();
    for (const [t5, r7] of i7) this._attributes.set(t5, { ...r7, indices: e2(r7.indices) });
  }
  get attributes() {
    return this._attributes;
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js
function i3(r7, o5) {
  if (!r7) return false;
  const { size: i7, data: c8, indices: f5 } = r7;
  o(o5, 0, 0, 0), o(m2, 0, 0, 0);
  let g3 = 0, d6 = 0;
  for (let p5 = 0; p5 < f5.length - 2; p5 += 3) {
    const r8 = f5[p5] * i7, h6 = f5[p5 + 1] * i7, j3 = f5[p5 + 2] * i7;
    o(a2, c8[r8], c8[r8 + 1], c8[r8 + 2]), o(l3, c8[h6], c8[h6 + 1], c8[h6 + 2]), o(u3, c8[j3], c8[j3 + 1], c8[j3 + 2]);
    const z3 = S(a2, l3, u3);
    z3 ? (u2(a2, a2, l3), u2(a2, a2, u3), g(a2, a2, 1 / 3 * z3), u2(o5, o5, a2), g3 += z3) : (u2(m2, m2, a2), u2(m2, m2, l3), u2(m2, m2, u3), d6 += 3);
  }
  return (0 !== d6 || 0 !== g3) && (0 !== g3 ? (g(o5, o5, 1 / g3), true) : 0 !== d6 && (g(o5, m2, 1 / d6), true));
}
function c5(e7, r7) {
  if (!e7) return false;
  const { size: o5, data: s8, indices: i7 } = e7;
  o(r7, 0, 0, 0);
  let c8 = -1, f5 = 0;
  for (let t5 = 0; t5 < i7.length; t5++) {
    const e8 = i7[t5] * o5;
    c8 !== e8 && (r7[0] += s8[e8], r7[1] += s8[e8 + 1], r7[2] += s8[e8 + 2], f5++), c8 = e8;
  }
  return f5 > 1 && g(r7, r7, 1 / f5), f5 > 0;
}
function f2(o5, s8, i7) {
  if (!o5) return false;
  o(i7, 0, 0, 0), o(m2, 0, 0, 0);
  let c8 = 0, f5 = 0;
  const { size: u5, data: g3, indices: d6 } = o5, p5 = d6.length - 1, h6 = p5 + (s8 ? 2 : 0);
  for (let t5 = 0; t5 < h6; t5 += 2) {
    const o6 = t5 < p5 ? t5 + 1 : 0, s9 = d6[t5 < p5 ? t5 : p5] * u5, h7 = d6[o6] * u5;
    a2[0] = g3[s9], a2[1] = g3[s9 + 1], a2[2] = g3[s9 + 2], l3[0] = g3[h7], l3[1] = g3[h7 + 1], l3[2] = g3[h7 + 2], g(a2, u2(a2, a2, l3), 0.5);
    const j3 = W(a2, l3);
    j3 > 0 ? (u2(i7, i7, g(a2, a2, j3)), c8 += j3) : 0 === c8 && (u2(m2, m2, a2), f5++);
  }
  return 0 !== c8 ? (g(i7, i7, 1 / c8), true) : 0 !== f5 && (g(i7, m2, 1 / f5), true);
}
var a2 = n();
var l3 = n();
var u3 = n();
var m2 = n();

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js
var t3 = class {
  constructor() {
    this.uid = e();
  }
};
var c6 = class extends t3 {
  constructor(s8) {
    super(), this.highlightName = s8, this.channel = 0;
  }
};
var r6 = class extends t3 {
  constructor() {
    super(...arguments), this.channel = 1;
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js
var m3 = class _m extends i2 {
  constructor(t5, i7, e7 = null, s8 = 0, n4 = null, o5 = -1, h6) {
    super(i7), this.material = t5, this.mapPositions = e7, this.type = s8, this.olidColor = n4, this.edgeIndicesLength = o5, this.baseGeometry = h6, this._highlights = null, this._highlightOptionsCounts = null, this.visible = true, this._boundingInfo = null;
    const r7 = this.positionAttribute;
    null != r7 && this.edgeIndicesLength < 0 && (this.edgeIndicesLength = r7.indices.length);
  }
  instantiate(t5 = {}) {
    const i7 = new _m(t5.material || this.material, [], this.mapPositions, this.type, this.olidColor, this.edgeIndicesLength, this.baseGeometry);
    return this._attributes.forEach((t6, e7) => {
      t6.exclusive = false, i7._attributes.set(e7, t6);
    }), i7._boundingInfo = this._boundingInfo, i7.transformation = t5.transformation || this.transformation, i7;
  }
  getMutableAttribute(t5) {
    let i7 = this._attributes.get(t5);
    return i7 && !i7.exclusive && (i7 = { ...i7, exclusive: true, data: e4(i7.data) }, this._attributes.set(t5, i7)), i7;
  }
  setAttributeData(t5, i7) {
    const e7 = this._attributes.get(t5);
    e7 ? this._attributes.set(t5, { ...e7, exclusive: true, data: i7 }) : a() && console.warn(`Setting undefined attribute ${t5} data`);
  }
  get positionAttribute() {
    return this.attributes.get("position") ?? this.baseGeometry?.attributes.get("position");
  }
  get indexCount() {
    const t5 = this._attributes.values().next().value?.indices;
    return t5?.length ?? 0;
  }
  get faceCount() {
    return this.indexCount / 3;
  }
  get boundingInfo() {
    return this._boundingInfo ??= this._calculateBoundingInfo(), this._boundingInfo;
  }
  computeAttachmentOrigin(t5) {
    return !!(0 === this.type ? this._computeAttachmentOriginTriangles(t5) : 2 === this.type ? this._computeAttachmentOriginLines(t5) : this._computeAttachmentOriginPoints(t5)) && (null != this._transformation && E(t5, t5, this._transformation), true);
  }
  _computeAttachmentOriginTriangles(t5) {
    const i7 = this.positionAttribute;
    return i3(i7, t5);
  }
  _computeAttachmentOriginLines(t5) {
    const i7 = this.positionAttribute;
    return f2(i7, d3(this.material.parameters, i7), t5);
  }
  _computeAttachmentOriginPoints(t5) {
    const i7 = this.positionAttribute;
    return c5(i7, t5);
  }
  invalidateBoundingInfo() {
    this._boundingInfo = null;
  }
  _calculateBoundingInfo() {
    const t5 = this.positionAttribute;
    if (!t5 || 0 === t5.indices.length) return null;
    const i7 = 0 === this.type ? 3 : 1;
    s3(t5.indices.length % i7 === 0, "Indexing error: " + t5.indices.length + " not divisible by " + i7);
    const e7 = A2(t5.indices.length / i7);
    return new h3(e7, i7, t5);
  }
  get transformation() {
    return this._transformation ?? r3;
  }
  set transformation(e7) {
    this._transformation = e7 && e7 !== r3 ? t2(e7) : null;
  }
  get highlights() {
    return this._highlights || p2;
  }
  get hasHighlights() {
    return (this._highlightOptionsCounts?.size ?? 0) > 0;
  }
  foreachHighlightOptions(t5) {
    this._highlightOptionsCounts?.forEach((i7, e7) => t5(e7));
  }
  allocateIdAndHighlight(t5) {
    const i7 = new c6(t5);
    return this.addHighlight(i7);
  }
  addHighlight(t5) {
    this._ensureHighlights().add(t5);
    const { highlightName: i7 } = t5, e7 = (this._highlightOptionsCounts?.get(i7) ?? 0) + 1;
    return this._ensureHighlightOptionsCounts().set(i7, e7), t5;
  }
  _ensureHighlights() {
    let t5 = this._highlights;
    return t5 || (t5 = /* @__PURE__ */ new Set(), this._highlights = t5), t5;
  }
  _ensureHighlightOptionsCounts() {
    let t5 = this._highlightOptionsCounts;
    return t5 || (t5 = /* @__PURE__ */ new Map(), this._highlightOptionsCounts = t5), t5;
  }
  removeHighlight(t5) {
    if (this._highlights?.delete(t5)) {
      const { highlightName: i7 } = t5, e7 = this._highlightOptionsCounts?.get(i7) ?? 0;
      e7 <= 1 ? this._highlightOptionsCounts?.delete(i7) : this._ensureHighlightOptionsCounts().set(i7, e7 - 1);
    }
  }
};
function d3(t5, i7) {
  return !(!("isClosed" in t5) || !t5.isClosed) && i7.indices.length > 2;
}
var p2 = /* @__PURE__ */ new Set();

// node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfigurationKey.js
var s4 = class {
  constructor(t5) {
    this._bits = [...t5];
  }
  equals(s8) {
    return h(this._bits, s8.bits);
  }
  get code() {
    return this._code ??= String.fromCharCode(...this._bits), this._code;
  }
  get bits() {
    return this._bits;
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js
var a3 = class extends c3 {
  constructor() {
    super(), this._parameterBits = this._parameterBits?.map(() => 0) ?? [], this._parameterNames ??= [];
  }
  get key() {
    return this._key ??= new s4(this._parameterBits), this._key;
  }
  decode(e7 = this.key) {
    const t5 = this._parameterBits;
    this._parameterBits = [...e7.bits];
    const r7 = this._parameterNames.map((e8) => `    ${e8}: ${this[e8]}`).join("\n");
    return this._parameterBits = t5, r7;
  }
};
function i4(t5 = {}) {
  return (r7, a8) => {
    r7.hasOwnProperty("_parameterNames") || Object.defineProperty(r7, "_parameterNames", { value: r7._parameterNames?.slice() ?? [], configurable: true, writable: true }), r7.hasOwnProperty("_parameterBits") || Object.defineProperty(r7, "_parameterBits", { value: r7._parameterBits?.slice() ?? [0], configurable: true, writable: true }), r7._parameterNames.push(a8);
    const i7 = t5.count || 2, s8 = Math.ceil(Math.log2(i7)), o5 = r7._parameterBits;
    let n4 = 0;
    for (; o5[n4] + s8 > 16; ) n4++, n4 >= o5.length && o5.push(0);
    const p5 = o5[n4], m7 = (1 << s8) - 1 << p5;
    o5[n4] += s8, t5.count ? Object.defineProperty(r7, a8, { get() {
      return (this._parameterBits[n4] & m7) >> p5;
    }, set(r8) {
      if (this[a8] !== r8) {
        if (this._key = null, this._parameterBits[n4] = this._parameterBits[n4] & ~m7 | +r8 << p5 & m7, "number" != typeof r8) throw new s("internal:invalid-shader-configuration", `Configuration value for ${a8} must be a number, got ${typeof r8}`);
        if (null == t5.count) throw new s("internal:invalid-shader-configuration", `Configuration value for ${a8} must provide a count option`);
      }
    } }) : Object.defineProperty(r7, a8, { get() {
      return !!((this._parameterBits[n4] & m7) >> p5);
    }, set(t6) {
      if (this[a8] !== t6 && (this._key = null, this._parameterBits[n4] = this._parameterBits[n4] & ~m7 | +t6 << p5 & m7, "boolean" != typeof t6)) throw new s("internal:invalid-shader-configuration", `Configuration value for ${a8} must be boolean, got ${typeof t6}`);
    } });
  };
}

// node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoubleConfiguration.js
var s5 = class extends a3 {
  constructor() {
    super(...arguments), this.instancedDoublePrecision = false, this.hasModelTransformation = false;
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js
var e5 = class extends s5 {
  constructor() {
    super(...arguments), this.output = 0, this.oitPass = 0, this.hasSlicePlane = false, this.hasHighlightMixTexture = false, this.bindType = 1, this.instanced = false, this.writeDepth = true;
  }
};
__decorate([i4({ count: 11 })], e5.prototype, "output", void 0), __decorate([i4({ count: 3 })], e5.prototype, "oitPass", void 0), __decorate([i4()], e5.prototype, "hasSlicePlane", void 0), __decorate([i4()], e5.prototype, "hasHighlightMixTexture", void 0);

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var s6 = class {
  constructor(e7, i7) {
    this.id = e(), this.supportsEdges = false, this._renderPriority = 0, this._parameters = new i7(), o3(this._parameters, e7), this.validateParameters(this._parameters);
  }
  get parameters() {
    return this._parameters;
  }
  update(r7) {
    return false;
  }
  setParameters(r7, e7 = true) {
    o3(this._parameters, r7) && (this.validateParameters(this._parameters), e7 && this._parametersChanged());
  }
  validateParameters(r7) {
  }
  shouldRender(r7) {
    return this.visible && this.isVisibleForOutput(r7.output) && (!this.parameters.isDecoration || r7.bind.decorations) && 0 !== (this.parameters.renderOccluded & r7.renderOccludedMask);
  }
  isVisibleForOutput(r7) {
    return true;
  }
  get renderPriority() {
    return this._renderPriority;
  }
  set renderPriority(r7) {
    r7 !== this._renderPriority && (this._renderPriority = r7, this._parametersChanged());
  }
  _parametersChanged() {
    this.repository?.materialChanged(this);
  }
  get renderOccludedFlags() {
    return this.visible ? this.parameters.renderOccluded : 0;
  }
  get hasEmissions() {
    return false;
  }
  getConfiguration(r7, t5, i7 = new e5()) {
    return i7.output = r7, i7.hasHighlightMixTexture = 9 === r7 && null != t5.highlightMixTexture, i7;
  }
};
var a4 = class extends c3 {
  constructor() {
    super(...arguments), this.renderOccluded = 1, this.isDecoration = false;
  }
};

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js
var f3 = e3(1, 0, 1, 771);
function a5(r7, e7 = false) {
  switch (r7) {
    case 0:
      return e7 ? l2 : r5;
    case 1:
      return f3;
    case 2:
    case 3:
      return null;
  }
}
function i5(r7) {
  if (r7.draped) return null;
  switch (r7.oitPass) {
    case 0:
    case 2:
      return r7.writeDepth ? c4 : null;
    case 1:
    case 3:
      return null;
  }
}
var l4 = 5e5;
var b = { factor: -1, units: -2 };
function m4({ oitPass: r7, enableOffset: e7 }) {
  return e7 && 1 === r7 ? b : null;
}
function p3(r7, e7 = 513) {
  return 0 === r7 || 2 === r7 ? e7 : 515;
}
function d4(s8, u5) {
  const c8 = d2(u5);
  return 1 === s8 ? c8 ? { buffers: [D, C, U] } : { buffers: [D, C] } : c8 ? { buffers: [D, C] } : null;
}

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js
var a6 = class {
  constructor(n4 = 0, t5 = false, i7 = true) {
    this.tolerance = n4, this.isVerticalRay = t5, this.normalRequired = i7;
  }
};
var l5 = u();
function h4(t5, i7, o5, e7, c8, s8) {
  if (!t5.visible) return;
  const f5 = R(F, e7, o5), r7 = (n4, t6, i8) => s8(n4, i8, t6), { tolerance: l6 } = i7, h6 = new a6(l6, false, i7.options.normalRequired);
  if (t5.boundingInfo) s3(0 === t5.type), b2(t5.boundingInfo, o5, f5, l6, c8, h6, r7);
  else {
    const n4 = t5.positionAttribute, i8 = n4.indices;
    V(o5, f5, 0, i8.length / 3, i8, n4.data, n4.stride, c8, h6, r7);
  }
}
var p4 = n();
function b2(n4, t5, i7, o5, e7, c8, f5) {
  if (null == n4) return;
  const u5 = C2(i7, p4);
  if (Z(l5, n4.bbMin), d(l5, n4.bbMax), null != e7 && e7.applyToAabb(l5), U2(l5, t5, u5, o5)) {
    const { primitiveIndices: s8, position: r7 } = n4, u6 = s8 ? s8.length : r7.indices.length / 3;
    if (u6 > D2) {
      const s9 = n4.getChildren();
      if (void 0 !== s9) {
        for (const n5 of s9) b2(n5, t5, i7, o5, e7, c8, f5);
        return;
      }
    }
    T2(t5, i7, 0, u6, r7.indices, r7.data, r7.stride, s8, e7, c8, f5);
  }
}
var m5 = n();
function M(t5, i7, o5, e7, c8, s8, f5, r7, u5) {
  const { data: a8, stride: l6 } = s8;
  V(t5, R(F, i7, t5), o5, e7, c8, a8, l6, f5, r7, u5);
}
function d5(n4, t5, i7, o5) {
  if (!i7.visible) return;
  const e7 = (n5, t6, i8) => o5(n5, i8, t6), { boundingInfo: c8 } = i7;
  if (c8) {
    const { bbMin: i8, bbMax: o6 } = c8;
    if (n4 < i8[0] || n4 > o6[0] || t5 < i8[1] || t5 > o6[1]) return;
  }
  const s8 = i7.positionAttribute, f5 = s8.indices;
  x(n4, t5, 0, f5.length / 3, f5, s8, e7);
}
function x(n4, t5, i7, o5, e7, c8, s8) {
  const { data: f5, stride: r7 } = c8;
  for (let u5 = i7; u5 < o5; ++u5) {
    const i8 = 3 * u5, o6 = r7 * e7[i8], c9 = r7 * e7[i8 + 1], a8 = r7 * e7[i8 + 2], l6 = f5[o6 + 0] - n4, h6 = f5[o6 + 1] - t5, p5 = f5[c9 + 0] - n4, b4 = f5[c9 + 1] - t5, m7 = f5[a8 + 0] - n4, M3 = f5[a8 + 1] - t5, d6 = m7 * b4 - M3 * p5, x3 = l6 * M3 - h6 * m7, g3 = p5 * h6 - b4 * l6;
    (d6 < 0 || x3 < 0 || g3 < 0) && (d6 > 0 || x3 > 0 || g3 > 0) || s8(0, u5, null);
  }
}
function y3(n4, t5, i7, o5, e7, c8, s8, f5) {
  const r7 = n4[0], u5 = n4[1], a8 = n4[2], l6 = t5[0], h6 = t5[1], p5 = t5[2];
  for (let b4 = i7; b4 < o5; ++b4) {
    const n5 = 3 * b4, t6 = n5 + 1, i8 = n5 + 2, o6 = c8 * n5, M3 = e7[o6], d6 = e7[o6 + 1], x3 = e7[o6 + 2], g3 = c8 * t6, y4 = c8 * i8, q2 = e7[g3] - M3, T3 = e7[g3 + 1] - d6, V2 = e7[g3 + 2] - x3, v3 = e7[y4] - M3, j3 = e7[y4 + 1] - d6, R3 = e7[y4 + 2] - x3, A5 = h6 * R3 - j3 * p5, B3 = p5 * v3 - R3 * l6, k3 = l6 * j3 - v3 * h6, w = q2 * A5 + T3 * B3 + V2 * k3;
    if (Math.abs(w) <= E2) continue;
    const C3 = r7 - M3, U3 = u5 - d6, z3 = a8 - x3, D3 = C3 * A5 + U3 * B3 + z3 * k3;
    if (w > 0) {
      if (D3 < 0 || D3 > w) continue;
    } else if (D3 > 0 || D3 < w) continue;
    const F3 = U3 * V2 - T3 * z3, G3 = z3 * q2 - V2 * C3, H2 = C3 * T3 - q2 * U3, J2 = l6 * F3 + h6 * G3 + p5 * H2;
    if (w > 0) {
      if (J2 < 0 || D3 + J2 > w) continue;
    } else if (J2 > 0 || D3 + J2 < w) continue;
    const K = (v3 * F3 + j3 * G3 + R3 * H2) / w;
    if (K >= 0) {
      f5(K, b4, s8 ? I2(q2, T3, V2, v3, j3, R3, m5) : null);
    }
  }
}
function T2(n4, t5, i7, o5, e7, c8, s8, f5, r7, u5, a8) {
  const l6 = n4[0], h6 = n4[1], p5 = n4[2], b4 = t5[0], M3 = t5[1], d6 = t5[2], { normalRequired: x3 } = u5;
  for (let g3 = i7; g3 < o5; ++g3) {
    const n5 = f5[g3], t6 = 3 * n5, i8 = s8 * e7[t6];
    let o6 = c8[i8], u6 = c8[i8 + 1], y4 = c8[i8 + 2];
    const q2 = s8 * e7[t6 + 1];
    let T3 = c8[q2], V2 = c8[q2 + 1], v3 = c8[q2 + 2];
    const j3 = s8 * e7[t6 + 2];
    let R3 = c8[j3], A5 = c8[j3 + 1], B3 = c8[j3 + 2];
    null != r7 && ([o6, u6, y4] = r7.applyToVertex(o6, u6, y4, g3), [T3, V2, v3] = r7.applyToVertex(T3, V2, v3, g3), [R3, A5, B3] = r7.applyToVertex(R3, A5, B3, g3));
    const k3 = T3 - o6, w = V2 - u6, C3 = v3 - y4, U3 = R3 - o6, z3 = A5 - u6, D3 = B3 - y4, F3 = M3 * D3 - z3 * d6, G3 = d6 * U3 - D3 * b4, H2 = b4 * z3 - U3 * M3, J2 = k3 * F3 + w * G3 + C3 * H2;
    if (Math.abs(J2) <= E2) continue;
    const K = l6 - o6, L = h6 - u6, N2 = p5 - y4, O = K * F3 + L * G3 + N2 * H2;
    if (J2 > 0) {
      if (O < 0 || O > J2) continue;
    } else if (O > 0 || O < J2) continue;
    const P = L * C3 - w * N2, Q = N2 * k3 - C3 * K, S3 = K * w - k3 * L, W2 = b4 * P + M3 * Q + d6 * S3;
    if (J2 > 0) {
      if (W2 < 0 || O + W2 > J2) continue;
    } else if (W2 > 0 || O + W2 < J2) continue;
    const X = (U3 * P + z3 * Q + D3 * S3) / J2;
    if (X >= 0) {
      a8(X, n5, x3 ? I2(k3, w, C3, U3, z3, D3, m5) : null);
    }
  }
}
function V(o5, e7, c8, s8, f5, r7, u5, a8, l6, h6) {
  const p5 = e7, b4 = G2, m7 = Math.abs(p5[0]), M3 = Math.abs(p5[1]), d6 = Math.abs(p5[2]), x3 = m7 >= M3 ? m7 >= d6 ? 0 : 2 : M3 >= d6 ? 1 : 2, g3 = x3, y4 = p5[g3] < 0 ? 2 : 1, q2 = (x3 + y4) % 3, T3 = (x3 + (3 - y4)) % 3, V2 = p5[q2] / p5[g3], I3 = p5[T3] / p5[g3], B3 = 1 / p5[g3], k3 = v2, w = j, C3 = R2, { normalRequired: U3 } = l6;
  for (let v3 = c8; v3 < s8; ++v3) {
    const e8 = 3 * v3, c9 = u5 * f5[e8];
    o(b4[0], r7[c9 + 0], r7[c9 + 1], r7[c9 + 2]);
    const s9 = u5 * f5[e8 + 1];
    o(b4[1], r7[s9 + 0], r7[s9 + 1], r7[s9 + 2]);
    const l7 = u5 * f5[e8 + 2];
    o(b4[2], r7[l7 + 0], r7[l7 + 1], r7[l7 + 2]), a8 && (s2(b4[0], a8.applyToVertex(b4[0][0], b4[0][1], b4[0][2], v3)), s2(b4[1], a8.applyToVertex(b4[1][0], b4[1][1], b4[1][2], v3)), s2(b4[2], a8.applyToVertex(b4[2][0], b4[2][1], b4[2][2], v3))), R(k3, b4[0], o5), R(w, b4[1], o5), R(C3, b4[2], o5);
    const p6 = k3[q2] - V2 * k3[g3], m8 = k3[T3] - I3 * k3[g3], M4 = w[q2] - V2 * w[g3], d7 = w[T3] - I3 * w[g3], x4 = C3[q2] - V2 * C3[g3], y5 = C3[T3] - I3 * C3[g3], j3 = x4 * d7 - y5 * M4, R3 = p6 * y5 - m8 * x4, z3 = M4 * m8 - d7 * p6;
    if ((j3 < 0 || R3 < 0 || z3 < 0) && (j3 > 0 || R3 > 0 || z3 > 0)) continue;
    const D3 = j3 + R3 + z3;
    if (0 === D3) continue;
    const E3 = j3 * (B3 * k3[g3]) + R3 * (B3 * w[g3]) + z3 * (B3 * C3[g3]);
    if (E3 * Math.sign(D3) < 0) continue;
    const F3 = E3 / D3;
    if (F3 >= 0) {
      h6(F3, v3, U3 ? A3(b4) : null);
    }
  }
}
var v2 = n();
var j = n();
var R2 = n();
function I2(n4, i7, c8, s8, f5, r7, u5) {
  return o(B, n4, i7, c8), o(k, s8, f5, r7), _(u5, B, k), A(u5, u5), u5;
}
function A3(t5) {
  return R(B, t5[1], t5[0]), R(k, t5[2], t5[0]), _(m5, B, k), A(m5, m5), m5;
}
var B = n();
var k = n();
function C2(n4, i7) {
  return o(i7, 1 / n4[0], 1 / n4[1], 1 / n4[2]);
}
function U2(n4, t5, i7, o5) {
  return z(n4, t5, i7, o5, 1 / 0);
}
function z(n4, t5, i7, o5, e7) {
  const c8 = (n4[0] - o5 - t5[0]) * i7[0], s8 = (n4[3] + o5 - t5[0]) * i7[0];
  let f5 = Math.min(c8, s8), r7 = Math.max(c8, s8);
  const u5 = (n4[1] - o5 - t5[1]) * i7[1], a8 = (n4[4] + o5 - t5[1]) * i7[1];
  if (r7 = Math.min(r7, Math.max(u5, a8)), r7 < 0) return false;
  if (f5 = Math.max(f5, Math.min(u5, a8)), f5 > r7) return false;
  const l6 = (n4[2] - o5 - t5[2]) * i7[2], h6 = (n4[5] + o5 - t5[2]) * i7[2];
  return r7 = Math.min(r7, Math.max(l6, h6)), !(r7 < 0) && (f5 = Math.max(f5, Math.min(l6, h6)), !(f5 > r7) && f5 < e7);
}
var D2 = 1e3;
var E2 = 1e-7;
var F = n();
var G2 = [n(), n(), n()];

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js
function b3(e7, t5, f5, o5 = 1) {
  const { data: r7, indices: i7 } = e7, s8 = t5.typedBuffer, n4 = t5.typedBufferStride, c8 = i7.length;
  if (f5 *= n4, 1 === o5) for (let l6 = 0; l6 < c8; ++l6) s8[f5] = r7[i7[l6]], f5 += n4;
  else for (let l6 = 0; l6 < c8; ++l6) {
    const e8 = r7[i7[l6]];
    for (let t6 = 0; t6 < o5; t6++) s8[f5] = e8, f5 += n4;
  }
}
function m6(e7, t5, f5) {
  const { data: o5, indices: r7 } = e7, i7 = t5.typedBuffer, s8 = t5.typedBufferStride, n4 = r7.length;
  f5 *= s8;
  for (let c8 = 0; c8 < n4; ++c8) {
    const e8 = 2 * r7[c8];
    i7[f5] = o5[e8], i7[f5 + 1] = o5[e8 + 1], f5 += s8;
  }
}
function B2(e7, t5, f5, o5 = 1) {
  const { data: r7, indices: i7 } = e7, s8 = t5.typedBuffer, n4 = t5.typedBufferStride, c8 = i7.length;
  if (f5 *= n4, 1 === o5) for (let l6 = 0; l6 < c8; ++l6) {
    const e8 = 3 * i7[l6];
    s8[f5] = r7[e8], s8[f5 + 1] = r7[e8 + 1], s8[f5 + 2] = r7[e8 + 2], f5 += n4;
  }
  else for (let l6 = 0; l6 < c8; ++l6) {
    const e8 = 3 * i7[l6];
    for (let t6 = 0; t6 < o5; ++t6) s8[f5] = r7[e8], s8[f5 + 1] = r7[e8 + 1], s8[f5 + 2] = r7[e8 + 2], f5 += n4;
  }
}
function h5(e7, t5, f5, o5 = 1) {
  const { data: r7, indices: i7 } = e7, s8 = t5.typedBuffer, n4 = t5.typedBufferStride, c8 = i7.length;
  if (f5 *= n4, 1 === o5) for (let l6 = 0; l6 < c8; ++l6) {
    const e8 = 4 * i7[l6];
    s8[f5] = r7[e8], s8[f5 + 1] = r7[e8 + 1], s8[f5 + 2] = r7[e8 + 2], s8[f5 + 3] = r7[e8 + 3], f5 += n4;
  }
  else for (let l6 = 0; l6 < c8; ++l6) {
    const e8 = 4 * i7[l6];
    for (let t6 = 0; t6 < o5; ++t6) s8[f5] = r7[e8], s8[f5 + 1] = r7[e8 + 1], s8[f5 + 2] = r7[e8 + 2], s8[f5 + 3] = r7[e8 + 3], f5 += n4;
  }
}
function F2(e7, t5, f5) {
  const o5 = e7.typedBuffer, r7 = e7.typedBufferStride;
  t5 *= r7;
  for (let i7 = 0; i7 < f5; ++i7) o5[t5] = 0, o5[t5 + 1] = 0, o5[t5 + 2] = 0, o5[t5 + 3] = 0, t5 += r7;
}
function z2(e7, t5, f5, o5, i7 = 1) {
  if (!t5) return void B2(e7, f5, o5, i7);
  const { data: s8, indices: n4 } = e7, c8 = f5.typedBuffer, l6 = f5.typedBufferStride, d6 = n4.length, u5 = t5[0], a8 = t5[1], p5 = t5[2], g3 = t5[4], y4 = t5[5], b4 = t5[6], m7 = t5[8], h6 = t5[9], F3 = t5[10], v3 = t5[12], w = t5[13], z3 = t5[14];
  o5 *= l6;
  let S3 = 0, k3 = 0, N2 = 0;
  const $2 = H(t5) ? (e8) => {
    S3 = s8[e8] + v3, k3 = s8[e8 + 1] + w, N2 = s8[e8 + 2] + z3;
  } : (e8) => {
    const t6 = s8[e8], f6 = s8[e8 + 1], o6 = s8[e8 + 2];
    S3 = u5 * t6 + g3 * f6 + m7 * o6 + v3, k3 = a8 * t6 + y4 * f6 + h6 * o6 + w, N2 = p5 * t6 + b4 * f6 + F3 * o6 + z3;
  };
  if (1 === i7) for (let r7 = 0; r7 < d6; ++r7) $2(3 * n4[r7]), c8[o5] = S3, c8[o5 + 1] = k3, c8[o5 + 2] = N2, o5 += l6;
  else for (let r7 = 0; r7 < d6; ++r7) {
    $2(3 * n4[r7]);
    for (let e8 = 0; e8 < i7; ++e8) c8[o5] = S3, c8[o5 + 1] = k3, c8[o5 + 2] = N2, o5 += l6;
  }
}
function S2(e7, t5, f5, o5, s8 = 1) {
  if (!t5) return void B2(e7, f5, o5, s8);
  const { data: n4, indices: c8 } = e7, l6 = t5, d6 = f5.typedBuffer, u5 = f5.typedBufferStride, a8 = c8.length, p5 = l6[0], g3 = l6[1], y4 = l6[2], b4 = l6[4], m7 = l6[5], h6 = l6[6], F3 = l6[8], v3 = l6[9], w = l6[10], z3 = !G(l6), S3 = 1e-6, k3 = 1 - S3;
  o5 *= u5;
  let N2 = 0, $2 = 0, x3 = 0;
  const A5 = H(l6) ? (e8) => {
    N2 = n4[e8], $2 = n4[e8 + 1], x3 = n4[e8 + 2];
  } : (e8) => {
    const t6 = n4[e8], f6 = n4[e8 + 1], o6 = n4[e8 + 2];
    N2 = p5 * t6 + b4 * f6 + F3 * o6, $2 = g3 * t6 + m7 * f6 + v3 * o6, x3 = y4 * t6 + h6 * f6 + w * o6;
  };
  if (1 === s8) if (z3) for (let r7 = 0; r7 < a8; ++r7) {
    A5(3 * c8[r7]);
    const e8 = N2 * N2 + $2 * $2 + x3 * x3;
    if (e8 < k3 && e8 > S3) {
      const t6 = 1 / Math.sqrt(e8);
      d6[o5] = N2 * t6, d6[o5 + 1] = $2 * t6, d6[o5 + 2] = x3 * t6;
    } else d6[o5] = N2, d6[o5 + 1] = $2, d6[o5 + 2] = x3;
    o5 += u5;
  }
  else for (let r7 = 0; r7 < a8; ++r7) A5(3 * c8[r7]), d6[o5] = N2, d6[o5 + 1] = $2, d6[o5 + 2] = x3, o5 += u5;
  else for (let r7 = 0; r7 < a8; ++r7) {
    if (A5(3 * c8[r7]), z3) {
      const e8 = N2 * N2 + $2 * $2 + x3 * x3;
      if (e8 < k3 && e8 > S3) {
        const t6 = 1 / Math.sqrt(e8);
        N2 *= t6, $2 *= t6, x3 *= t6;
      }
    }
    for (let e8 = 0; e8 < s8; ++e8) d6[o5] = N2, d6[o5 + 1] = $2, d6[o5 + 2] = x3, o5 += u5;
  }
}
function k2(e7, t5, f5, o5, r7 = 1) {
  if (!t5) return void h5(e7, f5, o5, r7);
  const { data: s8, indices: n4 } = e7, c8 = t5, l6 = f5.typedBuffer, d6 = f5.typedBufferStride, u5 = n4.length, a8 = c8[0], p5 = c8[1], g3 = c8[2], y4 = c8[4], b4 = c8[5], m7 = c8[6], B3 = c8[8], F3 = c8[9], v3 = c8[10], w = !G(c8), z3 = 1e-6, S3 = 1 - z3;
  if (o5 *= d6, 1 === r7) for (let i7 = 0; i7 < u5; ++i7) {
    const e8 = 4 * n4[i7], t6 = s8[e8], f6 = s8[e8 + 1], r8 = s8[e8 + 2], c9 = s8[e8 + 3];
    let u6 = a8 * t6 + y4 * f6 + B3 * r8, h6 = p5 * t6 + b4 * f6 + F3 * r8, k3 = g3 * t6 + m7 * f6 + v3 * r8;
    if (w) {
      const e9 = u6 * u6 + h6 * h6 + k3 * k3;
      if (e9 < S3 && e9 > z3) {
        const t7 = 1 / Math.sqrt(e9);
        u6 *= t7, h6 *= t7, k3 *= t7;
      }
    }
    l6[o5] = u6, l6[o5 + 1] = h6, l6[o5 + 2] = k3, l6[o5 + 3] = c9, o5 += d6;
  }
  else for (let i7 = 0; i7 < u5; ++i7) {
    const e8 = 4 * n4[i7], t6 = s8[e8], f6 = s8[e8 + 1], c9 = s8[e8 + 2], u6 = s8[e8 + 3];
    let h6 = a8 * t6 + y4 * f6 + B3 * c9, k3 = p5 * t6 + b4 * f6 + F3 * c9, N2 = g3 * t6 + m7 * f6 + v3 * c9;
    if (w) {
      const e9 = h6 * h6 + k3 * k3 + N2 * N2;
      if (e9 < S3 && e9 > z3) {
        const t7 = 1 / Math.sqrt(e9);
        h6 *= t7, k3 *= t7, N2 *= t7;
      }
    }
    for (let i8 = 0; i8 < r7; ++i8) l6[o5] = h6, l6[o5 + 1] = k3, l6[o5 + 2] = N2, l6[o5 + 3] = u6, o5 += d6;
  }
}
function N(e7, t5, f5, o5, r7 = 1) {
  const { data: i7, indices: s8 } = e7, n4 = f5.typedBuffer, c8 = f5.typedBufferStride, l6 = s8.length;
  if (o5 *= c8, t5 === i7.length && 4 === t5) {
    n4[o5] = i7[0], n4[o5 + 1] = i7[1], n4[o5 + 2] = i7[2], n4[o5 + 3] = i7[3];
    const e8 = new Uint32Array(f5.typedBuffer.buffer, f5.start), t6 = c8 / 4, s9 = e8[o5 /= 4];
    o5 += t6;
    const d6 = l6 * r7;
    for (let f6 = 1; f6 < d6; ++f6) e8[o5] = s9, o5 += t6;
    return;
  }
  if (1 !== r7) if (4 !== t5) for (let d6 = 0; d6 < l6; ++d6) {
    const e8 = 3 * s8[d6];
    for (let t6 = 0; t6 < r7; ++t6) n4[o5] = i7[e8], n4[o5 + 1] = i7[e8 + 1], n4[o5 + 2] = i7[e8 + 2], n4[o5 + 3] = 255, o5 += c8;
  }
  else for (let d6 = 0; d6 < l6; ++d6) {
    const e8 = 4 * s8[d6];
    for (let t6 = 0; t6 < r7; ++t6) n4[o5] = i7[e8], n4[o5 + 1] = i7[e8 + 1], n4[o5 + 2] = i7[e8 + 2], n4[o5 + 3] = i7[e8 + 3], o5 += c8;
  }
  else {
    if (4 === t5) {
      for (let e8 = 0; e8 < l6; ++e8) {
        const t6 = 4 * s8[e8];
        n4[o5] = i7[t6], n4[o5 + 1] = i7[t6 + 1], n4[o5 + 2] = i7[t6 + 2], n4[o5 + 3] = i7[t6 + 3], o5 += c8;
      }
      return;
    }
    for (let e8 = 0; e8 < l6; ++e8) {
      const t6 = 3 * s8[e8];
      n4[o5] = i7[t6], n4[o5 + 1] = i7[t6 + 1], n4[o5 + 2] = i7[t6 + 2], n4[o5 + 3] = 255, o5 += c8;
    }
  }
}
function $(e7, t5, f5) {
  const { data: o5, indices: r7 } = e7, i7 = t5.typedBuffer, s8 = t5.typedBufferStride, n4 = r7.length, c8 = o5[0];
  f5 *= s8;
  for (let l6 = 0; l6 < n4; ++l6) i7[f5] = c8, f5 += s8;
}
function x2(o5, r7, i7, s8) {
  c2(A4, o5, r7);
  const n4 = Math.max(Math.sqrt(r4(A4)), 1e-4);
  g(A4, A4, 1 / n4), i7[s8++] = A4[0], i7[s8++] = A4[1], i7[s8++] = A4[2], i7[s8++] = n4;
}
var A4 = n();
function M2(e7, t5, f5, o5, r7 = 1) {
  const i7 = t5.typedBuffer, s8 = t5.typedBufferStride;
  if (o5 *= s8, 1 === r7) for (let n4 = 0; n4 < f5; ++n4) i7[o5] = e7[0], i7[o5 + 1] = e7[1], i7[o5 + 2] = e7[2], i7[o5 + 3] = e7[3], o5 += s8;
  else for (let n4 = 0; n4 < f5; ++n4) for (let t6 = 0; t6 < r7; ++t6) i7[o5] = e7[0], i7[o5 + 1] = e7[1], i7[o5 + 2] = e7[2], i7[o5 + 3] = e7[3], o5 += s8;
}
function j2(e7, t5, f5, o5, r7, i7, n4) {
  let c8 = { numItems: 0, numVerticesPerItem: 0 };
  for (const l6 of f5.fields.keys()) {
    const f6 = e7.get(l6), d6 = f6?.indices;
    if (f6 && d6) "position" === l6 && (c8 = { numItems: 1, numVerticesPerItem: d6.length }), q(l6, f6, o5, r7, i7, n4);
    else if ("olidColor" === l6 && null != t5) {
      const f7 = e7.get("position")?.indices;
      if (f7) {
        const e8 = f7.length;
        M2(t5, i7.getField(l6, g2), e8, n4);
      }
    }
  }
  return c8;
}
function q(e7, t5, f5, o5, r7, i7) {
  switch (e7) {
    case "position": {
      s3(3 === t5.size);
      const o6 = r7.getField(e7, o2);
      s3(!!o6, `No buffer view for ${e7}`), z2(t5, f5, o6, i7);
      break;
    }
    case "normal": {
      s3(3 === t5.size);
      const f6 = r7.getField(e7, o2);
      s3(!!f6, `No buffer view for ${e7}`), S2(t5, o5, f6, i7);
      break;
    }
    case "normalCompressed":
    case "profileRight":
    case "profileUp": {
      s3(2 === t5.size);
      const f6 = r7.getField(e7, J);
      s3(!!f6, `No buffer view for ${e7}`), m6(t5, f6, i7);
      break;
    }
    case "uv0": {
      s3(2 === t5.size);
      const f6 = r7.getField(e7, p) ?? r7.getField(e7, y2);
      s3(!!f6, `No buffer view for ${e7}`), m6(t5, f6, i7);
      break;
    }
    case "uvi": {
      s3(2 === t5.size);
      const f6 = r7.getField(e7, J);
      s3(!!f6, `No buffer view for ${e7}`), m6(t5, f6, i7);
      break;
    }
    case "color":
    case "symbolColor": {
      const f6 = r7.getField(e7, g2);
      s3(!!f6, `No buffer view for ${e7}`), s3(3 === t5.size || 4 === t5.size), N(t5, t5.size, f6, i7);
      break;
    }
    case "colorFeatureAttribute":
    case "opacityFeatureAttribute":
    case "sizeFeatureAttribute": {
      const f6 = r7.getField(e7, f) ?? r7.getField(e7, f);
      s3(!!f6, `No buffer view for ${e7}`), s3(1 === t5.size), $(t5, f6, i7);
      break;
    }
    case "tangent": {
      s3(4 === t5.size);
      const o6 = r7.getField(e7, T);
      s3(!!o6, `No buffer view for ${e7}`), k2(t5, f5, o6, i7);
      break;
    }
    case "profileVertexAndNormal": {
      s3(4 === t5.size);
      const f6 = r7.getField(e7, m) ?? r7.getField(e7, T);
      s3(!!f6, `No buffer view for ${e7}`), h5(t5, f6, i7);
      break;
    }
    case "profileAuxData": {
      s3(3 === t5.size);
      const f6 = r7.getField(e7, h2) ?? r7.getField(e7, o2);
      s3(!!f6, `No buffer view for ${e7}`), B2(t5, f6, i7);
      break;
    }
  }
}

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js
var s7 = class {
  constructor(t5) {
    this.layout = t5;
  }
  elementCount(t5) {
    return t5.get("position").indices.length;
  }
  write(t5, e7, r7, o5, s8, n4) {
    return j2(r7, o5, this.layout, t5, e7, s8, n4);
  }
  intersect(e7, i7, s8, f5, u5, c8, l6) {
    const m7 = this.layout.createView(e7).getField("position", o2);
    if (null == m7) return;
    const p5 = R(n2, c8, u5), a8 = 0, y4 = m7.count / 3, d6 = f5.options.normalRequired, g3 = (t5, e8, r7) => l6(t5, r7, e8);
    y3(u5, p5, a8, y4, m7.typedBuffer, m7.typedBufferStride, d6, g3);
  }
};
var n2 = n();

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js
var a7 = { func: 513 };
var n3 = { func: 519 };
var f4 = { mask: 255 };
var i6 = { mask: 0 };
var c7 = { function: { func: 519, ref: 2, mask: 2 }, operation: { fail: 7680, zFail: 7680, zPass: 0 } };
var t4 = { function: { func: 519, ref: 2, mask: 2 }, operation: { fail: 7680, zFail: 7680, zPass: 7681 } };
var u4 = { function: { func: 514, ref: 2, mask: 2 }, operation: { fail: 7680, zFail: 7680, zPass: 7680 } };
var e6 = { function: { func: 517, ref: 2, mask: 2 }, operation: { fail: 7680, zFail: 7680, zPass: 7680 } };

export {
  e4 as e,
  h3 as h,
  i2 as i,
  c6 as c,
  r6 as r,
  m3 as m,
  a3 as a,
  i4 as i2,
  e5 as e2,
  s6 as s,
  a4 as a2,
  a5 as a3,
  i5 as i3,
  l4 as l,
  b,
  m4 as m2,
  p3 as p,
  d4 as d,
  a6 as a4,
  h4 as h2,
  M,
  d5 as d2,
  U2 as U,
  b3 as b2,
  m6 as m3,
  h5 as h3,
  F2 as F,
  z2 as z,
  S2 as S,
  N,
  x2 as x,
  M2,
  j2 as j,
  q,
  s7 as s2,
  a7 as a5,
  n3 as n,
  f4 as f,
  i6 as i4,
  c7 as c2,
  t4 as t,
  u4 as u,
  e6 as e3
};
//# sourceMappingURL=chunk-VIIQX37N.js.map
