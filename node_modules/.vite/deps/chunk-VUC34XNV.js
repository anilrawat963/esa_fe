import {
  m
} from "./chunk-ET5EDAFM.js";
import {
  E,
  R,
  c,
  d,
  l,
  s,
  u
} from "./chunk-VYMBX5H5.js";
import {
  o
} from "./chunk-DTZUXJMD.js";
import {
  n,
  r
} from "./chunk-75XOUSSS.js";
import {
  z
} from "./chunk-H74Q4SYB.js";
import {
  M
} from "./chunk-SMWUT52Z.js";
import {
  f
} from "./chunk-5T3MJDSR.js";
import {
  p2 as p
} from "./chunk-NMQNUPE4.js";

// node_modules/@arcgis/core/layers/support/tiles3DUtils.js
function u2(e, t) {
  if (!Array.isArray(e) || e.length < t) return false;
  for (const r2 of e) if ("number" != typeof r2) return false;
  return true;
}
var d2 = 7645211;
var p2 = { xmin: -180, ymin: -90, zmin: -450, xmax: 180, ymax: 90, zmax: 8850 };
var S = /* @__PURE__ */ new Map([[5773, new m({ heightModel: "gravity-related-height", heightUnit: "meters", vertCRS: "EGM96_Geoid" })], [3855, new m({ heightModel: "gravity-related-height", heightUnit: "meters", vertCRS: "EGM2008_Geoid" })], [115700, new m({ heightModel: "ellipsoidal", heightUnit: "meters", vertCRS: "WGS_1984" })], [115701, new m({ heightModel: "ellipsoidal", heightUnit: "meters", vertCRS: "ETRS_1989" })], [6360, new m({ heightModel: "gravity-related-height", heightUnit: "us-feet", vertCRS: "NAVD88_height_(ftUS)" })], [7837, new m({ heightModel: "gravity-related-height", heightUnit: "meters", vertCRS: "DHHN2016_(height) " })]]);
function R2(e) {
  return !(!(e.extensions?.ESRI_crs?.wkid || e.extensions?.ESRI_crs?.latestWkid || e.extensions?.ESRI_crs?.wkt) || !e.root?.extensions?.ESRI_crs?.boundingVolume?.box && !e.root?.extensions?.ESRI_crs?.boundingVolume?.sphere);
}
function E2(f2, S2 = false) {
  let _ = new f({ wkid: 4326, vcsWkid: 115700 }), R3 = f2.root?.boundingVolume, E3 = false, b = f2?.root?.transform;
  if (S2 && (f2.extensions?.ESRI_crs?.wkid || f2.extensions?.ESRI_crs?.latestWkid || f2.extensions?.ESRI_crs?.wkt) && (f2.root?.extensions?.ESRI_crs?.boundingVolume?.box || f2.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)) _ = new f(f2.extensions?.ESRI_crs), R3 = f2.root?.extensions?.ESRI_crs?.boundingVolume, b = f2.root?.transform, E3 = true;
  else if (!R3) return new z(-180, -90, 180, 90, _);
  if (R3.box) {
    const e = R3?.box;
    if (e[3] > d2 && e[7] > d2 && e[11] > d2) return new z({ ...p2, spatialReference: _ });
  }
  const w = n();
  if (!E3 && R3.region && u2(R3.region, 6)) {
    const t = R3.region, r2 = M(t[0]), n2 = M(t[1]), o2 = t[4], i = M(t[2]), s2 = M(t[3]), m2 = t[5];
    return new z({ xmin: r2, ymin: n2, zmin: o2, xmax: i, ymax: s2, zmax: m2, spatialReference: _ });
  }
  if (R3.sphere && u2(R3.sphere, 4)) {
    const e = R3.sphere, m2 = r(e[0], e[1], e[2]), f3 = e[3] / Math.sqrt(3), d3 = n();
    c(d3, m2, r(f3, f3, f3));
    const p3 = n();
    if (u(p3, m2, r(f3, f3, f3)), b && u2(b, 16)) {
      const e2 = b;
      E(w, d3, e2), s(d3, w), E(w, p3, e2), s(p3, w);
    }
    E3 || (o(d3, p, 0, d3, f.WGS84, 0), o(p3, p, 0, p3, f.WGS84, 0));
    const S3 = n(), y = n();
    return l(S3, d3, p3), d(y, d3, p3), new z({ xmin: S3[0], ymin: S3[1], zmin: S3[2], xmax: y[0], ymax: y[1], zmax: y[2], spatialReference: _ });
  }
  if (R3.box && u2(R3.box, 12)) {
    const e = R3.box, t = r(e[0], e[1], e[2]), o2 = r(e[3], e[4], e[5]), f3 = r(e[6], e[7], e[8]), d3 = r(e[9], e[10], e[11]), p3 = [];
    for (let r2 = 0; r2 < 8; ++r2) p3.push(n());
    if (u(p3[0], t, o2), u(p3[0], p3[0], f3), u(p3[0], p3[0], d3), R(p3[1], t, o2), u(p3[1], p3[1], f3), u(p3[1], p3[1], d3), u(p3[2], t, o2), R(p3[2], p3[2], f3), u(p3[2], p3[2], d3), R(p3[3], t, o2), R(p3[3], p3[3], f3), u(p3[3], p3[3], d3), u(p3[4], t, o2), u(p3[4], p3[4], f3), R(p3[4], p3[4], d3), R(p3[5], t, o2), u(p3[5], p3[5], f3), R(p3[5], p3[5], d3), u(p3[6], t, o2), R(p3[6], p3[6], f3), R(p3[6], p3[6], d3), R(p3[7], t, o2), R(p3[7], p3[7], f3), R(p3[7], p3[7], d3), b && u2(b, 16)) {
      const e2 = b;
      for (let t2 = 0; t2 < 8; ++t2) E(p3[t2], p3[t2], e2);
    }
    const S3 = r(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE), w2 = r(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);
    for (let r2 = 0; r2 < 8; ++r2) E3 || o(p3[r2], p, 0, p3[r2], f.WGS84, 0), l(w2, w2, p3[r2]), d(S3, S3, p3[r2]);
    return new z({ xmin: w2[0], ymin: w2[1], zmin: w2[2], xmax: S3[0], ymax: S3[1], zmax: S3[2], spatialReference: _ });
  }
  return new z(-180, -90, 180, 90, _);
}

export {
  R2 as R,
  E2 as E
};
//# sourceMappingURL=chunk-VUC34XNV.js.map
