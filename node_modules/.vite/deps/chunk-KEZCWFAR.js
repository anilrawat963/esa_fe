import {
  i
} from "./chunk-F7DKSAOI.js";
import {
  o as o2
} from "./chunk-CSMCPN64.js";
import {
  r
} from "./chunk-7H3U4IJR.js";
import {
  V,
  Y,
  h,
  ot,
  p,
  st,
  tt
} from "./chunk-V2H77UEV.js";
import {
  o
} from "./chunk-XWE6BM2U.js";
import {
  m
} from "./chunk-5EI5H4QX.js";
import {
  a2
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  a
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/symbols/support/urlUtils.js
function l(r2, t, a4) {
  return t.imageData ? st({ mediaType: t.contentType || "image/png", isBase64: true, data: t.imageData }) : o3(t.url, a4);
}
function o3(e, r2) {
  if (!Y(e)) {
    const t = p2(r2);
    if (t) return V(t, "images", e);
  }
  return p(e, r2);
}
function s(e, a4, n, u) {
  if (tt(e)) {
    const r2 = ot(e);
    if (!r2) return;
    a4.contentType = r2.mediaType, a4.imageData = r2.data, n && n.imageData === a4.imageData && n.url && h(n.url, a4, "url", u);
  } else h(e, a4, "url", u);
}
var m2 = { json: { read: { source: ["imageData", "url"], reader: l }, write: { writer(e, r2, t, a4) {
  s(e, r2, this.source, a4);
} } } };
var c = { readOnly: true, json: { read: { source: ["imageData", "url"], reader(e, r2, t) {
  const a4 = {};
  return r2.imageData && (a4.imageData = r2.imageData), r2.contentType && (a4.contentType = r2.contentType), r2.url && (a4.url = o3(r2.url, t)), a4;
} } } };
function p2(e) {
  if (!e) return null;
  const { origin: r2, layer: t } = e;
  if ("service" !== r2 && "portal-item" !== r2) return null;
  const a4 = t?.type;
  return "feature" === a4 || "stream" === a4 ? t.parsedUrl?.path : "map-image" === a4 || "tile" === a4 ? e.url?.path : null;
}

// node_modules/@arcgis/core/symbols/PictureMarkerSymbol.js
var c2;
var a3 = c2 = class extends i {
  constructor(...r2) {
    super(...r2), this.color = null, this.type = "picture-marker", this.url = null, this.source = null, this.height = 12, this.width = 12, this.size = null;
  }
  normalizeCtorArgs(r2, t, o4) {
    if (r2 && "string" != typeof r2 && null == r2.imageData) return r2;
    const s2 = {};
    return r2 && (s2.url = r2), null != t && (s2.width = o2(t)), null != o4 && (s2.height = o2(o4)), s2;
  }
  readHeight(r2, t) {
    return t.size || r2;
  }
  readWidth(r2, t) {
    return t.size || r2;
  }
  clone() {
    const r2 = new c2({ angle: this.angle, height: this.height, url: this.url, width: this.width, xoffset: this.xoffset, yoffset: this.yoffset });
    return r2._set("source", a(this.source)), r2;
  }
  hash() {
    return `${super.hash()}.${this.height}.${this.url}.${this.width}`;
  }
};
__decorate([m({ json: { write: false } })], a3.prototype, "color", void 0), __decorate([r({ esriPMS: "picture-marker" }, { readOnly: true })], a3.prototype, "type", void 0), __decorate([m(m2)], a3.prototype, "url", void 0), __decorate([m(c)], a3.prototype, "source", void 0), __decorate([m({ type: Number, cast: o2, json: { write: true } })], a3.prototype, "height", void 0), __decorate([o("height", ["height", "size"])], a3.prototype, "readHeight", null), __decorate([m({ type: Number, cast: o2, json: { write: true } })], a3.prototype, "width", void 0), __decorate([m({ json: { write: false } })], a3.prototype, "size", void 0), a3 = c2 = __decorate([a2("esri.symbols.PictureMarkerSymbol")], a3);

export {
  m2 as m,
  c,
  a3 as a
};
//# sourceMappingURL=chunk-KEZCWFAR.js.map
