import {
  R,
  y as y2
} from "./chunk-NTNXXNRP.js";
import {
  b
} from "./chunk-6VL5D5UP.js";
import {
  y3 as y
} from "./chunk-PZ5RULLK.js";
import {
  S,
  _
} from "./chunk-AXZMNHTN.js";
import {
  f
} from "./chunk-5T3MJDSR.js";
import {
  ae,
  p
} from "./chunk-NMQNUPE4.js";

// node_modules/@arcgis/core/views/2d/grid/constants.js
var o = 50;
var t = 5;

// node_modules/@arcgis/core/views/2d/grid/gridUtils.js
function a(e, t2) {
  return Math.log(e) / Math.log(t2);
}
function l(e, t2, r) {
  const o2 = 1 === e ? 10 : e;
  return o2 ** (r ? Math.round(a(o / t2, o2)) : 0);
}
function f2(e) {
  const { isGeographic: t2, isWebMercator: r } = e;
  return !t2 && !r;
}
function u(c, a2, l2) {
  const u2 = "number" == typeof c ? null : c, y3 = l2 ?? u2?.spatialReference;
  if (null == y3 || !p(y3) || f2(y3)) return ae(y3);
  let g = u2?.x ?? c, j = u2?.y ?? a2;
  const h = 1 / Math.sqrt(2);
  let M = g + h, x = j + h;
  const { isWebMercator: R2, isGeographic: U } = y3;
  let b2 = U && !y2(y3) ? f.WGS84 : y3;
  if (R2) {
    let e = new _({ x: g, y: j, spatialReference: y3 });
    S(e, true, e), g = e.x, j = e.y, e = new _({ x: M, y: x, spatialReference: y3 }), S(e, true, e), M = e.x, x = e.y, b2 = f.WGS84;
  }
  const w = new y({ paths: [[[g, j], [M, x]]], spatialReference: b2 }), G = b(w, 10);
  let W;
  try {
    [W] = R([G], "meters");
  } catch {
    return ae(y3);
  }
  return W;
}

export {
  t,
  l,
  u
};
//# sourceMappingURL=chunk-UNJMLSLI.js.map
