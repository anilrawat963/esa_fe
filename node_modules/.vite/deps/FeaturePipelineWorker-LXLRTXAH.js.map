{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/layers/features/PipelineConnectionHandlers.js", "../../@arcgis/core/views/2d/engine/webgl/mesh/MultiTileMeshData.js", "../../@arcgis/core/views/2d/engine/webgl/mesh/factories/MeshFactory.js", "../../@arcgis/core/views/2d/engine/webgl/util/Matcher.js", "../../@arcgis/core/views/2d/engine/webgl/util/DictionaryMatcher.js", "../../@arcgis/core/views/2d/engine/webgl/util/IntervalMatcher.js", "../../@arcgis/core/views/2d/engine/webgl/util/LabelMatcher.js", "../../@arcgis/core/views/2d/engine/webgl/util/MapMatcher.js", "../../@arcgis/core/views/2d/engine/webgl/util/createMatcher.js", "../../@arcgis/core/views/2d/engine/webgl/mesh/factories/FeatureMeshFactory.js", "../../@arcgis/core/views/2d/engine/webgl/util/MatcherContext.js", "../../@arcgis/core/views/2d/layers/features/ProcessorTileMessageQueue.js", "../../@arcgis/core/views/2d/layers/features/aggregation/ComputedAggregateField.js", "../../@arcgis/core/views/2d/layers/features/processor/AProcessorStrategy.js", "../../@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/FeatureSourceMessage.js", "../../@arcgis/core/views/2d/layers/features/processor/BinningStrategy.js", "../../@arcgis/core/views/2d/layers/features/processor/support/WithDisplayId.js", "../../@arcgis/core/views/2d/layers/features/processor/ClusterStrategy.js", "../../@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js", "../../@arcgis/core/views/2d/layers/features/processor/TrackStrategy.js", "../../@arcgis/core/views/2d/layers/features/Processor.js", "../../@arcgis/core/views/2d/layers/features/FeatureStoreStatistics.js", "../../@arcgis/core/views/2d/layers/features/sources/StreamMessenger.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/ALoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/support/snapshotUtils.js", "../../@arcgis/core/views/2d/layers/features/sources/FeatureCache.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/constants.js", "../../@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js", "../../@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/support/queryAdapters.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/AFeatureLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/AFeatureTileLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/chunks/DrillDownTileSourceChunk.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/FeatureDrillDownTileLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/chunks/PagedTileSourceChunk.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/FeaturePagedTileLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/FeatureSnapshotLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/ParquetSnapshotLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/chunks/ParquetSourceChunk.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/ParquetTileLoadStrategy.js", "../../@arcgis/core/layers/graphics/data/StreamFeatureManager.js", "../../@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js", "../../@arcgis/core/views/2d/layers/features/sources/StreamFeatureStore.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/chunks/StreamSourceChunk.js", "../../@arcgis/core/views/2d/layers/features/sources/strategies/StreamLoadStrategy.js", "../../@arcgis/core/views/2d/layers/features/sources/FeatureSource.js", "../../@arcgis/core/views/2d/layers/features/sources/FeatureTileSubscription.js", "../../@arcgis/core/views/2d/layers/features/FeaturePipelineWorker.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ignoreConnectionErrors as e}from\"../../../../core/workers/utils.js\";class t{constructor(e){this._client=e,this.layerView=this._client.createInvokeProxy(\"\"),this.container=this._client.createInvokeProxy(\"container\"),this._eventLog=this._client.createInvokeProxy(\"eventLog\")}onEvent(t){e(this._eventLog.onEvent(t))}}export{t as PipelineConnectionHandlers};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../tiling/TileInfoView.js\";import e from\"../../../tiling/TileKey.js\";import\"../../../tiling/TileQueue.js\";import\"../../../tiling/TileStrategy.js\";import{tileSize as t}from\"../definitions.js\";import{MeshData as s}from\"./MeshData.js\";const r=1,i=2,n=4,h=8,o=16,c=32,a=64,l=128;function f(e){switch(e){case r:case h:case c:return-1;case i:case a:return 0;case n:case o:case l:return 1}}function u(e){switch(e){case r:case i:case n:return-1;case h:case o:return 0;case c:case a:case l:return 1}}const _=r|h|c,d=n|o|l,m=r|i|n,p=c|a|l;class g{constructor(e,t,r,i,n=0){this.tileKey=e,this._bufferingEnabled=t,this._sizeHint=n,this._meshes={self:new s(this.id,this._sizeHint),neighbors:new Array},this._currentRecordOverlaps=0,this._currentEntityOverlaps=0;const h=i?1:0;this._copyBufferedDataIntoSelf=r&&this._bufferingEnabled&&e.level===h}get id(){return this.tileKey.id}vertexStart(){return this._meshes.self.vertexStart()??0}vertexCount(){return this._meshes.self.vertexCount()}indexCount(){return this._meshes.self.indexCount()}indexEnsureSize(e){this._meshes.self.indexEnsureSize(e)}entityStart(e,t=e){this._currentEntityOverlaps=0,this._meshes.self.entityStart(e,t)}entityRecordCount(){return this._meshes.self.entityRecordCount()}entityEnd(){if(this._meshes.self.entityEnd(),this._bufferingEnabled){if(this._copyBufferedDataIntoSelf)return;for(let e=0;e<8;e++){const t=1<<e;!!(this._currentEntityOverlaps&t)&&this._meshes.neighbors[e].entityEnd()}}}recordStart(e,t,s){this._currentRecordOverlaps=0,this._meshes.self.recordStart(e,t,s)}recordEnd(e=0){const t=this._meshes.self.recordEnd(this._currentRecordOverlaps);return t&&0!==this._currentRecordOverlaps?(this._copyIntoNeighbors(),this._currentEntityOverlaps|=this._currentRecordOverlaps,!0):t}recordBounds(e,t,s,r){this._bufferingEnabled&&this._addOverlap(e,t,s,r)}recordCount(){return this._meshes.self.recordCount()}metricStart(e){this._meshes.self.metricStart(e)}metricBoxWrite(e){this._meshes.self.metricBoxWrite(e)}metricEnd(){this._meshes.self.metricEnd()}vertexWrite(e){this._meshes.self.vertexWrite(e)}vertexWriteF32(e){this._meshes.self.vertexWriteF32(e)}vertexWriteRegion(e){this._meshes.self.vertexWriteRegion(e)}indexWrite(e){this._meshes.self.indexWrite(e)}serialize(t){const s={message:[],transferList:[]},r=this._meshes.self.serialize();return s.message.push({tileId:this.tileKey.id,...r.message}),s.transferList.push(...r.transferList),this._meshes.neighbors.forEach((r,i)=>{const n=r.serialize(),h=1<<i,o=f(h),c=u(h),a=new e(this.tileKey).getNormalizedNeighbor(o,c,t);s.message.push({tileId:a.id,...n.message}),s.transferList.push(...n.transferList)}),s}_addOverlap(e,s,r,i){const n=Math.min(t/2,r),h=Math.min(t/2,i),o=255^((e<0+n?d:e>=t-n?_:d|_)|(s<0+h?p:s>=t-h?m:p|m));this._currentRecordOverlaps|=o}_copyIntoNeighbors(){for(let e=0;e<8;e++){const r=1<<e;if(!!(this._currentRecordOverlaps&r)){if(this._copyBufferedDataIntoSelf){const e=-f(r)*t,s=-u(r)*t;if(0!==s)continue;this._meshes.self.copyLast(e,s);continue}if(!this._meshes.neighbors[e]){const t=Math.floor(this._sizeHint/16);this._meshes.neighbors[e]=new s(r,t)}const i=this._meshes.neighbors[e],n=-f(r)*t,h=-u(r)*t;i.copyLastFrom(this._meshes.self,n,h)}}}}export{g as MultiTileMeshData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass s{}export{s as AMeshFactory};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._defaultResult=null,this._backgroundFillResult=null}static async from(e,s){const l=new t;return l.setDefault(await e.createMeshWriters(s.meshes)),l}size(){return 1}getDefault(){return this._defaultResult}setDefault(t){this._defaultResult=t}getBackgroundFill(){return this._backgroundFillResult}setBackgroundFill(t){this._backgroundFillResult=t}hasArcadeDependency(t){return this._defaultResult?.some(e=>e.hasArcadeDependency(t))??!1}match(t,e,s){const l=this.doMatch(t,e)||this.getDefault();if(l&&l.length>0){const t=this.getBackgroundFill();if(t)return[...t,...l]}return l}getSortKey(t,e){return 0}doMatch(t,e){return null}async fetchResources(t,e){}}export{t as FeatureMatcher};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{DictionaryScriptEvaluator as t}from\"../../../../../renderers/support/DictionaryScriptEvaluator.js\";import{FeatureMatcher as r}from\"./Matcher.js\";class e extends r{static async fromDictionaryRenderer(r,o){const n=await t.from(o.dictionaryInfo,o.userConfig,o.fieldMap);return new e(r,n)}constructor(t,r){super(),this._context=t,this._evaluator=r,this._controlStringToPromise=new Map,this._controlStringToGroup=new Map}async fetchResources(t,r){const e=r.getCursor(),o=new Set;for(;e.next();){const t=this._evaluateControlString(e);t&&o.add(t)}const n=Array.from(o.values()).map(r=>this._ensureGroup(t,r));await Promise.all(n)}match(t,r){const e=this._evaluateControlString(t);return e?this._controlStringToGroup.get(e):null}_evaluateControlString(t){const r=t.readLegacyFeatureWorldSpace();return this._evaluator.evaluate(r,0,t.fields,null)}_ensureGroup(t,r){let e=this._controlStringToPromise.get(r);return null==e&&(e=this._fetchGroup(t,r),this._controlStringToPromise.set(r,e)),e}async _fetchGroup(t,r){const e=await t.fetchDictionaryResourceImmediate({type:\"dictionary-request\",controlString:r});if(!e)return;const o=await this._context.createMeshWriters(e.meshes);this._controlStringToGroup.set(r,o)}}export{e as DictionaryMatcher};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as e}from\"./Matcher.js\";class t extends e{constructor(e,t){super(),this._intervals=[],this._isMaxInclusive=t,this._field=e}static async fromIntervalSchema(e,s){const r=await e.storage.createComputedField(s),a=new t(r,s.isMaxInclusive);await Promise.all(s.intervals.map(async t=>{const s=await e.createMeshWriters(t.meshes);a.add(t,s)}));const i=await e.createMeshWriters(s.defaultSymbol);a.setDefault(i);const n=await e.createMeshWriters(s.backgroundFill);return a.setBackgroundFill(n),a}add(e,t){this._intervals.push({interval:e,result:t}),this._intervals.sort((e,t)=>e.interval.min-t.interval.min)}size(){return super.size()+this._intervals.length}hasArcadeDependency(e){return this._field?.hasArcadeDependency(e)||this._intervals.some(t=>t.result.some(t=>t.hasArcadeDependency(e)))}doMatch(e,t){const s=this._field?.read(e,t);if(null==s||isNaN(s)||s===1/0||s===-1/0)return null;for(let r=0;r<this._intervals.length;r++){const{interval:e,result:t}=this._intervals[r],a=s>=e.min,i=this._isMaxInclusive?s<=e.max:s<e.max;if(a&&i)return t}return null}}export{t as IntervalMatcher};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as e}from\"./Matcher.js\";class s extends e{static async fromLabelSchema(e,a){const r=a.classes.map(async s=>{const a=await e.createMeshWriters(s.meshes);return{minScale:s.minScale,maxScale:s.maxScale,meshes:a,expression:null,where:await e.storage.createWhereClause(s.where)}}),t=await Promise.all(r);return new s(t)}constructor(e){super(),this._labels=e}match(e,s,a){if(!this._labels.length)return null;const r=this._getLabels(s.$view.scale),t=[];for(const l of r)l.where&&!l.where(e,a)||t.push(...l.meshes);return t}hasArcadeDependency(e){return this._labels.some(s=>s.meshes.some(s=>s.hasArcadeDependency(e)))}_getLabels(e){return this._labels.filter(s=>this._validForTileScale(s,e))}_validForTileScale(e,s){const a=s-s/4,r=s+s/2;return(!e.minScale||e.minScale>=a)&&(!e.maxScale||e.maxScale<=r)}}export{s as LabelMatcher};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FeatureMatcher as e}from\"./Matcher.js\";class t extends e{constructor(e,t){super(),this._defaultSymbolSortKey=0,this._nullResult=null,this._resultsMap=new Map,this._fields=[],this._fields=e,this._separator=t||\"\"}static async fromMatcherSchema(e,s){const l=s.expression?[e.storage.createComputedField({expression:s.expression})]:[s.field?e.storage.createComputedField({field:s.field}):null,s.field2?e.storage.createComputedField({field:s.field2}):null,s.field3?e.storage.createComputedField({field:s.field3}):null],r=(await Promise.all(l)).filter(e=>!!e),i=new t(r,s.fieldDelimiter),a=await e.createMeshWriters(s.defaultSymbol);i.setDefault(a);const u=await e.createMeshWriters(s.backgroundFill);return i.setBackgroundFill(u),await Promise.all(s.map.map(async(t,s)=>{const l=await e.createMeshWriters(t.symbol);\"<Null>\"===t.value?i.setNullResult(l):i.add(t.value,l,s+1)})),i}setNullResult(e){this._nullResult=e}getSortKey(e,t){const s=this._getValueFromFields(e,t);if(null==s||\"\"===s||\"<Null>\"===s)return 0;const l=this._resultsMap.get(s.toString());return l?l.sortKey:this._defaultSymbolSortKey}add(e,t,s){this._resultsMap.set(e.toString(),{meshWriters:t,sortKey:s}),this._defaultSymbolSortKey=Math.max(this._defaultSymbolSortKey,s+1)}size(){return super.size()+this._resultsMap.size}hasArcadeDependency(e){return this._fields.some(t=>t.hasArcadeDependency(e))||[...this._resultsMap.values()].some(t=>t.meshWriters.some(t=>t.hasArcadeDependency(e)))||this._nullResult?.some(t=>t.hasArcadeDependency(e))||!1}doMatch(e,t){const s=this._getValueFromFields(e,t);if(null!==this._nullResult&&(null==s||\"\"===s||\"<Null>\"===s))return this._nullResult;if(null==s)return null;const l=s.toString();return this._resultsMap.get(l)?.meshWriters}_getValueFromFields(e,t){const s=[];for(const l of this._fields){const r=l.read(e,t);null==r||\"\"===r?s.push(\"<Null>\"):s.push(r)}return s.join(this._separator)}}export{t as MapMatcher};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{internalTrackPartField as e}from\"../../../../../layers/support/streamLayerUtils.js\";import{DictionaryMatcher as t}from\"./DictionaryMatcher.js\";import{IntervalMatcher as r}from\"./IntervalMatcher.js\";import{LabelMatcher as a}from\"./LabelMatcher.js\";import{MapMatcher as s}from\"./MapMatcher.js\";import{FeatureMatcher as c}from\"./Matcher.js\";async function n(e,n){switch(n.type){case\"simple\":case\"heatmap\":case\"dot-density\":case\"pie-chart\":return c.from(e,n);case\"interval\":return r.fromIntervalSchema(e,n);case\"dictionary\":return t.fromDictionaryRenderer(e,n);case\"label\":return a.fromLabelSchema(e,n);case\"map\":return s.fromMatcherSchema(e,n);case\"subtype\":return h.fromSubtypes(e,n);case\"cluster\":return i.fromClusterSchema(e,n);case\"track\":return o.fromTrackSchema(e,n);default:throw new Error(\"Impl\")}}class h extends c{constructor(e,t){super(),this._subMatchers=e,this._subtypeField=t}static async fromSubtypes(e,t){const r=new Map,a=[];for(const s in t.renderers){const c=parseInt(s,10),h=n(e,t.renderers[s]).then(e=>r.set(c,e));a.push(h)}return await Promise.all(a),new h(r,t.subtypeField)}match(e,t,r){const a=e.readAttribute(this._subtypeField),s=this._subMatchers.get(a);return s?s.match(e,t,r):null}hasArcadeDependency(e){for(const t of this._subMatchers.values())if(t.hasArcadeDependency(e))return!0;return!1}}class i extends c{static async fromClusterSchema(e,t){const[r,a]=await Promise.all([n(e,t.feature),n(e,t.cluster)]);return new i(r,a)}constructor(e,t){super(),this._featureMatcher=e,this._clusterMatcher=t}match(e,t,r){return 1===e.readAttribute(\"cluster_count\")?this._featureMatcher.match(e,t,r):this._clusterMatcher.match(e,t,r)}hasArcadeDependency(e){return this._featureMatcher.hasArcadeDependency(e)||this._clusterMatcher.hasArcadeDependency(e)}}class o extends c{static async fromTrackSchema(e,t){const[r,a,s]=await Promise.all([n(e,t.previousObservation),n(e,t.latestObservation),n(e,t.trackLine)]);return new o(r,a,s)}constructor(e,t,r){super(),this._previousObservationMatcher=e,this._latestObservationMatcher=t,this._trackLineMatcher=r}match(t,r,a){switch(t.readAttribute(e)){case 0:return this._trackLineMatcher.match(t,r,a);case 1:return this._latestObservationMatcher.match(t,r,a);case 2:return this._previousObservationMatcher.match(t,r,a)}return null}hasArcadeDependency(e){return this._trackLineMatcher.hasArcadeDependency(e)||this._latestObservationMatcher.hasArcadeDependency(e)||this._previousObservationMatcher.hasArcadeDependency(e)}}export{i as ClusterMatcher,h as SubtypeMatcher,n as createMatcher};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AMeshFactory as e}from\"./MeshFactory.js\";import{createMatcher as t}from\"../../util/createMatcher.js\";class s extends e{static async create(e,o){const r=await t(e,o.symbology),c=o.labels?await t(e,o.labels):null;return new s(r,c)}constructor(e,t){super(),this._symbology=e,this._labels=t}destroy(){}async enqueueMatcherRequests(e,t){await Promise.all([this._symbology.fetchResources(e,t),this._labels?.fetchResources(e,t)])}enqueueWriterRequests(e,t,s,o){const r=this._symbology.match(t,s,o);if(r){for(const o of r)o.enqueueRequest(e,t,s);if(this._labels){const r=this._labels.match(t,s,o);if(!r)return;for(const o of r)o.enqueueRequest(e,t,s)}}}write(e,t,s,o,r,c){const a=this._symbology.match(s,o,r);if(!a)return;for(const n of a)n.write(e,t,s,o,c);if(e.entityRecordCount()>=1&&this._labels){const n=this._labels.match(s,o,r);if(!n)return;for(const r of n)r.setReferences(a),r.write(e,t,s,o,c)}}getSortKey(e,t){return this._symbology.getSortKey(e,t)}hasArcadeDependency(e){return!(!this._symbology.hasArcadeDependency(e)&&!this._labels?.hasArcadeDependency(e))}}export{s as FeatureMeshFactory};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t,r,e,i){this.storage=s,this.proxy=t,this.viewParams=r,this.registry=e,this.fieldsMap=i}async createMeshWriters(s){const t=s.map(s=>this.registry.createMeshWriter(this.storage,this.proxy,this.viewParams,s,this.fieldsMap));return Promise.all(t)}}export{s as MatcherContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{QueueProcessor as s}from\"../../../../core/QueueProcessor.js\";class e{constructor(e){this._outstandingMessages=[],this._queue=new s({concurrency:e.concurrency,process:s=>e.process(s)})}async push(s){if(s.end)return await Promise.all(this._outstandingMessages),await this._queue.push(s),void(this._outstandingMessages=[]);const e=this._queue.push(s);return this._outstandingMessages.push(e),e}}export{e as ProcessorTileMessageQueue};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{DictionaryValue as t}from\"../support/DictionaryValue.js\";class s{static async create(i,e){if(\"count\"===e.statisticType){const i=new t(1);return new s(e.name,e.alias,e.type,e.statisticType,i)}const a=await i.createComputedField({expression:e.onStatisticExpression?.expression,field:e.onStatisticField});return new s(e.name,e.alias,e.type,e.statisticType,a)}constructor(t,s,i,e,a){this.name=t,this.alias=s,this.type=i,this.statisticType=e,this.computed=a}}export{s as ComputedAggregateField};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.subscription=t,this.handledChunks=new Set}destroy(){}}class e{constructor(t,e,s){this._source=t,this._attributeStore=e,this._sqlOptions=s,this._sendStates=new Map}destroy(){}get enablePixelBuffering(){return!0}get isAggregate(){return!1}get usedMemory(){return 0}onSubscribe(t){const e=this.createState(t);this._sendStates.set(t.key.id,e),this.updateChunks()}onUnsubscribe(t){this._sendStates.get(t.key.id)?.destroy(),this._sendStates.delete(t.key.id)}get hasSubscribers(){return this._sendStates.size>0}requiresInvalidation(){return!1}invalidate(){const t=Array.from(this._sendStates.values());this._sendStates.clear();for(const e of t)e.destroy(),this.onSubscribe(e.subscription)}invalidateAttributeData(t){}hasArcadeDependency(t){return!1}getFeatureObjectIdsForAggregate(t){throw new Error(\"InternalError: AggregateId lookup not supported\")}getDisplayIds(t){return this.displayMap(t,t=>t,t=>t)}getDisplayAndObjectIds(t){return this.displayMap(t,t=>t,(t,e,s)=>[t,s])}afterUpdateChunks(){}}export{e as AProcessorStrategy,t as ASendState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{EventEmitter as e}from\"../../../../../core/Evented.js\";import{create as r}from\"../../../../../geometry/support/aaBoundingBox.js\";import{getBoundsOptimizedGeometry as t}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{optimizedFeatureQueryEngineAdapter as a}from\"../../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";import{QueryEngine as s}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{collectExpressionDependencies as o}from\"../../../../../support/ArcadeExpression.js\";import{AProcessorStrategy as n}from\"./AProcessorStrategy.js\";class i extends n{constructor(r,t,s,n,i){super(r,t,i),this.spatialReference=s,this.aggregateFields=n,this._arcadeDependencies=new Set,this.events=new e,this.featureAdapter=a;for(const e of n)o(this._arcadeDependencies,e.computed)}get aggregateQueryEngine(){return this._aggregateQueryEngine||(this._aggregateQueryEngine=new s({featureStore:this,fieldsIndex:this._metadata.fieldsIndex,geometryType:this._metadata.geometryType,featureIdInfo:this._metadata.featureIdInfo,spatialReference:this.spatialReference})),this._aggregateQueryEngine}get isAggregate(){return!0}removeChunks(e){}hasArcadeDependency(e){return this._arcadeDependencies.has(e)}forEach(e){return this.forEachAggregateWorldSpace(e)}forEachInBounds(e,r){}forEachBounds(e,a){const s=r();for(const r of e){const e=t(s,r.geometry,!1,!1);e&&a(e)}}}export{i as AAggregateStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.clear=t,this.end=s,this.debugInfo=r,this.type=\"append\"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:\"append\",clear:this.clear,id:this.id,append:e,end:this.end,debugInfo:this.debugInfo,subscriptionVesrion:this.subscription.version,version:i,attributeEpoch:t}}}class i{constructor(e,i,t,s,r){this.subscription=e,this.reader=i,this.remove=t,this.end=s,this.debugInfo=r,this.type=\"update\"}get id(){return this.subscription.tile.id}createMessage(e,i,t){return{type:\"update\",id:this.id,modify:e,debugInfo:this.debugInfo,remove:this.remove,version:i,subscriptionVesrion:this.subscription.version,end:this.end,attributeEpoch:t}}}export{e as FeatureTileAppendMessage,i as FeatureTileUpdateMessage};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../geometry/SpatialReference.js\";import{convertToFeature as t,unquantizeOptimizedGeometry as s}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as a}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{checkProjectionSupport as r}from\"../../../../../layers/graphics/data/projectionSupport.js\";import i from\"../../../../../layers/support/FieldsIndex.js\";import{ComputedAggregateField as o}from\"../aggregation/ComputedAggregateField.js\";import{AAggregateStrategy as n}from\"./AAggregateStrategy.js\";import{ASendState as l}from\"./AProcessorStrategy.js\";import{FeatureTileAppendMessage as d,FeatureTileUpdateMessage as c}from\"../sources/FeatureSourceMessage.js\";import{ComputedAttributeStorage as u}from\"../support/ComputedAttributeStorage.js\";import f from\"../support/FeatureFilterEvaluator.js\";import{FeatureMetadata as p}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderJSON as h}from\"../support/FeatureSetReaderJSON.js\";import m from\"../../../tiling/TileKey.js\";class g extends l{constructor(e,t){super(e),this.bins=new Map,this.featureCache=new Map,this.done=!1,this._store=t}reset(){this.destroy(),this.done=!1}destroy(){const e=this.subscription.tile.key.level;for(const t of this.featureCache.keys())this._store.releaseDisplayIdForObjectId(`${t}.${e}`);this.bins.clear(),this.featureCache.clear(),this.handledChunks.clear()}get tile(){return this.subscription.tile}*featuresWorldSpace(){for(const e of this.featureCache.values()){const t=e.clone();t.geometry&&s(t.geometry,t.geometry,!1,!1,this.subscription.tile.transform),yield t}}}class y extends n{static async create(t,s,a,i,n){const l=s.metadata.outSpatialReference,d=new u({spatialReference:l}),c=await Promise.all(t.fields.map(async e=>o.create(d,e))),p=t.featureFilter?await f.create({geometryType:s.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:s.metadata.timeInfo,fieldsIndex:s.metadata.fieldsIndex,spatialReference:l,filterJSON:t.featureFilter}):null;return\"geohash\"===t.index.type&&await r(l,e.WGS84),new y(t,p,i,c,l,s,a,n)}constructor(e,t,s,a,r,o,n,l){super(o,n,r,a,l),this._schema=e,this._featureFilter=t,this._arcadeContextInfo=s,this._metadata=p.createFeature({geometryType:\"esriGeometryPolygon\",featureIdInfo:{type:\"object-id\",fieldName:\"aggregateId\"},fieldsIndex:new i(e.fields).toJSON(),globalIdField:null,spatialReference:o.metadata.spatialReference,outSpatialReference:o.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}createState(e){return new g(e,this._attributeStore)}async*applyOverrideUpdate(e){for(const t of this._sendStates.values()){t.reset();const e=new d(t.subscription,h.empty(this._source.metadata),!0,!1,{});yield e}}displayMap(e,t,s){const a=new Map(e.map(e=>[t(e),e])),r=[];for(const i of this._sendStates.values())for(const e of i.featuresWorldSpace()){const{objectId:t,displayId:i}=e,o=a.get(t);if(null!=o){const e=s(i,o,t);r.push(e),a.delete(t)}}return r}getDisplayFeatures(e){const s=new Set(e),a=new Set,r=[];for(const i of this._sendStates.values())for(const e of i.featuresWorldSpace())s.has(e.displayId)&&!a.has(e.objectId)&&(e.geometry&&r.push({...t(e,this._metadata.geometryType,!1,!1),displayId:e.displayId}),a.add(e.objectId));return{features:[],aggregates:r,tracks:[]}}getFeatureObjectIdsForAggregate(e){for(const t of this._sendStates.values())for(const s of t.bins.values())if(s.id===e)return Array.from(s.containedObjectIds);return[]}async*updateChunks(){for(const e of this._sendStates.values())yield*this._update(e,this._source)}forEachAggregateWorldSpace(e){const t=new Set;for(const s of this._sendStates.values())for(const a of s.featuresWorldSpace())t.has(a.objectId)||(e(a),t.add(a.objectId))}_createIndexOptions(e){switch(this._schema.index.type){case\"geohash\":return{type:\"geohash\",fields:this.aggregateFields,featureFilter:this._featureFilter,geohashLevel:this._schema.index.fixBinLevel,spatialReference:this.spatialReference,arcadeContextInfo:this._arcadeContextInfo,scale:e.scale,sqlOptions:this._sqlOptions};case\"grid\":{const t=this._schema.index.fixedBinLevel,s=null!=t?e.tileInfoView.getLODInfoAt(t).scale:e.scale;return{type:\"grid\",fields:this.aggregateFields,cellSize:this._schema.index.size,featureFilter:this._featureFilter,spatialReference:this.spatialReference,arcadeContextInfo:this._arcadeContextInfo,scale:s,sqlOptions:this._sqlOptions}}}}async*_update(e,t){const{handledChunks:s,subscription:r,bins:i,featureCache:o}=e,n=r.tile;if(e.done)return;for(const a of t.chunks()){if(s.has(a.chunkId))continue;s.add(a.chunkId);const t=a.queryInfo;if(\"tileId\"in t){const e=new m(t.tileId);if(e.level!==n.level||e.world!==n.key.world)continue}a.getAggregateIndex(this._createIndexOptions(e.tile)).putBounded(i,e.tile.extent,e.tile.resolution)}const l=[],d=r.tile.transform,u=r.tile.key.level;for(const c of i.values()){let e=o.get(c.id);if(e)e.attributes=c.getAttributes();else{const t=c.getGeometry(this.spatialReference,d);e=new a(t,c.getAttributes(),null,c.id),t||(e.centroid=c.getGeometricCentroid(this.spatialReference,d)),e.displayId=this._attributeStore.createDisplayIdForObjectId(`${e.objectId}.${u}`),o.set(c.id,e)}l.push(e)}this.events.emit(\"changed\"),e.done=!t.updateTracking.updating;const f=h.fromOptimizedFeatures(l,this._metadata,d),p=f.getCursor(),g=e.subscription.tile.createArcadeEvaluationOptions(this._arcadeContextInfo);for(;p.next();)this._attributeStore.setAttributeData(p.getDisplayId(),p,g,this._sqlOptions);const y=new c(e.subscription,f,[],e.done,{});yield y}}export{g as BinningState,y as BinningStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t){this.inner=s,this.displayId=t}}export{s as WithDisplayId};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{convertToFeature as e}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as t}from\"../../../../../layers/graphics/OptimizedFeature.js\";import s from\"../../../../../layers/graphics/OptimizedGeometry.js\";import i from\"../../../../../layers/support/FieldsIndex.js\";import{tileSize as r}from\"../../../engine/webgl/definitions.js\";import{ComputedAggregateField as n}from\"../aggregation/ComputedAggregateField.js\";import{GridCell as a}from\"../aggregation/GridCell.js\";import{pixelsPerMapUnit as l}from\"../aggregation/GridSpatialIndex.js\";import{AAggregateStrategy as o}from\"./AAggregateStrategy.js\";import{ASendState as d}from\"./AProcessorStrategy.js\";import{WithDisplayId as u}from\"./support/WithDisplayId.js\";import{FeatureTileAppendMessage as c}from\"../sources/FeatureSourceMessage.js\";import{ComputedAttributeStorage as h}from\"../support/ComputedAttributeStorage.js\";import p from\"../support/FeatureFilterEvaluator.js\";import{FeatureMetadata as f}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderJSON as g}from\"../support/FeatureSetReaderJSON.js\";import _ from\"../../../tiling/TileKey.js\";const m=128;class y extends d{constructor(e){super(e),this.didSend=!1,this.done=!1}}class S{constructor(e,t,s,i,r){this._level=e,this._scale=t,this._indexOptions=s,this._clusterRadius=i,this._store=r,this._cells=new Map,this._handledChunks=new Set,this._statistics=new Map,this._clusters=new Map}destroy(){this._clearClusters()}_clearClusters(){for(const e of this._clusters.values())this._store.releaseDisplayIdForObjectId(e.inner.id);this._clusters.clear()}*aggregatesWorldSpace(){for(const e of this._clusters.values()){const s=e.inner.getCentroid(null),i=new t(s,e.inner.getAttributes(),null,e.inner.id,e.displayId);yield i}}clusters(){return this._clusters.values()}updateChunks(e,t){let s=!1;for(const a of e){const e=a.queryInfo;if(\"tileId\"in e){if(new _(e.tileId).level!==this._level)continue}if(!this._handledChunks.has(a.normalizedChunkId)){this._handledChunks.add(a.normalizedChunkId),s=!0;a.getAggregateIndex({...this._indexOptions,scale:this._scale}).put(this._cells)}}const i={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},r=l(this._indexOptions.spatialReference,this._scale),n=this._indexOptions.cellSize;for(const{subscription:a}of t){const e=a.tile.bounds,t=Math.floor(e[0]*r/n),s=Math.floor(e[1]*r/n),l=Math.ceil(e[2]*r/n),o=Math.ceil(e[3]*r/n);i.xMin=Math.min(i.xMin,t),i.yMin=Math.min(i.yMin,s),i.xMax=Math.max(i.xMax,l),i.yMax=Math.max(i.yMax,o)}return null!=this._lastCellBounds&&i.xMin===this._lastCellBounds.xMin&&i.yMin===this._lastCellBounds.yMin&&i.yMin===this._lastCellBounds.yMin&&i.yMax===this._lastCellBounds.yMax||(s=!0,this._lastCellBounds=i),s&&this._clusterCells(i),s}async updateStatistics(e){let t=!1;for(const s of this._clusters.values())s.inner.count>1&&(t=this._updateAggregateStatistics(this._statistics,s.inner)||t);if(t){const t=Array.from(this._statistics.entries()).map(([e,t])=>({fieldName:e,minValue:t.minValue,maxValue:t.maxValue}));await e.container.updateStatistics(this._level,t)}}createAggregateFeatures(e,i){const n=e.subscription,a=[],l=n.tile.transform;for(const o of this._clusters.values()){let e=o.inner.getCentroidX(l);const i=o.inner.getCentroidY(l),d=n.tile.lod,u=d.wrap?d.worldSize[0]:null,c=1===o.inner.count?o.inner.firstObjectId:o.inner.id,h=o.displayId;if(null!=u)if(1===u){const n=new s([],[e,i]),l=new t(n,o.inner.getAttributes(),null,c,h);l.geometry.coords[0]-=r,a.push(l);const d=new s([],[e,i]),u=new t(d,o.inner.getAttributes(),null,c,h);u.geometry.coords[0]+=r,a.push(u)}else e>r+r/2?e-=u*r:e<-256&&(e+=u*r);if(e<r+m&&e>=-m&&i<r+m&&i>=-m){const r=new s([],[e,i]),n=new t(r,o.inner.getAttributes(),null,c,h);a.push(n)}}return g.fromOptimizedFeatures(a,i,n.tile.transform)}_clusterCells(e){let t=Array.from(this._cells.values());t=t.sort((e,t)=>t.count-e.count);const s=[];for(const a of this._clusters.values())s.push(a.inner.id);this._clusters.clear();const i=this._clusterRadius*(1/l(this._indexOptions.spatialReference,this._scale)),r=1+this._clusterRadius/this._indexOptions.cellSize,n=new Set;for(const l of t){if(n.has(l.id))continue;if(l.gridX<e.xMin||l.gridX>e.xMax||l.gridY<e.yMin||l.gridY>e.yMax)continue;const t=this._store.createDisplayIdForObjectId(l.id),s=new u(l.clone(),t);n.add(l.id),this._clusters.set(l.id,s);const o=l.centroidXWorld,d=l.centroidYWorld;for(let e=l.gridY-r;e<=l.gridY+r;e++)for(let t=l.gridX-r;t<=l.gridX+r;t++){if(e===l.gridY&&t===l.gridX)continue;const r=this._cells.get(a.createId(t,e));if(!r||n.has(r.id))continue;const u=Math.abs(r.centroidXWorld-o),c=Math.abs(r.centroidYWorld-d);u<i&&c<i&&(s.inner.merge(r),n.add(r.id))}}for(const a of s)this._store.releaseDisplayIdForObjectId(a)}_updateAggregateStatistics(e,t){let s=!1;for(const i of t.statistics.values()){if(\"esriFieldTypeString\"===i.field.type)continue;const t=i.value,r=i.field,n=e.get(r.name);if(n){const{minValue:e,maxValue:i}=n,r=Math.min(n.minValue,t),a=Math.max(n.maxValue,t);e===r&&i===a||(n.minValue=r,n.maxValue=a,s=!0);continue}e.set(r.name,{minValue:t,maxValue:t}),s=!0}return s}}class x extends o{static async create(e,t,s,i,r,a){const l=s.metadata.outSpatialReference,o=new h({spatialReference:l}),d={type:\"grid\",fields:await Promise.all(t.fields.map(async e=>n.create(o,e))),spatialReference:l,featureFilter:t.featureFilter?await p.create({geometryType:s.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:s.metadata.timeInfo,fieldsIndex:s.metadata.fieldsIndex,spatialReference:l,filterJSON:t.featureFilter}):null,cellSize:t.clusterRadius/4,arcadeContextInfo:r,sqlOptions:a};return new x(e,t.clusterRadius,d,t.fields,s,i,a)}constructor(e,t,s,r,n,a,l){super(n,a,s.spatialReference,s.fields,l),this._connection=e,this._clusterRadius=t,this._indexOptions=s,this._cellsPerScale=new Map,this._metadata=f.createFeature({geometryType:\"esriGeometryPoint\",featureIdInfo:{type:\"object-id\",fieldName:\"aggregateId\"},fieldsIndex:new i([...r,...this._source.metadata.fieldsIndex.fields,{name:\"aggregateId\",alias:\"aggregateId\",type:\"esriFieldTypeOID\"}]).toJSON(),globalIdField:null,spatialReference:n.metadata.spatialReference,outSpatialReference:n.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}get enablePixelBuffering(){return!1}invalidate(){super.invalidate();for(const e of this._cellsPerScale.values())e.destroy();this._cellsPerScale.clear()}onSubscribe(e){super.onSubscribe(e),this._requiredLevel=e.tile.level,this._requiredScale=e.tile.scale}createState(e){return new y(e)}async*applyOverrideUpdate(e){for(const t of this._cellsPerScale.values())t.destroy();this._cellsPerScale.clear();for(const t of this._sendStates.values())t.done=!1}displayMap(e,t,s){const i=new Map(e.map(e=>[t(e),e])),r=[],n=this._getClusterState(this._requiredLevel,this._requiredScale);for(const a of n.clusters()){const e=i.get(a.inner.id);if(null!=e){const t=s(a.displayId,e,a.inner.id);r.push(t),i.delete(a.inner.id);continue}if(1===a.inner.count){const{firstObjectId:e}=a.inner,t=e?i.get(e):null;if(null!=t){const n=s(a.displayId,t,e);r.push(n),i.delete(e)}}}return r}getDisplayFeatures(t){const s=new Set(t),i=new Set,r=[],n=[],a=this._getClusterState(this._requiredLevel,this._requiredScale);for(const l of a.aggregatesWorldSpace())if(s.has(l.displayId)&&!i.has(l.displayId)){const t=e(l,this._metadata.geometryType,!1,!1);if(i.add(l.displayId),1===t.attributes.cluster_count){r.push({...t,displayId:l.displayId});continue}n.push({...t,displayId:l.displayId})}return{features:r,aggregates:n,tracks:[]}}getFeatureObjectIdsForAggregate(e){const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.clusters())if(s.inner.id===e)return Array.from(s.inner.containedObjectIds);return[]}async*updateChunks(){const e=this._source.chunks();if(!e.length)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale),s=Array.from(this._sendStates.values()).filter(e=>e.subscription.tile.level===this._requiredLevel);if(t.updateChunks(e,s)||!this._source.updateTracking.updating)for(const n of s)n.subscription.tile.level===this._requiredLevel&&(n.didSend=!1,n.done=!1);const i=Array.from(this._sendStates.values()).filter(e=>e.done).map(e=>e.subscription.tile.key),r=new Set(i);for(const n of this._sendStates.values()){if(this._source.updateTracking.updating){if(i.some(e=>e.containsChild(n.subscription.tile.key)))continue;if(n.subscription.tile.key.getChildKeys().every(e=>r.has(e)))continue}n.didSend||n.subscription.tile.level!==this._requiredLevel||(n.didSend=!0,yield*this._update(n,t,this._source))}await t.updateStatistics(this._connection)}forEachAggregateWorldSpace(e){if(null==this._requiredLevel||null==this._requiredScale)return;const t=this._getClusterState(this._requiredLevel,this._requiredScale);for(const s of t.aggregatesWorldSpace())e(s)}_getClusterState(e,t){if(null==e||null==t)throw new Error(\"InternalError: Level and scale must be defined\");let s=this._cellsPerScale.get(t);return s||(s=new S(e,t,this._indexOptions,this._clusterRadius,this._attributeStore),this._cellsPerScale.set(t,s)),s}async*_update(e,t,s){if(e.done)return;const i=t.createAggregateFeatures(e,this._metadata);this.events.emit(\"changed\"),e.done=!s.updateTracking.updating;const r=i.getCursor(),n=e.subscription.tile.createArcadeEvaluationOptions(this._indexOptions.arcadeContextInfo);for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,n,this._sqlOptions);const a=new c(e.subscription,i,!0,e.done,{});yield a}}export{y as ClusterState,x as ClusterStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{AProcessorStrategy as e,ASendState as t}from\"./AProcessorStrategy.js\";import{FeatureTileUpdateMessage as s,FeatureTileAppendMessage as r}from\"../sources/FeatureSourceMessage.js\";import{OverrideChunk as a}from\"../sources/strategies/chunks/Overrides.js\";import{createArcadeEvaluationOptions as o}from\"../support/arcadeUtils.js\";import{FeatureSetReaderJSON as n}from\"../support/FeatureSetReaderJSON.js\";class d extends t{}class i extends e{constructor(e,t,s,r){super(e,t,r),this._arcadeContextInfo=s,this.handledChunks=new Set,this.handledChunksForIdCreation=new Set,this.handledChunksForAttributeData=new Set,this._streamLayerDeferredObjectIdsToRemove=[]}destroy(){super.destroy();for(const e of this._source.chunks())this._cleanupChunkIds(e)}invalidateAttributeData(e){this.handledChunksForAttributeData.clear(),this._arcadeContextInfo=e,null!=this._evalOptions&&(this._evalOptions=o(this._evalOptions.$view.scale,e))}onSubscribe(e){super.onSubscribe(e),this._evalOptions=e.tile.createArcadeEvaluationOptions(this._arcadeContextInfo)}createState(e){return new d(e)}get aggregateQueryEngine(){return null}displayMap(e,t,s){const r=new Map(e.map(e=>[t(e),e])),a=[];for(const o of this._source.chunks()){const e=o.reader.getCursor();for(;e.next();){const t=e.getObjectId(),o=e.getDisplayId(),n=r.get(t);if(null!=n){const e=s(o,n,t);a.push(e),r.delete(t)}}}return a}getDisplayFeatures(e){const t=new Set(e),s=new Set,r=[];for(const a of this._source.chunks()){const e=a.reader.getCursor();for(;e.next();){const a=e.getObjectId(),o=e.getDisplayId();t.has(o)&&!s.has(a)&&(r.push({...e.readLegacyFeatureWorldSpace(),displayId:o}),s.add(a))}}return{features:r,aggregates:[],tracks:[]}}async*applyOverrideUpdate(e){const t=[];for(const s of e.modified.values()){const e=this._attributeStore.createDisplayIdForObjectId(s.objectId);s.displayId=e,t.push(e)}const r=n.fromOptimizedFeatures(Array.from(e.modified.values()),this._source.metadata).getCursor();for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,this._evalOptions,this._sqlOptions);const o=[];for(const s of e.removed){const e=this._attributeStore.getDisplayIdForObjectId(s);null!=e&&o.push(e)}has(\"esri-2d-update-debug\")&&console.debug(\"FeatureUpdateStrategy.applyLocalEdit\",{message:e,modifiedDisplayIds:t,removedDisplayIds:o});const d=a.fromFeatures(Array.from(e.modified.values()),this._source.metadata);this.handledChunks.add(d.chunkId),this.handledChunksForAttributeData.add(d.chunkId),this.handledChunksForIdCreation.add(d.chunkId);for(const a of this._sendStates.values())a.handledChunks.add(d.chunkId),yield new s(a.subscription,null,t,!1,d.queryInfo);for(const a of this._sendStates.values()){const e=d.getTileReader(a.subscription.tile);yield new s(a.subscription,e,o,!1,d.queryInfo)}for(const s of e.removed)this._attributeStore.releaseDisplayIdForObjectId(s)}async*updateChunks(){if(this._source.chunks().length){this._updateAttributeData();for(const e of this._sendStates.values())yield*this._update(e)}}removeChunks(e){for(const t of e)this.handledChunks.delete(t.chunkId),this.handledChunksForAttributeData.delete(t.chunkId),this._cleanupChunkIds(t)}afterUpdateChunks(){for(const e of this._streamLayerDeferredObjectIdsToRemove)this._attributeStore.releaseDisplayIdForObjectId(e);this._streamLayerDeferredObjectIdsToRemove=[]}_cleanupChunkIds(e){if(this.handledChunksForIdCreation.has(e.chunkId)){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId();this._source.isStream?this._streamLayerDeferredObjectIdsToRemove.push(e):this._attributeStore.releaseDisplayIdForObjectId(e)}this.handledChunksForIdCreation.delete(e.chunkId)}}_updateAttributeData(){for(const e of this._source.chunks()){const{chunkId:t,reader:s}=e;if(!this.handledChunksForIdCreation.has(t)){this.handledChunksForIdCreation.add(t);const e=s.getCursor();for(;e.next();){const t=this._attributeStore.createDisplayIdForObjectId(e.getObjectId());e.setDisplayId(t)}}}for(const e of this._source.chunks())if(this._attributeStore.referencesScale()||!this.handledChunksForAttributeData.has(e.chunkId)){this.handledChunksForAttributeData.add(e.chunkId);const t=e.reader.getCursor();for(;t.next();){const e=t.getDisplayId();this._attributeStore.setAttributeData(e,t,this._evalOptions,this._sqlOptions)}}}*_update(e){const{subscription:t,handledChunks:s}=e;for(const a of this._source.chunks()){const{chunkId:o}=a;if(s.has(o)||!this.handledChunksForIdCreation.has(o)||!this.handledChunksForAttributeData.has(o))continue;s.add(o);const n=a.getTileReader(t.tile);n&&(yield new r(e.subscription,n,!1,a.end,a.queryInfo))}}}export{d as DefaultSendState,i as FeatureUpdateStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/arrayUtils.js\";import e from\"../../../../../core/Logger.js\";import{assertIsSome as s}from\"../../../../../core/maybe.js\";import{isLoaded as r,load as i,execute as a}from\"../../../../../geometry/operators/gx/operatorGeodeticDensify.js\";import{geodeticCurveType as o}from\"../../../../../geometry/operators/support/geodeticCurveType.js\";import{intersectsWithMargin as n,fromValues as l,intersects as c,empty as d,expandPointInPlace as u}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getClosestDenormalizedXToReference as h}from\"../../../../../geometry/support/normalizeUtils.js\";import{normalizeCentralMeridianForDisplay as p}from\"../../../../../geometry/support/normalizeUtilsSync.js\";import{quantizeOptimizedGeometry as m,convertToGeometry as f,convertFromNestedArray as _}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as b}from\"../../../../../layers/graphics/OptimizedFeature.js\";import g from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{internalTrackPartField as y,externalTrackLineOidPrefix as I,internalTimeReceivedField as v}from\"../../../../../layers/support/streamLayerUtils.js\";import{tileSize as k}from\"../../../engine/webgl/definitions.js\";import{AccumulatedStatistics as F}from\"../aggregation/AccumulatedStatistics.js\";import{ComputedAggregateField as O}from\"../aggregation/ComputedAggregateField.js\";import{AAggregateStrategy as j}from\"./AAggregateStrategy.js\";import{ASendState as x}from\"./AProcessorStrategy.js\";import{FeatureTileAppendMessage as S}from\"../sources/FeatureSourceMessage.js\";import{createArcadeEvaluationOptions as T}from\"../support/arcadeUtils.js\";import{ComputedAttributeStorage as R}from\"../support/ComputedAttributeStorage.js\";import D from\"../support/FeatureFilterEvaluator.js\";import{FeatureMetadata as w}from\"../support/FeatureMetadata.js\";import{FeatureSetReaderIndirect as L}from\"../support/FeatureSetReaderIndirect.js\";import{FeatureSetReaderJSON as A}from\"../support/FeatureSetReaderJSON.js\";let C;const G=()=>e.getLogger(\"esri.views.2d.layers.features.processor.TrackStrategy\"),P=32;class W{constructor(t,e,s,r,i){this.chunkIndex=t,this.featureIndex=e,this.objectId=s,this.displayId=r,this.time=i}}class z{static getOid(t){return I+t}constructor(t,e,s,r,i,a,o,n){this._schema=t,this.trackId=e,this.objectId=s,this.displayId=r,this._fields=i,this._spatialReference=a,this._metadata=o,this._isStream=n,this._maxDisplayDuration=this._schema.maxDisplayDuration>0?this._schema.maxDisplayDuration:1/0,this._maxDisplayObservationsPerTrack=this._schema.maxDisplayObservationsPerTrack>=1?this._schema.maxDisplayObservationsPerTrack:1/0,this._observationRecords=[],this._nextObservationRecords=[],this._trackLinePath=[],this._bounds=[],this._trackLineGeometry=new g}get _trackLineAttributes(){const t={...this._latestObservationFeature?.attributes,aggregateId:this.objectId,[y]:0};if(null!=this._statistics)for(const e of this._statistics.values())t[e.field.name]=e.value;return t}get _startTimeField(){return this._metadata.timeInfo?.startTimeField}get length(){return this._observationRecords.length}*observations(){yield*this._observationRecords}*previousObservations(){for(let t=0;t<this._observationRecords.length-1;t++)yield this._observationRecords[t]}get latestObservationFeature(){return this._latestObservationFeature}get latestObservationRecord(){return this._latestObservationRecord}stageObservation(t,e){this._nextObservationRecords.push(new W(t,e.getIndex(),e.getObjectId(),e.getDisplayId(),null!=this._startTimeField?e.readAttributeAsTimestamp(this._startTimeField):null))}commitObservations(t,e,r){const i=new Set(this._nextObservationRecords.map(t=>t.objectId)),a=this._observationRecords.filter(t=>!i.has(t.objectId)).map(t=>t.objectId);let o,n;switch(this._observationRecords=[],this._trackLinePath=[],this._isStream||null==this._startTimeField||this._nextObservationRecords.sort((t,e)=>{const s=t.time,r=e.time;return null!=s&&null!=r?s-r:0}),this._schema.timeField){case\"startTimeField\":o=this._metadata.timeInfo?.startTimeField;break;case\"endTimeField\":o=this._metadata.timeInfo?.endTimeField;break;case\"timeReceived\":o=this._isStream?v:null}n=this._isStream?r?.end??Date.now():r?.end??-1/0;const l=e.map(t=>t.reader.getCursor());let c;for(let d=this._nextObservationRecords.length-1;d>=0&&!(this._observationRecords.length>=this._maxDisplayObservationsPerTrack);d--){const t=this._nextObservationRecords[d],e=l[t.chunkIndex];s(e),e.setIndex(t.featureIndex);const r=null!=o?e.readAttributeAsTimestamp(o):null;(null!=r?n-r:0)>=this._maxDisplayDuration||(this._commitObservation(t,e),c??=t)}if(null!=c){const{chunkIndex:e,featureIndex:r}=c,i=`${c.objectId}.latest`,o=t.createDisplayIdForObjectId(i),n=l[e];s(n),n.setIndex(r);const d=new b(n.readGeometryWorldSpace(),{...n.readAttributes(),[y]:1},null,i,o);this._latestObservationFeature&&a.push(this._latestObservationFeature.objectId),this._latestObservationFeature=d,this._latestObservationRecord=c}else this._latestObservationFeature=null;return this._trackLineGeometry=q(this._trackLineGeometry,this._trackLinePath,this._spatialReference),this._bounds=N(this._trackLineGeometry),this._nextObservationRecords=[],a}updateStatistics(t,e){this._statistics=F.create(this._fields);const r=t.map(t=>t.reader.getCursor());for(const{chunkIndex:i,featureIndex:a}of this._observationRecords){const t=r[i];s(t),t.setIndex(a),this._statistics.insert(t,e)}}overlapsTile(t){for(const e of this._bounds)if(n(e,t.bounds,P))return!0;return!1}getLatestObservationFeatureForTile(t){if(null==this._latestObservationFeature)return null;const{objectId:e,displayId:s,geometry:r,attributes:i}=this._latestObservationFeature,a=new g;m(a,r,!1,!1,this._metadata.geometryType,t.subscription.tile.transform);const o=l(1/0,1/0,-1/0,-1/0);E(a,(t,e)=>u(o,[t,e]));if(!c(o,l(0,0,k,k)))return null;return new b(a,i,null,e,s)}getTrackLineFeatureForTile(t){const e=new g;m(e,this._trackLineGeometry,!1,!1,\"esriGeometryPolyline\",t.subscription.tile.transform);return new b(e,this._trackLineAttributes,null,this.objectId,this.displayId)}getTrackLineOptimizedFeature(){return new b(this._trackLineGeometry,this._trackLineAttributes,null,this.objectId,this.displayId)}getTrackLineDisplayFeature(){const{_trackLineGeometry:t,_trackLineAttributes:e,displayId:s}=this;return{geometry:f(t,\"esriGeometryPolyline\",!1,!1),attributes:e,displayId:s}}_commitObservation(t,e){const s=e.readCentroidWorldSpace();let r=s?.coords[0],i=s?.coords[1];null==s&&(r=e.readXWorldSpace(),i=e.readYWorldSpace()),null!=r&&null!=i&&(this._observationRecords.unshift(t),this._trackLinePath.unshift([r,i]))}}class M extends x{constructor(t){super(t),this.done=!1}}class U extends j{static async create(t,e,s,a,o){const n=e.metadata.outSpatialReference,l=new R({spatialReference:n}),c=await Promise.all(t.fields.map(async t=>O.create(l,t))),d=t.featureFilter?await D.create({geometryType:e.metadata.geometryType,hasM:!1,hasZ:!1,timeInfo:e.metadata.timeInfo,fieldsIndex:e.metadata.fieldsIndex,spatialReference:n,filterJSON:t.featureFilter}):null;return n.isWrappable||r()||await Promise.all([import(\"../../../../../geometry/operators/support/apiConverter.js\"),import(\"../../../../../geometry/operators/support/jsonConverter.js\"),i()]).then(([t,e,s])=>{C={fromGeometryToGXGeometry:e.fromGeometryToGXGeometry,toGeometry:e.toGeometry,fromSpatialReference:t.fromSpatialReference}}),new U(t,e,s,n,c,d,a,o)}constructor(t,e,s,r,i,a,o,n){super(e,s,r,i,n),this._schema=t,this._featureFilter=a,this._arcadeContextInfo=o,this._tracks=new Map,this._handledChunks=new Set,this._metadata=e.metadata.weakCloneWithAdditionalFields([{name:y,alias:\"trackPart\",type:\"esriFieldTypeSmallInteger\"}]),this._trackLineMetadata=w.createFeature({geometryType:\"esriGeometryPolyline\",featureIdInfo:{type:\"object-id\",fieldName:\"aggregateId\"},fieldsIndex:{fields:[...this._source.metadata.fieldsIndex.fields,...this.aggregateFields,{name:y,alias:\"trackPart\",type:\"esriFieldTypeSmallInteger\"},{name:\"aggregateId\",alias:\"aggregateId\",type:\"esriFieldTypeOID\"}],timeZoneByFieldName:null},globalIdField:null,spatialReference:e.metadata.spatialReference,outSpatialReference:e.metadata.outSpatialReference,subtypeField:null,subtypes:null,timeInfo:e.metadata.timeInfo,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null,types:null})}destroy(){super.destroy(),this._clear()}get _isStream(){return this._source.isStream}get enablePixelBuffering(){return!0}get isAggregate(){return!1}requiresInvalidation(){return!0}invalidate(){super.invalidate(),this._clear()}createState(t){return new M(t)}async*applyOverrideUpdate(t){G().error(\"Applying override to tracks is not supported\")}displayMap(t,e,s){const r=new Map(t.map(t=>[e(t),t])),i=[];for(const a of this._tracks.values()){const t=r.get(a.objectId);if(null!=t){const e=s(a.displayId,t,a.objectId);i.push(e),r.delete(a.objectId);continue}const e=a.latestObservationFeature;if(e?.objectId){const t=r.get(e.objectId);if(null!=t){const a=s(e.displayId,t,e.objectId);i.push(a),r.delete(e.objectId);continue}}for(const o of a.observations()){const t=r.get(o.objectId);if(null!=t){const e=s(o.displayId,t,o.objectId);i.push(e),r.delete(o.objectId)}}}return i}getDisplayFeatures(t){const e=new Set(t),s=[],r=[],i=this._source.chunks().map(t=>t.reader.getCursor());for(const a of this._tracks.values()){if(e.has(a.displayId)&&r.push(a.getTrackLineDisplayFeature()),null!=a.latestObservationFeature&&e.has(a.latestObservationFeature.displayId)){const{displayId:t,chunkIndex:e,featureIndex:r}=a.latestObservationRecord,o=i[e];o.setIndex(r),s.push({displayId:t,...o.readLegacyFeatureWorldSpace()})}for(const{displayId:t,chunkIndex:r,featureIndex:o}of a.observations())if(e.has(t)){const e=i[r];e.setIndex(o),s.push({displayId:t,...e.readLegacyFeatureWorldSpace()})}}return{features:s,aggregates:[],tracks:r}}getFeatureObjectIdsForAggregate(t){for(const e of this._tracks.values())if(e.objectId===t)return Array.from(e.observations(),t=>t.objectId);return[]}async*updateChunks(){0===this._handledChunks.size&&this._rebuildTracks();for(const t of this._sendStates.values())yield*this._update(t)}forEachAggregateWorldSpace(t){for(const e of this._tracks.values())t(e.getTrackLineOptimizedFeature())}_clear(){for(const t of this._source.chunks())if(this._handledChunks.has(t.chunkId)){const e=t.reader.getCursor();for(;e.next();){const t=e.getObjectId();this._attributeStore.releaseDisplayIdForObjectId(t)}}this._handledChunks.clear();for(const t of this._tracks.values())this._removeTrack(t);this._tracks.clear()}_rebuildTracks(){const t=this._source.chunks();if(!t.length)return;const e=this._metadata.timeInfo?.trackIdField;if(null==e)return;const s=new Set;for(let r=0;r<t.length;r++){const i=t[r];if(this._handledChunks.has(i.chunkId))continue;this._handledChunks.add(i.chunkId);const a=i.reader.getCursor();for(;a.next();){const t=a.getObjectId();a.setDisplayId(this._attributeStore.createDisplayIdForObjectId(t));const i=a.readAttribute(e);if(null!=i&&null!=t&&(null===this._featureFilter||this._featureFilter.check(a,this._sqlOptions))){if(!this._tracks.has(i)){const t=z.getOid(i),e=this._attributeStore.createDisplayIdForObjectId(t),s=new z(this._schema,i,t,e,this.aggregateFields,this.spatialReference,this._source.metadata,this._isStream);this._tracks.set(i,s)}this._tracks.get(i).stageObservation(r,a),s.add(i)}}}for(const r of this._tracks.values())if(s.has(r.trackId)){const e=r.commitObservations(this._attributeStore,t,this._featureFilter?.timeExtent);for(const t of e)this._attributeStore.releaseDisplayIdForObjectId(t);r.updateStatistics(t,T(1,this._arcadeContextInfo))}else this._removeTrack(r)}_removeTrack(t){this._tracks.delete(t.trackId),this._attributeStore.releaseDisplayIdForObjectId(t.objectId),null!=t.latestObservationFeature&&this._attributeStore.releaseDisplayIdForObjectId(t.latestObservationFeature.objectId)}*_update(e){if(e.done)return;e.done=!this._source.updateTracking.updating;const s=[],r=[];for(const t of this._tracks.values())if(t.length>0){if(this._schema.showLatestObservation){const r=t.getLatestObservationFeatureForTile(e);null!=r&&s.push(r)}this._schema.showTrackLine&&t.overlapsTile(e.subscription.tile)&&r.push(t.getTrackLineFeatureForTile(e))}const i=A.fromOptimizedFeatures(s,this._metadata,e.subscription.tile.transform),a=A.fromOptimizedFeatures(r,this._trackLineMetadata,e.subscription.tile.transform);let o=[];if(this._schema.showPreviousObservations){const s=this._source.chunks().map(()=>[]);for(const t of this._tracks.values())for(const{chunkIndex:e,featureIndex:r}of t.previousObservations())s[e].push(r);o=this._source.chunks().map((t,r)=>{const i=t.getTileReader(e.subscription.tile);if(null==i)return null;const a=L.from(i,s[r]);return a.setProcessorAttributes({[y]:2}),\"esriGeometryPoint\"!==a.geometryType&&null!=a.getInTransform()||a.setTransformForDisplay(e.subscription.tile.transform),a}).filter(t)}this.events.emit(\"changed\");const n=e.subscription.tile.createArcadeEvaluationOptions(this._arcadeContextInfo),l=a.getCursor();for(;l.next();)this._attributeStore.setAttributeData(l.getDisplayId(),l,n,this._sqlOptions);for(const t of o){const e=t.getCursor();for(;e.next();)this._attributeStore.setAttributeData(e.getDisplayId(),e,n,this._sqlOptions)}const c=i.getCursor();for(;c.next();)this._attributeStore.setAttributeData(c.getDisplayId(),c,n,this._sqlOptions);yield new S(e.subscription,a,!1,!1,{});for(const t of o)yield new S(e.subscription,t,!1,!1,{});yield new S(e.subscription,i,!1,e.done,{})}}function q(t,e,s){if(e.length<2)return _(t,[e],!1,!1);if(s.isWrappable){let r=!1;for(let t=1;t<e.length;t++){const i=e[t][0],a=h(i,e[t-1][0],s);i!==a&&(e[t][0]=a,r=!0)}if(r){const r=p({paths:[e],spatialReference:s});if(null!=r)return _(t,r.paths,!1,!1)}return _(t,[e],!1,!1)}const r=C.fromGeometryToGXGeometry({hasM:!1,hasZ:!1,paths:[e]}),i=C.fromSpatialReference(s);if(null!=i){const e=a(r,1e6,i,o.geodesic);if(null!=e){const s=C.toGeometry(e,i);if(null!=s&&\"paths\"in s)return _(t,s.paths,!1,!1)}}return _(t,[e],!1,!1)}function E(t,e){const s=2,{coords:r,lengths:i}=t;if(!i.length)return void e(r[0],r[1]);let a=0;for(let o=0;o<i.length;o++){const t=i[o];let n=0,l=0;for(let i=0;i<t;i++)n+=r[s*(i+a)],l+=r[s*(i+a)+1],e(n,l);a+=t}}function N(t){const{lengths:e,coords:s}=t,r=2;if(!e.length)return[d()];const i=[];let a=0;for(let o=0;o<e.length;o++){const t=e[o],n=d();i.push(n);for(let e=0;e<t;e++){const t=s[r*(e+a)],i=s[r*(e+a)+1];u(n,[t,i])}a+=t}return i}export{U as TrackStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{notDeepEqual as e}from\"../../../../core/object.js\";import{throwIfNotAbortError as s,throwIfAborted as r,after as i}from\"../../../../core/promiseUtils.js\";import{diff as a}from\"../../../../core/accessorSupport/diffUtils.js\";import{ignoreConnectionErrors as o}from\"../../../../core/workers/utils.js\";import{MultiTileMeshData as n}from\"../../engine/webgl/mesh/MultiTileMeshData.js\";import{FeatureMeshFactory as c}from\"../../engine/webgl/mesh/factories/FeatureMeshFactory.js\";import{ResourceProxy as h}from\"../../engine/webgl/mesh/factories/ResourceProxy.js\";import{MeshWriterRegistry as u}from\"../../engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js\";import{MatcherContext as g}from\"../../engine/webgl/util/MatcherContext.js\";import{ProcessorTileMessageQueue as p}from\"./ProcessorTileMessageQueue.js\";import{BinningStrategy as y}from\"./processor/BinningStrategy.js\";import{ClusterStrategy as d}from\"./processor/ClusterStrategy.js\";import{FeatureUpdateStrategy as _}from\"./processor/FeatureUpdateStrategy.js\";import{TrackStrategy as l}from\"./processor/TrackStrategy.js\";import{AttributeStore as m}from\"./support/AttributeStore.js\";import{ComputedAttributeStorage as f}from\"./support/ComputedAttributeStorage.js\";class b{constructor(t,e){this._connection=t,this._source=e,this._version=1,this._registry=new u,this._proxy=new h({fetch:(t,e)=>this._connection.layerView.fetch(t,e),fetchDictionary:(t,e)=>this._connection.layerView.fetchDictionary(t,e)}),this._attributeStore=new m({isLocal:!1,update:t=>o(this._connection.container.updateAttributeView(t))})}destroy(){this._proxy.destroy(),this._strategy?.destroy(),this._attributeStore.destroy()}get aggregateQueryEngine(){return this._strategy?.aggregateQueryEngine}get usedMemory(){let t=0;return t+=this._attributeStore.usedMemory,this._strategy&&(t+=this._strategy.usedMemory),t}get version(){return this._version}getDisplayFeatures(t){return this._strategy?this._strategy.getDisplayFeatures(t):{features:[],aggregates:[],tracks:[]}}getDisplayIds(t){const e={};return this._strategy?(this._strategy.displayMap(t,t=>t,(t,s,r)=>{e[r]=t}),e):e}getFeatureObjectIdsForAggregate(t){return this._strategy?this._strategy.getFeatureObjectIdsForAggregate(t):[]}onSubscribe(t){this._strategy?.onSubscribe(t)}onUnsubscribe(t){this._strategy?.onUnsubscribe(t)}requiresInvalidation(){return this._strategy?.requiresInvalidation()??!1}async update(t,s,r,i,o){const n=t.processor,h=e(this._schema?.storage,n.storage),u=e(this._schema?.mesh.properties,n.mesh.properties),p=e(this._schema?.mesh.factory,n.mesh.factory),y=e(this._schema?.mesh.strategy,n.mesh.strategy),d=w(this._schema?.expressionProperties,n.expressionProperties),_=d.some(t=>this._attributeStore.hasArcadeDependency(t)),l=d.some(t=>this._factory?.hasArcadeDependency(t)??!1),m=d.some(t=>this._strategy?.hasArcadeDependency(t))||this._strategy?.isAggregate&&_,b=l||m,I=u||p||y;if(!(h||I||(l||_||m))&&!i)return!1;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] SymbolProcessor.update`,{changes:a(this._schema,n),schema:n}),this._schema=n;const j=new f({fields:this._source.metadata.fieldsIndex,spatialReference:this._source.metadata.outSpatialReference}),x={currentUser:n.mesh.properties.currentUser};if((h||I||_)&&(await this._attributeStore.update(n.storage,j,this._source.metadata,s),this._strategy?.invalidateAttributeData(S(n))),!i&&!I&&!b)return!1;(y||u||b)&&await this._updateStrategy(n.mesh.strategy,o,S(n),x),this._updateSortKey(j,\"sortKey\"in n.mesh.properties?n.mesh.properties.sortKey:null);const v=\"dictionary\"===n.mesh.factory.symbology.type?n.mesh.factory.symbology.fieldMap:null,M=new g(j,this._proxy,r,this._registry,v);return(p||\"dictionary\"===n.mesh.factory.symbology.type)&&(this._factory=await c.create(M,n.mesh.factory)),this._version=s,!0}async applyOverrideUpdate(t){if(!this._strategy)return;const e=this._strategy.applyOverrideUpdate(t);for await(const r of e)try{await this._process(r)}catch(s){}}async updateChunks(){await this._doUpdateChunks(),this._strategy?.afterUpdateChunks()}async removeChunks(t){this._strategy?.removeChunks(t),this._attributeStore.incrementDisplayIdGeneration()}updateHighlight({highlights:t}){if(!this._strategy||!this._strategy.hasSubscribers)return void this._attributeStore.setHighlight(t.map(({objectId:t,highlightFlags:e})=>({objectId:t,highlightFlags:e,displayId:-1})),t);const e=this._strategy.displayMap(t,({objectId:t})=>t,(t,{highlightFlags:e},s)=>({objectId:s,displayId:t,highlightFlags:e}));this._attributeStore.setHighlight(e,t)}invalidate(){this._strategy&&this._strategy.invalidate()}async _doUpdateChunks(){if(!this._strategy)return;const t=this._strategy.updateChunks(),e=[],r=new Map;for await(const a of t){let t=r.get(a.id);null==t&&(t=new p({concurrency:16,process:t=>this._process(t)}),r.set(a.id,t));const i=t.push(a).catch(t=>s(t));e.push(i)}try{await Promise.all(e)}catch(i){}has(\"esri-2d-update-debug\")&&console.log(\"SendUpdates\"),this._attributeStore.sendUpdates(),has(\"esri-2d-update-debug\")&&console.log(\"SendUpdates.await\")}async _updateStrategy(t,e,s,r){switch(this._strategy?.destroy(),t.type){case\"feature\":this._strategy=new _(this._source,this._attributeStore,s,r);break;case\"binning\":this._strategy=await y.create(t,this._source,this._attributeStore,s,r);break;case\"cluster\":this._strategy=await d.create(this._connection,t,this._source,this._attributeStore,s,r);break;case\"track\":this._strategy=await l.create(t,this._source,this._attributeStore,s,r)}for(const i of e)this._strategy.onSubscribe(i)}async _updateSortKey(e,s){if(this._sortInfo=t(this._sortInfo?.computed),null!=s){const t=s.byRenderer?null:await e.createComputedField(s);this._sortInfo={...s,computed:t}}}async _process(t){const e=t.subscription;if(has(\"esri-2d-update-debug\")){const s=e.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${t.end}] Processor._process`)}const s={currentUser:this._schema?.mesh.properties.currentUser};await this._fetchResources(t,s),r(e.signal);const i=await this._write(t,e.tile.createArcadeEvaluationOptions(S(this._schema)),s),a=e.tile.tileInfoView.getLODInfoAt(e.tile.key);r(e.signal);const{message:o,transferList:n}=i.serialize(a),c={objectIdMap:null,inner:t.createMessage(o,this._version,this._attributeStore.epoch)};if(this._schema?.mesh.properties.returnMeshObjectId){c.objectIdMap={};const e=t.reader?.getCursor();if(e)for(;e.next();)c.objectIdMap[e.getDisplayId()]=e.getObjectId()}if(r(e.signal),await this._connection.container.onMessage(c,{signal:e.signal,transferList:n}),this._attributeStore.sendUpdates(),has(\"esri-2d-update-debug\")){const s=e.tile;console.debug(`Version[${this._version}] Tile[${s.key.id}, end=${t.end}] Processor._process.await`)}}async _fetchResources(t,e){await this._fetchMatcherResources(t),await this._fetchWriterResources(t,e)}async _fetchMatcherResources(t){if(t.reader)return this._factory.enqueueMatcherRequests(this._proxy,t.reader)}async _fetchWriterResources(t,e){if(!t.reader)return;const s=t.reader.getCursor(),r=t.subscription.tile.createArcadeEvaluationOptions(S(this._schema));for(;s.next();)this._factory.enqueueWriterRequests(this._proxy,s,r,e);await this._proxy.fetchEnqueuedResources()}async _write(t,e,s){const a=t.subscription.tile,o=t.reader?.getCursor(),c=o?.getSize()??0,h=a.tileInfoView.tileInfo.isWrappable,u=a.tileInfoView.tileInfo.spatialReference.isWGS84,g=new n(a.key,this._strategy.enablePixelBuffering,h,u,c);if(!o)return g;const p=a.createArcadeEvaluationOptions(S(this._schema));let y=0;for(;o.next();){++y%1e3||(await i(0),r(t.subscription));const n=this._getSortKeyValue(o,e);g.entityStart(o.getDisplayId(),n),this._factory.write(g,this._proxy,o,p,s,a.level),g.entityEnd()}return g}_getSortKeyValue(t,e){if(!this._sortInfo)return 0;const{computed:s,order:r,byRenderer:i}=this._sortInfo,a=i?this._factory.getSortKey(t,e):s?.read(t,e);return null==a||isNaN(a)?0:a*(\"asc\"===r?-1:1)}}function w(t,e){const s=[];return t?.timeExtent?.start===e.timeExtent?.start&&t?.timeExtent?.end===e.timeExtent?.end||s.push(\"timeProperties\"),s}function S(t){const{timeZone:e}=t?.mesh.properties??{},{timeExtent:s}=t?.expressionProperties??{};return{timeZone:e,timeExtent:s}}export{b as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{static from(e){let n=0,r=0,o=0;return e.forEach(t=>{const e=t._readGeometry();e&&(r+=e.isPoint?1:e.lengths.reduce((t,e)=>t+e,0),o+=e.isPoint?1:e.lengths.length,n+=1)}),new t(n,r,o)}constructor(t,e,n){this.featureCount=t,this.vertexCount=e,this.ringCount=n}toJSON(){return{featureCount:this.featureCount,ringCount:this.featureCount,vertexCount:this.featureCount}}}export{t as FeatureStoreStatistics};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../../core/Accessor.js\";import{watch as s}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";const o=2500;let a=class extends t{constructor(e){super(),this._connection=e,this._enabledEventTypes=new Set,this._updateInfo={websocket:0,client:0},this._lastTime=performance.now(),this._queuedCommands=[],this.addHandles([s(()=>this._strategy?.connectionStatus??\"disconnected\",e=>{this._layerView.setProperty({propertyName:\"pipelineConnectionStatus\",value:e})},{initial:!0}),s(()=>this._strategy?.errorString||null,e=>this._layerView.setProperty({propertyName:\"pipelineErrorString\",value:e}),{initial:!0})])}destroy(){this._strategy=null,this.removeAllHandles()}get _layerView(){return this._connection.layerView}set strategy(e){null==this._strategy&&this._resetUpdateInfo(performance.now());const t=\"event-handles\";this.removeHandles(t),null!=e&&(this.addHandles([e.events.on(\"data-received\",e=>this._onFeature(e)),e.events.on(\"message-received\",e=>this._onWebSocketMessage(e)),e.events.on(\"features-updated\",e=>this._onUpdate(e)),e.events.on(\"tick\",()=>this._onTick())],t),this._queuedCommands.forEach(t=>t(e)),this._queuedCommands=[]),this._strategy=e}updateCustomParameters(e){null!=e&&this._callOrEnqueue(t=>t.updateCustomParameters(e))}sendMessageToSocket(e){this._callOrEnqueue(t=>t.sendMessageToSocket(e))}sendMessageToClient(e){this._callOrEnqueue(t=>t.sendMessageToClient(e))}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}disconnect(){this._strategy?.disconnect()}connect(){this._strategy?.connect()}clear(){this._strategy?.clear()}_onWebSocketMessage(e){this._enabledEventTypes.has(\"message-received\")&&this._layerView.emitEvent({name:\"message-received\",event:e})}_onFeature(e){this._updateInfo.websocket++,this._enabledEventTypes.has(\"data-received\")&&this._layerView.emitEvent({name:\"data-received\",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}})}_onUpdate(e){this._updateInfo.client+=e}_onTick(){const e=performance.now(),t=e-this._lastTime;if(t>o){const s=Math.round(this._updateInfo.client/(t/1e3)),n=Math.round(this._updateInfo.websocket/(t/1e3));this._resetUpdateInfo(e),this._layerView.emitEvent({name:\"update-rate\",event:{client:s,websocket:n}})}}_resetUpdateInfo(e){this._lastTime=e,this._updateInfo.client=0,this._updateInfo.websocket=0}_callOrEnqueue(e){null!=this._strategy?e(this._strategy):this._queuedCommands.push(e)}};e([n()],a.prototype,\"_strategy\",void 0),a=e([r(\"esri.views.2d.layers.features.sources.StreamMessenger\")],a);export{a as StreamMessenger};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FeatureMetadata as t}from\"../../support/FeatureMetadata.js\";class r{constructor(){this._requiresInvalidation=!1}get requiresInvalidation(){return this._requiresInvalidation}requireInvalidation(){this._requiresInvalidation=!0}}class e{constructor(r,e,o){this._context=o,this._controller=new AbortController,this.metadata=t.createFeature(r),this._schema=e}destroy(){this._controller.abort(),this.store.destroy()}get store(){return this._context.store}get _connection(){return this._context.connection}get _options(){return{signal:this._controller.signal}}get _signal(){return this._controller.signal}async applyOverride(t){this._onOverride(),await this.store.applyOverride(t)}takeOverrideUpdate(){return this.store.takeOverrideUpdate()}unsafeSetQueryHistoricMoment(t){throw new Error(\"InternalError: LoadStrategy does not support query info\")}async queryByObjectId(t,r){throw new Error(\"InternalError: LoadStrategy does not support fetching\")}prepareCacheUpdate(t,r){}applyCacheUpdate(){return null}}export{e as ALoadStrategy,r as UpdateStatus};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../../../../../../core/Error.js\";import{throwIfAborted as e}from\"../../../../../../../core/promiseUtils.js\";import{FeatureSnapshotSourceChunk as n}from\"../chunks/FeatureSnapshotSourceChunk.js\";async function o(e,n,o,a={}){const s=(await Promise.allSettled(o.map(r=>t(e,n,r,a)))).filter(r=>\"rejected\"===r.status).map(r=>r.reason);if(s.length)throw new r(\"featurelayer-query\",\"Encountered errors when downloading data\",{errors:s})}async function t(r,o,t,a={}){const s=`${r.chunkPrefix??\"\"}${t.num}`,u=await r.fetch(t.query,a,{chunkId:s}),i=new n(u,t.query.inner.toJSON(),t.num,!1);i.chunkId=i.normalizedChunkId=s,e(a),o.insert(i)}export{o as fetchPages};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import e from\"../../../../../core/Logger.js\";import{debounce as r}from\"../../../../../core/promiseUtils.js\";import{generateUUID as s}from\"../../../../../core/uuid.js\";import{fetchPages as i}from\"./strategies/support/snapshotUtils.js\";const o=8e3;class h{constructor(h,a,c,n){this.store=h,this.queryInfo=a,this._options=c,this._fetch=n,this._nextBatch=new Set,this._fetchFeatures=r(async()=>{if(0===this._nextBatch.size||this._options.signal?.aborted)return;const r=Array.from(this._nextBatch);this._nextBatch.clear(),r.length>o&&e.getLogger(\"esri.views.2d.layers.FeatureLayerView2D\").warn(new t(\"highlight-too-many-features\",`highlight is limited to ${o} features on large layers configured with a display filter to avoid performance issues`));const h=this.queryInfo.objectIdsQueryPageSize,a=Math.ceil(o/h),c=Math.min(a,Math.ceil(r.length/h)),n=Array.from({length:c},(t,e)=>{const s=e*h,i=Math.min(s+h,r.length);return{num:e,query:this.queryInfo.createObjectIdsQuery(r.slice(s,i))}});try{await i({chunkPrefix:\"cache.\"+s(),fetch:this._fetch},this.store,n,this._options)}catch(f){}})}prepareCacheUpdate(t,e){if(e)for(const r of e)this._nextBatch.delete(r);for(const r of t)this._nextBatch.add(r)}applyCacheUpdate(){return 0===this._nextBatch.size||this._options.signal?.aborted?null:this._fetchFeatures().catch(()=>{})}}export{h as FeatureCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst o=32;export{o as fetchQueueConcurrency};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{estimateNumberArrayMemory as e}from\"../../../../../core/memoryEstimations.js\";import{getFeatureIdInfoFieldNames as t}from\"../../../../../layers/graphics/data/FeatureIdInfo.js\";import s from\"../../../../../layers/support/FieldsIndex.js\";import{parseField as r,parseTransform as o}from\"../../../../../rest/query/operations/pbfFeatureServiceParser.js\";const n=268435455;class i{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.idFieldIndices=[],this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}get usedMemory(){let t=0;return t+=e(this.idFieldIndices),t+=e(this.offsets.attributes),t+=e(this.offsets.geometry),t+=e(this.centroid),this.displayIds&&(t+=e(this.displayIds)),this.groupIds&&(t+=e(this.groupIds)),t}}function a(e,a,c,f=!1){const d=9,u=12,p=13,g=15,h=e.asUnsafe(),l=h.pos(),m=new i;let y=0,I=0;const w=1,b=2,k=4,x=3;let A=null,L=!1;const F=[];for(;h.next();)switch(h.tag()){case u:A=h.processMessage(o);break;case d:if(m.exceededTransferLimit=h.getBool(),m.exceededTransferLimit){m.offsets.geometry=f?new Float64Array(8e3):new Int32Array(8e3),m.centroid=f?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<m.centroid.length;e++)m.centroid[e]=n}break;case p:{const e=h.processMessage(r);e.index=y++,F.push(e);break}case g:{const e=h.getLength(),t=h.pos()+e;if(!m.exceededTransferLimit){const e=m.offsets.geometry,t=m.centroid;e.push(0),t.push(n),t.push(n)}!L&&m.exceededTransferLimit&&(L=!0,m.offsets.attributes=f?new Float64Array(8e3*y):new Uint32Array(8e3*y));let s=I*y;for(;h.pos()<t&&h.next();)switch(h.tag()){case w:{if(L)m.offsets.attributes[s++]=h.pos();else{m.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case b:if(a){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case x:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();m.centroid[2*I]=e,m.centroid[2*I+1]=t;break}default:h.skip()}}else{m.offsets.geometry[I]=h.pos();const e=h.getLength();m.vertexCount+=e,h.skipLen(e)}break;case k:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case x:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();m.centroid[2*I]=e,m.centroid[2*I+1]=t;break}default:h.skip()}break}default:h.skip()}I++,m.hasFeatures=!0;break}default:h.skip()}m.fields=new s(F),m.featureCount=I,m.fieldCount=y;const C=t(c);return m.idFieldIndices=Array.from(C,e=>m.fields.get(e)?.index),m.transform=A,m.displayIds=new Uint32Array(m.featureCount),m.groupIds=new Uint16Array(m.featureCount),h.move(l),m}export{i as FeatureSetHeader,a as parseHeader};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import t from\"../../../../../core/Logger.js\";import{assertIsSome as r}from\"../../../../../core/maybe.js\";import{baseObjectMemory as s}from\"../../../../../core/memoryEstimations.js\";import n from\"../../../../../core/pbf.js\";import a from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetCache as i}from\"./FeatureSetCache.js\";import{FeatureSetReader as h}from\"./FeatureSetReader.js\";import{parseHeader as o}from\"./FeatureSetReaderPBFHeader.js\";const d=268435455,u=128,c=128e3,l={small:{delta:new Int32Array(u),decoded:new Int32Array(u)},small64:{delta:new Float64Array(0),decoded:new Float64Array(0)},large:{delta:new Int32Array(c),decoded:new Int32Array(c)},large64:{delta:new Float64Array(0),decoded:new Float64Array(0)}};function g(e,t){return t?e<=l.small64.delta.length?l.small64:(e<=l.large64.delta.length||(l.large64.delta=new Float64Array(Math.round(1.25*e)),l.large64.decoded=new Float64Array(Math.round(1.25*e))),l.large64):e<=l.small.delta.length?l.small:(e<=l.large.delta.length||(l.large.delta=new Int32Array(Math.round(1.25*e)),l.large.decoded=new Int32Array(Math.round(1.25*e))),l.large)}function _(r){try{const e=2,t=new n(new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return f(t.getMessage());t.skip()}}catch(s){const r=new e(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:s});t.getLogger(\"esri.view.2d.layers.features.support.FeatureSetReaderPBF\").error(r)}return null}function f(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function y(e){const t=1,r=2,s=3,n=4,a=5,i=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case a:return e.getUInt32();case i:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,n){if(!e)return!1;return 0===t*n-s*r&&t*s+r*n>0}class I extends h{static fromBuffer(e,t,r=!1){const s=t.geometryType,n=_(e),a=o(n,\"esriGeometryPoint\"===s,t.featureIdInfo,r);return new I(n,a,t,r)}constructor(e,t,r,s){super(r),this._use64Bit=s,this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0},this._parseCaches=new Array,this._geometryType=r.geometryType,this._reader=e,this._header=t,this._hasNext=t.hasFeatures,this._isPoints=\"esriGeometryPoint\"===r.geometryType}get _size(){return this._header.featureCount}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get hasZ(){return!1}get hasM(){return!1}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getInTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._featureIndex=e}getAttributeHash(){let e=\"\";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+\".\";return e}getObjectId(){if(1===this._header.idFieldIndices.length)return this._readAttributeAtIndex(this._header.idFieldIndices[0]);const e=this._header.idFieldIndices.map(e=>this._readAttributeAtIndex(e));return JSON.stringify(e)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}readGeometryArea(){return this._cache.area||this._readGeometry(!0),this._cache.area}copy(){const e=this._reader.clone(),t=new I(e,this._header,this.metadata,this._use64Bit);return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}get usedMemory(){return s+(this._cache.geometry?.usedMemory??0)}get underlyingMemory(){return super.underlyingMemory+this._reader.usedMemory+this._header.usedMemory}_readX(){return this._header.centroid[2*this._featureIndex]}_readY(){return this._header.centroid[2*this._featureIndex+1]}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];return e===d?null:new a([],[e,t])}_readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===d)return null;const e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];r=new a([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],n=this._reader;if(0===s)return null;n.move(s);try{r=e?this._parseGeometryForDisplay(n):this._parseGeometry(n)}catch(t){return null}}return 0===r?.coords.length&&(r=null),this._cache.geometry=r,r}return this._cache.geometry}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;const s=this._readAttributeAtIndex(r.index),n=this._header.fields.isDateField(r.name);return t?null==s?s:n?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext,e._parseCaches=this._parseCaches}_readAttributeAtIndex(e){let t=this._parseCaches[e];if(t||(t=new i(this.getSize()),this._parseCaches[e]=t),t.has(this._featureIndex))return t.get(this._featureIndex);const r=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],s=this._reader;s.move(r);const n=y(s);return t.set(this._featureIndex,n),n}_readGeometryDeltaDecoded(e=!1){if(void 0===this._cache.unquantGeometry){const t=this._readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;if(!this.getInTransform())return this._cache.unquantGeometry=t,t;const r=g(t.coords.length,this._use64Bit).decoded,s=t.clone(r),n=s.coords;let a=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(a+t),r=2*(a+t-1);n[e]+=n[r],n[e+1]+=n[r+1]}a+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),n=s.getLength(),i=s.pos()+n,h=[],o=[];for(;s.pos()<i&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();s.pos()<t;)h.push(s.getSInt64()),h.push(s.getSInt64()),this.hasZ&&s.getSInt64(),this.hasM&&s.getSInt64();break}default:s.skip()}return new a(o,h)}_parseGeometryForDisplay(e){const t=2,s=3,n=e.asUnsafe(),i=n.getLength(),h=n.pos()+i,o=[],d=[];let u=0,c=0,l=null,_=0;const f=\"esriGeometryPolygon\"===this.geometryType,y=\"esriGeometryPolyline\"===this.geometryType,I=f?3:y?2:1,p=f||y;for(;n.pos()<h&&n.next();)switch(n.tag()){case t:{const e=n.getUInt32(),t=n.pos()+e;for(;n.pos()<t;){const e=n.getUInt32();o.push(e),u+=e}l=g(2*u,this._use64Bit).delta;break}case s:{n.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);r(l);for(const t of o){if(c+e*t>l.length){for(let e=0;e<t;e++)n.getSInt64(),n.getSInt64(),this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64();continue}let r=0,s=n.getSInt64(),a=n.getSInt64();this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64(),l[c++]=s,l[c++]=a,r+=1;for(let e=1;e<t;e++){const e=n.getSInt64(),t=n.getSInt64(),i=s+e,h=a+t;_+=-.5*(i-s)*(h+a),this.hasZ&&n.getSInt64(),this.hasM&&n.getSInt64(),0===e&&0===t||m(p,l[c-2],l[c-1],e,t)?(l[c-2]+=e,l[c-1]+=t):(l[c++]=e,l[c++]=t,r+=1),s=i,a=h}r>=I?d.push(r):c-=r*e}break}default:n.skip()}return this._cache.area=_,d.length?new a(d,l):null!=l?this._createDeltaQuantizedExtrudedGeometry(l[0],l[1]):null}}export{I as FeatureSetReaderPBF};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../../core/has.js\";import t from\"../../../../../../../core/workers/Connection.js\";import{toQuantizationTransform as e}from\"../../../../../../../geometry/support/quantizationUtils.js\";import{convertFromFeatureSet as a,quantizeOptimizedFeatureSet as r}from\"../../../../../../../layers/graphics/featureConversionUtils.js\";import{queryOptimizedFeatureSet as s}from\"../../../../../../../layers/ogc/ogcFeatureUtils.js\";import{executeQueryPBFBuffer as i,executeQuery as o}from\"../../../../../../../rest/query/operations/query.js\";import{FeatureSetReaderJSON as n}from\"../../../support/FeatureSetReaderJSON.js\";import{FeatureSetReaderPBF as u}from\"../../../support/FeatureSetReaderPBF.js\";class c{constructor(t,e){this.service=t,this._metadata=e}destroy(){}}function m(t,e,a){switch(t.type){case\"memory\":return new p(t,e,a);case\"ogc\":return new h(t,e);case\"feature-service\":return t.queryMetadata.supportsFormatPBF&&has(\"featurelayer-pbf\")?new d(t,e):new f(t,e)}}async function l(e){const a=new t;return await a.open(e,{}),a}class p extends c{constructor(t,e,a){super(t,e),this._ports=[],this._loaded=this._load(a)}destroy(){this._loaded.finally(()=>{this._client.close(),this._client=null;for(const t of this._ports)t.close()}).catch(()=>{})}async _load(t){this._ports=await t.layerView.openMemoryPorts(),this._client=await l(this._ports)}async executeQuery(t,e){await this._loaded;const a=await this._client.invoke(\"queryFeatures\",t.toJSON(),e);return n.fromFeatureSet(a,this._metadata)}}class d extends c{async executeQuery(t,e){const{data:a}=await i(this.service.source,t,e),r=!t.quantizationParameters;return u.fromBuffer(a,this._metadata,r)}}class f extends c{async executeQuery(t,s){const{source:i,queryMetadata:u}=this.service;if(null!=t.quantizationParameters&&!u.supportsQuantization){const u=t.clone(),c=e(u.quantizationParameters);u.quantizationParameters=null;const{data:m}=await o(i,u,this._metadata.spatialReference,s),l=a(m,this._metadata.featureIdInfo);return r(c,l),n.fromOptimizedFeatureSet(l,this._metadata)}const{data:c}=await o(i,t,this._metadata.spatialReference,s);return\"esriGeometryPoint\"===this._metadata.geometryType&&(c.features=c.features?.filter(t=>{if(null!=t.geometry){const e=t.geometry;return Number.isFinite(e.x)&&Number.isFinite(e.y)}return!0})),n.fromFeatureSet(c,this._metadata)}}class h extends c{async executeQuery(t,a){if(t.quantizationParameters&&!this.service.queryMetadata.supportsQuantization){const i=t.clone(),o=e(i.quantizationParameters);i.quantizationParameters=null;const u=await s(this.service.source,t,a);return r(o,u),n.fromOptimizedFeatureSet(u,this._metadata)}const i=await s(this.service.source,t,a);return n.fromOptimizedFeatureSet(i,this._metadata)}}export{c as SourceAdapter,m as createQueryAdapter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../request.js\";import t from\"../../../../../../core/Error.js\";import r from\"../../../../../../core/Logger.js\";import{notDeepEqual as s}from\"../../../../../../core/object.js\";import{QueueProcessor as i}from\"../../../../../../core/QueueProcessor.js\";import a from\"../../../../../../rest/support/Query.js\";import{FeatureSourceQueryInfo as n}from\"../FeatureSourceQueryInfo.js\";import{ALoadStrategy as o}from\"./ALoadStrategy.js\";import{fetchQueueConcurrency as u}from\"./constants.js\";import{createQueryAdapter as d}from\"./support/queryAdapters.js\";import{FeatureSetReaderJSON as c}from\"../../support/FeatureSetReaderJSON.js\";class l extends o{constructor(e,t,r){super(e.metadata,t,r),this._service=e,this._didApplyOverride=!1,this._queue=new i({concurrency:u,process:async e=>{const t={signal:e.options?.signal,query:e.query.customParameters,useRequestQueue:!0};return this._adapter.executeQuery(e.query.inner,t)}}),this._queryInfo=n.create(e,{...t.full,...t.partial},this.metadata),this._adapter=d(e,this.metadata,r.connection),this._lastEditDate=e.queryMetadata.lastEditDate}destroy(){super.destroy(),this._adapter.destroy()}unsafeSetQueryHistoricMoment(e){this._queryInfo.updateHistoricMoment(e)}async tryUpdate(e,t){if(s(this.availableFields,t.availableFields)){if(this._didApplyOverride||await this._queryLastEditDateChanged())return!1;await this._updateFields(t.availableFields)}return this._schema.partial=t,!0}async queryByObjectId(e,t){if(0===e.length)return c.empty(this.metadata);const r=this._queryInfo.createQuery({objectIds:e});return r.inner.outFields=t,this._fetch(r,null,null)}get availableFields(){return this._schema.partial.availableFields}get definitionExpression(){return this._schema.full.definitionExpression}_onOverride(){this._didApplyOverride=!0}async _updateFields(e){this._queryInfo.updateFields(e);const r=Array.from(this.store.chunks()).map(async e=>{const t=a.fromJSON(e.queryInfo.queryJSON);if(t)try{return await this._tryUpdateFields(e.reader,t,{chunkId:e.chunkId}),null}catch(r){return r}}),s=(await Promise.all(r)).filter(e=>e);if(s.length)throw new t(\"featurelayer-query\",\"Encountered errors when downloading fields\",{errors:s})}async _fetch(e,t,r){const s=await this._enqueue(e,t);return await this._tryUpdateFields(s,e.inner,r),s}async _queryLastEditDateChanged(){if(null==this._lastEditDate)return!1;if(!(\"source\"in this._service))return!1;const t=this._service.source,r={...t.query,f:\"json\"},s=(await e(t.path,{query:r,responseType:\"json\"})).data.editingInfo.lastEditDate;return s!==this._lastEditDate&&(this._lastEditDate=s,!0)}async _tryUpdateFields(e,s,i){const a=this._queryInfo.createPatchFieldsQuery(s,e,i);if(!a)return;const n=await this._enqueue(a,this._options);n.getSize()===e.getSize()?e.joinAttributes(n):r.getLogger(\"esri.views.2d.layers.features.sources.strategies.AFetchLoadStrategy\").error(new t(\"featurelayer-query\",`Failed to join features. Expected a count of ${e.getSize()} features, but got ${n.getSize()}`,{query:a.inner.toJSON(),debugInfo:i}))}async _enqueue(e,t){return this._connection.onEvent({type:\"fetchStart\"}),this._queue.push({query:e,options:t}).finally(()=>{this._connection.onEvent({type:\"fetchEnd\",done:0===this._queue.length})})}}export{l as AFeatureLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../core/has.js\";import{FeatureCache as e}from\"../FeatureCache.js\";import{AFeatureLoadStrategy as t}from\"./AFeatureLoadStrategy.js\";class s extends t{constructor(t,s,h){super(t,s,h),this._chunksById=new Map,this._featureCache=new e(this.store,this._queryInfo,this._options,this._fetch.bind(this))}prepareCacheUpdate(e,t){return this._featureCache.prepareCacheUpdate(e,t)}applyCacheUpdate(){return this._featureCache.applyCacheUpdate()}unload(e){this._removeChunks(e.tile)}_addChunk(e){const t=e.tile.id;this._chunksById.has(t)||this._chunksById.set(t,[]);const s=e.size();(s||e.first||e.end)&&(has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] ATileLoadStrategy.addChunk [count=${s}]`),this._chunksById.get(t).push(e),this.store.insert(e))}_removeChunks(e){const t=this._chunksById.get(e.key.id)??[];for(const s of t)has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e.key.id}] Chunk[${s.chunkId}] ATileLoadStrategy.removeChunk`),this.store.remove(s);this._chunksById.delete(e.key.id)}}export{s as AFeatureTileLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class i extends e{constructor(e,i,t,r,s,h){super(),this._reader=e,this._queryJSON=i,this._tile=t,this._sourceTile=r,this._sourceTileDepth=s,this._end=h,this.chunkId=`${this._tile.key.id}.${this._sourceTile?.key.id}${this._end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._sourceTile?.key.normalizedId}${this._end?\"e\":\"\"}`}get queryInfo(){return{type:\"drill-down-tile\",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,sourceTileDepth:this._sourceTileDepth,sourceTileId:this._sourceTile?.key.id,size:this.size(),end:this.end}}get first(){return 0===this._sourceTileDepth}get reader(){return this._reader}get end(){return this._end}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}export{i as DrillDownTileSourceChunk};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../../../../core/handleUtils.js\";import has from\"../../../../../../core/has.js\";import{throwIfAborted as e,onAbort as s}from\"../../../../../../core/promiseUtils.js\";import{AFeatureTileLoadStrategy as o}from\"./AFeatureTileLoadStrategy.js\";import{DrillDownTileSourceChunk as r}from\"./chunks/DrillDownTileSourceChunk.js\";import{FeatureSetReaderJSON as i}from\"../../support/FeatureSetReaderJSON.js\";const a=has(\"featurelayer-query-max-depth\");class l{constructor(e,o){this.subscription=e,this._tileIdToResult=new Map,this._controller=new AbortController,this._handles=t([s(e.signal,()=>this._controller.abort()),s(o,()=>this._controller.abort())])}destroy(){this._controller.abort(),this._handles.remove()}get(t){return this._tileIdToResult.get(t)}set(t,e){this._tileIdToResult.set(t,e)}get options(){return{signal:this._controller.signal}}}class n extends o{constructor(){super(...arguments),this._loadStates=new Map}destroy(){super.destroy();for(const t of this._loadStates.values())t.destroy();this._loadStates.clear()}get about(){return{willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(t){this._loadStates.has(t.key.id)||this._loadStates.set(t.key.id,new l(t,this._options));const s=this._loadStates.get(t.key.id);let o;try{for await(const o of this._fetchChunkInfos(s,t.tile,0)){const{queryJSON:t,reader:i,sourceTile:a,sourceTileDepth:l,tile:n}=o,h=new r(i,t,n,a,l,!1);e(s.options),this._addChunk(h)}}catch(n){o=n}e(s.options);const a=new r(i.empty(this.metadata),null,t.tile,null,-1,!0);if(this._addChunk(a),o)throw o}unload(t){super.unload(t),this._loadStates.get(t.key.id)?.destroy(),this._loadStates.delete(t.key.id)}async*_fetchChunkInfos(t,e,s){let o=t.get(e.id);const r=!!o;if(o||(o=await this._fetchChunkInfo(t,e,s),t.set(e.id,o)),o.reader.exceededTransferLimit&&s<has(\"featurelayer-query-max-depth\"))for(const i of e.createChildTiles())yield*this._fetchChunkInfos(t,i,s+1);else r||(yield o)}async _fetchChunkInfo(t,e,s){const o=t.subscription.tile.getQuantizationParameters(),r=this._queryInfo.createTileQuery(e,{returnExceededLimitFeatures:s===a,quantizationParameters:o});return{reader:await this._fetch(r,t.options,{chunkId:e.id}),queryJSON:r.inner.toJSON(),tile:t.subscription.tile,sourceTile:e,sourceTileDepth:s}}}export{n as FeatureDrillDownTileLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class t extends e{constructor(e,t,i,r,s){super(),this._reader=e,this._queryJSON=t,this._tile=i,this._page=r,this._end=s,this.chunkId=`${this._tile.key.id}.${this._page}${this.end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._page}${this.end?\"e\":\"\"}`}get queryInfo(){return{type:\"paged-tile\",chunkId:this.chunkId,tileId:this._tile.key.id,queryJSON:this._queryJSON,page:this._page,size:this.size(),end:this.end}}get reader(){return this._reader}get first(){return 0===this._page}get end(){return this._end}get page(){return this._page}get tile(){return this._tile}get isTiled(){return!0}getTileReader(e){return this._tile.key.id===e.key.id?this.reader:null}}export{t as PagedTileSourceChunk};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e}from\"../../../../../../core/handleUtils.js\";import has from\"../../../../../../core/has.js\";import{getOrCreateMapValue as t}from\"../../../../../../core/MapUtils.js\";import{throwIfAborted as o,isAbortError as s,onAbort as r}from\"../../../../../../core/promiseUtils.js\";import{AFeatureTileLoadStrategy as a}from\"./AFeatureTileLoadStrategy.js\";import{PagedTileSourceChunk as i}from\"./chunks/PagedTileSourceChunk.js\";import{FeatureSetReaderJSON as n}from\"../../support/FeatureSetReaderJSON.js\";class l{constructor(t,o){this.subscription=t,this._pages=new Set,this._controller=new AbortController,this._done=!1,this._handles=e([r(t.signal,()=>this._controller.abort()),r(o,()=>this._controller.abort())])}destroy(){this._controller.abort(),this._handles.remove()}get pageStart(){let e=-1;for(const t of this._pages.values())e=Math.max(e,t);return e+1}get done(){return this._done}get options(){return{signal:this._controller.signal}}add(e,t){this._pages.add(e),this._done=this._done||t}}class c extends a{constructor(){super(...arguments),this._loadStates=new Map}destroy(){super.destroy();for(const e of this._loadStates.values())e.destroy();this._loadStates.clear()}get about(){return{willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}async load(e){const o=t(this._loadStates,e.key.id,()=>new l(e,this._options));for await(const t of this._fetchPages(o))this._addChunk(t)}unload(e){super.unload(e),this._loadStates.get(e.key.id)?.destroy(),this._loadStates.delete(e.key.id)}async*_fetchPages(e){let t;try{for await(const t of this._concurrentPageStream(e))o(e.options),0!==t.size()&&(yield t)}catch(r){t=r}if(t&&s(t)||(yield new i(n.empty(this.metadata),null,e.subscription.tile,-1,!0)),t)throw t}async*_concurrentPageStream(e){const t=has(\"featurelayer-query-tile-concurrency\"),o=this._pageStreamAll(e),s=[];let r=!1,a=1;for(;!r;){const e=[];for(;!r&&s.length<a;){const t=o.next();if(!t.value){r=!0;break}const a=t.value;a.then(e=>{e.reader.exceededTransferLimit||(r=!0)}).catch(e=>{r=!0}).finally(()=>{s.splice(s.indexOf(a),1)}),s.push(a),e.push(a)}for(const t of e)yield t;s.length&&await Promise.race(s),a<t&&(a+=1)}}*_pageStreamAll(e){const t=Math.ceil(has(\"featurelayer-query-tile-max-features\")/this._queryInfo.pageSize);for(let o=0;o<t;o++)yield this._downloadPage(o,e)}async _downloadPage(e,t){o(t.options);const s=t.subscription.tile,r=this._queryInfo.createPagedTileQuery(s,e),a=await this._fetch(r,t.options,{chunkId:`${s.id}-${e}`});return o(t.options),new i(a,r.inner.toJSON(),s,e,!1)}}export{c as FeaturePagedTileLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import has from\"../../../../../../core/has.js\";import{isAbortError as t,throwIfAborted as r}from\"../../../../../../core/promiseUtils.js\";import o from\"../../../../../../rest/support/QuantizationParameters.js\";import{AFeatureLoadStrategy as a}from\"./AFeatureLoadStrategy.js\";import{FeatureSnapshotSourceChunk as s}from\"./chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSetReaderJSON as n}from\"../../support/FeatureSetReaderJSON.js\";class i extends a{constructor(e,t,r){super(e,t,r)}get about(){return{willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}load(e){return null==this._promise&&(this._promise=this._download()),this._promise}unload(e){}async _download(){const e=this._schema.snapshotInfo.initialTolerance,t=e?new o({mode:\"view\",originPosition:\"upper-left\",tolerance:e}):null;await this._downloadStreaming(t),null!=t&&await this._downloadRefresh()}async _downloadStreaming(t){try{for await(const e of this._fetchPages(t))this.store.insert(e)}catch(r){throw new e(\"featurelayer-query\",\"Encountered error when downloading data\",{error:r})}}async _downloadRefresh(){try{const e=[];for await(const t of this._fetchPages(null))e.push(t);this.store.clear();for(const t of e)this.store.insert(t);this.store.refresh()}catch(t){throw new e(\"featurelayer-query\",\"Encountered error when downloading data\",{error:t})}}async*_fetchPages(e){let r;try{for await(const t of this._concurrentPageStream(e))0!==t.size()&&(yield t)}catch(o){r=o}if(r&&t(r)||(yield new s(n.empty(this.metadata),null,-1,!0)),r)throw r}async*_concurrentPageStream(e){const t=has(\"featurelayer-snapshot-concurrency\"),r=this._pageStreamAll(e),o=[];let a=!1,s=1;for(;!a;){const e=[];for(;!a&&o.length<s;){const t=r.next();if(!t.value){a=!0;break}const s=t.value;s.then(e=>{e.reader.exceededTransferLimit||(a=!0)}).catch(e=>{a=!0}).finally(()=>{o.splice(o.indexOf(s),1)}),o.push(s),e.push(s)}for(const t of e)yield t;o.length&&await Promise.race(o),s<t&&(s+=1)}}*_pageStreamAll(e){const t=Math.ceil(this._schema.snapshotInfo.maxFeatureCount/this._queryInfo.pageSize);for(let r=0;r<t;r++)yield this._downloadPage(r,e)}async _downloadPage(e,t){r(this._options);const o=this._queryInfo.createPagedQuery(e,t),a=await this._fetch(o,this._options,{chunkId:e.toString()}),n=new s(a,o.inner.toJSON(),e,!1);return r(this._options),n}}export{i as FeatureSnapshotLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/Error.js\";import{notDeepEqual as s}from\"../../../../../../core/object.js\";import{throwIfAborted as t}from\"../../../../../../core/promiseUtils.js\";import{difference as i}from\"../../../../../../core/SetUtils.js\";import r from\"../../../../../../layers/support/FieldsIndex.js\";import{createParquetFile as a}from\"../../../../../../libs/parquet/parquet.js\";import{ALoadStrategy as o}from\"./ALoadStrategy.js\";import{FeatureSnapshotSourceChunk as l}from\"./chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSetReaderJSON as n}from\"../../support/FeatureSetReaderJSON.js\";import{FeatureSetReaderParquet as m}from\"../../support/FeatureSetReaderParquet.js\";class u extends o{constructor(e,s,t){super(e.metadata,s,t),this._service=e,this._chunkId=0,this._files=new Map}destroy(){super.destroy();for(const e of this._files.values())e.free();this._files.clear()}get about(){return{willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}get availableFields(){return this._schema.partial.availableFields}get definitionExpression(){return this._schema.full.definitionExpression}async tryUpdate(t,i){if(s(this.availableFields,i.availableFields)&&await this._updateFields(i.availableFields),s(this._schema.partial.urls,i.urls)){for(const e of i.urls)this._files.has(e)||await this._insert(e);for(const s of this._files.keys())if(!i.urls.includes(s))throw new e(\"unsupported\",\"Removing parquet files is not supported\",{previous:this._schema.partial.urls,next:i.urls})}return this._schema.partial=i,!0}async load(e){return null==this._promise&&(this._promise=this._download()),this._promise}unload(e){}_onOverride(){}async _updateFields(e){await this._promise;const s=new Set(e),t=i(s,new Set(this.availableFields)),r=this._fieldsIndex;if(null==r)return;const a=Array.from(t).map(e=>r.get(e)?.column);if(t.size)for(const i of this._files.values())await i.ensureFields(new Uint32Array(a))}async _insert(e){const s=await a(e,{geometryInfo:this._service.geometryInfo,outSpatialReference:this._service.outSpatialReference,getCustomParameters:()=>this._schema.full.customParameters}),i=this._files.size;this._files.set(e,s),t(this._options);const o=s.fields().map(e=>({name:e.name,alias:e.name,type:e.type,column:s.columnForFieldName(e.name)})),{timeZoneByFieldName:n}=this._service.metadata.fieldsIndex,u=r.fromJSON({fields:o,timeZoneByFieldName:n});this._fieldsIndex=u;const h=new Uint32Array(Array.from(this.availableFields.values()).map(e=>u.get(e)?.column).filter(e=>null!=e));await s.readAllChunks(h,this._signal,e=>{if(this._signal.aborted)return;const s=this._chunkId++,t=new m(this.metadata,u,e,s,i),r=new l(t,null,s,!1);this.store.insert(r)})}async _download(){try{await Promise.all(this._schema.partial.urls.map(e=>this._insert(e)));const e=new l(n.empty(this.metadata),null,-1,!0);this.store.insert(e)}catch(e){throw console.error(e),e}}}export{u as ParquetSnapshotLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";import{FeatureSetReaderIndirect as t}from\"../../../support/FeatureSetReaderIndirect.js\";import{FeatureSetReaderJSON as r}from\"../../../support/FeatureSetReaderJSON.js\";class i extends e{constructor(e,t,r,i,s){super(),this._metadata=e,this._reader=t,this._tile=r,this._page=i,this._end=s,this.chunkId=`${this._tile.key.id}.${this._page}${this.end?\"e\":\"\"}`,this.normalizedChunkId=`${this._tile.key.normalizedId}.${this._page}${this.end?\"e\":\"\"}`}get reader(){return this._reader??r.empty(this._metadata)}get first(){return 0===this._page}get end(){return this._end}get tile(){return this._tile}get queryInfo(){return{type:\"parquet\",chunkId:this.chunkId,queryJSON:null,page:this._page,size:this.size(),tileId:this._tile.id,end:this.end}}get isTiled(){return!0}getTileReader(e){if(this._tile.key.id===e.key.id){const r=[];for(let e=0;e<this.reader.getSize();e++)r.push(e);const i=t.from(this.reader,r);return i.setTransformForDisplay(e.transform),i}return null}}export{i as ParquetSourceChunk};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{notDeepEqual as e}from\"../../../../../../core/object.js\";import{QueueProcessor as t}from\"../../../../../../core/QueueProcessor.js\";import{difference as i,union as a}from\"../../../../../../core/SetUtils.js\";import s from\"../../../../../../geometry/Polygon.js\";import r from\"../../../../../../geometry/SpatialReference.js\";import{toExtent as n}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{convertFromPolygon as o}from\"../../../../../../layers/graphics/featureConversionUtils.js\";import l from\"../../../../../../layers/graphics/OptimizedGeometry.js\";import{project as d}from\"../../../../../../layers/graphics/data/projectionSupport.js\";import m from\"../../../../../../layers/support/FieldsIndex.js\";import{createParquetFile as u}from\"../../../../../../libs/parquet/parquet.js\";import{ALoadStrategy as h}from\"./ALoadStrategy.js\";import{fetchQueueConcurrency as p}from\"./constants.js\";import{ParquetSourceChunk as f}from\"./chunks/ParquetSourceChunk.js\";import{FeatureSetReaderParquet as c}from\"../../support/FeatureSetReaderParquet.js\";class y extends h{constructor(e,t,i){if(super(e.metadata,t,i),this._files=[],!e.geometryInfo.displayOptimization)throw new Error(\"InternalError: ParquetTileLoadStrategy only supports XZ-enabled parquet files\");this._index=_.create(t.partial.urls,this.metadata,e,new Set(t.partial.availableFields),this.store,()=>t.full.customParameters)}destroy(){super.destroy();for(const e of this._files)e.free()}get about(){return{willQueryAllFeatures:!0,willQueryFullResolutionGeometry:!0}}get availableFields(){return this._schema.partial.availableFields}get definitionExpression(){return this._schema.full.definitionExpression}async tryUpdate(t,i){return e(this.availableFields,i.availableFields)&&await this._updateFields(i.availableFields),this._schema.partial=i,!0}async load(e){const t=await this._index;await t.ensureLoaded(e)}unload(e){this._index.then(t=>t.unload(e.tile))}_onOverride(){}async _updateFields(e){return(await this._index).updateFields(e)}}class _{static async create(e,t,i,a,s,r){const n=await Promise.all(e.map(e=>u(e,{geometryInfo:i.geometryInfo,outSpatialReference:i.outSpatialReference,getCustomParameters:r})));if(1!==n.length)throw new Error(\"InternalError: experimental parquet XZ display optimization only supports a single file.\");const[o]=n,l=o.fields().map(e=>({name:e.name,alias:e.name,type:e.type,column:o.columnForFieldName(e.name)})),{timeZoneByFieldName:d}=i.metadata.fieldsIndex,h=m.fromJSON({fields:l,timeZoneByFieldName:d}),p=new Uint32Array(Array.from(a.values()).map(e=>h.get(e)?.column).filter(e=>null!=e)),f=i.geometryInfo.displayOptimization;if(!f)throw new Error(\"InternalError: tiled parquet load requires display optimization\");return new _(t,await Promise.all(n),h,p,s,a,f)}constructor(e,i,a,s,r,n,o){this._metadata=e,this._files=i,this._fieldsIndex=a,this._fieldIndices=s,this._store=r,this._availableFields=n,this._displayOptimization=o,this.fileIndex=0,this._queue=new t({concurrency:p,process:e=>this._ensureLoaded(e)}),this._tileIdToChunkId=new Map}get file(){return this._files[0]}async ensureLoaded(e){return this._queue.push(e)}unload(e){const t=this._tileIdToChunkId.get(e.id);if(null!=t){for(const e of t)this._store.removeById(e);this._tileIdToChunkId.delete(e.id)}}async _ensureLoaded(e){const t=this._metadata.outSpatialReference,i=e.tile,{xmin:a,ymin:s,xmax:r,ymax:n}=x(i.extent,t);let o=0;const l={extent:i.extent,extent_lat_lng:{xmin:a,ymin:s,xmax:r,ymax:n},tile_level:i.level,attributes:this._fieldIndices};if(\"z\"===this._displayOptimization.mode?await this.file.queryZChunks(l.extent_lat_lng,this._fieldIndices,e.signal,t=>{if(e.signal.aborted)return;const a=new c(this._metadata,this._fieldsIndex,t,o,this.fileIndex),s=new f(this._metadata,a,i,o++,!1);this._insertChunk(i,s)}):await this.file.queryXZChunks(l,e.signal,t=>{if(e.signal.aborted)return;const a=new c(this._metadata,this._fieldsIndex,t,o,this.fileIndex),s=new f(this._metadata,a,i,o++,!1);this._insertChunk(i,s)}),e.signal.aborted)return;const d=new f(this._metadata,null,i,o++,!0);this._insertChunk(i,d)}_insertChunk(e,t){let i=this._tileIdToChunkId.get(e.id);null==i&&(i=[],this._tileIdToChunkId.set(e.id,i)),i.push(t.chunkId),this._store.insert(t)}async updateFields(e){const t=new Set(e),s=i(t,this._availableFields);if(this._availableFields=a(s,this._availableFields),s.size)for(const i of this._files){const e=Array.from(s).map(e=>this._fieldsIndex.get(e)?.column);await i.ensureFields(new Uint32Array(e))}}}function x(e,t){const i=[e.xmin,e.ymin,e.xmax,e.ymax],a=s.fromExtent(n(i,t)),m=d(a,t,r.WGS84);if(!m)return null;const u=o(new l,m,!1,!1),h=u.coords.filter((e,t)=>!(t%2)),p=u.coords.filter((e,t)=>t%2);return{xmin:Math.min(...h),ymin:Math.min(...p),xmax:Math.max(...h),ymax:Math.max(...p)}}export{y as ParquetTileLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import e from\"../../../core/Error.js\";import{clamp as s}from\"../../../core/mathUtils.js\";import{defaultStreamIdField as i,esriTimestamp as r,internalTimeReceivedField as o}from\"../../support/streamLayerUtils.js\";const d=1e3;class a{constructor(t,s,r,o,d=128){if(this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=r,this._purgeOptions=o,this.store=t,\"unique-id-composite\"===s.type)throw new e(\"stream-layer\",\"composite uniqueIds are not supported\");this.idField=s.fieldName,this.purgeInterval=d,this._useGeneratedIds=this.idField===i}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(e){if(this._useGeneratedIds){const t=this._nextId();e.attributes[this.idField]=t,e.objectId=t}else e.objectId=e.attributes[this.idField];const i=e.objectId;if(this._addOrUpdated.set(i,e),this._maxAge=Math.max(this._maxAge,e.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(i);const r=e.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(r)){const e=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:d,i=s(e,0,d);this._trackIdToObservations.set(r,new t(i))}const o=this._trackIdToObservations.get(r),a=o?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now(),i=s-this._lastPurge,d=Date.now();i>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const a=[];if(null!=e)for(const r of e){const t=this.store.removeById(r);null!=t&&a.push(t)}const n=[];if(null!=t){const i=new Set(e??[]);for(const e of t)i.has(e.objectId)||(e.attributes[r]=s,e.attributes[o]=d,this.store.add(e),n.push(e))}return!(!n.length&&!a?.length)&&(this.store.update(n,a),!0)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach(s=>t[e++]=s),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach(t=>{t.attributes[e]<i&&this._removed.push(t.objectId)})}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach(t=>{t.attributes[r]<s&&this._removed.push(t.objectId)})}_purgeTracks(){this._trackIdToObservations.forEach((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)})}}export{a as StreamFeatureManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};r([t()],s.prototype,\"connection\",void 0),r([t()],s.prototype,\"connectionStatus\",null),r([t()],s.prototype,\"errorString\",null),s=r([e(\"esri.views.2d.layers.features.sources.StreamConnectionState\")],s);export{s as StreamConnectionState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FeatureSetReaderJSON as e}from\"../support/FeatureSetReaderJSON.js\";class t{constructor(e,t){this._metadata=e,this._onUpdate=t,this._objectIdToFeature=new Map}get size(){return this._objectIdToFeature.size}get reader(){return e.fromFeatures([...this._objectIdToFeature.values()],this._metadata)}add(e){this._objectIdToFeature.set(e.objectId,e)}forEach(e){this._objectIdToFeature.forEach(e)}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),t):null}clear(){this._objectIdToFeature=new Map}update(e,t){this._onUpdate(e?.length??0)}}export{t as StreamFeatureStore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ASourceChunk as e}from\"./ASourceChunk.js\";class r extends e{constructor(e){super(),this._reader=e,this.chunkId=\"stream-chunk\",this.normalizedChunkId=\"stream-chunk\"}get reader(){return this._reader}get first(){return!0}get end(){return!0}get queryInfo(){return{type:\"stream\",chunkId:this.chunkId,size:this.size(),end:this.end}}get isTiled(){return!1}getTileReader(e){const r=this.queryFeaturesInBounds(e.bounds);return r.setTransformForDisplay(e.transform),r}}export{r as StreamSourceChunk};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{EventEmitter as e}from\"../../../../../../core/Evented.js\";import{handlesGroup as t}from\"../../../../../../core/handleUtils.js\";import\"../../../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../../../core/maybe.js\";import{StreamFeatureManager as i}from\"../../../../../../layers/graphics/data/StreamFeatureManager.js\";import{createConnection as n}from\"../../../../../../layers/graphics/sources/connections/createConnection.js\";import{internalTimeReceivedField as r}from\"../../../../../../layers/support/streamLayerUtils.js\";import{StreamConnectionState as o}from\"../StreamConnectionState.js\";import{StreamFeatureStore as a}from\"../StreamFeatureStore.js\";import{ALoadStrategy as c}from\"./ALoadStrategy.js\";import{StreamSourceChunk as h}from\"./chunks/StreamSourceChunk.js\";class m extends c{constructor(t,s,n){super(t.metadata,s,n),this._service=t,this._connectionState=new o,this._forceRefresh=!1,this.events=new e;const{timeInfo:c}=this.metadata,{purgeOptions:h}=s.full;this._stagingStore=new a(this.metadata.weakCloneWithAdditionalFields([{name:r,alias:\"timeReceived\",type:\"esriFieldTypeDate\"}]),e=>this.events.emit(\"features-updated\",e)),this._manager=new i(this._stagingStore,this.metadata.featureIdInfo,c,h),this.connect()}destroy(){super.destroy(),this.disconnect()}get about(){return{willQueryAllFeatures:!1,willQueryFullResolutionGeometry:!1}}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState?.errorString}get availableFields(){return this._schema.full.availableFields}get definitionExpression(){return this._schema.full.definitionExpression}async tryUpdate(e,t){const s=null!=this._chunk;if(t.sourceRefreshVersion!==this._refreshVersion){if(this._refreshVersion=t.sourceRefreshVersion,!this._manager.checkForUpdates()&&s&&!this._forceRefresh)return this.events.emit(\"tick\"),!0;this._chunk&&(this.store.remove(this._chunk),e.requireInvalidation()),this._forceRefresh=!1,this._chunk=new h(this._stagingStore.reader),this.store.insert(this._chunk),this.events.emit(\"tick\")}return this._schema.partial=t,!0}async load(e){}unload(e){}disconnect(){this._streamConnection=s(this._streamConnection),this._connectionState.connection=null,this._handlesGroup?.remove()}connect(){if(null!=this._streamConnection)return;const{geometryType:e,spatialReference:s}=this.metadata,{maxReconnectionAttempts:i,maxReconnectionInterval:r,geometryDefinition:o,definitionExpression:a,customParameters:c}=this._schema.full;this._streamConnection=n(this._service.source,s,this._service.outSpatialReference,e,a,o,i,r,c),this._handlesGroup=t([this._streamConnection.on(\"data-received\",e=>this._onFeature(e)),this._streamConnection.on(\"message-received\",e=>this._onWebSocketMessage(e))]),this._connectionState.connection=this._streamConnection}clear(){this._manager.checkForUpdates(),this._stagingStore.clear(),this._forceRefresh=!0}updateCustomParameters(e){this._streamConnection?.updateCustomParameters(e)}sendMessageToSocket(e){this._streamConnection?.sendMessageToSocket(e)}sendMessageToClient(e){this._streamConnection?.sendMessageToClient(e)}_onOverride(){}_onWebSocketMessage(e){if(\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case\"clear\":this.clear()}this.events.emit(\"message-received\",e)}_onFeature(e){try{this._manager.add(e),this.events.emit(\"data-received\",e)}catch(t){}}}export{m as StreamLoadStrategy};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../../core/maybe.js\";import{notDeepEqual as t}from\"../../../../../core/object.js\";import{ignoreAbortErrors as r,throwIfNotAbortError as s}from\"../../../../../core/promiseUtils.js\";import{OptimizedFeature as a}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{QueryEngine as i}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{FeatureStoreStatistics as n}from\"../FeatureStoreStatistics.js\";import{StreamMessenger as o}from\"./StreamMessenger.js\";import{UpdateStatus as c}from\"./strategies/ALoadStrategy.js\";import{FeatureDrillDownTileLoadStrategy as d}from\"./strategies/FeatureDrillDownTileLoadStrategy.js\";import{FeaturePagedTileLoadStrategy as h}from\"./strategies/FeaturePagedTileLoadStrategy.js\";import{FeatureSnapshotLoadStrategy as u}from\"./strategies/FeatureSnapshotLoadStrategy.js\";import{ParquetSnapshotLoadStrategy as p}from\"./strategies/ParquetSnapshotLoadStrategy.js\";import{ParquetTileLoadStrategy as m}from\"./strategies/ParquetTileLoadStrategy.js\";import{StreamLoadStrategy as y}from\"./strategies/StreamLoadStrategy.js\";import{FeatureSourceChunkStore as g}from\"./strategies/chunks/SourceChunkStore.js\";import{UpdateTracking2D as l}from\"../../support/UpdateTracking2D.js\";class _{constructor(e,t,r,s){this._aggregateAdapter=e,this._subscriptions=t,this._connection=r,this._cachedObjectIds=s,this._updateTracking=new l({debugName:\"FeatureSource\"}),this.store=new g}destroy(){this._strategy?.destroy(),this._streamMessenger?.destroy(),this._updateTracking?.destroy(),this.store.destroy()}get metadata(){return this._strategy.metadata}get streamMessenger(){return null==this._streamMessenger&&this._initStreamMessenger(),this._streamMessenger}get statistics(){return n.from(this.store)}get updateTracking(){return this._updateTracking}get usedMemory(){return this.store.usedMemory}get queryEngine(){if(!this._queryEngine){if(!this.store||!this._strategy)return null;this._queryEngine=new i({featureStore:this.store,fieldsIndex:this.metadata.fieldsIndex,geometryType:this.metadata.geometryType,featureIdInfo:this.metadata.featureIdInfo,hasM:!1,hasZ:!1,spatialReference:this.metadata.outSpatialReference,aggregateAdapter:this._aggregateAdapter,timeInfo:this.metadata.timeInfo,definitionExpression:this._strategy?.definitionExpression,availableFields:this._strategy?.availableFields})}return this._queryEngine}get isStream(){return\"stream\"===this._schema.type}get hasQueryDisplayFilter(){if(!this._schema)return!1;switch(this._schema.type){case\"feature\":return null!=this._schema.strategy.full.displayFilterInfo;case\"parquet\":case\"stream\":return!1}}chunks(){return Array.from(this.store.chunks())}prepareCacheUpdate(e,t){const r=new Set,s=new Set;for(const a of e)this._cachedObjectIds.has(a)||(this._cachedObjectIds.add(a),r.add(a));for(const a of t)this._cachedObjectIds.delete(a),s.add(a);this.hasQueryDisplayFilter&&this._strategy.prepareCacheUpdate(r,s)}async applyCacheUpdate(){this.hasQueryDisplayFilter&&await this._updateTracking.addPromise(this._strategy.applyCacheUpdate())}cleanup(){return this.store.cleanup()}onSubscribe(e){if(this._connection.onEvent({type:\"subscribe\",tile:e.tile.id}),!this._strategy)return;const t=this._strategy.load(e);t.then(()=>this._connection.onEvent({type:\"loaded\",tile:e.tile.id})).catch(t=>this._connection.onEvent({type:\"error\",tile:e.tile.id,error:t})),this._updateTracking.addPromise(t)}onResume(e){this._updateTracking.addPromise(r(this._strategy?.load(e)))}onUnsubscribe(e){this._connection.onEvent({type:\"unsubscribe\",tile:e.tile.id}),this._strategy?.unload(e)}async applyOverride(e){await(this._strategy?.applyOverride(e))}takeOverrideUpdate(){return this._strategy?.takeOverrideUpdate()}async update(r,s){const a=this._schema;if(this._schema=r,this._queryEngine=e(this._queryEngine),a&&a.type!==r.type)throw new Error(\"InternalError: Reconfiguring source types is not supported.\");const i=new c;return!a||t(a.service,r.service)||a.strategy.type!==r.strategy.type||t(r.strategy.full,a.strategy.full)||!await this._strategy.tryUpdate(i,r.strategy.partial)?(await this._updateStrategyType(this._schema.service,r,s),await this.store.update({metadata:this.metadata,definitionExpression:this._schema.strategy.full.definitionExpression}),!0):i.requiresInvalidation}unsafeSetQueryHistoricMoment(e){\"feature\"===this._schema.type&&(this._schema.strategy.full.historicMoment=e,this._strategy.unsafeSetQueryHistoricMoment(new Date(e)))}_initStreamMessenger(){null==this._streamMessenger&&(this._streamMessenger=new o(this._connection))}async normalizeOverrides(e){const t={historicMoment:e.historicMoment,commands:{updateWeak:e.commands.updateWeak.map(a.fromJSON),removeWeak:e.commands.removeWeak,update:e.commands.update.map(a.fromJSON),remove:e.commands.remove,release:e.commands.release}},r=e.commands.updateByIdWeak,s=await this._queryOptimizedFeatures(r);if(s.length!==r.length){const e=new Set(s.map(e=>e.objectId));for(const s of r)e.has(s)||t.commands.removeWeak.push(s)}return t.commands.updateWeak.push(...s),t}async _queryOptimizedFeatures(e){if(0===e.length)return[];const t=[],r=(await this._strategy.queryByObjectId(e,[\"*\"])).getCursor();for(;r.next();)t.push(r.readOptimizedFeatureWorldSpace());return t}getObjectIdsFromGlobalIds(e){const t=this.metadata.globalIdField;if(null==t)throw new Error(\"InternalError: Recieved an edit with globalIds, but not supported by the service\");const r=this.store.mapObjectIdsFromGlobalIds(e,t).values();return Array.from(r)}async _updateStrategyType(e,t,r){const a=this._createStrategy(e,t);this._connection.onEvent({type:\"updateStrategyStart\",about:a.about});const i=!!this._strategy;this.store.clear(),this._strategy?.destroy(),this._strategy=a,has(\"esri-2d-update-debug\")&&console.debug(`Version[${r}] FeatureSource.updateStrategy`,{strategy:a});const n=Array.from(this._subscriptions.values());if(!n.length)return void this._connection.onEvent({type:\"updateStrategyEnd\"});const o=Promise.all(n.map(e=>this._strategy.load(e).then(()=>this._connection.onEvent({type:\"loaded\",tile:e.tile.id})).catch(t=>this._connection.onEvent({type:\"error\",tile:e.tile.id,error:t}))));this._updateTracking.addPromise(o),this._strategy.prepareCacheUpdate(this._cachedObjectIds);try{i&&await o}catch(c){s(c)}this._connection.onEvent({type:\"updateStrategyEnd\"}),has(\"esri-2d-update-debug\")&&console.debug(`Version[${r}] FeatureSource.updateStrategyEnd`,{strategy:a})}_createStrategy(e,t){const r={connection:this._connection,store:this.store};switch(t.type){case\"feature\":return this._createFeatureLoadStrategy(e,t.strategy,r);case\"parquet\":return this._createParquetLoadStrategy(e,t.strategy,r);case\"stream\":return this._createStreamLoadStrategy(e,t.strategy,r)}}_createFeatureLoadStrategy(e,t,r){switch(t.type){case\"drill-down\":return new d(e,t,r);case\"paged-tile\":return new h(e,t,r);case\"snapshot\":return new u(e,t,r)}}_createParquetLoadStrategy(e,t,r){switch(t.type){case\"xz\":return new m(e,t,r);case\"snapshot\":return new p(e,t,r)}}_createStreamLoadStrategy(e,t,r){const s=new y(e,t,r);return this.streamMessenger.strategy=s,s}}export{_ as FeatureSource};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t,r){this.tile=t,this.version=r,this._abortController=new AbortController}get key(){return this.tile.key}get signal(){return this._abortController.signal}abort(){this._abortController.abort()}}export{t as FeatureTileSubscription};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{handlesGroup as t}from\"../../../../core/handleUtils.js\";import has from\"../../../../core/has.js\";import{nextTick as s}from\"../../../../core/nextTick.js\";import{throwIfNotAbortError as i,createResolver as r,ignoreAbortErrors as o}from\"../../../../core/promiseUtils.js\";import n from\"../../../../core/RandomLCG.js\";import{watch as u}from\"../../../../core/reactiveUtils.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{ignoreConnectionErrors as d}from\"../../../../core/workers/utils.js\";import c from\"../../../../layers/support/TileInfo.js\";import{tileSize as p}from\"../../engine/webgl/definitions.js\";import{PipelineConnectionHandlers as h}from\"./PipelineConnectionHandlers.js\";import l from\"./Processor.js\";import{FeatureSource as g}from\"./sources/FeatureSource.js\";import{FeatureTileSubscription as _}from\"./sources/FeatureTileSubscription.js\";import{Tile as f}from\"./support/Tile.js\";import b from\"../../tiling/TileInfoView.js\";class m{constructor(e){this.inner=e,this.resolver=r()}}class y{constructor(){this._aggregateAdapter={getFeatureObjectIds:e=>this._processor.getFeatureObjectIdsForAggregate(e)},this._subscriptions=new Map,this._cachedObjectIds=new Set,this._updateRequested=!1,this._didSourceRefresh=!1,this._updateSubscriptionRequests=[],this._updateHighlightRequests=[]}destroy(){this._subscriptions.clear(),this._processor?.destroy(),this._source?.destroy(),this._handles?.remove(),this._updateOverridesRequest=null,this._tileInfoView=null}onAttach(e){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.onAttach\");const s=this._connection,i=c.fromJSON(e.tileInfoJSON);this._tileInfoView=new b(i),this._source=new g(this._aggregateAdapter,this._subscriptions,s,this._cachedObjectIds),this._processor=new l(s,this._source),this._handles=t([this._source.store.events.on(\"changed\",()=>this._requestUpdate()),this._source.store.events.on(\"refresh\",()=>this._requestRefresh()),u(()=>this._source.updateTracking.updating,()=>{this._requestUpdate(),o(this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0}))})])}onDetach(){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.onDetach\"),this.destroy()}set remoteClient(e){this._connection=new h(e)}get features(){const t=this._source?.queryEngine;if(!t)throw new e(\"no-queryEngine\",\"No query engine defined\");return t}get aggregates(){const t=this._processor?.aggregateQueryEngine;if(!t)throw new e(\"no-queryEngine\",\"No aggregate query engine defined\");return t}get processor(){return this._processor}get streamMessenger(){return this._source.streamMessenger}getUsedMemory(){return this._source.usedMemory+this._processor.usedMemory}getDisplayFeatures(e){return this._processor.getDisplayFeatures(e)}getDisplayIds(e){return this._processor.getDisplayIds(e)}getObjectIdsFromGlobalIds(e){return this._source.getObjectIdsFromGlobalIds(e)}async updateSchema(e,t){return has(\"esri-2d-update-debug\")&&this._updateSchemaRequest&&console.error(\"InternalError: Schema already updating\"),this._updateSchemaRequest=new m({schema:e,version:t}),this._requestUpdate(),this._updateSchemaRequest.resolver.promise}updateSubscriptions(e){const t=new m(e);return this._updateSubscriptionRequests.push(t),this._requestUpdate(),t.resolver.promise}updateHighlight(e){const t=new m(e);return this._updateHighlightRequests.push(t),this._requestUpdate(),t.resolver.promise}async onOverride(t){if(null!=this._updateOverridesRequest)throw new e(\"featurelayer\",\"InternalError - Already processing an edit\");this._updateOverridesRequest=new m(t);const s=this._updateOverridesRequest.resolver.promise;return this._requestUpdate(),s}queryStatistics(){return this._source.statistics.toJSON()}async queryVisibleFeatures(e,t){return this.features.executeQuery(e,t)}async queryHeatmapStatistics(e){const t=Math.round(a(e.radius));let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const r=\"string\"==typeof e.fieldOffset,o=e.fieldOffset??0,n=Array.from(this._subscriptions.values()),u=this._source.chunks(),d=t**2,c=3/(Math.PI*d),h=2*t,l=Math.ceil(p/h);for(const a of n){const t=a.tile,n=new Float64Array(l*l);for(const s of u){const i=s.getTileReader(t);if(!i)continue;const u=i.getCursor();for(;u.next();){let t=1;if(null!=e.field){const s=u.readAttribute(e.field);t=r?-1*+s:+s+o}const s=u.readXForDisplay()/h,i=u.readYForDisplay()/h,a=Math.floor(s),p=Math.floor(i);if(a<0||p<0||a>=l||p>=l)continue;const g=((.5+a-s)*h)**2+((.5+p-i)*h)**2;if(g>d)continue;const _=t*(c*(1-g/d)**2);n[p+a*l]+=_}}for(let e=0;e<n.length;e++)s=Math.min(s,n[e]),i=Math.max(i,n[e])}return{max:i,min:s}}async getSampleFeatures(e){const t=this._source.chunks();if(t.reduce((e,t)=>e+t.size(),0)<=e.minFeatureCount){if(!this._source.updateTracking.updating){const e=[];return this._source.store.forEachUnsafe(t=>e.push(t.readLegacyFeatureWorldSpace())),e}return null}const s=new Set,i=[],r=t.map(e=>e.reader.getCursor()),o=new n,u=3*e.sampleSize;for(let n=0;n<u&&i.length<e.sampleSize;n++){const e=r[o.getIntRange(0,t.length-1)];if(0===e.getSize())continue;const n=o.getIntRange(0,e.getSize()-1);e.setIndex(n);const u=e.getObjectId();s.has(u)||(s.add(u),i.push(e.readLegacyFeatureWorldSpace()))}return i.length>=e.sampleSize?i:null}_requestUpdate(){this._updateRequested||(this._updateRequested=!0,s(()=>this._scheduleNextUpdate()))}_requestRefresh(){this._didSourceRefresh=!0,this._requestUpdate()}_scheduleNextUpdate(){this._updateRequested&&(this._ongoingUpdate||(this._ongoingUpdate=d(this._doUpdate()).finally(()=>{this._ongoingUpdate=null,this._scheduleNextUpdate()}),this._updateRequested=!1))}_subscribe(e){const t=e.tileId;if(this._subscriptions.has(t))return;has(\"esri-2d-update-debug\")&&console.debug(`Tile[${t}] Pipeline.subscribe`);const s=new f(this._tileInfoView,t),i=new _(s,e.version);this._subscriptions.set(t,i),this._source.onSubscribe(i),this._processor.onSubscribe(i)}_unsubscribe(e){const t=this._subscriptions.get(e);t&&(has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] Pipeline.unsubscribe`),t.abort(),this._source.onUnsubscribe(t),this._processor.onUnsubscribe(t),this._subscriptions.delete(t.key.id))}async _doUpdate(){if(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateStart\"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0}),this._updateSubscriptionRequests.length){const e=this._updateSubscriptionRequests;this._updateSubscriptionRequests=[];for(const t of e)this._doUpdateSubscriptions(t.inner),t.resolver.resolve()}if(this._updateHighlightRequests.length){const e=this._updateHighlightRequests,t=new Set,s=new Set;for(const i of e)for(const{objectId:e,highlightFlags:r}of i.inner.highlights)r?(t.add(e),s.delete(e)):(s.add(e),t.delete(e));this._source.prepareCacheUpdate(t,s)}const e=this._updateSchemaRequest;this._updateSchemaRequest=null;let t=!1;if(null!=e){const{schema:s,version:i}=e.inner;t=await this._doUpdateSchema(s,i)}this._processor.requiresInvalidation()&&(t=!0),this._didSourceRefresh&&(t=!0,this._didSourceRefresh=!1),t&&(this._processor.invalidate(),await this._connection.container.updateRenderState(this._processor.version));const s=this._updateOverridesRequest;if(this._updateOverridesRequest=null,null!=s){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyOverride\",s.inner),null!=s.inner.historicMoment&&this._source.unsafeSetQueryHistoricMoment(s.inner.historicMoment);const e=await this._source.normalizeOverrides(s.inner);await this._source.applyOverride(e),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.endOverride\",s.inner)}if(await this._source.applyCacheUpdate(),this._updateHighlightRequests.length){const e=this._updateHighlightRequests;this._updateHighlightRequests=[];for(const t of e)this._processor.updateHighlight(t.inner),t.resolver.resolve()}const r=this._source.cleanup();this._processor.removeChunks(r);try{const e=this._source.takeOverrideUpdate();if(null!=e&&this._subscriptions.size){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyOverrideChangesStart\"),await this._connection.container.lockForOverrides();try{await this._processor.applyOverrideUpdate(e)}catch(o){has(\"esri-2d-update-debug\")&&console.debug(\"InternalError\",o)}await this._connection.container.unlockForOverrides(),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.applyOverrideChangesEnd\")}this._subscriptions.size&&(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateChunksStart\"),await this._processor.updateChunks(),has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateChunksEnd\"))}catch(o){i(o)}null!=s&&s.resolver.resolve(),null!=e&&e.resolver.resolve(),null==e&&t&&await this._connection.container.trySwapRenderState(),this._connection.onEvent({type:\"performance\",usedMemory:this.getUsedMemory()}),this._updateRequested?(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateEnd [updateRequested=true]\"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:!0})):(has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline._doUpdateEnd [updateRequested=false, After flush]\"),await this._connection.layerView.setUpdating({source:this._source.updateTracking.updating,pipeline:this._updateRequested}))}async _doUpdateSchema(e,t){has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] Pipeline.updateStart`,{schema:e});const s={tileInfo:this._tileInfoView?.tileInfo},i=await this._source.update(e.source,t),r=Array.from(this._subscriptions.values()),o=this._processor.update(e,t,s,i,r);return has(\"esri-2d-update-debug\")&&console.debug(`Version[${t}] Pipeline.updateEnd`),o}_doUpdateSubscriptions(e){has(\"esri-2d-update-debug\")&&console.debug(\"Pipeline.updateSubscriptions\",e);for(const t of e.subscribe)this._subscribe(t);for(const t of e.unsubscribe)this._unsubscribe(t)}}export{y as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI2E,IAAMA,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,UAAQA,KAAE,KAAK,YAAU,KAAK,QAAQ,kBAAkB,EAAE,GAAE,KAAK,YAAU,KAAK,QAAQ,kBAAkB,WAAW,GAAE,KAAK,YAAU,KAAK,QAAQ,kBAAkB,UAAU;AAAA,EAAC;AAAA,EAAC,QAAQD,KAAE;AAAC,IAAAE,GAAE,KAAK,UAAU,QAAQF,GAAC,CAAC;AAAA,EAAC;AAAC;;;ACA3E,IAAMG,KAAE;AAAR,IAAUC,MAAE;AAAZ,IAAcC,KAAE;AAAhB,IAAkBC,KAAE;AAApB,IAAsBC,KAAE;AAAxB,IAA2BC,KAAE;AAA7B,IAAgCC,KAAE;AAAlC,IAAqCC,KAAE;AAAI,SAASC,GAAEC,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAKT;AAAA,IAAE,KAAKG;AAAA,IAAE,KAAKE;AAAE,aAAM;AAAA,IAAG,KAAKJ;AAAA,IAAE,KAAKK;AAAE,aAAO;AAAA,IAAE,KAAKJ;AAAA,IAAE,KAAKE;AAAA,IAAE,KAAKG;AAAE,aAAO;AAAA,EAAC;AAAC;AAAC,SAASG,GAAED,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAKT;AAAA,IAAE,KAAKC;AAAA,IAAE,KAAKC;AAAE,aAAM;AAAA,IAAG,KAAKC;AAAA,IAAE,KAAKC;AAAE,aAAO;AAAA,IAAE,KAAKC;AAAA,IAAE,KAAKC;AAAA,IAAE,KAAKC;AAAE,aAAO;AAAA,EAAC;AAAC;AAAC,IAAMI,KAAEX,KAAEG,KAAEE;AAAZ,IAAcO,KAAEV,KAAEE,KAAEG;AAApB,IAAsBM,KAAEb,KAAEC,MAAEC;AAA5B,IAA8BY,KAAET,KAAEC,KAAEC;AAAE,IAAMQ,KAAN,MAAO;AAAA,EAAC,YAAYN,KAAEO,KAAEhB,KAAEC,KAAEC,MAAE,GAAE;AAAC,SAAK,UAAQO,KAAE,KAAK,oBAAkBO,KAAE,KAAK,YAAUd,KAAE,KAAK,UAAQ,EAAC,MAAK,IAAIA,GAAE,KAAK,IAAG,KAAK,SAAS,GAAE,WAAU,IAAI,QAAK,GAAE,KAAK,yBAAuB,GAAE,KAAK,yBAAuB;AAAE,UAAMC,KAAEF,MAAE,IAAE;AAAE,SAAK,4BAA0BD,OAAG,KAAK,qBAAmBS,IAAE,UAAQN;AAAA,EAAC;AAAA,EAAC,IAAI,KAAI;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAE;AAAA,EAAC,cAAa;AAAC,WAAO,KAAK,QAAQ,KAAK,YAAY,KAAG;AAAA,EAAC;AAAA,EAAC,cAAa;AAAC,WAAO,KAAK,QAAQ,KAAK,YAAY;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,WAAO,KAAK,QAAQ,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,gBAAgBM,KAAE;AAAC,SAAK,QAAQ,KAAK,gBAAgBA,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAEO,MAAEP,KAAE;AAAC,SAAK,yBAAuB,GAAE,KAAK,QAAQ,KAAK,YAAYA,KAAEO,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,WAAO,KAAK,QAAQ,KAAK,kBAAkB;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,QAAG,KAAK,QAAQ,KAAK,UAAU,GAAE,KAAK,mBAAkB;AAAC,UAAG,KAAK,0BAA0B;AAAO,eAAQP,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,cAAMO,MAAE,KAAGP;AAAE,SAAC,EAAE,KAAK,yBAAuBO,QAAI,KAAK,QAAQ,UAAUP,GAAC,EAAE,UAAU;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAEO,KAAEC,KAAE;AAAC,SAAK,yBAAuB,GAAE,KAAK,QAAQ,KAAK,YAAYR,KAAEO,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,UAAUR,MAAE,GAAE;AAAC,UAAMO,MAAE,KAAK,QAAQ,KAAK,UAAU,KAAK,sBAAsB;AAAE,WAAOA,OAAG,MAAI,KAAK,0BAAwB,KAAK,mBAAmB,GAAE,KAAK,0BAAwB,KAAK,wBAAuB,QAAIA;AAAA,EAAC;AAAA,EAAC,aAAaP,KAAEO,KAAEC,KAAEjB,KAAE;AAAC,SAAK,qBAAmB,KAAK,YAAYS,KAAEO,KAAEC,KAAEjB,GAAC;AAAA,EAAC;AAAA,EAAC,cAAa;AAAC,WAAO,KAAK,QAAQ,KAAK,YAAY;AAAA,EAAC;AAAA,EAAC,YAAYS,KAAE;AAAC,SAAK,QAAQ,KAAK,YAAYA,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,SAAK,QAAQ,KAAK,eAAeA,GAAC;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,SAAK,QAAQ,KAAK,UAAU;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,SAAK,QAAQ,KAAK,YAAYA,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,SAAK,QAAQ,KAAK,eAAeA,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAE;AAAC,SAAK,QAAQ,KAAK,kBAAkBA,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,SAAK,QAAQ,KAAK,WAAWA,GAAC;AAAA,EAAC;AAAA,EAAC,UAAUO,KAAE;AAAC,UAAMC,MAAE,EAAC,SAAQ,CAAC,GAAE,cAAa,CAAC,EAAC,GAAEjB,MAAE,KAAK,QAAQ,KAAK,UAAU;AAAE,WAAOiB,IAAE,QAAQ,KAAK,EAAC,QAAO,KAAK,QAAQ,IAAG,GAAGjB,IAAE,QAAO,CAAC,GAAEiB,IAAE,aAAa,KAAK,GAAGjB,IAAE,YAAY,GAAE,KAAK,QAAQ,UAAU,QAAQ,CAACA,KAAEC,QAAI;AAAC,YAAMC,MAAEF,IAAE,UAAU,GAAEG,KAAE,KAAGF,KAAEG,KAAEI,GAAEL,EAAC,GAAEE,KAAEK,GAAEP,EAAC,GAAEG,KAAE,IAAIG,GAAE,KAAK,OAAO,EAAE,sBAAsBL,IAAEC,IAAEW,GAAC;AAAE,MAAAC,IAAE,QAAQ,KAAK,EAAC,QAAOX,GAAE,IAAG,GAAGJ,IAAE,QAAO,CAAC,GAAEe,IAAE,aAAa,KAAK,GAAGf,IAAE,YAAY;AAAA,IAAC,CAAC,GAAEe;AAAA,EAAC;AAAA,EAAC,YAAYR,KAAEQ,KAAEjB,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,IAAI,IAAE,GAAEF,GAAC,GAAEG,KAAE,KAAK,IAAI,IAAE,GAAEF,GAAC,GAAEG,KAAE,QAAMK,MAAE,IAAEP,MAAEU,KAAEH,OAAG,IAAEP,MAAES,KAAEC,KAAED,OAAIM,MAAE,IAAEd,KAAEW,KAAEG,OAAG,IAAEd,KAAEU,KAAEC,KAAED;AAAI,SAAK,0BAAwBT;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,aAAQK,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,YAAMT,MAAE,KAAGS;AAAE,UAAG,CAAC,EAAE,KAAK,yBAAuBT,MAAG;AAAC,YAAG,KAAK,2BAA0B;AAAC,gBAAMS,MAAE,CAACD,GAAER,GAAC,IAAE,GAAEiB,MAAE,CAACP,GAAEV,GAAC,IAAE;AAAE,cAAG,MAAIiB,IAAE;AAAS,eAAK,QAAQ,KAAK,SAASR,KAAEQ,GAAC;AAAE;AAAA,QAAQ;AAAC,YAAG,CAAC,KAAK,QAAQ,UAAUR,GAAC,GAAE;AAAC,gBAAMO,MAAE,KAAK,MAAM,KAAK,YAAU,EAAE;AAAE,eAAK,QAAQ,UAAUP,GAAC,IAAE,IAAIP,GAAEF,KAAEgB,GAAC;AAAA,QAAC;AAAC,cAAMf,MAAE,KAAK,QAAQ,UAAUQ,GAAC,GAAEP,MAAE,CAACM,GAAER,GAAC,IAAE,GAAEG,KAAE,CAACO,GAAEV,GAAC,IAAE;AAAE,QAAAC,IAAE,aAAa,KAAK,QAAQ,MAAKC,KAAEC,EAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAC;;;ACA/nG,IAAMe,KAAN,MAAO;AAAC;;;ACAR,IAAMC,KAAN,MAAM,GAAC;AAAA,EAAC,cAAa;AAAC,SAAK,iBAAe,MAAK,KAAK,wBAAsB;AAAA,EAAI;AAAA,EAAC,aAAa,KAAKC,KAAEC,KAAE;AAAC,UAAMC,MAAE,IAAI;AAAE,WAAOA,IAAE,WAAW,MAAMF,IAAE,kBAAkBC,IAAE,MAAM,CAAC,GAAEC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,WAAO,KAAK;AAAA,EAAc;AAAA,EAAC,WAAWH,KAAE;AAAC,SAAK,iBAAeA;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,WAAO,KAAK;AAAA,EAAqB;AAAA,EAAC,kBAAkBA,KAAE;AAAC,SAAK,wBAAsBA;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,WAAO,KAAK,gBAAgB,KAAK,CAAAC,QAAGA,IAAE,oBAAoBD,GAAC,CAAC,KAAG;AAAA,EAAE;AAAA,EAAC,MAAMA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,QAAQH,KAAEC,GAAC,KAAG,KAAK,WAAW;AAAE,QAAGE,OAAGA,IAAE,SAAO,GAAE;AAAC,YAAMH,MAAE,KAAK,kBAAkB;AAAE,UAAGA,IAAE,QAAM,CAAC,GAAGA,KAAE,GAAGG,GAAC;AAAA,IAAC;AAAC,WAAOA;AAAA,EAAC;AAAA,EAAC,WAAWH,KAAEC,KAAE;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,QAAQD,KAAEC,KAAE;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,MAAM,eAAeD,KAAEC,KAAE;AAAA,EAAC;AAAC;;;ACA9gB,IAAMG,MAAN,MAAM,WAAUC,GAAC;AAAA,EAAC,aAAa,uBAAuBC,KAAEC,IAAE;AAAC,UAAMC,MAAE,MAAMC,GAAE,KAAKF,GAAE,gBAAeA,GAAE,YAAWA,GAAE,QAAQ;AAAE,WAAO,IAAI,GAAED,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYH,KAAEC,KAAE;AAAC,UAAM,GAAE,KAAK,WAASD,KAAE,KAAK,aAAWC,KAAE,KAAK,0BAAwB,oBAAI,OAAI,KAAK,wBAAsB,oBAAI;AAAA,EAAG;AAAA,EAAC,MAAM,eAAeD,KAAEC,KAAE;AAAC,UAAMF,MAAEE,IAAE,UAAU,GAAEC,KAAE,oBAAI;AAAI,WAAKH,IAAE,KAAK,KAAG;AAAC,YAAMC,MAAE,KAAK,uBAAuBD,GAAC;AAAE,MAAAC,OAAGE,GAAE,IAAIF,GAAC;AAAA,IAAC;AAAC,UAAMG,MAAE,MAAM,KAAKD,GAAE,OAAO,CAAC,EAAE,IAAI,CAAAD,QAAG,KAAK,aAAaD,KAAEC,GAAC,CAAC;AAAE,UAAM,QAAQ,IAAIE,GAAC;AAAA,EAAC;AAAA,EAAC,MAAMH,KAAEC,KAAE;AAAC,UAAMF,MAAE,KAAK,uBAAuBC,GAAC;AAAE,WAAOD,MAAE,KAAK,sBAAsB,IAAIA,GAAC,IAAE;AAAA,EAAI;AAAA,EAAC,uBAAuBC,KAAE;AAAC,UAAMC,MAAED,IAAE,4BAA4B;AAAE,WAAO,KAAK,WAAW,SAASC,KAAE,GAAED,IAAE,QAAO,IAAI;AAAA,EAAC;AAAA,EAAC,aAAaA,KAAEC,KAAE;AAAC,QAAIF,MAAE,KAAK,wBAAwB,IAAIE,GAAC;AAAE,WAAO,QAAMF,QAAIA,MAAE,KAAK,YAAYC,KAAEC,GAAC,GAAE,KAAK,wBAAwB,IAAIA,KAAEF,GAAC,IAAGA;AAAA,EAAC;AAAA,EAAC,MAAM,YAAYC,KAAEC,KAAE;AAAC,UAAMF,MAAE,MAAMC,IAAE,iCAAiC,EAAC,MAAK,sBAAqB,eAAcC,IAAC,CAAC;AAAE,QAAG,CAACF,IAAE;AAAO,UAAMG,KAAE,MAAM,KAAK,SAAS,kBAAkBH,IAAE,MAAM;AAAE,SAAK,sBAAsB,IAAIE,KAAEC,EAAC;AAAA,EAAC;AAAC;;;ACA5oC,IAAMG,KAAN,MAAM,WAAUA,GAAC;AAAA,EAAC,YAAYC,KAAED,KAAE;AAAC,UAAM,GAAE,KAAK,aAAW,CAAC,GAAE,KAAK,kBAAgBA,KAAE,KAAK,SAAOC;AAAA,EAAC;AAAA,EAAC,aAAa,mBAAmBA,KAAEC,KAAE;AAAC,UAAMC,MAAE,MAAMF,IAAE,QAAQ,oBAAoBC,GAAC,GAAEE,KAAE,IAAI,GAAED,KAAED,IAAE,cAAc;AAAE,UAAM,QAAQ,IAAIA,IAAE,UAAU,IAAI,OAAMF,QAAG;AAAC,YAAME,MAAE,MAAMD,IAAE,kBAAkBD,IAAE,MAAM;AAAE,MAAAI,GAAE,IAAIJ,KAAEE,GAAC;AAAA,IAAC,CAAC,CAAC;AAAE,UAAMG,MAAE,MAAMJ,IAAE,kBAAkBC,IAAE,aAAa;AAAE,IAAAE,GAAE,WAAWC,GAAC;AAAE,UAAMC,MAAE,MAAML,IAAE,kBAAkBC,IAAE,cAAc;AAAE,WAAOE,GAAE,kBAAkBE,GAAC,GAAEF;AAAA,EAAC;AAAA,EAAC,IAAIH,KAAED,KAAE;AAAC,SAAK,WAAW,KAAK,EAAC,UAASC,KAAE,QAAOD,IAAC,CAAC,GAAE,KAAK,WAAW,KAAK,CAACC,KAAED,QAAIC,IAAE,SAAS,MAAID,IAAE,SAAS,GAAG;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAO,MAAM,KAAK,IAAE,KAAK,WAAW;AAAA,EAAM;AAAA,EAAC,oBAAoBC,KAAE;AAAC,WAAO,KAAK,QAAQ,oBAAoBA,GAAC,KAAG,KAAK,WAAW,KAAK,CAAAD,QAAGA,IAAE,OAAO,KAAK,CAAAA,QAAGA,IAAE,oBAAoBC,GAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAED,KAAE;AAAC,UAAME,MAAE,KAAK,QAAQ,KAAKD,KAAED,GAAC;AAAE,QAAG,QAAME,OAAG,MAAMA,GAAC,KAAGA,QAAI,IAAE,KAAGA,QAAI,KAAG,EAAE,QAAO;AAAK,aAAQC,MAAE,GAAEA,MAAE,KAAK,WAAW,QAAOA,OAAI;AAAC,YAAK,EAAC,UAASF,KAAE,QAAOD,IAAC,IAAE,KAAK,WAAWG,GAAC,GAAEC,KAAEF,OAAGD,IAAE,KAAII,MAAE,KAAK,kBAAgBH,OAAGD,IAAE,MAAIC,MAAED,IAAE;AAAI,UAAGG,MAAGC,IAAE,QAAOL;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAC;;;ACAjgC,IAAMO,MAAN,MAAM,WAAUC,GAAC;AAAA,EAAC,aAAa,gBAAgBC,KAAEC,IAAE;AAAC,UAAMC,MAAED,GAAE,QAAQ,IAAI,OAAMH,QAAG;AAAC,YAAMG,MAAE,MAAMD,IAAE,kBAAkBF,IAAE,MAAM;AAAE,aAAM,EAAC,UAASA,IAAE,UAAS,UAASA,IAAE,UAAS,QAAOG,KAAE,YAAW,MAAK,OAAM,MAAMD,IAAE,QAAQ,kBAAkBF,IAAE,KAAK,EAAC;AAAA,IAAC,CAAC,GAAEC,MAAE,MAAM,QAAQ,IAAIG,GAAC;AAAE,WAAO,IAAI,GAAEH,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,UAAQA;AAAA,EAAC;AAAA,EAAC,MAAMA,KAAEF,KAAEG,IAAE;AAAC,QAAG,CAAC,KAAK,QAAQ,OAAO,QAAO;AAAK,UAAMC,MAAE,KAAK,WAAWJ,IAAE,MAAM,KAAK,GAAEC,MAAE,CAAC;AAAE,eAAUI,OAAKD,IAAE,CAAAC,IAAE,SAAO,CAACA,IAAE,MAAMH,KAAEC,EAAC,KAAGF,IAAE,KAAK,GAAGI,IAAE,MAAM;AAAE,WAAOJ;AAAA,EAAC;AAAA,EAAC,oBAAoBC,KAAE;AAAC,WAAO,KAAK,QAAQ,KAAK,CAAAF,QAAGA,IAAE,OAAO,KAAK,CAAAA,QAAGA,IAAE,oBAAoBE,GAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,WAAO,KAAK,QAAQ,OAAO,CAAAF,QAAG,KAAK,mBAAmBA,KAAEE,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAEF,KAAE;AAAC,UAAMG,KAAEH,MAAEA,MAAE,GAAEI,MAAEJ,MAAEA,MAAE;AAAE,YAAO,CAACE,IAAE,YAAUA,IAAE,YAAUC,QAAK,CAACD,IAAE,YAAUA,IAAE,YAAUE;AAAA,EAAE;AAAC;;;ACApwB,IAAME,MAAN,MAAM,WAAUA,GAAC;AAAA,EAAC,YAAYC,KAAED,KAAE;AAAC,UAAM,GAAE,KAAK,wBAAsB,GAAE,KAAK,cAAY,MAAK,KAAK,cAAY,oBAAI,OAAI,KAAK,UAAQ,CAAC,GAAE,KAAK,UAAQC,KAAE,KAAK,aAAWD,OAAG;AAAA,EAAE;AAAA,EAAC,aAAa,kBAAkBC,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,aAAW,CAACD,IAAE,QAAQ,oBAAoB,EAAC,YAAWC,IAAE,WAAU,CAAC,CAAC,IAAE,CAACA,IAAE,QAAMD,IAAE,QAAQ,oBAAoB,EAAC,OAAMC,IAAE,MAAK,CAAC,IAAE,MAAKA,IAAE,SAAOD,IAAE,QAAQ,oBAAoB,EAAC,OAAMC,IAAE,OAAM,CAAC,IAAE,MAAKA,IAAE,SAAOD,IAAE,QAAQ,oBAAoB,EAAC,OAAMC,IAAE,OAAM,CAAC,IAAE,IAAI,GAAEE,OAAG,MAAM,QAAQ,IAAID,GAAC,GAAG,OAAO,CAAAF,QAAG,CAAC,CAACA,GAAC,GAAEI,MAAE,IAAI,GAAED,KAAEF,IAAE,cAAc,GAAEI,KAAE,MAAML,IAAE,kBAAkBC,IAAE,aAAa;AAAE,IAAAG,IAAE,WAAWC,EAAC;AAAE,UAAMC,MAAE,MAAMN,IAAE,kBAAkBC,IAAE,cAAc;AAAE,WAAOG,IAAE,kBAAkBE,GAAC,GAAE,MAAM,QAAQ,IAAIL,IAAE,IAAI,IAAI,OAAMF,KAAEE,QAAI;AAAC,YAAMC,MAAE,MAAMF,IAAE,kBAAkBD,IAAE,MAAM;AAAE,mBAAWA,IAAE,QAAMK,IAAE,cAAcF,GAAC,IAAEE,IAAE,IAAIL,IAAE,OAAMG,KAAED,MAAE,CAAC;AAAA,IAAC,CAAC,CAAC,GAAEG;AAAA,EAAC;AAAA,EAAC,cAAcJ,KAAE;AAAC,SAAK,cAAYA;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAED,KAAE;AAAC,UAAME,MAAE,KAAK,oBAAoBD,KAAED,GAAC;AAAE,QAAG,QAAME,OAAG,OAAKA,OAAG,aAAWA,IAAE,QAAO;AAAE,UAAMC,MAAE,KAAK,YAAY,IAAID,IAAE,SAAS,CAAC;AAAE,WAAOC,MAAEA,IAAE,UAAQ,KAAK;AAAA,EAAqB;AAAA,EAAC,IAAIF,KAAED,KAAEE,KAAE;AAAC,SAAK,YAAY,IAAID,IAAE,SAAS,GAAE,EAAC,aAAYD,KAAE,SAAQE,IAAC,CAAC,GAAE,KAAK,wBAAsB,KAAK,IAAI,KAAK,uBAAsBA,MAAE,CAAC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAO,MAAM,KAAK,IAAE,KAAK,YAAY;AAAA,EAAI;AAAA,EAAC,oBAAoBD,KAAE;AAAC,WAAO,KAAK,QAAQ,KAAK,CAAAD,QAAGA,IAAE,oBAAoBC,GAAC,CAAC,KAAG,CAAC,GAAG,KAAK,YAAY,OAAO,CAAC,EAAE,KAAK,CAAAD,QAAGA,IAAE,YAAY,KAAK,CAAAA,QAAGA,IAAE,oBAAoBC,GAAC,CAAC,CAAC,KAAG,KAAK,aAAa,KAAK,CAAAD,QAAGA,IAAE,oBAAoBC,GAAC,CAAC,KAAG;AAAA,EAAE;AAAA,EAAC,QAAQA,KAAED,KAAE;AAAC,UAAME,MAAE,KAAK,oBAAoBD,KAAED,GAAC;AAAE,QAAG,SAAO,KAAK,gBAAc,QAAME,OAAG,OAAKA,OAAG,aAAWA,KAAG,QAAO,KAAK;AAAY,QAAG,QAAMA,IAAE,QAAO;AAAK,UAAMC,MAAED,IAAE,SAAS;AAAE,WAAO,KAAK,YAAY,IAAIC,GAAC,GAAG;AAAA,EAAW;AAAA,EAAC,oBAAoBF,KAAED,KAAE;AAAC,UAAME,MAAE,CAAC;AAAE,eAAUC,OAAK,KAAK,SAAQ;AAAC,YAAMC,MAAED,IAAE,KAAKF,KAAED,GAAC;AAAE,cAAMI,OAAG,OAAKA,MAAEF,IAAE,KAAK,QAAQ,IAAEA,IAAE,KAAKE,GAAC;AAAA,IAAC;AAAC,WAAOF,IAAE,KAAK,KAAK,UAAU;AAAA,EAAC;AAAC;;;ACA9gD,eAAeM,GAAEC,KAAED,KAAE;AAAC,UAAOA,IAAE,MAAK;AAAA,IAAC,KAAI;AAAA,IAAS,KAAI;AAAA,IAAU,KAAI;AAAA,IAAc,KAAI;AAAY,aAAOE,GAAE,KAAKD,KAAED,GAAC;AAAA,IAAE,KAAI;AAAW,aAAOE,GAAE,mBAAmBD,KAAED,GAAC;AAAA,IAAE,KAAI;AAAa,aAAOC,IAAE,uBAAuBA,KAAED,GAAC;AAAA,IAAE,KAAI;AAAQ,aAAOG,IAAE,gBAAgBF,KAAED,GAAC;AAAA,IAAE,KAAI;AAAM,aAAOE,IAAE,kBAAkBD,KAAED,GAAC;AAAA,IAAE,KAAI;AAAU,aAAOI,GAAE,aAAaH,KAAED,GAAC;AAAA,IAAE,KAAI;AAAU,aAAOK,IAAE,kBAAkBJ,KAAED,GAAC;AAAA,IAAE,KAAI;AAAQ,aAAOM,GAAE,gBAAgBL,KAAED,GAAC;AAAA,IAAE;AAAQ,YAAM,IAAI,MAAM,MAAM;AAAA,EAAC;AAAC;AAAC,IAAMI,KAAN,MAAM,WAAUF,GAAC;AAAA,EAAC,YAAYD,KAAEC,KAAE;AAAC,UAAM,GAAE,KAAK,eAAaD,KAAE,KAAK,gBAAcC;AAAA,EAAC;AAAA,EAAC,aAAa,aAAaD,KAAEC,KAAE;AAAC,UAAMK,MAAE,oBAAI,OAAIC,KAAE,CAAC;AAAE,eAAUL,OAAKD,IAAE,WAAU;AAAC,YAAMO,KAAE,SAASN,KAAE,EAAE,GAAEC,KAAEJ,GAAEC,KAAEC,IAAE,UAAUC,GAAC,CAAC,EAAE,KAAK,CAAAF,QAAGM,IAAE,IAAIE,IAAER,GAAC,CAAC;AAAE,MAAAO,GAAE,KAAKJ,EAAC;AAAA,IAAC;AAAC,WAAO,MAAM,QAAQ,IAAII,EAAC,GAAE,IAAI,GAAED,KAAEL,IAAE,YAAY;AAAA,EAAC;AAAA,EAAC,MAAMD,KAAEC,KAAEK,KAAE;AAAC,UAAMC,KAAEP,IAAE,cAAc,KAAK,aAAa,GAAEE,MAAE,KAAK,aAAa,IAAIK,EAAC;AAAE,WAAOL,MAAEA,IAAE,MAAMF,KAAEC,KAAEK,GAAC,IAAE;AAAA,EAAI;AAAA,EAAC,oBAAoBN,KAAE;AAAC,eAAUC,OAAK,KAAK,aAAa,OAAO,EAAE,KAAGA,IAAE,oBAAoBD,GAAC,EAAE,QAAM;AAAG,WAAM;AAAA,EAAE;AAAC;AAAC,IAAMI,MAAN,MAAM,WAAUH,GAAC;AAAA,EAAC,aAAa,kBAAkBD,KAAEC,KAAE;AAAC,UAAK,CAACK,KAAEC,EAAC,IAAE,MAAM,QAAQ,IAAI,CAACR,GAAEC,KAAEC,IAAE,OAAO,GAAEF,GAAEC,KAAEC,IAAE,OAAO,CAAC,CAAC;AAAE,WAAO,IAAI,GAAEK,KAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYP,KAAEC,KAAE;AAAC,UAAM,GAAE,KAAK,kBAAgBD,KAAE,KAAK,kBAAgBC;AAAA,EAAC;AAAA,EAAC,MAAMD,KAAEC,KAAEK,KAAE;AAAC,WAAO,MAAIN,IAAE,cAAc,eAAe,IAAE,KAAK,gBAAgB,MAAMA,KAAEC,KAAEK,GAAC,IAAE,KAAK,gBAAgB,MAAMN,KAAEC,KAAEK,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBN,KAAE;AAAC,WAAO,KAAK,gBAAgB,oBAAoBA,GAAC,KAAG,KAAK,gBAAgB,oBAAoBA,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMK,KAAN,MAAM,WAAUJ,GAAC;AAAA,EAAC,aAAa,gBAAgBD,KAAEC,KAAE;AAAC,UAAK,CAACK,KAAEC,IAAEL,GAAC,IAAE,MAAM,QAAQ,IAAI,CAACH,GAAEC,KAAEC,IAAE,mBAAmB,GAAEF,GAAEC,KAAEC,IAAE,iBAAiB,GAAEF,GAAEC,KAAEC,IAAE,SAAS,CAAC,CAAC;AAAE,WAAO,IAAI,GAAEK,KAAEC,IAAEL,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYF,KAAEC,KAAEK,KAAE;AAAC,UAAM,GAAE,KAAK,8BAA4BN,KAAE,KAAK,4BAA0BC,KAAE,KAAK,oBAAkBK;AAAA,EAAC;AAAA,EAAC,MAAML,KAAEK,KAAEC,IAAE;AAAC,YAAON,IAAE,cAAcK,EAAC,GAAE;AAAA,MAAC,KAAK;AAAE,eAAO,KAAK,kBAAkB,MAAML,KAAEK,KAAEC,EAAC;AAAA,MAAE,KAAK;AAAE,eAAO,KAAK,0BAA0B,MAAMN,KAAEK,KAAEC,EAAC;AAAA,MAAE,KAAK;AAAE,eAAO,KAAK,4BAA4B,MAAMN,KAAEK,KAAEC,EAAC;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,oBAAoBP,KAAE;AAAC,WAAO,KAAK,kBAAkB,oBAAoBA,GAAC,KAAG,KAAK,0BAA0B,oBAAoBA,GAAC,KAAG,KAAK,4BAA4B,oBAAoBA,GAAC;AAAA,EAAC;AAAC;;;ACAn0E,IAAMS,MAAN,MAAM,WAAUA,GAAC;AAAA,EAAC,aAAa,OAAOC,KAAEC,IAAE;AAAC,UAAMC,MAAE,MAAMC,GAAEH,KAAEC,GAAE,SAAS,GAAEG,KAAEH,GAAE,SAAO,MAAME,GAAEH,KAAEC,GAAE,MAAM,IAAE;AAAK,WAAO,IAAI,GAAEC,KAAEE,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYJ,KAAEK,KAAE;AAAC,UAAM,GAAE,KAAK,aAAWL,KAAE,KAAK,UAAQK;AAAA,EAAC;AAAA,EAAC,UAAS;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuBL,KAAEK,KAAE;AAAC,UAAM,QAAQ,IAAI,CAAC,KAAK,WAAW,eAAeL,KAAEK,GAAC,GAAE,KAAK,SAAS,eAAeL,KAAEK,GAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBL,KAAEK,KAAEN,KAAEE,IAAE;AAAC,UAAMC,MAAE,KAAK,WAAW,MAAMG,KAAEN,KAAEE,EAAC;AAAE,QAAGC,KAAE;AAAC,iBAAUD,MAAKC,IAAE,CAAAD,GAAE,eAAeD,KAAEK,KAAEN,GAAC;AAAE,UAAG,KAAK,SAAQ;AAAC,cAAMG,MAAE,KAAK,QAAQ,MAAMG,KAAEN,KAAEE,EAAC;AAAE,YAAG,CAACC,IAAE;AAAO,mBAAUD,MAAKC,IAAE,CAAAD,GAAE,eAAeD,KAAEK,KAAEN,GAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAMC,KAAEK,KAAEN,KAAEE,IAAEC,KAAEE,IAAE;AAAC,UAAME,KAAE,KAAK,WAAW,MAAMP,KAAEE,IAAEC,GAAC;AAAE,QAAG,CAACI,GAAE;AAAO,eAAUH,OAAKG,GAAE,CAAAH,IAAE,MAAMH,KAAEK,KAAEN,KAAEE,IAAEG,EAAC;AAAE,QAAGJ,IAAE,kBAAkB,KAAG,KAAG,KAAK,SAAQ;AAAC,YAAMG,MAAE,KAAK,QAAQ,MAAMJ,KAAEE,IAAEC,GAAC;AAAE,UAAG,CAACC,IAAE;AAAO,iBAAUD,OAAKC,IAAE,CAAAD,IAAE,cAAcI,EAAC,GAAEJ,IAAE,MAAMF,KAAEK,KAAEN,KAAEE,IAAEG,EAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,WAAWJ,KAAEK,KAAE;AAAC,WAAO,KAAK,WAAW,WAAWL,KAAEK,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBL,KAAE;AAAC,WAAM,EAAE,CAAC,KAAK,WAAW,oBAAoBA,GAAC,KAAG,CAAC,KAAK,SAAS,oBAAoBA,GAAC;AAAA,EAAE;AAAC;;;ACA7iC,IAAMO,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,UAAQJ,KAAE,KAAK,QAAMC,KAAE,KAAK,aAAWC,KAAE,KAAK,WAASC,KAAE,KAAK,YAAUC;AAAA,EAAC;AAAA,EAAC,MAAM,kBAAkBJ,KAAE;AAAC,UAAMC,MAAED,IAAE,IAAI,CAAAA,QAAG,KAAK,SAAS,iBAAiB,KAAK,SAAQ,KAAK,OAAM,KAAK,YAAWA,KAAE,KAAK,SAAS,CAAC;AAAE,WAAO,QAAQ,IAAIC,GAAC;AAAA,EAAC;AAAC;;;ACAtM,IAAMI,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAE;AAAC,SAAK,uBAAqB,CAAC,GAAE,KAAK,SAAO,IAAI,EAAE,EAAC,aAAYA,IAAE,aAAY,SAAQ,CAAAC,QAAGD,IAAE,QAAQC,GAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,KAAKA,KAAE;AAAC,QAAGA,IAAE,IAAI,QAAO,MAAM,QAAQ,IAAI,KAAK,oBAAoB,GAAE,MAAM,KAAK,OAAO,KAAKA,GAAC,GAAE,MAAK,KAAK,uBAAqB,CAAC;AAAG,UAAMD,MAAE,KAAK,OAAO,KAAKC,GAAC;AAAE,WAAO,KAAK,qBAAqB,KAAKD,GAAC,GAAEA;AAAA,EAAC;AAAC;;;ACA9U,IAAME,MAAN,MAAM,GAAC;AAAA,EAAC,aAAa,OAAOC,KAAEC,KAAE;AAAC,QAAG,YAAUA,IAAE,eAAc;AAAC,YAAMD,MAAE,IAAIE,GAAE,CAAC;AAAE,aAAO,IAAI,GAAED,IAAE,MAAKA,IAAE,OAAMA,IAAE,MAAKA,IAAE,eAAcD,GAAC;AAAA,IAAC;AAAC,UAAMG,KAAE,MAAMH,IAAE,oBAAoB,EAAC,YAAWC,IAAE,uBAAuB,YAAW,OAAMA,IAAE,iBAAgB,CAAC;AAAE,WAAO,IAAI,GAAEA,IAAE,MAAKA,IAAE,OAAMA,IAAE,MAAKA,IAAE,eAAcE,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYC,KAAEL,KAAEC,KAAEC,KAAEE,IAAE;AAAC,SAAK,OAAKC,KAAE,KAAK,QAAML,KAAE,KAAK,OAAKC,KAAE,KAAK,gBAAcC,KAAE,KAAK,WAASE;AAAA,EAAC;AAAC;;;ACA5c,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAE;AAAC,SAAK,eAAaA,KAAE,KAAK,gBAAc,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYD,KAAEC,KAAEC,KAAE;AAAC,SAAK,UAAQF,KAAE,KAAK,kBAAgBC,KAAE,KAAK,cAAYC,KAAE,KAAK,cAAY,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,YAAYF,KAAE;AAAC,UAAMC,MAAE,KAAK,YAAYD,GAAC;AAAE,SAAK,YAAY,IAAIA,IAAE,IAAI,IAAGC,GAAC,GAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,cAAcD,KAAE;AAAC,SAAK,YAAY,IAAIA,IAAE,IAAI,EAAE,GAAG,QAAQ,GAAE,KAAK,YAAY,OAAOA,IAAE,IAAI,EAAE;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,YAAY,OAAK;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,aAAY;AAAC,UAAMA,MAAE,MAAM,KAAK,KAAK,YAAY,OAAO,CAAC;AAAE,SAAK,YAAY,MAAM;AAAE,eAAUC,OAAKD,IAAE,CAAAC,IAAE,QAAQ,GAAE,KAAK,YAAYA,IAAE,YAAY;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gCAAgCA,KAAE;AAAC,UAAM,IAAI,MAAM,iDAAiD;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,WAAO,KAAK,WAAWA,KAAE,CAAAA,QAAGA,KAAE,CAAAA,QAAGA,GAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBA,KAAE;AAAC,WAAO,KAAK,WAAWA,KAAE,CAAAA,QAAGA,KAAE,CAACA,KAAEC,KAAEC,QAAI,CAACF,KAAEE,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAA,EAAC;AAAC;;;ACApa,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAEL,KAAE;AAAC,UAAME,KAAEC,KAAEH,GAAC,GAAE,KAAK,mBAAiBI,KAAE,KAAK,kBAAgBC,KAAE,KAAK,sBAAoB,oBAAI,OAAI,KAAK,SAAO,IAAIL,MAAE,KAAK,iBAAeC;AAAE,eAAUA,OAAKI,IAAE,CAAAC,GAAE,KAAK,qBAAoBL,IAAE,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,0BAAwB,KAAK,wBAAsB,IAAI,EAAE,EAAC,cAAa,MAAK,aAAY,KAAK,UAAU,aAAY,cAAa,KAAK,UAAU,cAAa,eAAc,KAAK,UAAU,eAAc,kBAAiB,KAAK,iBAAgB,CAAC,IAAG,KAAK;AAAA,EAAqB;AAAA,EAAC,IAAI,cAAa;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,aAAaA,KAAE;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,WAAO,KAAK,oBAAoB,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,WAAO,KAAK,2BAA2BA,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAEC,KAAE;AAAA,EAAC;AAAA,EAAC,cAAcD,KAAEM,IAAE;AAAC,UAAMH,MAAEE,GAAE;AAAE,eAAUJ,OAAKD,KAAE;AAAC,YAAMA,MAAE,GAAEG,KAAEF,IAAE,UAAS,OAAG,KAAE;AAAE,MAAAD,OAAGM,GAAEN,GAAC;AAAA,IAAC;AAAA,EAAC;AAAC;;;ACA53C,IAAMO,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaJ,KAAE,KAAK,SAAOC,KAAE,KAAK,QAAMC,KAAE,KAAK,MAAIC,KAAE,KAAK,YAAUC,KAAE,KAAK,OAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,KAAI;AAAC,WAAO,KAAK,aAAa,KAAK;AAAA,EAAE;AAAA,EAAC,cAAcJ,KAAEC,KAAEC,KAAE;AAAC,WAAM,EAAC,MAAK,UAAS,OAAM,KAAK,OAAM,IAAG,KAAK,IAAG,QAAOF,KAAE,KAAI,KAAK,KAAI,WAAU,KAAK,WAAU,qBAAoB,KAAK,aAAa,SAAQ,SAAQC,KAAE,gBAAeC,IAAC;AAAA,EAAC;AAAC;AAAC,IAAMD,MAAN,MAAO;AAAA,EAAC,YAAYD,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaJ,KAAE,KAAK,SAAOC,KAAE,KAAK,SAAOC,KAAE,KAAK,MAAIC,KAAE,KAAK,YAAUC,KAAE,KAAK,OAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,KAAI;AAAC,WAAO,KAAK,aAAa,KAAK;AAAA,EAAE;AAAA,EAAC,cAAcJ,KAAEC,KAAEC,KAAE;AAAC,WAAM,EAAC,MAAK,UAAS,IAAG,KAAK,IAAG,QAAOF,KAAE,WAAU,KAAK,WAAU,QAAO,KAAK,QAAO,SAAQC,KAAE,qBAAoB,KAAK,aAAa,SAAQ,KAAI,KAAK,KAAI,gBAAeC,IAAC;AAAA,EAAC;AAAC;;;ACAsU,IAAMG,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAED,KAAE;AAAC,UAAMC,GAAC,GAAE,KAAK,OAAK,oBAAI,OAAI,KAAK,eAAa,oBAAI,OAAI,KAAK,OAAK,OAAG,KAAK,SAAOD;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,QAAQ,GAAE,KAAK,OAAK;AAAA,EAAE;AAAA,EAAC,UAAS;AAAC,UAAMC,MAAE,KAAK,aAAa,KAAK,IAAI;AAAM,eAAUD,OAAK,KAAK,aAAa,KAAK,EAAE,MAAK,OAAO,4BAA4B,GAAGA,GAAC,IAAIC,GAAC,EAAE;AAAE,SAAK,KAAK,MAAM,GAAE,KAAK,aAAa,MAAM,GAAE,KAAK,cAAc,MAAM;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK,aAAa;AAAA,EAAI;AAAA,EAAC,CAAC,qBAAoB;AAAC,eAAUA,OAAK,KAAK,aAAa,OAAO,GAAE;AAAC,YAAMD,MAAEC,IAAE,MAAM;AAAE,MAAAD,IAAE,YAAU,GAAEA,IAAE,UAASA,IAAE,UAAS,OAAG,OAAG,KAAK,aAAa,KAAK,SAAS,GAAE,MAAMA;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,IAAME,KAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,aAAa,OAAOH,KAAEI,KAAEC,IAAEF,KAAEG,KAAE;AAAC,UAAMC,MAAEH,IAAE,SAAS,qBAAoBI,MAAE,IAAID,GAAE,EAAC,kBAAiBA,IAAC,CAAC,GAAEE,KAAE,MAAM,QAAQ,IAAIT,IAAE,OAAO,IAAI,OAAMC,QAAGG,IAAE,OAAOI,KAAEP,GAAC,CAAC,CAAC,GAAES,KAAEV,IAAE,gBAAc,MAAM,EAAE,OAAO,EAAC,cAAaI,IAAE,SAAS,cAAa,MAAK,OAAG,MAAK,OAAG,UAASA,IAAE,SAAS,UAAS,aAAYA,IAAE,SAAS,aAAY,kBAAiBG,KAAE,YAAWP,IAAE,cAAa,CAAC,IAAE;AAAK,WAAM,cAAYA,IAAE,MAAM,QAAM,MAAMW,GAAEJ,KAAE,EAAE,KAAK,GAAE,IAAI,GAAEP,KAAEU,IAAEP,KAAEM,IAAEF,KAAEH,KAAEC,IAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYL,KAAED,KAAEI,KAAEC,IAAEO,KAAEC,IAAEP,KAAEC,KAAE;AAAC,UAAMM,IAAEP,KAAEM,KAAEP,IAAEE,GAAC,GAAE,KAAK,UAAQN,KAAE,KAAK,iBAAeD,KAAE,KAAK,qBAAmBI,KAAE,KAAK,YAAUD,GAAE,cAAc,EAAC,cAAa,uBAAsB,eAAc,EAAC,MAAK,aAAY,WAAU,cAAa,GAAE,aAAY,IAAI,EAAEF,IAAE,MAAM,EAAE,OAAO,GAAE,eAAc,MAAK,kBAAiBY,GAAE,SAAS,kBAAiB,qBAAoBA,GAAE,SAAS,qBAAoB,cAAa,MAAK,UAAS,MAAK,UAAS,MAAK,4BAA2B,MAAK,oBAAmB,MAAK,aAAY,MAAK,OAAM,KAAI,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYZ,KAAE;AAAC,WAAO,IAAIF,GAAEE,KAAE,KAAK,eAAe;AAAA,EAAC;AAAA,EAAC,OAAM,oBAAoBA,KAAE;AAAC,eAAUD,OAAK,KAAK,YAAY,OAAO,GAAE;AAAC,MAAAA,IAAE,MAAM;AAAE,YAAMC,MAAE,IAAIA,IAAED,IAAE,cAAac,GAAE,MAAM,KAAK,QAAQ,QAAQ,GAAE,MAAG,OAAG,CAAC,CAAC;AAAE,YAAMb;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAED,KAAEI,KAAE;AAAC,UAAMC,KAAE,IAAI,IAAIJ,IAAE,IAAI,CAAAA,QAAG,CAACD,IAAEC,GAAC,GAAEA,GAAC,CAAC,CAAC,GAAEW,MAAE,CAAC;AAAE,eAAUT,OAAK,KAAK,YAAY,OAAO,EAAE,YAAUF,OAAKE,IAAE,mBAAmB,GAAE;AAAC,YAAK,EAAC,UAASH,KAAE,WAAUG,IAAC,IAAEF,KAAEY,KAAER,GAAE,IAAIL,GAAC;AAAE,UAAG,QAAMa,IAAE;AAAC,cAAMZ,MAAEG,IAAED,KAAEU,IAAEb,GAAC;AAAE,QAAAY,IAAE,KAAKX,GAAC,GAAEI,GAAE,OAAOL,GAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOY;AAAA,EAAC;AAAA,EAAC,mBAAmBX,KAAE;AAAC,UAAMG,MAAE,IAAI,IAAIH,GAAC,GAAEI,KAAE,oBAAI,OAAIO,MAAE,CAAC;AAAE,eAAUT,OAAK,KAAK,YAAY,OAAO,EAAE,YAAUF,OAAKE,IAAE,mBAAmB,EAAE,CAAAC,IAAE,IAAIH,IAAE,SAAS,KAAG,CAACI,GAAE,IAAIJ,IAAE,QAAQ,MAAIA,IAAE,YAAUW,IAAE,KAAK,EAAC,GAAG,GAAEX,KAAE,KAAK,UAAU,cAAa,OAAG,KAAE,GAAE,WAAUA,IAAE,UAAS,CAAC,GAAEI,GAAE,IAAIJ,IAAE,QAAQ;AAAG,WAAM,EAAC,UAAS,CAAC,GAAE,YAAWW,KAAE,QAAO,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,gCAAgCX,KAAE;AAAC,eAAUD,OAAK,KAAK,YAAY,OAAO,EAAE,YAAUI,OAAKJ,IAAE,KAAK,OAAO,EAAE,KAAGI,IAAE,OAAKH,IAAE,QAAO,MAAM,KAAKG,IAAE,kBAAkB;AAAE,WAAM,CAAC;AAAA,EAAC;AAAA,EAAC,OAAM,eAAc;AAAC,eAAUH,OAAK,KAAK,YAAY,OAAO,EAAE,QAAM,KAAK,QAAQA,KAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,2BAA2BA,KAAE;AAAC,UAAMD,MAAE,oBAAI;AAAI,eAAUI,OAAK,KAAK,YAAY,OAAO,EAAE,YAAUC,MAAKD,IAAE,mBAAmB,EAAE,CAAAJ,IAAE,IAAIK,GAAE,QAAQ,MAAIJ,IAAEI,EAAC,GAAEL,IAAE,IAAIK,GAAE,QAAQ;AAAA,EAAE;AAAA,EAAC,oBAAoBJ,KAAE;AAAC,YAAO,KAAK,QAAQ,MAAM,MAAK;AAAA,MAAC,KAAI;AAAU,eAAM,EAAC,MAAK,WAAU,QAAO,KAAK,iBAAgB,eAAc,KAAK,gBAAe,cAAa,KAAK,QAAQ,MAAM,aAAY,kBAAiB,KAAK,kBAAiB,mBAAkB,KAAK,oBAAmB,OAAMA,IAAE,OAAM,YAAW,KAAK,YAAW;AAAA,MAAE,KAAI,QAAO;AAAC,cAAMD,MAAE,KAAK,QAAQ,MAAM,eAAcI,MAAE,QAAMJ,MAAEC,IAAE,aAAa,aAAaD,GAAC,EAAE,QAAMC,IAAE;AAAM,eAAM,EAAC,MAAK,QAAO,QAAO,KAAK,iBAAgB,UAAS,KAAK,QAAQ,MAAM,MAAK,eAAc,KAAK,gBAAe,kBAAiB,KAAK,kBAAiB,mBAAkB,KAAK,oBAAmB,OAAMG,KAAE,YAAW,KAAK,YAAW;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,OAAM,QAAQH,KAAED,KAAE;AAAC,UAAK,EAAC,eAAcI,KAAE,cAAaQ,KAAE,MAAKT,KAAE,cAAaU,GAAC,IAAEZ,KAAEK,MAAEM,IAAE;AAAK,QAAGX,IAAE,KAAK;AAAO,eAAUI,MAAKL,IAAE,OAAO,GAAE;AAAC,UAAGI,IAAE,IAAIC,GAAE,OAAO,EAAE;AAAS,MAAAD,IAAE,IAAIC,GAAE,OAAO;AAAE,YAAML,MAAEK,GAAE;AAAU,UAAG,YAAWL,KAAE;AAAC,cAAMC,MAAE,IAAIA,GAAED,IAAE,MAAM;AAAE,YAAGC,IAAE,UAAQK,IAAE,SAAOL,IAAE,UAAQK,IAAE,IAAI,MAAM;AAAA,MAAQ;AAAC,MAAAD,GAAE,kBAAkB,KAAK,oBAAoBJ,IAAE,IAAI,CAAC,EAAE,WAAWE,KAAEF,IAAE,KAAK,QAAOA,IAAE,KAAK,UAAU;AAAA,IAAC;AAAC,UAAMM,MAAE,CAAC,GAAEC,MAAEI,IAAE,KAAK,WAAUE,MAAEF,IAAE,KAAK,IAAI;AAAM,eAAUH,MAAKN,IAAE,OAAO,GAAE;AAAC,UAAIF,MAAEY,GAAE,IAAIJ,GAAE,EAAE;AAAE,UAAGR,IAAE,CAAAA,IAAE,aAAWQ,GAAE,cAAc;AAAA,WAAM;AAAC,cAAMT,MAAES,GAAE,YAAY,KAAK,kBAAiBD,GAAC;AAAE,QAAAP,MAAE,IAAIG,GAAEJ,KAAES,GAAE,cAAc,GAAE,MAAKA,GAAE,EAAE,GAAET,QAAIC,IAAE,WAASQ,GAAE,qBAAqB,KAAK,kBAAiBD,GAAC,IAAGP,IAAE,YAAU,KAAK,gBAAgB,2BAA2B,GAAGA,IAAE,QAAQ,IAAIa,GAAC,EAAE,GAAED,GAAE,IAAIJ,GAAE,IAAGR,GAAC;AAAA,MAAC;AAAC,MAAAM,IAAE,KAAKN,GAAC;AAAA,IAAC;AAAC,SAAK,OAAO,KAAK,SAAS,GAAEA,IAAE,OAAK,CAACD,IAAE,eAAe;AAAS,UAAMW,KAAEG,GAAE,sBAAsBP,KAAE,KAAK,WAAUC,GAAC,GAAEE,KAAEC,GAAE,UAAU,GAAEZ,KAAEE,IAAE,aAAa,KAAK,8BAA8B,KAAK,kBAAkB;AAAE,WAAKS,GAAE,KAAK,IAAG,MAAK,gBAAgB,iBAAiBA,GAAE,aAAa,GAAEA,IAAEX,IAAE,KAAK,WAAW;AAAE,UAAMG,KAAE,IAAIC,IAAEF,IAAE,cAAaU,IAAE,CAAC,GAAEV,IAAE,MAAK,CAAC,CAAC;AAAE,UAAMC;AAAA,EAAC;AAAC;;;ACAt+K,IAAMa,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,SAAK,QAAMD,KAAE,KAAK,YAAUC;AAAA,EAAC;AAAC;;;ACA6jC,IAAMC,KAAE;AAAI,IAAMC,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,GAAC,GAAE,KAAK,UAAQ,OAAG,KAAK,OAAK;AAAA,EAAE;AAAC;AAAC,IAAM,IAAN,MAAO;AAAA,EAAC,YAAYA,KAAED,KAAEE,KAAEC,KAAEC,KAAE;AAAC,SAAK,SAAOH,KAAE,KAAK,SAAOD,KAAE,KAAK,gBAAcE,KAAE,KAAK,iBAAeC,KAAE,KAAK,SAAOC,KAAE,KAAK,SAAO,oBAAI,OAAI,KAAK,iBAAe,oBAAI,OAAI,KAAK,cAAY,oBAAI,OAAI,KAAK,YAAU,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAC,SAAK,eAAe;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,eAAUH,OAAK,KAAK,UAAU,OAAO,EAAE,MAAK,OAAO,4BAA4BA,IAAE,MAAM,EAAE;AAAE,SAAK,UAAU,MAAM;AAAA,EAAC;AAAA,EAAC,CAAC,uBAAsB;AAAC,eAAUA,OAAK,KAAK,UAAU,OAAO,GAAE;AAAC,YAAMC,MAAED,IAAE,MAAM,YAAY,IAAI,GAAEE,MAAE,IAAID,GAAEA,KAAED,IAAE,MAAM,cAAc,GAAE,MAAKA,IAAE,MAAM,IAAGA,IAAE,SAAS;AAAE,YAAME;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,WAAO,KAAK,UAAU,OAAO;AAAA,EAAC;AAAA,EAAC,aAAaF,KAAED,KAAE;AAAC,QAAIE,MAAE;AAAG,eAAUG,MAAKJ,KAAE;AAAC,YAAMA,MAAEI,GAAE;AAAU,UAAG,YAAWJ,KAAE;AAAC,YAAG,IAAIA,GAAEA,IAAE,MAAM,EAAE,UAAQ,KAAK,OAAO;AAAA,MAAQ;AAAC,UAAG,CAAC,KAAK,eAAe,IAAII,GAAE,iBAAiB,GAAE;AAAC,aAAK,eAAe,IAAIA,GAAE,iBAAiB,GAAEH,MAAE;AAAG,QAAAG,GAAE,kBAAkB,EAAC,GAAG,KAAK,eAAc,OAAM,KAAK,OAAM,CAAC,EAAE,IAAI,KAAK,MAAM;AAAA,MAAC;AAAA,IAAC;AAAC,UAAMF,MAAE,EAAC,MAAK,IAAE,GAAE,MAAK,IAAE,GAAE,MAAK,KAAG,GAAE,MAAK,KAAG,EAAC,GAAEC,MAAEA,GAAE,KAAK,cAAc,kBAAiB,KAAK,MAAM,GAAEE,MAAE,KAAK,cAAc;AAAS,eAAS,EAAC,cAAaD,GAAC,KAAIL,KAAE;AAAC,YAAMC,MAAEI,GAAE,KAAK,QAAOL,MAAE,KAAK,MAAMC,IAAE,CAAC,IAAEG,MAAEE,GAAC,GAAEJ,MAAE,KAAK,MAAMD,IAAE,CAAC,IAAEG,MAAEE,GAAC,GAAEC,MAAE,KAAK,KAAKN,IAAE,CAAC,IAAEG,MAAEE,GAAC,GAAEE,KAAE,KAAK,KAAKP,IAAE,CAAC,IAAEG,MAAEE,GAAC;AAAE,MAAAH,IAAE,OAAK,KAAK,IAAIA,IAAE,MAAKH,GAAC,GAAEG,IAAE,OAAK,KAAK,IAAIA,IAAE,MAAKD,GAAC,GAAEC,IAAE,OAAK,KAAK,IAAIA,IAAE,MAAKI,GAAC,GAAEJ,IAAE,OAAK,KAAK,IAAIA,IAAE,MAAKK,EAAC;AAAA,IAAC;AAAC,WAAO,QAAM,KAAK,mBAAiBL,IAAE,SAAO,KAAK,gBAAgB,QAAMA,IAAE,SAAO,KAAK,gBAAgB,QAAMA,IAAE,SAAO,KAAK,gBAAgB,QAAMA,IAAE,SAAO,KAAK,gBAAgB,SAAOD,MAAE,MAAG,KAAK,kBAAgBC,MAAGD,OAAG,KAAK,cAAcC,GAAC,GAAED;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiBD,KAAE;AAAC,QAAID,MAAE;AAAG,eAAUE,OAAK,KAAK,UAAU,OAAO,EAAE,CAAAA,IAAE,MAAM,QAAM,MAAIF,MAAE,KAAK,2BAA2B,KAAK,aAAYE,IAAE,KAAK,KAAGF;AAAG,QAAGA,KAAE;AAAC,YAAMA,MAAE,MAAM,KAAK,KAAK,YAAY,QAAQ,CAAC,EAAE,IAAI,CAAC,CAACC,KAAED,GAAC,OAAK,EAAC,WAAUC,KAAE,UAASD,IAAE,UAAS,UAASA,IAAE,SAAQ,EAAE;AAAE,YAAMC,IAAE,UAAU,iBAAiB,KAAK,QAAOD,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBC,KAAEE,KAAE;AAAC,UAAMG,MAAEL,IAAE,cAAaI,KAAE,CAAC,GAAEE,MAAED,IAAE,KAAK;AAAU,eAAUE,MAAK,KAAK,UAAU,OAAO,GAAE;AAAC,UAAIP,MAAEO,GAAE,MAAM,aAAaD,GAAC;AAAE,YAAMJ,MAAEK,GAAE,MAAM,aAAaD,GAAC,GAAEE,MAAEH,IAAE,KAAK,KAAII,MAAED,IAAE,OAAKA,IAAE,UAAU,CAAC,IAAE,MAAKE,KAAE,MAAIH,GAAE,MAAM,QAAMA,GAAE,MAAM,gBAAcA,GAAE,MAAM,IAAGI,KAAEJ,GAAE;AAAU,UAAG,QAAME,IAAE,KAAG,MAAIA,KAAE;AAAC,cAAMJ,MAAE,IAAIL,GAAE,CAAC,GAAE,CAACA,KAAEE,GAAC,CAAC,GAAEI,MAAE,IAAIL,GAAEI,KAAEE,GAAE,MAAM,cAAc,GAAE,MAAKG,IAAEC,EAAC;AAAE,QAAAL,IAAE,SAAS,OAAO,CAAC,KAAG,GAAEF,GAAE,KAAKE,GAAC;AAAE,cAAME,MAAE,IAAIR,GAAE,CAAC,GAAE,CAACA,KAAEE,GAAC,CAAC,GAAEO,MAAE,IAAIR,GAAEO,KAAED,GAAE,MAAM,cAAc,GAAE,MAAKG,IAAEC,EAAC;AAAE,QAAAF,IAAE,SAAS,OAAO,CAAC,KAAG,GAAEL,GAAE,KAAKK,GAAC;AAAA,MAAC,MAAM,CAAAT,MAAE,IAAE,IAAE,IAAEA,OAAGS,MAAE,IAAET,MAAE,SAAOA,OAAGS,MAAE;AAAG,UAAGT,MAAE,IAAEH,MAAGG,OAAG,CAACH,MAAGK,MAAE,IAAEL,MAAGK,OAAG,CAACL,IAAE;AAAC,cAAMM,MAAE,IAAIH,GAAE,CAAC,GAAE,CAACA,KAAEE,GAAC,CAAC,GAAEG,MAAE,IAAIJ,GAAEE,KAAEI,GAAE,MAAM,cAAc,GAAE,MAAKG,IAAEC,EAAC;AAAE,QAAAP,GAAE,KAAKC,GAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOI,GAAE,sBAAsBL,IAAEF,KAAEG,IAAE,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,cAAcL,KAAE;AAAC,QAAID,MAAE,MAAM,KAAK,KAAK,OAAO,OAAO,CAAC;AAAE,IAAAA,MAAEA,IAAE,KAAK,CAACC,KAAED,QAAIA,IAAE,QAAMC,IAAE,KAAK;AAAE,UAAMC,MAAE,CAAC;AAAE,eAAUG,MAAK,KAAK,UAAU,OAAO,EAAE,CAAAH,IAAE,KAAKG,GAAE,MAAM,EAAE;AAAE,SAAK,UAAU,MAAM;AAAE,UAAMF,MAAE,KAAK,kBAAgB,IAAEC,GAAE,KAAK,cAAc,kBAAiB,KAAK,MAAM,IAAGA,MAAE,IAAE,KAAK,iBAAe,KAAK,cAAc,UAASE,MAAE,oBAAI;AAAI,eAAUC,OAAKP,KAAE;AAAC,UAAGM,IAAE,IAAIC,IAAE,EAAE,EAAE;AAAS,UAAGA,IAAE,QAAMN,IAAE,QAAMM,IAAE,QAAMN,IAAE,QAAMM,IAAE,QAAMN,IAAE,QAAMM,IAAE,QAAMN,IAAE,KAAK;AAAS,YAAMD,MAAE,KAAK,OAAO,2BAA2BO,IAAE,EAAE,GAAEL,MAAE,IAAIA,IAAEK,IAAE,MAAM,GAAEP,GAAC;AAAE,MAAAM,IAAE,IAAIC,IAAE,EAAE,GAAE,KAAK,UAAU,IAAIA,IAAE,IAAGL,GAAC;AAAE,YAAMM,KAAED,IAAE,gBAAeE,MAAEF,IAAE;AAAe,eAAQN,MAAEM,IAAE,QAAMH,KAAEH,OAAGM,IAAE,QAAMH,KAAEH,MAAI,UAAQD,MAAEO,IAAE,QAAMH,KAAEJ,OAAGO,IAAE,QAAMH,KAAEJ,OAAI;AAAC,YAAGC,QAAIM,IAAE,SAAOP,QAAIO,IAAE,MAAM;AAAS,cAAMH,MAAE,KAAK,OAAO,IAAIG,GAAE,SAASP,KAAEC,GAAC,CAAC;AAAE,YAAG,CAACG,OAAGE,IAAE,IAAIF,IAAE,EAAE,EAAE;AAAS,cAAMM,MAAE,KAAK,IAAIN,IAAE,iBAAeI,EAAC,GAAEG,KAAE,KAAK,IAAIP,IAAE,iBAAeK,GAAC;AAAE,QAAAC,MAAEP,OAAGQ,KAAER,QAAID,IAAE,MAAM,MAAME,GAAC,GAAEE,IAAE,IAAIF,IAAE,EAAE;AAAA,MAAE;AAAA,IAAC;AAAC,eAAUC,MAAKH,IAAE,MAAK,OAAO,4BAA4BG,EAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BJ,KAAED,KAAE;AAAC,QAAIE,MAAE;AAAG,eAAUC,OAAKH,IAAE,WAAW,OAAO,GAAE;AAAC,UAAG,0BAAwBG,IAAE,MAAM,KAAK;AAAS,YAAMH,MAAEG,IAAE,OAAMC,MAAED,IAAE,OAAMG,MAAEL,IAAE,IAAIG,IAAE,IAAI;AAAE,UAAGE,KAAE;AAAC,cAAK,EAAC,UAASL,KAAE,UAASE,IAAC,IAAEG,KAAEF,MAAE,KAAK,IAAIE,IAAE,UAASN,GAAC,GAAEK,KAAE,KAAK,IAAIC,IAAE,UAASN,GAAC;AAAE,QAAAC,QAAIG,OAAGD,QAAIE,OAAIC,IAAE,WAASF,KAAEE,IAAE,WAASD,IAAEH,MAAE;AAAI;AAAA,MAAQ;AAAC,MAAAD,IAAE,IAAIG,IAAE,MAAK,EAAC,UAASJ,KAAE,UAASA,IAAC,CAAC,GAAEE,MAAE;AAAA,IAAE;AAAC,WAAOA;AAAA,EAAC;AAAC;AAAC,IAAMW,KAAN,MAAM,WAAUV,IAAC;AAAA,EAAC,aAAa,OAAOF,KAAED,KAAEE,KAAEC,KAAEC,KAAEC,IAAE;AAAC,UAAME,MAAEL,IAAE,SAAS,qBAAoBM,KAAE,IAAID,GAAE,EAAC,kBAAiBA,IAAC,CAAC,GAAEE,MAAE,EAAC,MAAK,QAAO,QAAO,MAAM,QAAQ,IAAIT,IAAE,OAAO,IAAI,OAAMC,QAAGC,IAAE,OAAOM,IAAEP,GAAC,CAAC,CAAC,GAAE,kBAAiBM,KAAE,eAAcP,IAAE,gBAAc,MAAM,EAAE,OAAO,EAAC,cAAaE,IAAE,SAAS,cAAa,MAAK,OAAG,MAAK,OAAG,UAASA,IAAE,SAAS,UAAS,aAAYA,IAAE,SAAS,aAAY,kBAAiBK,KAAE,YAAWP,IAAE,cAAa,CAAC,IAAE,MAAK,UAASA,IAAE,gBAAc,GAAE,mBAAkBI,KAAE,YAAWC,GAAC;AAAE,WAAO,IAAI,GAAEJ,KAAED,IAAE,eAAcS,KAAET,IAAE,QAAOE,KAAEC,KAAEE,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYJ,KAAED,KAAEE,KAAEE,KAAEE,KAAED,IAAEE,KAAE;AAAC,UAAMD,KAAED,IAAEH,IAAE,kBAAiBA,IAAE,QAAOK,GAAC,GAAE,KAAK,cAAYN,KAAE,KAAK,iBAAeD,KAAE,KAAK,gBAAcE,KAAE,KAAK,iBAAe,oBAAI,OAAI,KAAK,YAAUC,GAAE,cAAc,EAAC,cAAa,qBAAoB,eAAc,EAAC,MAAK,aAAY,WAAU,cAAa,GAAE,aAAY,IAAI,EAAE,CAAC,GAAGC,KAAE,GAAG,KAAK,QAAQ,SAAS,YAAY,QAAO,EAAC,MAAK,eAAc,OAAM,eAAc,MAAK,mBAAkB,CAAC,CAAC,EAAE,OAAO,GAAE,eAAc,MAAK,kBAAiBE,IAAE,SAAS,kBAAiB,qBAAoBA,IAAE,SAAS,qBAAoB,cAAa,MAAK,UAAS,MAAK,UAAS,MAAK,4BAA2B,MAAK,oBAAmB,MAAK,aAAY,MAAK,OAAM,KAAI,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,aAAY;AAAC,UAAM,WAAW;AAAE,eAAUL,OAAK,KAAK,eAAe,OAAO,EAAE,CAAAA,IAAE,QAAQ;AAAE,SAAK,eAAe,MAAM;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,UAAM,YAAYA,GAAC,GAAE,KAAK,iBAAeA,IAAE,KAAK,OAAM,KAAK,iBAAeA,IAAE,KAAK;AAAA,EAAK;AAAA,EAAC,YAAYA,KAAE;AAAC,WAAO,IAAIF,GAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM,oBAAoBA,KAAE;AAAC,eAAUD,OAAK,KAAK,eAAe,OAAO,EAAE,CAAAA,IAAE,QAAQ;AAAE,SAAK,eAAe,MAAM;AAAE,eAAUA,OAAK,KAAK,YAAY,OAAO,EAAE,CAAAA,IAAE,OAAK;AAAA,EAAE;AAAA,EAAC,WAAWC,KAAED,KAAEE,KAAE;AAAC,UAAMC,MAAE,IAAI,IAAIF,IAAE,IAAI,CAAAA,QAAG,CAACD,IAAEC,GAAC,GAAEA,GAAC,CAAC,CAAC,GAAEG,MAAE,CAAC,GAAEE,MAAE,KAAK,iBAAiB,KAAK,gBAAe,KAAK,cAAc;AAAE,eAAUD,MAAKC,IAAE,SAAS,GAAE;AAAC,YAAML,MAAEE,IAAE,IAAIE,GAAE,MAAM,EAAE;AAAE,UAAG,QAAMJ,KAAE;AAAC,cAAMD,MAAEE,IAAEG,GAAE,WAAUJ,KAAEI,GAAE,MAAM,EAAE;AAAE,QAAAD,IAAE,KAAKJ,GAAC,GAAEG,IAAE,OAAOE,GAAE,MAAM,EAAE;AAAE;AAAA,MAAQ;AAAC,UAAG,MAAIA,GAAE,MAAM,OAAM;AAAC,cAAK,EAAC,eAAcJ,IAAC,IAAEI,GAAE,OAAML,MAAEC,MAAEE,IAAE,IAAIF,GAAC,IAAE;AAAK,YAAG,QAAMD,KAAE;AAAC,gBAAMM,MAAEJ,IAAEG,GAAE,WAAUL,KAAEC,GAAC;AAAE,UAAAG,IAAE,KAAKE,GAAC,GAAEH,IAAE,OAAOF,GAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOG;AAAA,EAAC;AAAA,EAAC,mBAAmBJ,KAAE;AAAC,UAAME,MAAE,IAAI,IAAIF,GAAC,GAAEG,MAAE,oBAAI,OAAIC,MAAE,CAAC,GAAEE,MAAE,CAAC,GAAED,KAAE,KAAK,iBAAiB,KAAK,gBAAe,KAAK,cAAc;AAAE,eAAUE,OAAKF,GAAE,qBAAqB,EAAE,KAAGH,IAAE,IAAIK,IAAE,SAAS,KAAG,CAACJ,IAAE,IAAII,IAAE,SAAS,GAAE;AAAC,YAAMP,MAAE,GAAEO,KAAE,KAAK,UAAU,cAAa,OAAG,KAAE;AAAE,UAAGJ,IAAE,IAAII,IAAE,SAAS,GAAE,MAAIP,IAAE,WAAW,eAAc;AAAC,QAAAI,IAAE,KAAK,EAAC,GAAGJ,KAAE,WAAUO,IAAE,UAAS,CAAC;AAAE;AAAA,MAAQ;AAAC,MAAAD,IAAE,KAAK,EAAC,GAAGN,KAAE,WAAUO,IAAE,UAAS,CAAC;AAAA,IAAC;AAAC,WAAM,EAAC,UAASH,KAAE,YAAWE,KAAE,QAAO,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,gCAAgCL,KAAE;AAAC,UAAMD,MAAE,KAAK,iBAAiB,KAAK,gBAAe,KAAK,cAAc;AAAE,eAAUE,OAAKF,IAAE,SAAS,EAAE,KAAGE,IAAE,MAAM,OAAKD,IAAE,QAAO,MAAM,KAAKC,IAAE,MAAM,kBAAkB;AAAE,WAAM,CAAC;AAAA,EAAC;AAAA,EAAC,OAAM,eAAc;AAAC,UAAMD,MAAE,KAAK,QAAQ,OAAO;AAAE,QAAG,CAACA,IAAE,OAAO;AAAO,UAAMD,MAAE,KAAK,iBAAiB,KAAK,gBAAe,KAAK,cAAc,GAAEE,MAAE,MAAM,KAAK,KAAK,YAAY,OAAO,CAAC,EAAE,OAAO,CAAAD,QAAGA,IAAE,aAAa,KAAK,UAAQ,KAAK,cAAc;AAAE,QAAGD,IAAE,aAAaC,KAAEC,GAAC,KAAG,CAAC,KAAK,QAAQ,eAAe,SAAS,YAAUI,OAAKJ,IAAE,CAAAI,IAAE,aAAa,KAAK,UAAQ,KAAK,mBAAiBA,IAAE,UAAQ,OAAGA,IAAE,OAAK;AAAI,UAAMH,MAAE,MAAM,KAAK,KAAK,YAAY,OAAO,CAAC,EAAE,OAAO,CAAAF,QAAGA,IAAE,IAAI,EAAE,IAAI,CAAAA,QAAGA,IAAE,aAAa,KAAK,GAAG,GAAEG,MAAE,IAAI,IAAID,GAAC;AAAE,eAAUG,OAAK,KAAK,YAAY,OAAO,GAAE;AAAC,UAAG,KAAK,QAAQ,eAAe,UAAS;AAAC,YAAGH,IAAE,KAAK,CAAAF,QAAGA,IAAE,cAAcK,IAAE,aAAa,KAAK,GAAG,CAAC,EAAE;AAAS,YAAGA,IAAE,aAAa,KAAK,IAAI,aAAa,EAAE,MAAM,CAAAL,QAAGG,IAAE,IAAIH,GAAC,CAAC,EAAE;AAAA,MAAQ;AAAC,MAAAK,IAAE,WAASA,IAAE,aAAa,KAAK,UAAQ,KAAK,mBAAiBA,IAAE,UAAQ,MAAG,OAAM,KAAK,QAAQA,KAAEN,KAAE,KAAK,OAAO;AAAA,IAAE;AAAC,UAAMA,IAAE,iBAAiB,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,2BAA2BC,KAAE;AAAC,QAAG,QAAM,KAAK,kBAAgB,QAAM,KAAK,eAAe;AAAO,UAAMD,MAAE,KAAK,iBAAiB,KAAK,gBAAe,KAAK,cAAc;AAAE,eAAUE,OAAKF,IAAE,qBAAqB,EAAE,CAAAC,IAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAED,KAAE;AAAC,QAAG,QAAMC,OAAG,QAAMD,IAAE,OAAM,IAAI,MAAM,gDAAgD;AAAE,QAAIE,MAAE,KAAK,eAAe,IAAIF,GAAC;AAAE,WAAOE,QAAIA,MAAE,IAAI,EAAED,KAAED,KAAE,KAAK,eAAc,KAAK,gBAAe,KAAK,eAAe,GAAE,KAAK,eAAe,IAAIA,KAAEE,GAAC,IAAGA;AAAA,EAAC;AAAA,EAAC,OAAM,QAAQD,KAAED,KAAEE,KAAE;AAAC,QAAGD,IAAE,KAAK;AAAO,UAAME,MAAEH,IAAE,wBAAwBC,KAAE,KAAK,SAAS;AAAE,SAAK,OAAO,KAAK,SAAS,GAAEA,IAAE,OAAK,CAACC,IAAE,eAAe;AAAS,UAAME,MAAED,IAAE,UAAU,GAAEG,MAAEL,IAAE,aAAa,KAAK,8BAA8B,KAAK,cAAc,iBAAiB;AAAE,WAAKG,IAAE,KAAK,IAAG,MAAK,gBAAgB,iBAAiBA,IAAE,aAAa,GAAEA,KAAEE,KAAE,KAAK,WAAW;AAAE,UAAMD,KAAE,IAAIJ,IAAEA,IAAE,cAAaE,KAAE,MAAGF,IAAE,MAAK,CAAC,CAAC;AAAE,UAAMI;AAAA,EAAC;AAAC;;;ACAt5R,IAAMS,KAAN,cAAgBC,IAAC;AAAC;AAAC,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYA,KAAEF,KAAEG,KAAEC,KAAE;AAAC,UAAMF,KAAEF,KAAEI,GAAC,GAAE,KAAK,qBAAmBD,KAAE,KAAK,gBAAc,oBAAI,OAAI,KAAK,6BAA2B,oBAAI,OAAI,KAAK,gCAA8B,oBAAI,OAAI,KAAK,wCAAsC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAE,eAAUD,OAAK,KAAK,QAAQ,OAAO,EAAE,MAAK,iBAAiBA,GAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,SAAK,8BAA8B,MAAM,GAAE,KAAK,qBAAmBA,KAAE,QAAM,KAAK,iBAAe,KAAK,eAAaA,GAAE,KAAK,aAAa,MAAM,OAAMA,GAAC;AAAA,EAAE;AAAA,EAAC,YAAYA,KAAE;AAAC,UAAM,YAAYA,GAAC,GAAE,KAAK,eAAaA,IAAE,KAAK,8BAA8B,KAAK,kBAAkB;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,WAAO,IAAIH,GAAEG,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,WAAWA,KAAEF,KAAEG,KAAE;AAAC,UAAMC,MAAE,IAAI,IAAIF,IAAE,IAAI,CAAAA,QAAG,CAACF,IAAEE,GAAC,GAAEA,GAAC,CAAC,CAAC,GAAEG,KAAE,CAAC;AAAE,eAAUC,MAAK,KAAK,QAAQ,OAAO,GAAE;AAAC,YAAMJ,MAAEI,GAAE,OAAO,UAAU;AAAE,aAAKJ,IAAE,KAAK,KAAG;AAAC,cAAMF,MAAEE,IAAE,YAAY,GAAEI,KAAEJ,IAAE,aAAa,GAAEK,MAAEH,IAAE,IAAIJ,GAAC;AAAE,YAAG,QAAMO,KAAE;AAAC,gBAAML,MAAEC,IAAEG,IAAEC,KAAEP,GAAC;AAAE,UAAAK,GAAE,KAAKH,GAAC,GAAEE,IAAE,OAAOJ,GAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOK;AAAA,EAAC;AAAA,EAAC,mBAAmBH,KAAE;AAAC,UAAMF,MAAE,IAAI,IAAIE,GAAC,GAAEC,MAAE,oBAAI,OAAIC,MAAE,CAAC;AAAE,eAAUC,MAAK,KAAK,QAAQ,OAAO,GAAE;AAAC,YAAMH,MAAEG,GAAE,OAAO,UAAU;AAAE,aAAKH,IAAE,KAAK,KAAG;AAAC,cAAMG,MAAEH,IAAE,YAAY,GAAEI,KAAEJ,IAAE,aAAa;AAAE,QAAAF,IAAE,IAAIM,EAAC,KAAG,CAACH,IAAE,IAAIE,GAAC,MAAID,IAAE,KAAK,EAAC,GAAGF,IAAE,4BAA4B,GAAE,WAAUI,GAAC,CAAC,GAAEH,IAAE,IAAIE,GAAC;AAAA,MAAE;AAAA,IAAC;AAAC,WAAM,EAAC,UAASD,KAAE,YAAW,CAAC,GAAE,QAAO,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,OAAM,oBAAoBF,KAAE;AAAC,UAAMF,MAAE,CAAC;AAAE,eAAUG,OAAKD,IAAE,SAAS,OAAO,GAAE;AAAC,YAAMA,MAAE,KAAK,gBAAgB,2BAA2BC,IAAE,QAAQ;AAAE,MAAAA,IAAE,YAAUD,KAAEF,IAAE,KAAKE,GAAC;AAAA,IAAC;AAAC,UAAME,MAAEI,GAAE,sBAAsB,MAAM,KAAKN,IAAE,SAAS,OAAO,CAAC,GAAE,KAAK,QAAQ,QAAQ,EAAE,UAAU;AAAE,WAAKE,IAAE,KAAK,IAAG,MAAK,gBAAgB,iBAAiBA,IAAE,aAAa,GAAEA,KAAE,KAAK,cAAa,KAAK,WAAW;AAAE,UAAME,KAAE,CAAC;AAAE,eAAUH,OAAKD,IAAE,SAAQ;AAAC,YAAMA,MAAE,KAAK,gBAAgB,wBAAwBC,GAAC;AAAE,cAAMD,OAAGI,GAAE,KAAKJ,GAAC;AAAA,IAAC;AAAC,QAAI,sBAAsB,KAAG,QAAQ,MAAM,wCAAuC,EAAC,SAAQA,KAAE,oBAAmBF,KAAE,mBAAkBM,GAAC,CAAC;AAAE,UAAMP,MAAEQ,GAAE,aAAa,MAAM,KAAKL,IAAE,SAAS,OAAO,CAAC,GAAE,KAAK,QAAQ,QAAQ;AAAE,SAAK,cAAc,IAAIH,IAAE,OAAO,GAAE,KAAK,8BAA8B,IAAIA,IAAE,OAAO,GAAE,KAAK,2BAA2B,IAAIA,IAAE,OAAO;AAAE,eAAUM,MAAK,KAAK,YAAY,OAAO,EAAE,CAAAA,GAAE,cAAc,IAAIN,IAAE,OAAO,GAAE,MAAM,IAAIE,IAAEI,GAAE,cAAa,MAAKL,KAAE,OAAGD,IAAE,SAAS;AAAE,eAAUM,MAAK,KAAK,YAAY,OAAO,GAAE;AAAC,YAAMH,MAAEH,IAAE,cAAcM,GAAE,aAAa,IAAI;AAAE,YAAM,IAAIJ,IAAEI,GAAE,cAAaH,KAAEI,IAAE,OAAGP,IAAE,SAAS;AAAA,IAAC;AAAC,eAAUI,OAAKD,IAAE,QAAQ,MAAK,gBAAgB,4BAA4BC,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM,eAAc;AAAC,QAAG,KAAK,QAAQ,OAAO,EAAE,QAAO;AAAC,WAAK,qBAAqB;AAAE,iBAAUD,OAAK,KAAK,YAAY,OAAO,EAAE,QAAM,KAAK,QAAQA,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,aAAaA,KAAE;AAAC,eAAUF,OAAKE,IAAE,MAAK,cAAc,OAAOF,IAAE,OAAO,GAAE,KAAK,8BAA8B,OAAOA,IAAE,OAAO,GAAE,KAAK,iBAAiBA,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,eAAUE,OAAK,KAAK,sCAAsC,MAAK,gBAAgB,4BAA4BA,GAAC;AAAE,SAAK,wCAAsC,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAE;AAAC,QAAG,KAAK,2BAA2B,IAAIA,IAAE,OAAO,GAAE;AAAC,YAAMF,MAAEE,IAAE,OAAO,UAAU;AAAE,aAAKF,IAAE,KAAK,KAAG;AAAC,cAAME,MAAEF,IAAE,YAAY;AAAE,aAAK,QAAQ,WAAS,KAAK,sCAAsC,KAAKE,GAAC,IAAE,KAAK,gBAAgB,4BAA4BA,GAAC;AAAA,MAAC;AAAC,WAAK,2BAA2B,OAAOA,IAAE,OAAO;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,eAAUA,OAAK,KAAK,QAAQ,OAAO,GAAE;AAAC,YAAK,EAAC,SAAQF,KAAE,QAAOG,IAAC,IAAED;AAAE,UAAG,CAAC,KAAK,2BAA2B,IAAIF,GAAC,GAAE;AAAC,aAAK,2BAA2B,IAAIA,GAAC;AAAE,cAAME,MAAEC,IAAE,UAAU;AAAE,eAAKD,IAAE,KAAK,KAAG;AAAC,gBAAMF,MAAE,KAAK,gBAAgB,2BAA2BE,IAAE,YAAY,CAAC;AAAE,UAAAA,IAAE,aAAaF,GAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,eAAUE,OAAK,KAAK,QAAQ,OAAO,EAAE,KAAG,KAAK,gBAAgB,gBAAgB,KAAG,CAAC,KAAK,8BAA8B,IAAIA,IAAE,OAAO,GAAE;AAAC,WAAK,8BAA8B,IAAIA,IAAE,OAAO;AAAE,YAAMF,MAAEE,IAAE,OAAO,UAAU;AAAE,aAAKF,IAAE,KAAK,KAAG;AAAC,cAAME,MAAEF,IAAE,aAAa;AAAE,aAAK,gBAAgB,iBAAiBE,KAAEF,KAAE,KAAK,cAAa,KAAK,WAAW;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,CAAC,QAAQE,KAAE;AAAC,UAAK,EAAC,cAAaF,KAAE,eAAcG,IAAC,IAAED;AAAE,eAAUG,MAAK,KAAK,QAAQ,OAAO,GAAE;AAAC,YAAK,EAAC,SAAQC,GAAC,IAAED;AAAE,UAAGF,IAAE,IAAIG,EAAC,KAAG,CAAC,KAAK,2BAA2B,IAAIA,EAAC,KAAG,CAAC,KAAK,8BAA8B,IAAIA,EAAC,EAAE;AAAS,MAAAH,IAAE,IAAIG,EAAC;AAAE,YAAMC,MAAEF,GAAE,cAAcL,IAAE,IAAI;AAAE,MAAAO,QAAI,MAAM,IAAIL,IAAEA,IAAE,cAAaK,KAAE,OAAGF,GAAE,KAAIA,GAAE,SAAS;AAAA,IAAE;AAAA,EAAC;AAAC;;;ACAlhF,IAAI;AAAE,IAAM,IAAE,MAAII,GAAE,UAAU,uDAAuD;AAA/E,IAAiFC,KAAE;AAAG,IAAMC,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAEN,KAAE;AAAC,SAAK,aAAWG,KAAE,KAAK,eAAaC,KAAE,KAAK,WAASC,KAAE,KAAK,YAAUC,KAAE,KAAK,OAAKN;AAAA,EAAC;AAAC;AAAC,IAAMO,KAAN,MAAO;AAAA,EAAC,OAAO,OAAOJ,KAAE;AAAC,WAAOA,KAAEA;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAEC,KAAEN,KAAEQ,IAAEC,IAAEC,KAAE;AAAC,SAAK,UAAQP,KAAE,KAAK,UAAQC,KAAE,KAAK,WAASC,KAAE,KAAK,YAAUC,KAAE,KAAK,UAAQN,KAAE,KAAK,oBAAkBQ,IAAE,KAAK,YAAUC,IAAE,KAAK,YAAUC,KAAE,KAAK,sBAAoB,KAAK,QAAQ,qBAAmB,IAAE,KAAK,QAAQ,qBAAmB,IAAE,GAAE,KAAK,kCAAgC,KAAK,QAAQ,kCAAgC,IAAE,KAAK,QAAQ,iCAA+B,IAAE,GAAE,KAAK,sBAAoB,CAAC,GAAE,KAAK,0BAAwB,CAAC,GAAE,KAAK,iBAAe,CAAC,GAAE,KAAK,UAAQ,CAAC,GAAE,KAAK,qBAAmB,IAAIN;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,UAAMD,MAAE,EAAC,GAAG,KAAK,2BAA2B,YAAW,aAAY,KAAK,UAAS,CAACG,EAAC,GAAE,EAAC;AAAE,QAAG,QAAM,KAAK,YAAY,YAAUF,OAAK,KAAK,YAAY,OAAO,EAAE,CAAAD,IAAEC,IAAE,MAAM,IAAI,IAAEA,IAAE;AAAM,WAAOD;AAAA,EAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,UAAU,UAAU;AAAA,EAAc;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,oBAAoB;AAAA,EAAM;AAAA,EAAC,CAAC,eAAc;AAAC,WAAM,KAAK;AAAA,EAAmB;AAAA,EAAC,CAAC,uBAAsB;AAAC,aAAQA,MAAE,GAAEA,MAAE,KAAK,oBAAoB,SAAO,GAAEA,MAAI,OAAM,KAAK,oBAAoBA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,2BAA0B;AAAC,WAAO,KAAK;AAAA,EAAyB;AAAA,EAAC,IAAI,0BAAyB;AAAC,WAAO,KAAK;AAAA,EAAwB;AAAA,EAAC,iBAAiBA,KAAEC,KAAE;AAAC,SAAK,wBAAwB,KAAK,IAAIF,GAAEC,KAAEC,IAAE,SAAS,GAAEA,IAAE,YAAY,GAAEA,IAAE,aAAa,GAAE,QAAM,KAAK,kBAAgBA,IAAE,yBAAyB,KAAK,eAAe,IAAE,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAEE,KAAE;AAAC,UAAMN,MAAE,IAAI,IAAI,KAAK,wBAAwB,IAAI,CAAAG,QAAGA,IAAE,QAAQ,CAAC,GAAEK,KAAE,KAAK,oBAAoB,OAAO,CAAAL,QAAG,CAACH,IAAE,IAAIG,IAAE,QAAQ,CAAC,EAAE,IAAI,CAAAA,QAAGA,IAAE,QAAQ;AAAE,QAAIM,IAAEC;AAAE,YAAO,KAAK,sBAAoB,CAAC,GAAE,KAAK,iBAAe,CAAC,GAAE,KAAK,aAAW,QAAM,KAAK,mBAAiB,KAAK,wBAAwB,KAAK,CAACP,KAAEC,QAAI;AAAC,YAAMC,MAAEF,IAAE,MAAKG,MAAEF,IAAE;AAAK,aAAO,QAAMC,OAAG,QAAMC,MAAED,MAAEC,MAAE;AAAA,IAAC,CAAC,GAAE,KAAK,QAAQ,WAAU;AAAA,MAAC,KAAI;AAAiB,QAAAG,KAAE,KAAK,UAAU,UAAU;AAAe;AAAA,MAAM,KAAI;AAAe,QAAAA,KAAE,KAAK,UAAU,UAAU;AAAa;AAAA,MAAM,KAAI;AAAe,QAAAA,KAAE,KAAK,YAAUT,KAAE;AAAA,IAAI;AAAC,IAAAU,MAAE,KAAK,YAAUJ,KAAG,OAAK,KAAK,IAAI,IAAEA,KAAG,OAAK,KAAG;AAAE,UAAMK,MAAEP,IAAE,IAAI,CAAAD,QAAGA,IAAE,OAAO,UAAU,CAAC;AAAE,QAAIS;AAAE,aAAQC,MAAE,KAAK,wBAAwB,SAAO,GAAEA,OAAG,KAAG,EAAE,KAAK,oBAAoB,UAAQ,KAAK,kCAAiCA,OAAI;AAAC,YAAMV,MAAE,KAAK,wBAAwBU,GAAC,GAAET,MAAEO,IAAER,IAAE,UAAU;AAAE,QAAEC,GAAC,GAAEA,IAAE,SAASD,IAAE,YAAY;AAAE,YAAMG,MAAE,QAAMG,KAAEL,IAAE,yBAAyBK,EAAC,IAAE;AAAK,OAAC,QAAMH,MAAEI,MAAEJ,MAAE,MAAI,KAAK,wBAAsB,KAAK,mBAAmBH,KAAEC,GAAC,GAAEQ,OAAIT;AAAA,IAAE;AAAC,QAAG,QAAMS,IAAE;AAAC,YAAK,EAAC,YAAWR,KAAE,cAAaE,IAAC,IAAEM,IAAEZ,MAAE,GAAGY,GAAE,QAAQ,WAAUH,KAAEN,IAAE,2BAA2BH,GAAC,GAAEU,MAAEC,IAAEP,GAAC;AAAE,QAAEM,GAAC,GAAEA,IAAE,SAASJ,GAAC;AAAE,YAAMO,MAAE,IAAIR,GAAEK,IAAE,uBAAuB,GAAE,EAAC,GAAGA,IAAE,eAAe,GAAE,CAACJ,EAAC,GAAE,EAAC,GAAE,MAAKN,KAAES,EAAC;AAAE,WAAK,6BAA2BD,GAAE,KAAK,KAAK,0BAA0B,QAAQ,GAAE,KAAK,4BAA0BK,KAAE,KAAK,2BAAyBD;AAAA,IAAC,MAAM,MAAK,4BAA0B;AAAK,WAAO,KAAK,qBAAmB,EAAE,KAAK,oBAAmB,KAAK,gBAAe,KAAK,iBAAiB,GAAE,KAAK,UAAQE,GAAE,KAAK,kBAAkB,GAAE,KAAK,0BAAwB,CAAC,GAAEN;AAAA,EAAC;AAAA,EAAC,iBAAiBL,KAAEC,KAAE;AAAC,SAAK,cAAYJ,GAAE,OAAO,KAAK,OAAO;AAAE,UAAMM,MAAEH,IAAE,IAAI,CAAAA,QAAGA,IAAE,OAAO,UAAU,CAAC;AAAE,eAAS,EAAC,YAAWH,KAAE,cAAaQ,GAAC,KAAI,KAAK,qBAAoB;AAAC,YAAML,MAAEG,IAAEN,GAAC;AAAE,QAAEG,GAAC,GAAEA,IAAE,SAASK,EAAC,GAAE,KAAK,YAAY,OAAOL,KAAEC,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,aAAaD,KAAE;AAAC,eAAUC,OAAK,KAAK,QAAQ,KAAG,EAAEA,KAAED,IAAE,QAAOF,EAAC,EAAE,QAAM;AAAG,WAAM;AAAA,EAAE;AAAA,EAAC,mCAAmCE,KAAE;AAAC,QAAG,QAAM,KAAK,0BAA0B,QAAO;AAAK,UAAK,EAAC,UAASC,KAAE,WAAUC,KAAE,UAASC,KAAE,YAAWN,IAAC,IAAE,KAAK,2BAA0BQ,KAAE,IAAIJ;AAAE,OAAEI,IAAEF,KAAE,OAAG,OAAG,KAAK,UAAU,cAAaH,IAAE,aAAa,KAAK,SAAS;AAAE,UAAMM,KAAEL,GAAE,IAAE,GAAE,IAAE,GAAE,KAAG,GAAE,KAAG,CAAC;AAAE,MAAEI,IAAE,CAACL,KAAEC,QAAIW,GAAEN,IAAE,CAACN,KAAEC,GAAC,CAAC,CAAC;AAAE,QAAG,CAACS,GAAEJ,IAAEL,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,EAAE,QAAO;AAAK,WAAO,IAAIC,GAAEG,IAAER,KAAE,MAAKI,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BF,KAAE;AAAC,UAAMC,MAAE,IAAIA;AAAE,OAAEA,KAAE,KAAK,oBAAmB,OAAG,OAAG,wBAAuBD,IAAE,aAAa,KAAK,SAAS;AAAE,WAAO,IAAIE,GAAED,KAAE,KAAK,sBAAqB,MAAK,KAAK,UAAS,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,+BAA8B;AAAC,WAAO,IAAIC,GAAE,KAAK,oBAAmB,KAAK,sBAAqB,MAAK,KAAK,UAAS,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,6BAA4B;AAAC,UAAK,EAAC,oBAAmBF,KAAE,sBAAqBC,KAAE,WAAUC,IAAC,IAAE;AAAK,WAAM,EAAC,UAAS,GAAEF,KAAE,wBAAuB,OAAG,KAAE,GAAE,YAAWC,KAAE,WAAUC,IAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,uBAAuB;AAAE,QAAIE,MAAED,KAAG,OAAO,CAAC,GAAEL,MAAEK,KAAG,OAAO,CAAC;AAAE,YAAMA,QAAIC,MAAEF,IAAE,gBAAgB,GAAEJ,MAAEI,IAAE,gBAAgB,IAAG,QAAME,OAAG,QAAMN,QAAI,KAAK,oBAAoB,QAAQG,GAAC,GAAE,KAAK,eAAe,QAAQ,CAACG,KAAEN,GAAC,CAAC;AAAA,EAAE;AAAC;AAAC,IAAM,IAAN,cAAgBG,IAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,UAAMA,GAAC,GAAE,KAAK,OAAK;AAAA,EAAE;AAAC;AAAC,IAAM,IAAN,MAAM,WAAUH,IAAC;AAAA,EAAC,aAAa,OAAOG,KAAEC,KAAEC,KAAEG,IAAEC,IAAE;AAAC,UAAMC,MAAEN,IAAE,SAAS,qBAAoBO,MAAE,IAAIA,GAAE,EAAC,kBAAiBD,IAAC,CAAC,GAAEE,KAAE,MAAM,QAAQ,IAAIT,IAAE,OAAO,IAAI,OAAMA,QAAGE,IAAE,OAAOM,KAAER,GAAC,CAAC,CAAC,GAAEU,MAAEV,IAAE,gBAAc,MAAM,EAAE,OAAO,EAAC,cAAaC,IAAE,SAAS,cAAa,MAAK,OAAG,MAAK,OAAG,UAASA,IAAE,SAAS,UAAS,aAAYA,IAAE,SAAS,aAAY,kBAAiBM,KAAE,YAAWP,IAAE,cAAa,CAAC,IAAE;AAAK,WAAOO,IAAE,eAAaL,GAAE,KAAG,MAAM,QAAQ,IAAI,CAAC,OAAO,4BAA2D,GAAE,OAAO,6BAA4D,GAAEL,GAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAACG,KAAEC,KAAEC,GAAC,MAAI;AAAC,UAAE,EAAC,0BAAyBD,IAAE,0BAAyB,YAAWA,IAAE,YAAW,sBAAqBD,IAAE,qBAAoB;AAAA,IAAC,CAAC,GAAE,IAAI,GAAEA,KAAEC,KAAEC,KAAEK,KAAEE,IAAEC,KAAEL,IAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYN,KAAEC,KAAEC,KAAEC,KAAEN,KAAEQ,IAAEC,IAAEC,KAAE;AAAC,UAAMN,KAAEC,KAAEC,KAAEN,KAAEU,GAAC,GAAE,KAAK,UAAQP,KAAE,KAAK,iBAAeK,IAAE,KAAK,qBAAmBC,IAAE,KAAK,UAAQ,oBAAI,OAAI,KAAK,iBAAe,oBAAI,OAAI,KAAK,YAAUL,IAAE,SAAS,8BAA8B,CAAC,EAAC,MAAKE,IAAE,OAAM,aAAY,MAAK,4BAA2B,CAAC,CAAC,GAAE,KAAK,qBAAmBN,GAAE,cAAc,EAAC,cAAa,wBAAuB,eAAc,EAAC,MAAK,aAAY,WAAU,cAAa,GAAE,aAAY,EAAC,QAAO,CAAC,GAAG,KAAK,QAAQ,SAAS,YAAY,QAAO,GAAG,KAAK,iBAAgB,EAAC,MAAKM,IAAE,OAAM,aAAY,MAAK,4BAA2B,GAAE,EAAC,MAAK,eAAc,OAAM,eAAc,MAAK,mBAAkB,CAAC,GAAE,qBAAoB,KAAI,GAAE,eAAc,MAAK,kBAAiBF,IAAE,SAAS,kBAAiB,qBAAoBA,IAAE,SAAS,qBAAoB,cAAa,MAAK,UAAS,MAAK,UAASA,IAAE,SAAS,UAAS,4BAA2B,MAAK,oBAAmB,MAAK,aAAY,MAAK,OAAM,KAAI,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAQ;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,uBAAsB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,aAAY;AAAC,UAAM,WAAW,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,YAAYD,KAAE;AAAC,WAAO,IAAI,EAAEA,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM,oBAAoBA,KAAE;AAAC,MAAE,EAAE,MAAM,8CAA8C;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,IAAI,IAAIH,IAAE,IAAI,CAAAA,QAAG,CAACC,IAAED,GAAC,GAAEA,GAAC,CAAC,CAAC,GAAEH,MAAE,CAAC;AAAE,eAAUQ,MAAK,KAAK,QAAQ,OAAO,GAAE;AAAC,YAAML,MAAEG,IAAE,IAAIE,GAAE,QAAQ;AAAE,UAAG,QAAML,KAAE;AAAC,cAAMC,MAAEC,IAAEG,GAAE,WAAUL,KAAEK,GAAE,QAAQ;AAAE,QAAAR,IAAE,KAAKI,GAAC,GAAEE,IAAE,OAAOE,GAAE,QAAQ;AAAE;AAAA,MAAQ;AAAC,YAAMJ,MAAEI,GAAE;AAAyB,UAAGJ,KAAG,UAAS;AAAC,cAAMD,MAAEG,IAAE,IAAIF,IAAE,QAAQ;AAAE,YAAG,QAAMD,KAAE;AAAC,gBAAMK,MAAEH,IAAED,IAAE,WAAUD,KAAEC,IAAE,QAAQ;AAAE,UAAAJ,IAAE,KAAKQ,GAAC,GAAEF,IAAE,OAAOF,IAAE,QAAQ;AAAE;AAAA,QAAQ;AAAA,MAAC;AAAC,iBAAUK,MAAKD,GAAE,aAAa,GAAE;AAAC,cAAML,MAAEG,IAAE,IAAIG,GAAE,QAAQ;AAAE,YAAG,QAAMN,KAAE;AAAC,gBAAMC,MAAEC,IAAEI,GAAE,WAAUN,KAAEM,GAAE,QAAQ;AAAE,UAAAT,IAAE,KAAKI,GAAC,GAAEE,IAAE,OAAOG,GAAE,QAAQ;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOT;AAAA,EAAC;AAAA,EAAC,mBAAmBG,KAAE;AAAC,UAAMC,MAAE,IAAI,IAAID,GAAC,GAAEE,MAAE,CAAC,GAAEC,MAAE,CAAC,GAAEN,MAAE,KAAK,QAAQ,OAAO,EAAE,IAAI,CAAAG,QAAGA,IAAE,OAAO,UAAU,CAAC;AAAE,eAAUK,MAAK,KAAK,QAAQ,OAAO,GAAE;AAAC,UAAGJ,IAAE,IAAII,GAAE,SAAS,KAAGF,IAAE,KAAKE,GAAE,2BAA2B,CAAC,GAAE,QAAMA,GAAE,4BAA0BJ,IAAE,IAAII,GAAE,yBAAyB,SAAS,GAAE;AAAC,cAAK,EAAC,WAAUL,KAAE,YAAWC,KAAE,cAAaE,IAAC,IAAEE,GAAE,yBAAwBC,KAAET,IAAEI,GAAC;AAAE,QAAAK,GAAE,SAASH,GAAC,GAAED,IAAE,KAAK,EAAC,WAAUF,KAAE,GAAGM,GAAE,4BAA4B,EAAC,CAAC;AAAA,MAAC;AAAC,iBAAS,EAAC,WAAUN,KAAE,YAAWG,KAAE,cAAaG,GAAC,KAAID,GAAE,aAAa,EAAE,KAAGJ,IAAE,IAAID,GAAC,GAAE;AAAC,cAAMC,MAAEJ,IAAEM,GAAC;AAAE,QAAAF,IAAE,SAASK,EAAC,GAAEJ,IAAE,KAAK,EAAC,WAAUF,KAAE,GAAGC,IAAE,4BAA4B,EAAC,CAAC;AAAA,MAAC;AAAA,IAAC;AAAC,WAAM,EAAC,UAASC,KAAE,YAAW,CAAC,GAAE,QAAOC,IAAC;AAAA,EAAC;AAAA,EAAC,gCAAgCH,KAAE;AAAC,eAAUC,OAAK,KAAK,QAAQ,OAAO,EAAE,KAAGA,IAAE,aAAWD,IAAE,QAAO,MAAM,KAAKC,IAAE,aAAa,GAAE,CAAAD,QAAGA,IAAE,QAAQ;AAAE,WAAM,CAAC;AAAA,EAAC;AAAA,EAAC,OAAM,eAAc;AAAC,UAAI,KAAK,eAAe,QAAM,KAAK,eAAe;AAAE,eAAUA,OAAK,KAAK,YAAY,OAAO,EAAE,QAAM,KAAK,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BA,KAAE;AAAC,eAAUC,OAAK,KAAK,QAAQ,OAAO,EAAE,CAAAD,IAAEC,IAAE,6BAA6B,CAAC;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,eAAUD,OAAK,KAAK,QAAQ,OAAO,EAAE,KAAG,KAAK,eAAe,IAAIA,IAAE,OAAO,GAAE;AAAC,YAAMC,MAAED,IAAE,OAAO,UAAU;AAAE,aAAKC,IAAE,KAAK,KAAG;AAAC,cAAMD,MAAEC,IAAE,YAAY;AAAE,aAAK,gBAAgB,4BAA4BD,GAAC;AAAA,MAAC;AAAA,IAAC;AAAC,SAAK,eAAe,MAAM;AAAE,eAAUA,OAAK,KAAK,QAAQ,OAAO,EAAE,MAAK,aAAaA,GAAC;AAAE,SAAK,QAAQ,MAAM;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,UAAMA,MAAE,KAAK,QAAQ,OAAO;AAAE,QAAG,CAACA,IAAE,OAAO;AAAO,UAAMC,MAAE,KAAK,UAAU,UAAU;AAAa,QAAG,QAAMA,IAAE;AAAO,UAAMC,MAAE,oBAAI;AAAI,aAAQC,MAAE,GAAEA,MAAEH,IAAE,QAAOG,OAAI;AAAC,YAAMN,MAAEG,IAAEG,GAAC;AAAE,UAAG,KAAK,eAAe,IAAIN,IAAE,OAAO,EAAE;AAAS,WAAK,eAAe,IAAIA,IAAE,OAAO;AAAE,YAAMQ,KAAER,IAAE,OAAO,UAAU;AAAE,aAAKQ,GAAE,KAAK,KAAG;AAAC,cAAML,MAAEK,GAAE,YAAY;AAAE,QAAAA,GAAE,aAAa,KAAK,gBAAgB,2BAA2BL,GAAC,CAAC;AAAE,cAAMH,MAAEQ,GAAE,cAAcJ,GAAC;AAAE,YAAG,QAAMJ,OAAG,QAAMG,QAAI,SAAO,KAAK,kBAAgB,KAAK,eAAe,MAAMK,IAAE,KAAK,WAAW,IAAG;AAAC,cAAG,CAAC,KAAK,QAAQ,IAAIR,GAAC,GAAE;AAAC,kBAAMG,MAAEI,GAAE,OAAOP,GAAC,GAAEI,MAAE,KAAK,gBAAgB,2BAA2BD,GAAC,GAAEE,MAAE,IAAIE,GAAE,KAAK,SAAQP,KAAEG,KAAEC,KAAE,KAAK,iBAAgB,KAAK,kBAAiB,KAAK,QAAQ,UAAS,KAAK,SAAS;AAAE,iBAAK,QAAQ,IAAIJ,KAAEK,GAAC;AAAA,UAAC;AAAC,eAAK,QAAQ,IAAIL,GAAC,EAAE,iBAAiBM,KAAEE,EAAC,GAAEH,IAAE,IAAIL,GAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,eAAUM,OAAK,KAAK,QAAQ,OAAO,EAAE,KAAGD,IAAE,IAAIC,IAAE,OAAO,GAAE;AAAC,YAAMF,MAAEE,IAAE,mBAAmB,KAAK,iBAAgBH,KAAE,KAAK,gBAAgB,UAAU;AAAE,iBAAUA,OAAKC,IAAE,MAAK,gBAAgB,4BAA4BD,GAAC;AAAE,MAAAG,IAAE,iBAAiBH,KAAEC,GAAE,GAAE,KAAK,kBAAkB,CAAC;AAAA,IAAC,MAAM,MAAK,aAAaE,GAAC;AAAA,EAAC;AAAA,EAAC,aAAaH,KAAE;AAAC,SAAK,QAAQ,OAAOA,IAAE,OAAO,GAAE,KAAK,gBAAgB,4BAA4BA,IAAE,QAAQ,GAAE,QAAMA,IAAE,4BAA0B,KAAK,gBAAgB,4BAA4BA,IAAE,yBAAyB,QAAQ;AAAA,EAAC;AAAA,EAAC,CAAC,QAAQC,KAAE;AAAC,QAAGA,IAAE,KAAK;AAAO,IAAAA,IAAE,OAAK,CAAC,KAAK,QAAQ,eAAe;AAAS,UAAMC,MAAE,CAAC,GAAEC,MAAE,CAAC;AAAE,eAAUH,OAAK,KAAK,QAAQ,OAAO,EAAE,KAAGA,IAAE,SAAO,GAAE;AAAC,UAAG,KAAK,QAAQ,uBAAsB;AAAC,cAAMG,MAAEH,IAAE,mCAAmCC,GAAC;AAAE,gBAAME,OAAGD,IAAE,KAAKC,GAAC;AAAA,MAAC;AAAC,WAAK,QAAQ,iBAAeH,IAAE,aAAaC,IAAE,aAAa,IAAI,KAAGE,IAAE,KAAKH,IAAE,2BAA2BC,GAAC,CAAC;AAAA,IAAC;AAAC,UAAMJ,MAAEgB,GAAE,sBAAsBX,KAAE,KAAK,WAAUD,IAAE,aAAa,KAAK,SAAS,GAAEI,KAAEQ,GAAE,sBAAsBV,KAAE,KAAK,oBAAmBF,IAAE,aAAa,KAAK,SAAS;AAAE,QAAIK,KAAE,CAAC;AAAE,QAAG,KAAK,QAAQ,0BAAyB;AAAC,YAAMJ,MAAE,KAAK,QAAQ,OAAO,EAAE,IAAI,MAAI,CAAC,CAAC;AAAE,iBAAUF,OAAK,KAAK,QAAQ,OAAO,EAAE,YAAS,EAAC,YAAWC,KAAE,cAAaE,IAAC,KAAIH,IAAE,qBAAqB,EAAE,CAAAE,IAAED,GAAC,EAAE,KAAKE,GAAC;AAAE,MAAAG,KAAE,KAAK,QAAQ,OAAO,EAAE,IAAI,CAACN,KAAEG,QAAI;AAAC,cAAMN,MAAEG,IAAE,cAAcC,IAAE,aAAa,IAAI;AAAE,YAAG,QAAMJ,IAAE,QAAO;AAAK,cAAMQ,MAAEK,GAAE,KAAKb,KAAEK,IAAEC,GAAC,CAAC;AAAE,eAAOE,IAAE,uBAAuB,EAAC,CAACF,EAAC,GAAE,EAAC,CAAC,GAAE,wBAAsBE,IAAE,gBAAc,QAAMA,IAAE,eAAe,KAAGA,IAAE,uBAAuBJ,IAAE,aAAa,KAAK,SAAS,GAAEI;AAAA,MAAC,CAAC,EAAE,OAAO,CAAC;AAAA,IAAC;AAAC,SAAK,OAAO,KAAK,SAAS;AAAE,UAAME,MAAEN,IAAE,aAAa,KAAK,8BAA8B,KAAK,kBAAkB,GAAEO,MAAEH,GAAE,UAAU;AAAE,WAAKG,IAAE,KAAK,IAAG,MAAK,gBAAgB,iBAAiBA,IAAE,aAAa,GAAEA,KAAED,KAAE,KAAK,WAAW;AAAE,eAAUP,OAAKM,IAAE;AAAC,YAAML,MAAED,IAAE,UAAU;AAAE,aAAKC,IAAE,KAAK,IAAG,MAAK,gBAAgB,iBAAiBA,IAAE,aAAa,GAAEA,KAAEM,KAAE,KAAK,WAAW;AAAA,IAAC;AAAC,UAAME,KAAEZ,IAAE,UAAU;AAAE,WAAKY,GAAE,KAAK,IAAG,MAAK,gBAAgB,iBAAiBA,GAAE,aAAa,GAAEA,IAAEF,KAAE,KAAK,WAAW;AAAE,UAAM,IAAIN,IAAEA,IAAE,cAAaI,IAAE,OAAG,OAAG,CAAC,CAAC;AAAE,eAAUL,OAAKM,GAAE,OAAM,IAAIL,IAAEA,IAAE,cAAaD,KAAE,OAAG,OAAG,CAAC,CAAC;AAAE,UAAM,IAAIC,IAAEA,IAAE,cAAaJ,KAAE,OAAGI,IAAE,MAAK,CAAC,CAAC;AAAA,EAAC;AAAC;AAAC,SAAS,EAAED,KAAEC,KAAEC,KAAE;AAAC,MAAGD,IAAE,SAAO,EAAE,QAAO,GAAED,KAAE,CAACC,GAAC,GAAE,OAAG,KAAE;AAAE,MAAGC,IAAE,aAAY;AAAC,QAAIC,MAAE;AAAG,aAAQH,MAAE,GAAEA,MAAEC,IAAE,QAAOD,OAAI;AAAC,YAAMH,MAAEI,IAAED,GAAC,EAAE,CAAC,GAAEK,KAAES,GAAEjB,KAAEI,IAAED,MAAE,CAAC,EAAE,CAAC,GAAEE,GAAC;AAAE,MAAAL,QAAIQ,OAAIJ,IAAED,GAAC,EAAE,CAAC,IAAEK,IAAEF,MAAE;AAAA,IAAG;AAAC,QAAGA,KAAE;AAAC,YAAMA,MAAEE,GAAE,EAAC,OAAM,CAACJ,GAAC,GAAE,kBAAiBC,IAAC,CAAC;AAAE,UAAG,QAAMC,IAAE,QAAO,GAAEH,KAAEG,IAAE,OAAM,OAAG,KAAE;AAAA,IAAC;AAAC,WAAO,GAAEH,KAAE,CAACC,GAAC,GAAE,OAAG,KAAE;AAAA,EAAC;AAAC,QAAME,MAAE,EAAE,yBAAyB,EAAC,MAAK,OAAG,MAAK,OAAG,OAAM,CAACF,GAAC,EAAC,CAAC,GAAEJ,MAAE,EAAE,qBAAqBK,GAAC;AAAE,MAAG,QAAML,KAAE;AAAC,UAAMI,MAAEY,GAAEV,KAAE,KAAIN,KAAEI,GAAE,QAAQ;AAAE,QAAG,QAAMA,KAAE;AAAC,YAAMC,MAAE,EAAE,WAAWD,KAAEJ,GAAC;AAAE,UAAG,QAAMK,OAAG,WAAUA,IAAE,QAAO,GAAEF,KAAEE,IAAE,OAAM,OAAG,KAAE;AAAA,IAAC;AAAA,EAAC;AAAC,SAAO,GAAEF,KAAE,CAACC,GAAC,GAAE,OAAG,KAAE;AAAC;AAAC,SAAS,EAAED,KAAEC,KAAE;AAAC,QAAMC,MAAE,GAAE,EAAC,QAAOC,KAAE,SAAQN,IAAC,IAAEG;AAAE,MAAG,CAACH,IAAE,OAAO,QAAO,KAAKI,IAAEE,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAE,MAAIE,KAAE;AAAE,WAAQC,KAAE,GAAEA,KAAET,IAAE,QAAOS,MAAI;AAAC,UAAMN,MAAEH,IAAES,EAAC;AAAE,QAAIC,MAAE,GAAEC,MAAE;AAAE,aAAQX,MAAE,GAAEA,MAAEG,KAAEH,MAAI,CAAAU,OAAGJ,IAAED,OAAGL,MAAEQ,GAAE,GAAEG,OAAGL,IAAED,OAAGL,MAAEQ,MAAG,CAAC,GAAEJ,IAAEM,KAAEC,GAAC;AAAE,IAAAH,MAAGL;AAAA,EAAC;AAAC;AAAC,SAASW,GAAEX,KAAE;AAAC,QAAK,EAAC,SAAQC,KAAE,QAAOC,IAAC,IAAEF,KAAEG,MAAE;AAAE,MAAG,CAACF,IAAE,OAAO,QAAM,CAAC,EAAE,CAAC;AAAE,QAAMJ,MAAE,CAAC;AAAE,MAAIQ,KAAE;AAAE,WAAQC,KAAE,GAAEA,KAAEL,IAAE,QAAOK,MAAI;AAAC,UAAMN,MAAEC,IAAEK,EAAC,GAAEC,MAAE,EAAE;AAAE,IAAAV,IAAE,KAAKU,GAAC;AAAE,aAAQN,MAAE,GAAEA,MAAED,KAAEC,OAAI;AAAC,YAAMD,MAAEE,IAAEC,OAAGF,MAAEI,GAAE,GAAER,MAAEK,IAAEC,OAAGF,MAAEI,MAAG,CAAC;AAAE,MAAAO,GAAEL,KAAE,CAACP,KAAEH,GAAC,CAAC;AAAA,IAAC;AAAC,IAAAQ,MAAGL;AAAA,EAAC;AAAC,SAAOH;AAAC;;;ACAp3Z,IAAMkB,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,SAAK,cAAYD,KAAE,KAAK,UAAQC,KAAE,KAAK,WAAS,GAAE,KAAK,YAAU,IAAI,KAAE,KAAK,SAAO,IAAIC,GAAE,EAAC,OAAM,CAACF,KAAEC,QAAI,KAAK,YAAY,UAAU,MAAMD,KAAEC,GAAC,GAAE,iBAAgB,CAACD,KAAEC,QAAI,KAAK,YAAY,UAAU,gBAAgBD,KAAEC,GAAC,EAAC,CAAC,GAAE,KAAK,kBAAgB,IAAIF,GAAE,EAAC,SAAQ,OAAG,QAAO,CAAAC,QAAGG,GAAE,KAAK,YAAY,UAAU,oBAAoBH,GAAC,CAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,OAAO,QAAQ,GAAE,KAAK,WAAW,QAAQ,GAAE,KAAK,gBAAgB,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,WAAW;AAAA,EAAoB;AAAA,EAAC,IAAI,aAAY;AAAC,QAAIA,MAAE;AAAE,WAAOA,OAAG,KAAK,gBAAgB,YAAW,KAAK,cAAYA,OAAG,KAAK,UAAU,aAAYA;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,mBAAmBA,KAAE;AAAC,WAAO,KAAK,YAAU,KAAK,UAAU,mBAAmBA,GAAC,IAAE,EAAC,UAAS,CAAC,GAAE,YAAW,CAAC,GAAE,QAAO,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,UAAMC,MAAE,CAAC;AAAE,WAAO,KAAK,aAAW,KAAK,UAAU,WAAWD,KAAE,CAAAA,QAAGA,KAAE,CAACA,KAAEE,KAAEE,QAAI;AAAC,MAAAH,IAAEG,GAAC,IAAEJ;AAAA,IAAC,CAAC,GAAEC,OAAGA;AAAA,EAAC;AAAA,EAAC,gCAAgCD,KAAE;AAAC,WAAO,KAAK,YAAU,KAAK,UAAU,gCAAgCA,GAAC,IAAE,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,SAAK,WAAW,YAAYA,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,SAAK,WAAW,cAAcA,GAAC;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAO,KAAK,WAAW,qBAAqB,KAAG;AAAA,EAAE;AAAA,EAAC,MAAM,OAAOA,KAAEE,KAAEE,KAAEC,KAAEC,IAAE;AAAC,UAAMC,MAAEP,IAAE,WAAUQ,KAAE,EAAE,KAAK,SAAS,SAAQD,IAAE,OAAO,GAAEE,MAAE,EAAE,KAAK,SAAS,KAAK,YAAWF,IAAE,KAAK,UAAU,GAAEG,KAAE,EAAE,KAAK,SAAS,KAAK,SAAQH,IAAE,KAAK,OAAO,GAAEI,KAAE,EAAE,KAAK,SAAS,KAAK,UAASJ,IAAE,KAAK,QAAQ,GAAEK,MAAEC,GAAE,KAAK,SAAS,sBAAqBN,IAAE,oBAAoB,GAAEO,KAAEF,IAAE,KAAK,CAAAZ,QAAG,KAAK,gBAAgB,oBAAoBA,GAAC,CAAC,GAAEG,MAAES,IAAE,KAAK,CAAAZ,QAAG,KAAK,UAAU,oBAAoBA,GAAC,KAAG,KAAE,GAAEe,MAAEH,IAAE,KAAK,CAAAZ,QAAG,KAAK,WAAW,oBAAoBA,GAAC,CAAC,KAAG,KAAK,WAAW,eAAac,IAAEf,KAAEI,OAAGY,KAAEC,KAAEP,OAAGC,MAAGC;AAAE,QAAG,EAAEH,MAAGQ,OAAIb,OAAGW,MAAGC,SAAK,CAACV,IAAE,QAAM;AAAG,QAAI,sBAAsB,KAAG,QAAQ,MAAM,WAAW,KAAK,QAAQ,4BAA2B,EAAC,SAAQM,GAAE,KAAK,SAAQJ,GAAC,GAAE,QAAOA,IAAC,CAAC,GAAE,KAAK,UAAQA;AAAE,UAAM,IAAE,IAAIJ,GAAE,EAAC,QAAO,KAAK,QAAQ,SAAS,aAAY,kBAAiB,KAAK,QAAQ,SAAS,oBAAmB,CAAC,GAAEc,KAAE,EAAC,aAAYV,IAAE,KAAK,WAAW,YAAW;AAAE,SAAIC,MAAGQ,MAAGF,QAAK,MAAM,KAAK,gBAAgB,OAAOP,IAAE,SAAQ,GAAE,KAAK,QAAQ,UAASL,GAAC,GAAE,KAAK,WAAW,wBAAwBgB,GAAEX,GAAC,CAAC,IAAG,CAACF,OAAG,CAACW,MAAG,CAACjB,GAAE,QAAM;AAAG,KAACY,MAAGF,OAAGV,OAAI,MAAM,KAAK,gBAAgBQ,IAAE,KAAK,UAASD,IAAEY,GAAEX,GAAC,GAAEU,EAAC,GAAE,KAAK,eAAe,GAAE,aAAYV,IAAE,KAAK,aAAWA,IAAE,KAAK,WAAW,UAAQ,IAAI;AAAE,UAAMY,KAAE,iBAAeZ,IAAE,KAAK,QAAQ,UAAU,OAAKA,IAAE,KAAK,QAAQ,UAAU,WAAS,MAAKa,KAAE,IAAIlB,IAAE,GAAE,KAAK,QAAOE,KAAE,KAAK,WAAUe,EAAC;AAAE,YAAOT,MAAG,iBAAeH,IAAE,KAAK,QAAQ,UAAU,UAAQ,KAAK,WAAS,MAAML,IAAE,OAAOkB,IAAEb,IAAE,KAAK,OAAO,IAAG,KAAK,WAASL,KAAE;AAAA,EAAE;AAAA,EAAC,MAAM,oBAAoBF,KAAE;AAAC,QAAG,CAAC,KAAK,UAAU;AAAO,UAAMC,MAAE,KAAK,UAAU,oBAAoBD,GAAC;AAAE,qBAAgBI,OAAKH,IAAE,KAAG;AAAC,YAAM,KAAK,SAASG,GAAC;AAAA,IAAC,SAAOF,KAAE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,eAAc;AAAC,UAAM,KAAK,gBAAgB,GAAE,KAAK,WAAW,kBAAkB;AAAA,EAAC;AAAA,EAAC,MAAM,aAAaF,KAAE;AAAC,SAAK,WAAW,aAAaA,GAAC,GAAE,KAAK,gBAAgB,6BAA6B;AAAA,EAAC;AAAA,EAAC,gBAAgB,EAAC,YAAWA,IAAC,GAAE;AAAC,QAAG,CAAC,KAAK,aAAW,CAAC,KAAK,UAAU,eAAe,QAAO,KAAK,KAAK,gBAAgB,aAAaA,IAAE,IAAI,CAAC,EAAC,UAASA,KAAE,gBAAeC,IAAC,OAAK,EAAC,UAASD,KAAE,gBAAeC,KAAE,WAAU,GAAE,EAAE,GAAED,GAAC;AAAE,UAAMC,MAAE,KAAK,UAAU,WAAWD,KAAE,CAAC,EAAC,UAASA,IAAC,MAAIA,KAAE,CAACA,KAAE,EAAC,gBAAeC,IAAC,GAAEC,SAAK,EAAC,UAASA,KAAE,WAAUF,KAAE,gBAAeC,IAAC,EAAE;AAAE,SAAK,gBAAgB,aAAaA,KAAED,GAAC;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,SAAK,aAAW,KAAK,UAAU,WAAW;AAAA,EAAC;AAAA,EAAC,MAAM,kBAAiB;AAAC,QAAG,CAAC,KAAK,UAAU;AAAO,UAAMA,MAAE,KAAK,UAAU,aAAa,GAAEC,MAAE,CAAC,GAAEG,MAAE,oBAAI;AAAI,qBAAgBiB,MAAKrB,KAAE;AAAC,UAAIA,MAAEI,IAAE,IAAIiB,GAAE,EAAE;AAAE,cAAMrB,QAAIA,MAAE,IAAIC,IAAE,EAAC,aAAY,IAAG,SAAQ,CAAAD,QAAG,KAAK,SAASA,GAAC,EAAC,CAAC,GAAEI,IAAE,IAAIiB,GAAE,IAAGrB,GAAC;AAAG,YAAMK,MAAEL,IAAE,KAAKqB,EAAC,EAAE,MAAM,CAAArB,QAAGe,GAAEf,GAAC,CAAC;AAAE,MAAAC,IAAE,KAAKI,GAAC;AAAA,IAAC;AAAC,QAAG;AAAC,YAAM,QAAQ,IAAIJ,GAAC;AAAA,IAAC,SAAOI,KAAE;AAAA,IAAC;AAAC,QAAI,sBAAsB,KAAG,QAAQ,IAAI,aAAa,GAAE,KAAK,gBAAgB,YAAY,GAAE,IAAI,sBAAsB,KAAG,QAAQ,IAAI,mBAAmB;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAgBL,KAAEC,KAAEC,KAAEE,KAAE;AAAC,YAAO,KAAK,WAAW,QAAQ,GAAEJ,IAAE,MAAK;AAAA,MAAC,KAAI;AAAU,aAAK,YAAU,IAAIK,IAAE,KAAK,SAAQ,KAAK,iBAAgBH,KAAEE,GAAC;AAAE;AAAA,MAAM,KAAI;AAAU,aAAK,YAAU,MAAMO,GAAE,OAAOX,KAAE,KAAK,SAAQ,KAAK,iBAAgBE,KAAEE,GAAC;AAAE;AAAA,MAAM,KAAI;AAAU,aAAK,YAAU,MAAMa,GAAE,OAAO,KAAK,aAAYjB,KAAE,KAAK,SAAQ,KAAK,iBAAgBE,KAAEE,GAAC;AAAE;AAAA,MAAM,KAAI;AAAQ,aAAK,YAAU,MAAM,EAAE,OAAOJ,KAAE,KAAK,SAAQ,KAAK,iBAAgBE,KAAEE,GAAC;AAAA,IAAC;AAAC,eAAUC,OAAKJ,IAAE,MAAK,UAAU,YAAYI,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,eAAeJ,KAAEC,KAAE;AAAC,QAAG,KAAK,YAAU,EAAE,KAAK,WAAW,QAAQ,GAAE,QAAMA,KAAE;AAAC,YAAMF,MAAEE,IAAE,aAAW,OAAK,MAAMD,IAAE,oBAAoBC,GAAC;AAAE,WAAK,YAAU,EAAC,GAAGA,KAAE,UAASF,IAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAASA,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAa,QAAG,IAAI,sBAAsB,GAAE;AAAC,YAAME,MAAED,IAAE;AAAK,cAAQ,MAAM,WAAW,KAAK,QAAQ,UAAUC,IAAE,IAAI,EAAE,SAASF,IAAE,GAAG,sBAAsB;AAAA,IAAC;AAAC,UAAME,MAAE,EAAC,aAAY,KAAK,SAAS,KAAK,WAAW,YAAW;AAAE,UAAM,KAAK,gBAAgBF,KAAEE,GAAC,GAAEA,GAAED,IAAE,MAAM;AAAE,UAAMI,MAAE,MAAM,KAAK,OAAOL,KAAEC,IAAE,KAAK,8BAA8BiB,GAAE,KAAK,OAAO,CAAC,GAAEhB,GAAC,GAAEmB,KAAEpB,IAAE,KAAK,aAAa,aAAaA,IAAE,KAAK,GAAG;AAAE,IAAAC,GAAED,IAAE,MAAM;AAAE,UAAK,EAAC,SAAQK,IAAE,cAAaC,IAAC,IAAEF,IAAE,UAAUgB,EAAC,GAAEC,KAAE,EAAC,aAAY,MAAK,OAAMtB,IAAE,cAAcM,IAAE,KAAK,UAAS,KAAK,gBAAgB,KAAK,EAAC;AAAE,QAAG,KAAK,SAAS,KAAK,WAAW,oBAAmB;AAAC,MAAAgB,GAAE,cAAY,CAAC;AAAE,YAAMrB,MAAED,IAAE,QAAQ,UAAU;AAAE,UAAGC,IAAE,QAAKA,IAAE,KAAK,IAAG,CAAAqB,GAAE,YAAYrB,IAAE,aAAa,CAAC,IAAEA,IAAE,YAAY;AAAA,IAAC;AAAC,QAAGC,GAAED,IAAE,MAAM,GAAE,MAAM,KAAK,YAAY,UAAU,UAAUqB,IAAE,EAAC,QAAOrB,IAAE,QAAO,cAAaM,IAAC,CAAC,GAAE,KAAK,gBAAgB,YAAY,GAAE,IAAI,sBAAsB,GAAE;AAAC,YAAML,MAAED,IAAE;AAAK,cAAQ,MAAM,WAAW,KAAK,QAAQ,UAAUC,IAAE,IAAI,EAAE,SAASF,IAAE,GAAG,4BAA4B;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAgBA,KAAEC,KAAE;AAAC,UAAM,KAAK,uBAAuBD,GAAC,GAAE,MAAM,KAAK,sBAAsBA,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuBD,KAAE;AAAC,QAAGA,IAAE,OAAO,QAAO,KAAK,SAAS,uBAAuB,KAAK,QAAOA,IAAE,MAAM;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsBA,KAAEC,KAAE;AAAC,QAAG,CAACD,IAAE,OAAO;AAAO,UAAME,MAAEF,IAAE,OAAO,UAAU,GAAEI,MAAEJ,IAAE,aAAa,KAAK,8BAA8BkB,GAAE,KAAK,OAAO,CAAC;AAAE,WAAKhB,IAAE,KAAK,IAAG,MAAK,SAAS,sBAAsB,KAAK,QAAOA,KAAEE,KAAEH,GAAC;AAAE,UAAM,KAAK,OAAO,uBAAuB;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOD,KAAEC,KAAEC,KAAE;AAAC,UAAMmB,KAAErB,IAAE,aAAa,MAAKM,KAAEN,IAAE,QAAQ,UAAU,GAAEsB,KAAEhB,IAAG,QAAQ,KAAG,GAAEE,KAAEa,GAAE,aAAa,SAAS,aAAYZ,MAAEY,GAAE,aAAa,SAAS,iBAAiB,SAAQE,KAAE,IAAIA,GAAEF,GAAE,KAAI,KAAK,UAAU,sBAAqBb,IAAEC,KAAEa,EAAC;AAAE,QAAG,CAAChB,GAAE,QAAOiB;AAAE,UAAMb,KAAEW,GAAE,8BAA8BH,GAAE,KAAK,OAAO,CAAC;AAAE,QAAIP,KAAE;AAAE,WAAKL,GAAE,KAAK,KAAG;AAAC,QAAEK,KAAE,QAAM,MAAM,EAAE,CAAC,GAAET,GAAEF,IAAE,YAAY;AAAG,YAAMO,MAAE,KAAK,iBAAiBD,IAAEL,GAAC;AAAE,MAAAsB,GAAE,YAAYjB,GAAE,aAAa,GAAEC,GAAC,GAAE,KAAK,SAAS,MAAMgB,IAAE,KAAK,QAAOjB,IAAEI,IAAER,KAAEmB,GAAE,KAAK,GAAEE,GAAE,UAAU;AAAA,IAAC;AAAC,WAAOA;AAAA,EAAC;AAAA,EAAC,iBAAiBvB,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,UAAU,QAAO;AAAE,UAAK,EAAC,UAASC,KAAE,OAAME,KAAE,YAAWC,IAAC,IAAE,KAAK,WAAUgB,KAAEhB,MAAE,KAAK,SAAS,WAAWL,KAAEC,GAAC,IAAEC,KAAG,KAAKF,KAAEC,GAAC;AAAE,WAAO,QAAMoB,MAAG,MAAMA,EAAC,IAAE,IAAEA,MAAG,UAAQjB,MAAE,KAAG;AAAA,EAAE;AAAC;AAAC,SAASS,GAAEb,KAAEC,KAAE;AAAC,QAAMC,MAAE,CAAC;AAAE,SAAOF,KAAG,YAAY,UAAQC,IAAE,YAAY,SAAOD,KAAG,YAAY,QAAMC,IAAE,YAAY,OAAKC,IAAE,KAAK,gBAAgB,GAAEA;AAAC;AAAC,SAASgB,GAAElB,KAAE;AAAC,QAAK,EAAC,UAASC,IAAC,IAAED,KAAG,KAAK,cAAY,CAAC,GAAE,EAAC,YAAWE,IAAC,IAAEF,KAAG,wBAAsB,CAAC;AAAE,SAAM,EAAC,UAASC,KAAE,YAAWC,IAAC;AAAC;;;ACA5kQ,IAAMsB,MAAN,MAAM,GAAC;AAAA,EAAC,OAAO,KAAKC,KAAE;AAAC,QAAIC,MAAE,GAAEC,MAAE,GAAEC,KAAE;AAAE,WAAOH,IAAE,QAAQ,CAAAD,QAAG;AAAC,YAAMC,MAAED,IAAE,cAAc;AAAE,MAAAC,QAAIE,OAAGF,IAAE,UAAQ,IAAEA,IAAE,QAAQ,OAAO,CAACD,KAAEC,QAAID,MAAEC,KAAE,CAAC,GAAEG,MAAGH,IAAE,UAAQ,IAAEA,IAAE,QAAQ,QAAOC,OAAG;AAAA,IAAE,CAAC,GAAE,IAAI,GAAEA,KAAEC,KAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYJ,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaF,KAAE,KAAK,cAAYC,KAAE,KAAK,YAAUC;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,WAAM,EAAC,cAAa,KAAK,cAAa,WAAU,KAAK,cAAa,aAAY,KAAK,aAAY;AAAA,EAAC;AAAC;;;ACA2D,IAAMG,KAAE;AAAK,IAAIC,KAAE,cAAc,EAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,cAAYA,KAAE,KAAK,qBAAmB,oBAAI,OAAI,KAAK,cAAY,EAAC,WAAU,GAAE,QAAO,EAAC,GAAE,KAAK,YAAU,YAAY,IAAI,GAAE,KAAK,kBAAgB,CAAC,GAAE,KAAK,WAAW,CAAC,EAAE,MAAI,KAAK,WAAW,oBAAkB,gBAAe,CAAAA,QAAG;AAAC,WAAK,WAAW,YAAY,EAAC,cAAa,4BAA2B,OAAMA,IAAC,CAAC;AAAA,IAAC,GAAE,EAAC,SAAQ,KAAE,CAAC,GAAE,EAAE,MAAI,KAAK,WAAW,eAAa,MAAK,CAAAA,QAAG,KAAK,WAAW,YAAY,EAAC,cAAa,uBAAsB,OAAMA,IAAC,CAAC,GAAE,EAAC,SAAQ,KAAE,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,YAAU,MAAK,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,YAAY;AAAA,EAAS;AAAA,EAAC,IAAI,SAASA,KAAE;AAAC,YAAM,KAAK,aAAW,KAAK,iBAAiB,YAAY,IAAI,CAAC;AAAE,UAAMC,MAAE;AAAgB,SAAK,cAAcA,GAAC,GAAE,QAAMD,QAAI,KAAK,WAAW,CAACA,IAAE,OAAO,GAAG,iBAAgB,CAAAA,QAAG,KAAK,WAAWA,GAAC,CAAC,GAAEA,IAAE,OAAO,GAAG,oBAAmB,CAAAA,QAAG,KAAK,oBAAoBA,GAAC,CAAC,GAAEA,IAAE,OAAO,GAAG,oBAAmB,CAAAA,QAAG,KAAK,UAAUA,GAAC,CAAC,GAAEA,IAAE,OAAO,GAAG,QAAO,MAAI,KAAK,QAAQ,CAAC,CAAC,GAAEC,GAAC,GAAE,KAAK,gBAAgB,QAAQ,CAAAA,QAAGA,IAAED,GAAC,CAAC,GAAE,KAAK,kBAAgB,CAAC,IAAG,KAAK,YAAUA;AAAA,EAAC;AAAA,EAAC,uBAAuBA,KAAE;AAAC,YAAMA,OAAG,KAAK,eAAe,CAAAC,QAAGA,IAAE,uBAAuBD,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,eAAe,CAAAC,QAAGA,IAAE,oBAAoBD,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,eAAe,CAAAC,QAAGA,IAAE,oBAAoBD,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,IAAAA,MAAE,KAAK,mBAAmB,IAAID,GAAC,IAAE,KAAK,mBAAmB,OAAOA,GAAC;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,SAAK,WAAW,WAAW;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAW,QAAQ;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,WAAW,MAAM;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,mBAAmB,IAAI,kBAAkB,KAAG,KAAK,WAAW,UAAU,EAAC,MAAK,oBAAmB,OAAMA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,SAAK,YAAY,aAAY,KAAK,mBAAmB,IAAI,eAAe,KAAG,KAAK,WAAW,UAAU,EAAC,MAAK,iBAAgB,OAAM,EAAC,YAAWA,IAAE,YAAW,UAASA,IAAE,UAAS,UAASA,IAAE,SAAQ,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,SAAK,YAAY,UAAQA;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAMA,MAAE,YAAY,IAAI,GAAEC,MAAED,MAAE,KAAK;AAAU,QAAGC,MAAEH,IAAE;AAAC,YAAMI,MAAE,KAAK,MAAM,KAAK,YAAY,UAAQD,MAAE,IAAI,GAAEE,MAAE,KAAK,MAAM,KAAK,YAAY,aAAWF,MAAE,IAAI;AAAE,WAAK,iBAAiBD,GAAC,GAAE,KAAK,WAAW,UAAU,EAAC,MAAK,eAAc,OAAM,EAAC,QAAOE,KAAE,WAAUC,IAAC,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBH,KAAE;AAAC,SAAK,YAAUA,KAAE,KAAK,YAAY,SAAO,GAAE,KAAK,YAAY,YAAU;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,YAAM,KAAK,YAAUA,IAAE,KAAK,SAAS,IAAE,KAAK,gBAAgB,KAAKA,GAAC;AAAA,EAAC;AAAC;AAAE,WAAE,CAAC,EAAE,CAAC,GAAED,GAAE,WAAU,aAAY,MAAM,GAAEA,KAAE,WAAE,CAAC,EAAE,uDAAuD,CAAC,GAAEA,EAAC;;;ACA5tF,IAAMK,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,wBAAsB;AAAA,EAAE;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK;AAAA,EAAqB;AAAA,EAAC,sBAAqB;AAAC,SAAK,wBAAsB;AAAA,EAAE;AAAC;AAAC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYD,KAAEC,KAAEC,IAAE;AAAC,SAAK,WAASA,IAAE,KAAK,cAAY,IAAI,mBAAgB,KAAK,WAASC,GAAE,cAAcH,GAAC,GAAE,KAAK,UAAQC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,YAAY,MAAM,GAAE,KAAK,MAAM,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK,SAAS;AAAA,EAAK;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,SAAS;AAAA,EAAU;AAAA,EAAC,IAAI,WAAU;AAAC,WAAM,EAAC,QAAO,KAAK,YAAY,OAAM;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,YAAY;AAAA,EAAM;AAAA,EAAC,MAAM,cAAcG,KAAE;AAAC,SAAK,YAAY,GAAE,MAAM,KAAK,MAAM,cAAcA,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,MAAM,mBAAmB;AAAA,EAAC;AAAA,EAAC,6BAA6BA,KAAE;AAAC,UAAM,IAAI,MAAM,yDAAyD;AAAA,EAAC;AAAA,EAAC,MAAM,gBAAgBA,KAAEJ,KAAE;AAAC,UAAM,IAAI,MAAM,uDAAuD;AAAA,EAAC;AAAA,EAAC,mBAAmBI,KAAEJ,KAAE;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO;AAAA,EAAI;AAAC;;;ACA1xB,eAAeK,GAAEC,KAAEC,KAAEF,IAAEG,KAAE,CAAC,GAAE;AAAC,QAAMC,OAAG,MAAM,QAAQ,WAAWJ,GAAE,IAAI,CAAAK,QAAGC,IAAEL,KAAEC,KAAEG,KAAEF,EAAC,CAAC,CAAC,GAAG,OAAO,CAAAE,QAAG,eAAaA,IAAE,MAAM,EAAE,IAAI,CAAAA,QAAGA,IAAE,MAAM;AAAE,MAAGD,IAAE,OAAO,OAAM,IAAI,EAAE,sBAAqB,4CAA2C,EAAC,QAAOA,IAAC,CAAC;AAAC;AAAC,eAAeE,IAAED,KAAEL,IAAEM,KAAEH,KAAE,CAAC,GAAE;AAAC,QAAMC,MAAE,GAAGC,IAAE,eAAa,EAAE,GAAGC,IAAE,GAAG,IAAGC,MAAE,MAAMF,IAAE,MAAMC,IAAE,OAAMH,IAAE,EAAC,SAAQC,IAAC,CAAC,GAAEI,MAAE,IAAIF,GAAEC,KAAED,IAAE,MAAM,MAAM,OAAO,GAAEA,IAAE,KAAI,KAAE;AAAE,EAAAE,IAAE,UAAQA,IAAE,oBAAkBJ,KAAEA,GAAED,EAAC,GAAEH,GAAE,OAAOQ,GAAC;AAAC;;;ACA3U,IAAMC,KAAE;AAAI,IAAMC,KAAN,MAAO;AAAA,EAAC,YAAYA,IAAEC,IAAEC,IAAEC,KAAE;AAAC,SAAK,QAAMH,IAAE,KAAK,YAAUC,IAAE,KAAK,WAASC,IAAE,KAAK,SAAOC,KAAE,KAAK,aAAW,oBAAI,OAAI,KAAK,iBAAe,EAAE,YAAS;AAAC,UAAG,MAAI,KAAK,WAAW,QAAM,KAAK,SAAS,QAAQ,QAAQ;AAAO,YAAMC,MAAE,MAAM,KAAK,KAAK,UAAU;AAAE,WAAK,WAAW,MAAM,GAAEA,IAAE,SAAOL,MAAGM,GAAE,UAAU,yCAAyC,EAAE,KAAK,IAAI,EAAE,+BAA8B,2BAA2BN,EAAC,wFAAwF,CAAC;AAAE,YAAMC,KAAE,KAAK,UAAU,wBAAuBC,MAAE,KAAK,KAAKF,KAAEC,EAAC,GAAEE,KAAE,KAAK,IAAID,KAAE,KAAK,KAAKG,IAAE,SAAOJ,EAAC,CAAC,GAAEG,MAAE,MAAM,KAAK,EAAC,QAAOD,GAAC,GAAE,CAACI,KAAEC,QAAI;AAAC,cAAMC,MAAED,MAAEP,IAAEK,MAAE,KAAK,IAAIG,MAAER,IAAEI,IAAE,MAAM;AAAE,eAAM,EAAC,KAAIG,KAAE,OAAM,KAAK,UAAU,qBAAqBH,IAAE,MAAMI,KAAEH,GAAC,CAAC,EAAC;AAAA,MAAC,CAAC;AAAE,UAAG;AAAC,cAAMN,GAAE,EAAC,aAAY,WAASI,GAAE,GAAE,OAAM,KAAK,OAAM,GAAE,KAAK,OAAMA,KAAE,KAAK,QAAQ;AAAA,MAAC,SAAOM,IAAE;AAAA,MAAC;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBH,KAAEC,KAAE;AAAC,QAAGA,IAAE,YAAUH,OAAKG,IAAE,MAAK,WAAW,OAAOH,GAAC;AAAE,eAAUA,OAAKE,IAAE,MAAK,WAAW,IAAIF,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,MAAI,KAAK,WAAW,QAAM,KAAK,SAAS,QAAQ,UAAQ,OAAK,KAAK,eAAe,EAAE,MAAM,MAAI;AAAA,IAAC,CAAC;AAAA,EAAC;AAAC;;;ACAp3C,IAAMM,KAAE;;;ACA4V,IAAMC,MAAE;AAAU,IAAMC,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,cAAY,OAAG,KAAK,wBAAsB,OAAG,KAAK,aAAW,GAAE,KAAK,eAAa,GAAE,KAAK,iBAAe,CAAC,GAAE,KAAK,cAAY,GAAE,KAAK,UAAQ,EAAC,YAAW,IAAI,SAAM,UAAS,IAAI,QAAK,GAAE,KAAK,WAAS,IAAI;AAAA,EAAK;AAAA,EAAC,IAAI,aAAY;AAAC,QAAIC,MAAE;AAAE,WAAOA,OAAGD,GAAE,KAAK,cAAc,GAAEC,OAAGD,GAAE,KAAK,QAAQ,UAAU,GAAEC,OAAGD,GAAE,KAAK,QAAQ,QAAQ,GAAEC,OAAGD,GAAE,KAAK,QAAQ,GAAE,KAAK,eAAaC,OAAGD,GAAE,KAAK,UAAU,IAAG,KAAK,aAAWC,OAAGD,GAAE,KAAK,QAAQ,IAAGC;AAAA,EAAC;AAAC;AAAC,SAASC,GAAEC,KAAED,IAAEE,IAAEC,KAAE,OAAG;AAAC,QAAMC,MAAE,GAAEC,MAAE,IAAGC,KAAE,IAAGC,KAAE,IAAGC,KAAEP,IAAE,SAAS,GAAEQ,MAAED,GAAE,IAAI,GAAEE,MAAE,IAAIZ;AAAE,MAAIa,KAAE,GAAEC,KAAE;AAAE,QAAMC,KAAE,GAAEC,KAAE,GAAE,IAAE,GAAEC,KAAE;AAAE,MAAI,IAAE,MAAKC,KAAE;AAAG,QAAM,IAAE,CAAC;AAAE,SAAKR,GAAE,KAAK,IAAG,SAAOA,GAAE,IAAI,GAAE;AAAA,IAAC,KAAKH;AAAE,UAAEG,GAAE,eAAe,CAAC;AAAE;AAAA,IAAM,KAAKJ;AAAE,UAAGM,IAAE,wBAAsBF,GAAE,QAAQ,GAAEE,IAAE,uBAAsB;AAAC,QAAAA,IAAE,QAAQ,WAASP,KAAE,IAAI,aAAa,GAAG,IAAE,IAAI,WAAW,GAAG,GAAEO,IAAE,WAASP,KAAE,IAAI,aAAa,IAAI,IAAE,IAAI,WAAW,IAAI;AAAE,iBAAQF,MAAE,GAAEA,MAAES,IAAE,SAAS,QAAOT,MAAI,CAAAS,IAAE,SAAST,GAAC,IAAEJ;AAAA,MAAC;AAAC;AAAA,IAAM,KAAKS,IAAE;AAAC,YAAML,MAAEO,GAAE,eAAeM,EAAC;AAAE,MAAAb,IAAE,QAAMU,MAAI,EAAE,KAAKV,GAAC;AAAE;AAAA,IAAK;AAAA,IAAC,KAAKM,IAAE;AAAC,YAAMN,MAAEO,GAAE,UAAU,GAAET,MAAES,GAAE,IAAI,IAAEP;AAAE,UAAG,CAACS,IAAE,uBAAsB;AAAC,cAAMT,MAAES,IAAE,QAAQ,UAASX,MAAEW,IAAE;AAAS,QAAAT,IAAE,KAAK,CAAC,GAAEF,IAAE,KAAKF,GAAC,GAAEE,IAAE,KAAKF,GAAC;AAAA,MAAC;AAAC,OAACmB,MAAGN,IAAE,0BAAwBM,KAAE,MAAGN,IAAE,QAAQ,aAAWP,KAAE,IAAI,aAAa,MAAIQ,EAAC,IAAE,IAAI,YAAY,MAAIA,EAAC;AAAG,UAAIM,MAAEL,KAAED;AAAE,aAAKH,GAAE,IAAI,IAAET,OAAGS,GAAE,KAAK,IAAG,SAAOA,GAAE,IAAI,GAAE;AAAA,QAAC,KAAKK,IAAE;AAAC,cAAGG,GAAE,CAAAN,IAAE,QAAQ,WAAWO,KAAG,IAAET,GAAE,IAAI;AAAA,eAAM;AAAC,YAAAE,IAAE,QAAQ,WAAW,KAAKF,GAAE,IAAI,CAAC;AAAA,UAAC;AAAC,gBAAMP,MAAEO,GAAE,UAAU;AAAE,UAAAA,GAAE,QAAQP,GAAC;AAAE;AAAA,QAAK;AAAA,QAAC,KAAKa;AAAE,cAAGd,IAAE;AAAC,kBAAMC,MAAEO,GAAE,UAAU,GAAET,MAAES,GAAE,IAAI,IAAEP;AAAE,mBAAKO,GAAE,IAAI,IAAET,OAAGS,GAAE,KAAK,IAAG,SAAOA,GAAE,IAAI,GAAE;AAAA,cAAC,KAAKO,IAAE;AAAC,gBAAAP,GAAE,UAAU;AAAE,sBAAMP,MAAEO,GAAE,UAAU,GAAET,MAAES,GAAE,UAAU;AAAE,gBAAAE,IAAE,SAAS,IAAEE,EAAC,IAAEX,KAAES,IAAE,SAAS,IAAEE,KAAE,CAAC,IAAEb;AAAE;AAAA,cAAK;AAAA,cAAC;AAAQ,gBAAAS,GAAE,KAAK;AAAA,YAAC;AAAA,UAAC,OAAK;AAAC,YAAAE,IAAE,QAAQ,SAASE,EAAC,IAAEJ,GAAE,IAAI;AAAE,kBAAMP,MAAEO,GAAE,UAAU;AAAE,YAAAE,IAAE,eAAaT,KAAEO,GAAE,QAAQP,GAAC;AAAA,UAAC;AAAC;AAAA,QAAM,KAAK,GAAE;AAAC,gBAAMA,MAAEO,GAAE,UAAU,GAAET,MAAES,GAAE,IAAI,IAAEP;AAAE,iBAAKO,GAAE,IAAI,IAAET,OAAGS,GAAE,KAAK,IAAG,SAAOA,GAAE,IAAI,GAAE;AAAA,YAAC,KAAKO,IAAE;AAAC,cAAAP,GAAE,UAAU;AAAE,oBAAMP,MAAEO,GAAE,UAAU,GAAET,MAAES,GAAE,UAAU;AAAE,cAAAE,IAAE,SAAS,IAAEE,EAAC,IAAEX,KAAES,IAAE,SAAS,IAAEE,KAAE,CAAC,IAAEb;AAAE;AAAA,YAAK;AAAA,YAAC;AAAQ,cAAAS,GAAE,KAAK;AAAA,UAAC;AAAC;AAAA,QAAK;AAAA,QAAC;AAAQ,UAAAA,GAAE,KAAK;AAAA,MAAC;AAAC,MAAAI,MAAIF,IAAE,cAAY;AAAG;AAAA,IAAK;AAAA,IAAC;AAAQ,MAAAF,GAAE,KAAK;AAAA,EAAC;AAAC,EAAAE,IAAE,SAAO,IAAI,EAAE,CAAC,GAAEA,IAAE,eAAaE,IAAEF,IAAE,aAAWC;AAAE,QAAMO,KAAEjB,GAAEC,EAAC;AAAE,SAAOQ,IAAE,iBAAe,MAAM,KAAKQ,IAAE,CAAAjB,QAAGS,IAAE,OAAO,IAAIT,GAAC,GAAG,KAAK,GAAES,IAAE,YAAU,GAAEA,IAAE,aAAW,IAAI,YAAYA,IAAE,YAAY,GAAEA,IAAE,WAAS,IAAI,YAAYA,IAAE,YAAY,GAAEF,GAAE,KAAKC,GAAC,GAAEC;AAAC;;;ACA5/D,IAAMS,KAAE;AAAR,IAAkBC,MAAE;AAApB,IAAwBC,KAAE;AAA1B,IAAgCC,KAAE,EAAC,OAAM,EAAC,OAAM,IAAI,WAAWF,GAAC,GAAE,SAAQ,IAAI,WAAWA,GAAC,EAAC,GAAE,SAAQ,EAAC,OAAM,IAAI,aAAa,CAAC,GAAE,SAAQ,IAAI,aAAa,CAAC,EAAC,GAAE,OAAM,EAAC,OAAM,IAAI,WAAWC,EAAC,GAAE,SAAQ,IAAI,WAAWA,EAAC,EAAC,GAAE,SAAQ,EAAC,OAAM,IAAI,aAAa,CAAC,GAAE,SAAQ,IAAI,aAAa,CAAC,EAAC,EAAC;AAAE,SAASE,GAAEC,KAAEC,KAAE;AAAC,SAAOA,MAAED,OAAGF,GAAE,QAAQ,MAAM,SAAOA,GAAE,WAASE,OAAGF,GAAE,QAAQ,MAAM,WAASA,GAAE,QAAQ,QAAM,IAAI,aAAa,KAAK,MAAM,OAAKE,GAAC,CAAC,GAAEF,GAAE,QAAQ,UAAQ,IAAI,aAAa,KAAK,MAAM,OAAKE,GAAC,CAAC,IAAGF,GAAE,WAASE,OAAGF,GAAE,MAAM,MAAM,SAAOA,GAAE,SAAOE,OAAGF,GAAE,MAAM,MAAM,WAASA,GAAE,MAAM,QAAM,IAAI,WAAW,KAAK,MAAM,OAAKE,GAAC,CAAC,GAAEF,GAAE,MAAM,UAAQ,IAAI,WAAW,KAAK,MAAM,OAAKE,GAAC,CAAC,IAAGF,GAAE;AAAM;AAAC,SAASI,GAAEC,KAAE;AAAC,MAAG;AAAC,UAAMH,MAAE,GAAEC,MAAE,IAAIG,GAAE,IAAI,WAAWD,GAAC,GAAE,IAAI,SAASA,GAAC,CAAC;AAAE,WAAKF,IAAE,KAAK,KAAG;AAAC,UAAGA,IAAE,IAAI,MAAID,IAAE,QAAOK,GAAEJ,IAAE,WAAW,CAAC;AAAE,MAAAA,IAAE,KAAK;AAAA,IAAC;AAAA,EAAC,SAAOK,KAAE;AAAC,UAAMH,MAAE,IAAI,EAAE,qBAAoB,8CAA6C,EAAC,OAAMG,IAAC,CAAC;AAAE,IAAAC,GAAE,UAAU,0DAA0D,EAAE,MAAMJ,GAAC;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,SAASE,GAAEL,KAAE;AAAC,QAAMC,MAAE;AAAE,SAAKD,IAAE,KAAK,KAAG;AAAC,QAAGA,IAAE,IAAI,MAAIC,IAAE,QAAOD,IAAE,WAAW;AAAE,IAAAA,IAAE,KAAK;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,SAASQ,GAAER,KAAE;AAAC,QAAMC,MAAE,GAAEE,MAAE,GAAEG,MAAE,GAAEF,MAAE,GAAEK,KAAE,GAAEF,MAAE,GAAEG,KAAE,GAAEC,KAAE,GAAEhB,MAAE,GAAEC,MAAEI,IAAE,UAAU,GAAEH,KAAEG,IAAE,IAAI,IAAEJ;AAAE,SAAKI,IAAE,IAAI,IAAEH,MAAGG,IAAE,KAAK,IAAG,SAAOA,IAAE,IAAI,GAAE;AAAA,IAAC,KAAKC;AAAE,aAAOD,IAAE,UAAU;AAAA,IAAE,KAAKG;AAAE,aAAOH,IAAE,SAAS;AAAA,IAAE,KAAKM;AAAE,aAAON,IAAE,UAAU;AAAA,IAAE,KAAKI;AAAE,aAAOJ,IAAE,UAAU;AAAA,IAAE,KAAKS;AAAE,aAAOT,IAAE,UAAU;AAAA,IAAE,KAAKO;AAAE,aAAOP,IAAE,SAAS;AAAA,IAAE,KAAKU;AAAE,aAAOV,IAAE,UAAU;AAAA,IAAE,KAAKW;AAAE,aAAOX,IAAE,UAAU;AAAA,IAAE,KAAKL;AAAE,aAAOK,IAAE,QAAQ;AAAA,IAAE;AAAQ,aAAOA,IAAE,KAAK,GAAE;AAAA,EAAI;AAAC,SAAO;AAAI;AAAC,SAASY,GAAEZ,KAAEC,KAAEE,KAAEG,KAAEF,KAAE;AAAC,MAAG,CAACJ,IAAE,QAAM;AAAG,SAAO,MAAIC,MAAEG,MAAEE,MAAEH,OAAGF,MAAEK,MAAEH,MAAEC,MAAE;AAAC;AAAC,IAAM,IAAN,MAAM,WAAU,EAAC;AAAA,EAAC,OAAO,WAAWJ,KAAEC,KAAEE,MAAE,OAAG;AAAC,UAAMG,MAAEL,IAAE,cAAaG,MAAEF,GAAEF,GAAC,GAAES,KAAEA,GAAEL,KAAE,wBAAsBE,KAAEL,IAAE,eAAcE,GAAC;AAAE,WAAO,IAAI,GAAEC,KAAEK,IAAER,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYH,KAAEC,KAAEE,KAAEG,KAAE;AAAC,UAAMH,GAAC,GAAE,KAAK,YAAUG,KAAE,KAAK,WAAS,OAAG,KAAK,YAAU,OAAG,KAAK,gBAAc,IAAG,KAAK,iBAAe,GAAE,KAAK,SAAO,EAAC,MAAK,GAAE,iBAAgB,QAAO,UAAS,OAAM,GAAE,KAAK,eAAa,IAAI,SAAM,KAAK,gBAAcH,IAAE,cAAa,KAAK,UAAQH,KAAE,KAAK,UAAQC,KAAE,KAAK,WAASA,IAAE,aAAY,KAAK,YAAU,wBAAsBE,IAAE;AAAA,EAAY;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAY;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAM;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,OAAM;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,OAAM;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAW;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAqB;AAAA,EAAC,UAAS;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,iBAAgB;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAS;AAAA,EAAC,YAAW;AAAC,WAAO,KAAK,KAAK;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,SAASH,KAAE;AAAC,SAAK,OAAO,OAAK,GAAE,KAAK,OAAO,kBAAgB,QAAO,KAAK,OAAO,WAAS,QAAO,KAAK,gBAAcA;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,QAAIA,MAAE;AAAG,eAAUC,OAAK,KAAK,QAAQ,OAAO,OAAO,CAAAD,OAAG,KAAK,sBAAsBC,IAAE,KAAK,IAAE;AAAI,WAAOD;AAAA,EAAC;AAAA,EAAC,cAAa;AAAC,QAAG,MAAI,KAAK,QAAQ,eAAe,OAAO,QAAO,KAAK,sBAAsB,KAAK,QAAQ,eAAe,CAAC,CAAC;AAAE,UAAMA,MAAE,KAAK,QAAQ,eAAe,IAAI,CAAAA,QAAG,KAAK,sBAAsBA,GAAC,CAAC;AAAE,WAAO,KAAK,UAAUA,GAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,WAAO,KAAK,QAAQ,WAAW,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,aAAaA,KAAE;AAAC,SAAK,QAAQ,WAAW,KAAK,aAAa,IAAEA;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,KAAK,OAAO,QAAM,KAAK,cAAc,IAAE,GAAE,KAAK,OAAO;AAAA,EAAI;AAAA,EAAC,OAAM;AAAC,UAAMA,MAAE,KAAK,QAAQ,MAAM,GAAEC,MAAE,IAAI,GAAED,KAAE,KAAK,SAAQ,KAAK,UAAS,KAAK,SAAS;AAAE,WAAO,KAAK,SAASC,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,SAAI,KAAK,OAAO,OAAK,GAAE,KAAK,OAAO,kBAAgB,QAAO,KAAK,OAAO,WAAS,QAAO,EAAE,KAAK,gBAAc,KAAK,SAAO,CAAC,KAAK,WAAW,IAAG;AAAC,WAAO,KAAK,gBAAc,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,aAAY;AAAC,WAAOK,MAAG,KAAK,OAAO,UAAU,cAAY;AAAA,EAAE;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,MAAM,mBAAiB,KAAK,QAAQ,aAAW,KAAK,QAAQ;AAAA,EAAU;AAAA,EAAC,SAAQ;AAAC,WAAO,KAAK,QAAQ,SAAS,IAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,WAAO,KAAK,QAAQ,SAAS,IAAE,KAAK,gBAAc,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,UAAMN,MAAE,KAAK,QAAQ,SAAS,IAAE,KAAK,aAAa,GAAEC,MAAE,KAAK,QAAQ,SAAS,IAAE,KAAK,gBAAc,CAAC;AAAE,WAAOD,QAAIL,KAAE,OAAK,IAAIK,GAAE,CAAC,GAAE,CAACA,KAAEC,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcD,MAAE,OAAG;AAAC,QAAG,WAAS,KAAK,OAAO,UAAS;AAAC,UAAIG,MAAE;AAAK,UAAG,KAAK,WAAU;AAAC,YAAG,KAAK,QAAQ,SAAS,IAAE,KAAK,aAAa,MAAIR,GAAE,QAAO;AAAK,cAAMK,MAAE,KAAK,QAAQ,SAAS,IAAE,KAAK,aAAa,GAAEC,MAAE,KAAK,QAAQ,SAAS,IAAE,KAAK,gBAAc,CAAC;AAAE,QAAAE,MAAE,IAAIH,GAAE,CAAC,GAAE,CAACA,KAAEC,GAAC,CAAC;AAAA,MAAC,OAAK;AAAC,cAAMK,MAAE,KAAK,QAAQ,QAAQ,SAAS,KAAK,aAAa,GAAEF,MAAE,KAAK;AAAQ,YAAG,MAAIE,IAAE,QAAO;AAAK,QAAAF,IAAE,KAAKE,GAAC;AAAE,YAAG;AAAC,UAAAH,MAAEH,MAAE,KAAK,yBAAyBI,GAAC,IAAE,KAAK,eAAeA,GAAC;AAAA,QAAC,SAAOH,KAAE;AAAC,iBAAO;AAAA,QAAI;AAAA,MAAC;AAAC,aAAO,MAAIE,KAAG,OAAO,WAASA,MAAE,OAAM,KAAK,OAAO,WAASA,KAAEA;AAAA,IAAC;AAAC,WAAO,KAAK,OAAO;AAAA,EAAQ;AAAA,EAAC,eAAeH,KAAEC,KAAE;AAAC,UAAME,MAAE,KAAK,QAAQ,OAAO,IAAIH,GAAC;AAAE,QAAG,QAAMG,IAAE;AAAO,UAAMG,MAAE,KAAK,sBAAsBH,IAAE,KAAK,GAAEC,MAAE,KAAK,QAAQ,OAAO,YAAYD,IAAE,IAAI;AAAE,WAAOF,MAAE,QAAMK,MAAEA,MAAEF,MAAE,IAAI,KAAKE,GAAC,IAAEA,MAAEA;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,UAAMN,MAAE,CAAC;AAAE,eAAUC,OAAK,KAAK,QAAQ,OAAO,OAAO,CAAAD,IAAEC,IAAE,IAAI,IAAE,KAAK,sBAAsBA,IAAE,KAAK;AAAE,WAAOD;AAAA,EAAC;AAAA,EAAC,SAASA,KAAE;AAAC,UAAM,SAASA,GAAC,GAAEA,IAAE,gBAAc,KAAK,eAAcA,IAAE,iBAAe,KAAK,gBAAeA,IAAE,WAAS,KAAK,UAASA,IAAE,eAAa,KAAK;AAAA,EAAY;AAAA,EAAC,sBAAsBA,KAAE;AAAC,QAAIC,MAAE,KAAK,aAAaD,GAAC;AAAE,QAAGC,QAAIA,MAAE,IAAIQ,GAAE,KAAK,QAAQ,CAAC,GAAE,KAAK,aAAaT,GAAC,IAAEC,MAAGA,IAAE,IAAI,KAAK,aAAa,EAAE,QAAOA,IAAE,IAAI,KAAK,aAAa;AAAE,UAAME,MAAE,KAAK,QAAQ,QAAQ,WAAW,KAAK,gBAAc,KAAK,QAAQ,aAAWH,GAAC,GAAEM,MAAE,KAAK;AAAQ,IAAAA,IAAE,KAAKH,GAAC;AAAE,UAAMC,MAAEI,GAAEF,GAAC;AAAE,WAAOL,IAAE,IAAI,KAAK,eAAcG,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,0BAA0BJ,MAAE,OAAG;AAAC,QAAG,WAAS,KAAK,OAAO,iBAAgB;AAAC,YAAMC,MAAE,KAAK,cAAcD,GAAC;AAAE,UAAG,CAACC,IAAE,QAAO,KAAK,OAAO,kBAAgB,QAAO;AAAK,UAAG,CAAC,KAAK,eAAe,EAAE,QAAO,KAAK,OAAO,kBAAgBA,KAAEA;AAAE,YAAME,MAAEJ,GAAEE,IAAE,OAAO,QAAO,KAAK,SAAS,EAAE,SAAQK,MAAEL,IAAE,MAAME,GAAC,GAAEC,MAAEE,IAAE;AAAO,UAAIG,KAAE;AAAE,iBAAUT,OAAKM,IAAE,SAAQ;AAAC,iBAAQL,MAAE,GAAEA,MAAED,KAAEC,OAAI;AAAC,gBAAMD,MAAE,KAAGS,KAAER,MAAGE,MAAE,KAAGM,KAAER,MAAE;AAAG,UAAAG,IAAEJ,GAAC,KAAGI,IAAED,GAAC,GAAEC,IAAEJ,MAAE,CAAC,KAAGI,IAAED,MAAE,CAAC;AAAA,QAAC;AAAC,QAAAM,MAAGT;AAAA,MAAC;AAAC,aAAO,KAAK,OAAO,kBAAgBM,KAAEA;AAAA,IAAC;AAAC,WAAO,KAAK,OAAO;AAAA,EAAe;AAAA,EAAC,eAAeN,KAAE;AAAC,UAAMC,MAAE,GAAEE,MAAE,GAAEG,MAAEN,IAAE,SAAS,GAAEI,MAAEE,IAAE,UAAU,GAAEC,MAAED,IAAE,IAAI,IAAEF,KAAEM,KAAE,CAAC,GAAEC,KAAE,CAAC;AAAE,WAAKL,IAAE,IAAI,IAAEC,OAAGD,IAAE,KAAK,IAAG,SAAOA,IAAE,IAAI,GAAE;AAAA,MAAC,KAAKL,KAAE;AAAC,cAAMD,MAAEM,IAAE,UAAU,GAAEL,MAAEK,IAAE,IAAI,IAAEN;AAAE,eAAKM,IAAE,IAAI,IAAEL,MAAG,CAAAU,GAAE,KAAKL,IAAE,UAAU,CAAC;AAAE;AAAA,MAAK;AAAA,MAAC,KAAKH,KAAE;AAAC,cAAMH,MAAEM,IAAE,UAAU,GAAEL,MAAEK,IAAE,IAAI,IAAEN;AAAE,aAAIU,GAAE,KAAKJ,IAAE,UAAU,CAAC,GAAEI,GAAE,KAAKJ,IAAE,UAAU,CAAC,GAAE,KAAK,QAAMA,IAAE,UAAU,GAAE,KAAK,QAAMA,IAAE,UAAU,GAAEA,IAAE,IAAI,IAAEL,MAAG,CAAAS,GAAE,KAAKJ,IAAE,UAAU,CAAC,GAAEI,GAAE,KAAKJ,IAAE,UAAU,CAAC,GAAE,KAAK,QAAMA,IAAE,UAAU,GAAE,KAAK,QAAMA,IAAE,UAAU;AAAE;AAAA,MAAK;AAAA,MAAC;AAAQ,QAAAA,IAAE,KAAK;AAAA,IAAC;AAAC,WAAO,IAAIN,GAAEW,IAAED,EAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBV,KAAE;AAAC,UAAMC,MAAE,GAAEK,MAAE,GAAEF,MAAEJ,IAAE,SAAS,GAAEO,MAAEH,IAAE,UAAU,GAAEM,KAAEN,IAAE,IAAI,IAAEG,KAAEI,KAAE,CAAC,GAAEhB,MAAE,CAAC;AAAE,QAAIC,MAAE,GAAEC,KAAE,GAAEC,MAAE,MAAKI,KAAE;AAAE,UAAMG,KAAE,0BAAwB,KAAK,cAAaG,KAAE,2BAAyB,KAAK,cAAaK,KAAER,KAAE,IAAEG,KAAE,IAAE,GAAEM,KAAET,MAAGG;AAAE,WAAKJ,IAAE,IAAI,IAAEM,MAAGN,IAAE,KAAK,IAAG,SAAOA,IAAE,IAAI,GAAE;AAAA,MAAC,KAAKH,KAAE;AAAC,cAAMD,MAAEI,IAAE,UAAU,GAAEH,MAAEG,IAAE,IAAI,IAAEJ;AAAE,eAAKI,IAAE,IAAI,IAAEH,OAAG;AAAC,gBAAMD,MAAEI,IAAE,UAAU;AAAE,UAAAO,GAAE,KAAKX,GAAC,GAAEJ,OAAGI;AAAA,QAAC;AAAC,QAAAF,MAAEC,GAAE,IAAEH,KAAE,KAAK,SAAS,EAAE;AAAM;AAAA,MAAK;AAAA,MAAC,KAAKU,KAAE;AAAC,QAAAF,IAAE,UAAU;AAAE,cAAMJ,MAAE,KAAG,KAAK,OAAK,IAAE,MAAI,KAAK,OAAK,IAAE;AAAG,UAAEF,GAAC;AAAE,mBAAUG,OAAKU,IAAE;AAAC,cAAGd,KAAEG,MAAEC,MAAEH,IAAE,QAAO;AAAC,qBAAQE,MAAE,GAAEA,MAAEC,KAAED,MAAI,CAAAI,IAAE,UAAU,GAAEA,IAAE,UAAU,GAAE,KAAK,QAAMA,IAAE,UAAU,GAAE,KAAK,QAAMA,IAAE,UAAU;AAAE;AAAA,UAAQ;AAAC,cAAID,MAAE,GAAEG,MAAEF,IAAE,UAAU,GAAEK,KAAEL,IAAE,UAAU;AAAE,eAAK,QAAMA,IAAE,UAAU,GAAE,KAAK,QAAMA,IAAE,UAAU,GAAEN,IAAED,IAAG,IAAES,KAAER,IAAED,IAAG,IAAEY,IAAEN,OAAG;AAAE,mBAAQH,MAAE,GAAEA,MAAEC,KAAED,OAAI;AAAC,kBAAMA,MAAEI,IAAE,UAAU,GAAEH,MAAEG,IAAE,UAAU,GAAEG,MAAED,MAAEN,KAAEU,KAAED,KAAER;AAAE,YAAAC,MAAG,QAAKK,MAAED,QAAII,KAAED,KAAG,KAAK,QAAML,IAAE,UAAU,GAAE,KAAK,QAAMA,IAAE,UAAU,GAAE,MAAIJ,OAAG,MAAIC,OAAGW,GAAEE,IAAEhB,IAAED,KAAE,CAAC,GAAEC,IAAED,KAAE,CAAC,GAAEG,KAAEC,GAAC,KAAGH,IAAED,KAAE,CAAC,KAAGG,KAAEF,IAAED,KAAE,CAAC,KAAGI,QAAIH,IAAED,IAAG,IAAEG,KAAEF,IAAED,IAAG,IAAEI,KAAEE,OAAG,IAAGG,MAAEC,KAAEE,KAAEC;AAAA,UAAC;AAAC,UAAAP,OAAGU,KAAElB,IAAE,KAAKQ,GAAC,IAAEN,MAAGM,MAAEH;AAAA,QAAC;AAAC;AAAA,MAAK;AAAA,MAAC;AAAQ,QAAAI,IAAE,KAAK;AAAA,IAAC;AAAC,WAAO,KAAK,OAAO,OAAKF,IAAEP,IAAE,SAAO,IAAIK,GAAEL,KAAEG,GAAC,IAAE,QAAMA,MAAE,KAAK,sCAAsCA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,IAAE;AAAA,EAAI;AAAC;;;ACA/kO,IAAMiB,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,SAAK,UAAQD,KAAE,KAAK,YAAUC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAA,EAAC;AAAC;AAAC,SAASC,GAAEF,KAAEC,KAAEE,IAAE;AAAC,UAAOH,IAAE,MAAK;AAAA,IAAC,KAAI;AAAS,aAAO,IAAII,GAAEJ,KAAEC,KAAEE,EAAC;AAAA,IAAE,KAAI;AAAM,aAAO,IAAIE,GAAEL,KAAEC,GAAC;AAAA,IAAE,KAAI;AAAkB,aAAOD,IAAE,cAAc,qBAAmB,IAAI,kBAAkB,IAAE,IAAIM,GAAEN,KAAEC,GAAC,IAAE,IAAIM,GAAEP,KAAEC,GAAC;AAAA,EAAC;AAAC;AAAC,eAAeO,GAAEP,KAAE;AAAC,QAAME,KAAE,IAAIJ;AAAE,SAAO,MAAMI,GAAE,KAAKF,KAAE,CAAC,CAAC,GAAEE;AAAC;AAAC,IAAMC,KAAN,cAAgBL,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEE,IAAE;AAAC,UAAMH,KAAEC,GAAC,GAAE,KAAK,SAAO,CAAC,GAAE,KAAK,UAAQ,KAAK,MAAME,EAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,QAAQ,QAAQ,MAAI;AAAC,WAAK,QAAQ,MAAM,GAAE,KAAK,UAAQ;AAAK,iBAAUH,OAAK,KAAK,OAAO,CAAAA,IAAE,MAAM;AAAA,IAAC,CAAC,EAAE,MAAM,MAAI;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,MAAMA,KAAE;AAAC,SAAK,SAAO,MAAMA,IAAE,UAAU,gBAAgB,GAAE,KAAK,UAAQ,MAAMQ,GAAE,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,MAAM,aAAaR,KAAEC,KAAE;AAAC,UAAM,KAAK;AAAQ,UAAME,KAAE,MAAM,KAAK,QAAQ,OAAO,iBAAgBH,IAAE,OAAO,GAAEC,GAAC;AAAE,WAAOQ,GAAE,eAAeN,IAAE,KAAK,SAAS;AAAA,EAAC;AAAC;AAAC,IAAMG,KAAN,cAAgBP,GAAC;AAAA,EAAC,MAAM,aAAaC,KAAEC,KAAE;AAAC,UAAK,EAAC,MAAKE,GAAC,IAAE,MAAMJ,GAAE,KAAK,QAAQ,QAAOC,KAAEC,GAAC,GAAES,MAAE,CAACV,IAAE;AAAuB,WAAO,EAAE,WAAWG,IAAE,KAAK,WAAUO,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMH,KAAN,cAAgBR,GAAC;AAAA,EAAC,MAAM,aAAaC,KAAEW,KAAE;AAAC,UAAK,EAAC,QAAOC,KAAE,eAAcH,IAAC,IAAE,KAAK;AAAQ,QAAG,QAAMT,IAAE,0BAAwB,CAACS,IAAE,sBAAqB;AAAC,YAAMA,MAAET,IAAE,MAAM,GAAED,KAAEY,GAAEF,IAAE,sBAAsB;AAAE,MAAAA,IAAE,yBAAuB;AAAK,YAAK,EAAC,MAAKP,IAAC,IAAE,MAAMW,GAAED,KAAEH,KAAE,KAAK,UAAU,kBAAiBE,GAAC,GAAEH,MAAE,GAAEN,KAAE,KAAK,UAAU,aAAa;AAAE,aAAO,GAAEH,IAAES,GAAC,GAAEC,GAAE,wBAAwBD,KAAE,KAAK,SAAS;AAAA,IAAC;AAAC,UAAK,EAAC,MAAKT,GAAC,IAAE,MAAMc,GAAED,KAAEZ,KAAE,KAAK,UAAU,kBAAiBW,GAAC;AAAE,WAAM,wBAAsB,KAAK,UAAU,iBAAeZ,GAAE,WAASA,GAAE,UAAU,OAAO,CAAAC,QAAG;AAAC,UAAG,QAAMA,IAAE,UAAS;AAAC,cAAMC,MAAED,IAAE;AAAS,eAAO,OAAO,SAASC,IAAE,CAAC,KAAG,OAAO,SAASA,IAAE,CAAC;AAAA,MAAC;AAAC,aAAM;AAAA,IAAE,CAAC,IAAGQ,GAAE,eAAeV,IAAE,KAAK,SAAS;AAAA,EAAC;AAAC;AAAC,IAAMM,KAAN,cAAgBN,GAAC;AAAA,EAAC,MAAM,aAAaC,KAAEG,IAAE;AAAC,QAAGH,IAAE,0BAAwB,CAAC,KAAK,QAAQ,cAAc,sBAAqB;AAAC,YAAMY,MAAEZ,IAAE,MAAM,GAAEc,KAAEH,GAAEC,IAAE,sBAAsB;AAAE,MAAAA,IAAE,yBAAuB;AAAK,YAAMH,MAAE,MAAM,EAAE,KAAK,QAAQ,QAAOT,KAAEG,EAAC;AAAE,aAAO,GAAEW,IAAEL,GAAC,GAAEA,GAAE,wBAAwBA,KAAE,KAAK,SAAS;AAAA,IAAC;AAAC,UAAMG,MAAE,MAAM,EAAE,KAAK,QAAQ,QAAOZ,KAAEG,EAAC;AAAE,WAAOM,GAAE,wBAAwBG,KAAE,KAAK,SAAS;AAAA,EAAC;AAAC;;;ACAniE,IAAMG,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,UAAMF,IAAE,UAASC,KAAEC,GAAC,GAAE,KAAK,WAASF,KAAE,KAAK,oBAAkB,OAAG,KAAK,SAAO,IAAI,EAAE,EAAC,aAAYG,IAAE,SAAQ,OAAMH,QAAG;AAAC,YAAMC,MAAE,EAAC,QAAOD,IAAE,SAAS,QAAO,OAAMA,IAAE,MAAM,kBAAiB,iBAAgB,KAAE;AAAE,aAAO,KAAK,SAAS,aAAaA,IAAE,MAAM,OAAMC,GAAC;AAAA,IAAC,EAAC,CAAC,GAAE,KAAK,aAAWG,GAAE,OAAOJ,KAAE,EAAC,GAAGC,IAAE,MAAK,GAAGA,IAAE,QAAO,GAAE,KAAK,QAAQ,GAAE,KAAK,WAASI,GAAEL,KAAE,KAAK,UAASE,IAAE,UAAU,GAAE,KAAK,gBAAcF,IAAE,cAAc;AAAA,EAAY;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,SAAS,QAAQ;AAAA,EAAC;AAAA,EAAC,6BAA6BA,KAAE;AAAC,SAAK,WAAW,qBAAqBA,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,UAAUA,KAAEC,KAAE;AAAC,QAAG,EAAE,KAAK,iBAAgBA,IAAE,eAAe,GAAE;AAAC,UAAG,KAAK,qBAAmB,MAAM,KAAK,0BAA0B,EAAE,QAAM;AAAG,YAAM,KAAK,cAAcA,IAAE,eAAe;AAAA,IAAC;AAAC,WAAO,KAAK,QAAQ,UAAQA,KAAE;AAAA,EAAE;AAAA,EAAC,MAAM,gBAAgBD,KAAEC,KAAE;AAAC,QAAG,MAAID,IAAE,OAAO,QAAOI,GAAE,MAAM,KAAK,QAAQ;AAAE,UAAMF,MAAE,KAAK,WAAW,YAAY,EAAC,WAAUF,IAAC,CAAC;AAAE,WAAOE,IAAE,MAAM,YAAUD,KAAE,KAAK,OAAOC,KAAE,MAAK,IAAI;AAAA,EAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ,QAAQ;AAAA,EAAe;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,QAAQ,KAAK;AAAA,EAAoB;AAAA,EAAC,cAAa;AAAC,SAAK,oBAAkB;AAAA,EAAE;AAAA,EAAC,MAAM,cAAcF,KAAE;AAAC,SAAK,WAAW,aAAaA,GAAC;AAAE,UAAME,MAAE,MAAM,KAAK,KAAK,MAAM,OAAO,CAAC,EAAE,IAAI,OAAMF,QAAG;AAAC,YAAMC,MAAEK,GAAE,SAASN,IAAE,UAAU,SAAS;AAAE,UAAGC,IAAE,KAAG;AAAC,eAAO,MAAM,KAAK,iBAAiBD,IAAE,QAAOC,KAAE,EAAC,SAAQD,IAAE,QAAO,CAAC,GAAE;AAAA,MAAI,SAAOE,KAAE;AAAC,eAAOA;AAAA,MAAC;AAAA,IAAC,CAAC,GAAEK,OAAG,MAAM,QAAQ,IAAIL,GAAC,GAAG,OAAO,CAAAF,QAAGA,GAAC;AAAE,QAAGO,IAAE,OAAO,OAAM,IAAI,EAAE,sBAAqB,8CAA6C,EAAC,QAAOA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOP,KAAEC,KAAEC,KAAE;AAAC,UAAMK,MAAE,MAAM,KAAK,SAASP,KAAEC,GAAC;AAAE,WAAO,MAAM,KAAK,iBAAiBM,KAAEP,IAAE,OAAME,GAAC,GAAEK;AAAA,EAAC;AAAA,EAAC,MAAM,4BAA2B;AAAC,QAAG,QAAM,KAAK,cAAc,QAAM;AAAG,QAAG,EAAE,YAAW,KAAK,UAAU,QAAM;AAAG,UAAMN,MAAE,KAAK,SAAS,QAAOC,MAAE,EAAC,GAAGD,IAAE,OAAM,GAAE,OAAM,GAAEM,OAAG,MAAM,EAAEN,IAAE,MAAK,EAAC,OAAMC,KAAE,cAAa,OAAM,CAAC,GAAG,KAAK,YAAY;AAAa,WAAOK,QAAI,KAAK,kBAAgB,KAAK,gBAAcA,KAAE;AAAA,EAAG;AAAA,EAAC,MAAM,iBAAiBP,KAAEO,KAAEC,KAAE;AAAC,UAAMC,KAAE,KAAK,WAAW,uBAAuBF,KAAEP,KAAEQ,GAAC;AAAE,QAAG,CAACC,GAAE;AAAO,UAAMC,MAAE,MAAM,KAAK,SAASD,IAAE,KAAK,QAAQ;AAAE,IAAAC,IAAE,QAAQ,MAAIV,IAAE,QAAQ,IAAEA,IAAE,eAAeU,GAAC,IAAEF,GAAE,UAAU,qEAAqE,EAAE,MAAM,IAAI,EAAE,sBAAqB,gDAAgDR,IAAE,QAAQ,CAAC,sBAAsBU,IAAE,QAAQ,CAAC,IAAG,EAAC,OAAMD,GAAE,MAAM,OAAO,GAAE,WAAUD,IAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAASR,KAAEC,KAAE;AAAC,WAAO,KAAK,YAAY,QAAQ,EAAC,MAAK,aAAY,CAAC,GAAE,KAAK,OAAO,KAAK,EAAC,OAAMD,KAAE,SAAQC,IAAC,CAAC,EAAE,QAAQ,MAAI;AAAC,WAAK,YAAY,QAAQ,EAAC,MAAK,YAAW,MAAK,MAAI,KAAK,OAAO,OAAM,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC;AAAC;;;ACA5/F,IAAMU,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEF,KAAEG,IAAE;AAAC,UAAMD,KAAEF,KAAEG,EAAC,GAAE,KAAK,cAAY,oBAAI,OAAI,KAAK,gBAAc,IAAIA,GAAE,KAAK,OAAM,KAAK,YAAW,KAAK,UAAS,KAAK,OAAO,KAAK,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBC,KAAEF,KAAE;AAAC,WAAO,KAAK,cAAc,mBAAmBE,KAAEF,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,WAAO,KAAK,cAAc,iBAAiB;AAAA,EAAC;AAAA,EAAC,OAAOE,KAAE;AAAC,SAAK,cAAcA,IAAE,IAAI;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,UAAMF,MAAEE,IAAE,KAAK;AAAG,SAAK,YAAY,IAAIF,GAAC,KAAG,KAAK,YAAY,IAAIA,KAAE,CAAC,CAAC;AAAE,UAAMF,MAAEI,IAAE,KAAK;AAAE,KAACJ,OAAGI,IAAE,SAAOA,IAAE,SAAO,IAAI,sBAAsB,KAAG,QAAQ,MAAM,SAASA,IAAE,OAAO,uCAAuCJ,GAAC,GAAG,GAAE,KAAK,YAAY,IAAIE,GAAC,EAAE,KAAKE,GAAC,GAAE,KAAK,MAAM,OAAOA,GAAC;AAAA,EAAE;AAAA,EAAC,cAAcA,KAAE;AAAC,UAAMF,MAAE,KAAK,YAAY,IAAIE,IAAE,IAAI,EAAE,KAAG,CAAC;AAAE,eAAUJ,OAAKE,IAAE,KAAI,sBAAsB,KAAG,QAAQ,MAAM,QAAQE,IAAE,IAAI,EAAE,WAAWJ,IAAE,OAAO,iCAAiC,GAAE,KAAK,MAAM,OAAOA,GAAC;AAAE,SAAK,YAAY,OAAOI,IAAE,IAAI,EAAE;AAAA,EAAC;AAAC;;;ACAr9B,IAAMC,MAAN,cAAgBA,IAAC;AAAA,EAAC,YAAYC,KAAED,KAAEE,KAAEC,KAAEC,KAAEC,IAAE;AAAC,UAAM,GAAE,KAAK,UAAQJ,KAAE,KAAK,aAAWD,KAAE,KAAK,QAAME,KAAE,KAAK,cAAYC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,OAAKC,IAAE,KAAK,UAAQ,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,KAAK,aAAa,IAAI,EAAE,GAAG,KAAK,OAAK,MAAI,EAAE,IAAG,KAAK,oBAAkB,GAAG,KAAK,MAAM,IAAI,YAAY,IAAI,KAAK,aAAa,IAAI,YAAY,GAAG,KAAK,OAAK,MAAI,EAAE;AAAA,EAAE;AAAA,EAAC,IAAI,YAAW;AAAC,WAAM,EAAC,MAAK,mBAAkB,SAAQ,KAAK,SAAQ,QAAO,KAAK,MAAM,IAAI,IAAG,WAAU,KAAK,YAAW,iBAAgB,KAAK,kBAAiB,cAAa,KAAK,aAAa,IAAI,IAAG,MAAK,KAAK,KAAK,GAAE,KAAI,KAAK,IAAG;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,MAAI,KAAK;AAAA,EAAgB;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK;AAAA,EAAI;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,cAAcJ,KAAE;AAAC,WAAO,KAAK,MAAM,IAAI,OAAKA,IAAE,IAAI,KAAG,KAAK,SAAO;AAAA,EAAI;AAAC;;;ACAla,IAAMK,KAAE,IAAI,8BAA8B;AAAE,IAAMC,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,IAAE;AAAC,SAAK,eAAaD,KAAE,KAAK,kBAAgB,oBAAI,OAAI,KAAK,cAAY,IAAI,mBAAgB,KAAK,WAASE,GAAE,CAAC,EAAEF,IAAE,QAAO,MAAI,KAAK,YAAY,MAAM,CAAC,GAAE,EAAEC,IAAE,MAAI,KAAK,YAAY,MAAM,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,YAAY,MAAM,GAAE,KAAK,SAAS,OAAO;AAAA,EAAC;AAAA,EAAC,IAAIC,KAAE;AAAC,WAAO,KAAK,gBAAgB,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAIA,KAAEF,KAAE;AAAC,SAAK,gBAAgB,IAAIE,KAAEF,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM,EAAC,QAAO,KAAK,YAAY,OAAM;AAAA,EAAC;AAAC;AAAC,IAAMG,MAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,cAAY,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAE,eAAUF,OAAK,KAAK,YAAY,OAAO,EAAE,CAAAA,IAAE,QAAQ;AAAE,SAAK,YAAY,MAAM;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM,EAAC,sBAAqB,OAAG,iCAAgC,MAAE;AAAA,EAAC;AAAA,EAAC,MAAM,KAAKA,KAAE;AAAC,SAAK,YAAY,IAAIA,IAAE,IAAI,EAAE,KAAG,KAAK,YAAY,IAAIA,IAAE,IAAI,IAAG,IAAIH,GAAEG,KAAE,KAAK,QAAQ,CAAC;AAAE,UAAME,MAAE,KAAK,YAAY,IAAIF,IAAE,IAAI,EAAE;AAAE,QAAID;AAAE,QAAG;AAAC,uBAAgBA,MAAK,KAAK,iBAAiBG,KAAEF,IAAE,MAAK,CAAC,GAAE;AAAC,cAAK,EAAC,WAAUA,KAAE,QAAOG,KAAE,YAAWP,KAAE,iBAAgBC,KAAE,MAAKI,IAAC,IAAEF,IAAEK,KAAE,IAAID,IAAEA,KAAEH,KAAEC,KAAEL,KAAEC,KAAE,KAAE;AAAE,QAAAK,GAAEA,IAAE,OAAO,GAAE,KAAK,UAAUE,EAAC;AAAA,MAAC;AAAA,IAAC,SAAOH,KAAE;AAAC,MAAAF,KAAEE;AAAA,IAAC;AAAC,IAAAC,GAAEA,IAAE,OAAO;AAAE,UAAMN,KAAE,IAAIO,IAAEE,GAAE,MAAM,KAAK,QAAQ,GAAE,MAAKL,IAAE,MAAK,MAAK,IAAG,IAAE;AAAE,QAAG,KAAK,UAAUJ,EAAC,GAAEG,GAAE,OAAMA;AAAA,EAAC;AAAA,EAAC,OAAOC,KAAE;AAAC,UAAM,OAAOA,GAAC,GAAE,KAAK,YAAY,IAAIA,IAAE,IAAI,EAAE,GAAG,QAAQ,GAAE,KAAK,YAAY,OAAOA,IAAE,IAAI,EAAE;AAAA,EAAC;AAAA,EAAC,OAAM,iBAAiBA,KAAEF,KAAEI,KAAE;AAAC,QAAIH,KAAEC,IAAE,IAAIF,IAAE,EAAE;AAAE,UAAMQ,MAAE,CAAC,CAACP;AAAE,QAAGA,OAAIA,KAAE,MAAM,KAAK,gBAAgBC,KAAEF,KAAEI,GAAC,GAAEF,IAAE,IAAIF,IAAE,IAAGC,EAAC,IAAGA,GAAE,OAAO,yBAAuBG,MAAE,IAAI,8BAA8B,EAAE,YAAUC,OAAKL,IAAE,iBAAiB,EAAE,QAAM,KAAK,iBAAiBE,KAAEG,KAAED,MAAE,CAAC;AAAA,QAAO,CAAAI,QAAI,MAAMP;AAAA,EAAE;AAAA,EAAC,MAAM,gBAAgBC,KAAEF,KAAEI,KAAE;AAAC,UAAMH,KAAEC,IAAE,aAAa,KAAK,0BAA0B,GAAEM,MAAE,KAAK,WAAW,gBAAgBR,KAAE,EAAC,6BAA4BI,QAAIN,IAAE,wBAAuBG,GAAC,CAAC;AAAE,WAAM,EAAC,QAAO,MAAM,KAAK,OAAOO,KAAEN,IAAE,SAAQ,EAAC,SAAQF,IAAE,GAAE,CAAC,GAAE,WAAUQ,IAAE,MAAM,OAAO,GAAE,MAAKN,IAAE,aAAa,MAAK,YAAWF,KAAE,iBAAgBI,IAAC;AAAA,EAAC;AAAC;;;ACA7rE,IAAMK,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEF,KAAEC,KAAEE,KAAEC,KAAE;AAAC,UAAM,GAAE,KAAK,UAAQF,KAAE,KAAK,aAAWF,KAAE,KAAK,QAAMC,KAAE,KAAK,QAAME,KAAE,KAAK,OAAKC,KAAE,KAAK,UAAQ,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,KAAK,KAAK,GAAG,KAAK,MAAI,MAAI,EAAE,IAAG,KAAK,oBAAkB,GAAG,KAAK,MAAM,IAAI,YAAY,IAAI,KAAK,KAAK,GAAG,KAAK,MAAI,MAAI,EAAE;AAAA,EAAE;AAAA,EAAC,IAAI,YAAW;AAAC,WAAM,EAAC,MAAK,cAAa,SAAQ,KAAK,SAAQ,QAAO,KAAK,MAAM,IAAI,IAAG,WAAU,KAAK,YAAW,MAAK,KAAK,OAAM,MAAK,KAAK,KAAK,GAAE,KAAI,KAAK,IAAG;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,MAAI,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK;AAAA,EAAI;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,cAAcF,KAAE;AAAC,WAAO,KAAK,MAAM,IAAI,OAAKA,IAAE,IAAI,KAAG,KAAK,SAAO;AAAA,EAAI;AAAC;;;ACAxN,IAAMG,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,IAAE;AAAC,SAAK,eAAaD,KAAE,KAAK,SAAO,oBAAI,OAAI,KAAK,cAAY,IAAI,mBAAgB,KAAK,QAAM,OAAG,KAAK,WAASA,GAAE,CAAC,EAAEA,IAAE,QAAO,MAAI,KAAK,YAAY,MAAM,CAAC,GAAE,EAAEC,IAAE,MAAI,KAAK,YAAY,MAAM,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,YAAY,MAAM,GAAE,KAAK,SAAS,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,QAAIC,MAAE;AAAG,eAAUF,OAAK,KAAK,OAAO,OAAO,EAAE,CAAAE,MAAE,KAAK,IAAIA,KAAEF,GAAC;AAAE,WAAOE,MAAE;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM,EAAC,QAAO,KAAK,YAAY,OAAM;AAAA,EAAC;AAAA,EAAC,IAAIA,KAAEF,KAAE;AAAC,SAAK,OAAO,IAAIE,GAAC,GAAE,KAAK,QAAM,KAAK,SAAOF;AAAA,EAAC;AAAC;AAAC,IAAMG,KAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,cAAY,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAE,eAAUF,OAAK,KAAK,YAAY,OAAO,EAAE,CAAAA,IAAE,QAAQ;AAAE,SAAK,YAAY,MAAM;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM,EAAC,sBAAqB,OAAG,iCAAgC,MAAE;AAAA,EAAC;AAAA,EAAC,MAAM,KAAKA,KAAE;AAAC,UAAMD,KAAE,EAAE,KAAK,aAAYC,IAAE,IAAI,IAAG,MAAI,IAAIH,IAAEG,KAAE,KAAK,QAAQ,CAAC;AAAE,qBAAgBF,OAAK,KAAK,YAAYC,EAAC,EAAE,MAAK,UAAUD,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOE,KAAE;AAAC,UAAM,OAAOA,GAAC,GAAE,KAAK,YAAY,IAAIA,IAAE,IAAI,EAAE,GAAG,QAAQ,GAAE,KAAK,YAAY,OAAOA,IAAE,IAAI,EAAE;AAAA,EAAC;AAAA,EAAC,OAAM,YAAYA,KAAE;AAAC,QAAIF;AAAE,QAAG;AAAC,uBAAgBA,OAAK,KAAK,sBAAsBE,GAAC,EAAE,CAAAE,GAAEF,IAAE,OAAO,GAAE,MAAIF,IAAE,KAAK,MAAI,MAAMA;AAAA,IAAE,SAAOK,KAAE;AAAC,MAAAL,MAAEK;AAAA,IAAC;AAAC,QAAGL,OAAG,EAAEA,GAAC,MAAI,MAAM,IAAIA,IAAEM,GAAE,MAAM,KAAK,QAAQ,GAAE,MAAKJ,IAAE,aAAa,MAAK,IAAG,IAAE,IAAGF,IAAE,OAAMA;AAAA,EAAC;AAAA,EAAC,OAAM,sBAAsBE,KAAE;AAAC,UAAMF,MAAE,IAAI,qCAAqC,GAAEC,KAAE,KAAK,eAAeC,GAAC,GAAEE,MAAE,CAAC;AAAE,QAAIC,MAAE,OAAGE,KAAE;AAAE,WAAK,CAACF,OAAG;AAAC,YAAMH,MAAE,CAAC;AAAE,aAAK,CAACG,OAAGD,IAAE,SAAOG,MAAG;AAAC,cAAMP,MAAEC,GAAE,KAAK;AAAE,YAAG,CAACD,IAAE,OAAM;AAAC,UAAAK,MAAE;AAAG;AAAA,QAAK;AAAC,cAAME,MAAEP,IAAE;AAAM,QAAAO,IAAE,KAAK,CAAAL,QAAG;AAAC,UAAAA,IAAE,OAAO,0BAAwBG,MAAE;AAAA,QAAG,CAAC,EAAE,MAAM,CAAAH,QAAG;AAAC,UAAAG,MAAE;AAAA,QAAE,CAAC,EAAE,QAAQ,MAAI;AAAC,UAAAD,IAAE,OAAOA,IAAE,QAAQG,GAAC,GAAE,CAAC;AAAA,QAAC,CAAC,GAAEH,IAAE,KAAKG,GAAC,GAAEL,IAAE,KAAKK,GAAC;AAAA,MAAC;AAAC,iBAAUP,OAAKE,IAAE,OAAMF;AAAE,MAAAI,IAAE,UAAQ,MAAM,QAAQ,KAAKA,GAAC,GAAEG,KAAEP,QAAIO,MAAG;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,CAAC,eAAeL,KAAE;AAAC,UAAMF,MAAE,KAAK,KAAK,IAAI,sCAAsC,IAAE,KAAK,WAAW,QAAQ;AAAE,aAAQC,KAAE,GAAEA,KAAED,KAAEC,KAAI,OAAM,KAAK,cAAcA,IAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,cAAcA,KAAEF,KAAE;AAAC,IAAAI,GAAEJ,IAAE,OAAO;AAAE,UAAMI,MAAEJ,IAAE,aAAa,MAAKK,MAAE,KAAK,WAAW,qBAAqBD,KAAEF,GAAC,GAAEK,KAAE,MAAM,KAAK,OAAOF,KAAEL,IAAE,SAAQ,EAAC,SAAQ,GAAGI,IAAE,EAAE,IAAIF,GAAC,GAAE,CAAC;AAAE,WAAOE,GAAEJ,IAAE,OAAO,GAAE,IAAIA,IAAEO,IAAEF,IAAE,MAAM,OAAO,GAAED,KAAEF,KAAE,KAAE;AAAA,EAAC;AAAC;;;ACAhgE,IAAMM,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAE;AAAC,UAAMF,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM,EAAC,sBAAqB,MAAG,iCAAgC,KAAE;AAAA,EAAC;AAAA,EAAC,KAAKF,KAAE;AAAC,WAAO,QAAM,KAAK,aAAW,KAAK,WAAS,KAAK,UAAU,IAAG,KAAK;AAAA,EAAQ;AAAA,EAAC,OAAOA,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,YAAW;AAAC,UAAMA,MAAE,KAAK,QAAQ,aAAa,kBAAiBC,MAAED,MAAE,IAAIG,GAAE,EAAC,MAAK,QAAO,gBAAe,cAAa,WAAUH,IAAC,CAAC,IAAE;AAAK,UAAM,KAAK,mBAAmBC,GAAC,GAAE,QAAMA,OAAG,MAAM,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAmBA,KAAE;AAAC,QAAG;AAAC,uBAAgBD,OAAK,KAAK,YAAYC,GAAC,EAAE,MAAK,MAAM,OAAOD,GAAC;AAAA,IAAC,SAAOE,KAAE;AAAC,YAAM,IAAI,EAAE,sBAAqB,2CAA0C,EAAC,OAAMA,IAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAkB;AAAC,QAAG;AAAC,YAAMF,MAAE,CAAC;AAAE,uBAAgBC,OAAK,KAAK,YAAY,IAAI,EAAE,CAAAD,IAAE,KAAKC,GAAC;AAAE,WAAK,MAAM,MAAM;AAAE,iBAAUA,OAAKD,IAAE,MAAK,MAAM,OAAOC,GAAC;AAAE,WAAK,MAAM,QAAQ;AAAA,IAAC,SAAOA,KAAE;AAAC,YAAM,IAAI,EAAE,sBAAqB,2CAA0C,EAAC,OAAMA,IAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,OAAM,YAAYD,KAAE;AAAC,QAAIE;AAAE,QAAG;AAAC,uBAAgBD,OAAK,KAAK,sBAAsBD,GAAC,EAAE,OAAIC,IAAE,KAAK,MAAI,MAAMA;AAAA,IAAE,SAAOG,IAAE;AAAC,MAAAF,MAAEE;AAAA,IAAC;AAAC,QAAGF,OAAG,EAAEA,GAAC,MAAI,MAAM,IAAID,GAAEI,GAAE,MAAM,KAAK,QAAQ,GAAE,MAAK,IAAG,IAAE,IAAGH,IAAE,OAAMA;AAAA,EAAC;AAAA,EAAC,OAAM,sBAAsBF,KAAE;AAAC,UAAMC,MAAE,IAAI,mCAAmC,GAAEC,MAAE,KAAK,eAAeF,GAAC,GAAEI,KAAE,CAAC;AAAE,QAAIE,KAAE,OAAGC,MAAE;AAAE,WAAK,CAACD,MAAG;AAAC,YAAMN,MAAE,CAAC;AAAE,aAAK,CAACM,MAAGF,GAAE,SAAOG,OAAG;AAAC,cAAMN,MAAEC,IAAE,KAAK;AAAE,YAAG,CAACD,IAAE,OAAM;AAAC,UAAAK,KAAE;AAAG;AAAA,QAAK;AAAC,cAAMC,MAAEN,IAAE;AAAM,QAAAM,IAAE,KAAK,CAAAP,QAAG;AAAC,UAAAA,IAAE,OAAO,0BAAwBM,KAAE;AAAA,QAAG,CAAC,EAAE,MAAM,CAAAN,QAAG;AAAC,UAAAM,KAAE;AAAA,QAAE,CAAC,EAAE,QAAQ,MAAI;AAAC,UAAAF,GAAE,OAAOA,GAAE,QAAQG,GAAC,GAAE,CAAC;AAAA,QAAC,CAAC,GAAEH,GAAE,KAAKG,GAAC,GAAEP,IAAE,KAAKO,GAAC;AAAA,MAAC;AAAC,iBAAUN,OAAKD,IAAE,OAAMC;AAAE,MAAAG,GAAE,UAAQ,MAAM,QAAQ,KAAKA,EAAC,GAAEG,MAAEN,QAAIM,OAAG;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,CAAC,eAAeP,KAAE;AAAC,UAAMC,MAAE,KAAK,KAAK,KAAK,QAAQ,aAAa,kBAAgB,KAAK,WAAW,QAAQ;AAAE,aAAQC,MAAE,GAAEA,MAAED,KAAEC,MAAI,OAAM,KAAK,cAAcA,KAAEF,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,cAAcA,KAAEC,KAAE;AAAC,IAAAM,GAAE,KAAK,QAAQ;AAAE,UAAMH,KAAE,KAAK,WAAW,iBAAiBJ,KAAEC,GAAC,GAAEK,KAAE,MAAM,KAAK,OAAOF,IAAE,KAAK,UAAS,EAAC,SAAQJ,IAAE,SAAS,EAAC,CAAC,GAAEQ,MAAE,IAAIP,GAAEK,IAAEF,GAAE,MAAM,OAAO,GAAEJ,KAAE,KAAE;AAAE,WAAOO,GAAE,KAAK,QAAQ,GAAEC;AAAA,EAAC;AAAC;;;ACAjoD,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,UAAMF,IAAE,UAASC,KAAEC,GAAC,GAAE,KAAK,WAASF,KAAE,KAAK,WAAS,GAAE,KAAK,SAAO,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAE,eAAUA,OAAK,KAAK,OAAO,OAAO,EAAE,CAAAA,IAAE,KAAK;AAAE,SAAK,OAAO,MAAM;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM,EAAC,sBAAqB,MAAG,iCAAgC,KAAE;AAAA,EAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ,QAAQ;AAAA,EAAe;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,QAAQ,KAAK;AAAA,EAAoB;AAAA,EAAC,MAAM,UAAUE,KAAEC,KAAE;AAAC,QAAG,EAAE,KAAK,iBAAgBA,IAAE,eAAe,KAAG,MAAM,KAAK,cAAcA,IAAE,eAAe,GAAE,EAAE,KAAK,QAAQ,QAAQ,MAAKA,IAAE,IAAI,GAAE;AAAC,iBAAUH,OAAKG,IAAE,KAAK,MAAK,OAAO,IAAIH,GAAC,KAAG,MAAM,KAAK,QAAQA,GAAC;AAAE,iBAAUC,OAAK,KAAK,OAAO,KAAK,EAAE,KAAG,CAACE,IAAE,KAAK,SAASF,GAAC,EAAE,OAAM,IAAI,EAAE,eAAc,2CAA0C,EAAC,UAAS,KAAK,QAAQ,QAAQ,MAAK,MAAKE,IAAE,KAAI,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK,QAAQ,UAAQA,KAAE;AAAA,EAAE;AAAA,EAAC,MAAM,KAAKH,KAAE;AAAC,WAAO,QAAM,KAAK,aAAW,KAAK,WAAS,KAAK,UAAU,IAAG,KAAK;AAAA,EAAQ;AAAA,EAAC,OAAOA,KAAE;AAAA,EAAC;AAAA,EAAC,cAAa;AAAA,EAAC;AAAA,EAAC,MAAM,cAAcA,KAAE;AAAC,UAAM,KAAK;AAAS,UAAMC,MAAE,IAAI,IAAID,GAAC,GAAEE,MAAEC,GAAEF,KAAE,IAAI,IAAI,KAAK,eAAe,CAAC,GAAEG,MAAE,KAAK;AAAa,QAAG,QAAMA,IAAE;AAAO,UAAMC,KAAE,MAAM,KAAKH,GAAC,EAAE,IAAI,CAAAF,QAAGI,IAAE,IAAIJ,GAAC,GAAG,MAAM;AAAE,QAAGE,IAAE,KAAK,YAAUC,OAAK,KAAK,OAAO,OAAO,EAAE,OAAMA,IAAE,aAAa,IAAI,YAAYE,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,QAAQL,KAAE;AAAC,UAAMC,MAAE,MAAMK,GAAEN,KAAE,EAAC,cAAa,KAAK,SAAS,cAAa,qBAAoB,KAAK,SAAS,qBAAoB,qBAAoB,MAAI,KAAK,QAAQ,KAAK,iBAAgB,CAAC,GAAEG,MAAE,KAAK,OAAO;AAAK,SAAK,OAAO,IAAIH,KAAEC,GAAC,GAAEA,GAAE,KAAK,QAAQ;AAAE,UAAMM,KAAEN,IAAE,OAAO,EAAE,IAAI,CAAAD,SAAI,EAAC,MAAKA,IAAE,MAAK,OAAMA,IAAE,MAAK,MAAKA,IAAE,MAAK,QAAOC,IAAE,mBAAmBD,IAAE,IAAI,EAAC,EAAE,GAAE,EAAC,qBAAoBQ,IAAC,IAAE,KAAK,SAAS,SAAS,aAAYT,MAAE,EAAE,SAAS,EAAC,QAAOQ,IAAE,qBAAoBC,IAAC,CAAC;AAAE,SAAK,eAAaT;AAAE,UAAMU,KAAE,IAAI,YAAY,MAAM,KAAK,KAAK,gBAAgB,OAAO,CAAC,EAAE,IAAI,CAAAT,QAAGD,IAAE,IAAIC,GAAC,GAAG,MAAM,EAAE,OAAO,CAAAA,QAAG,QAAMA,GAAC,CAAC;AAAE,UAAMC,IAAE,cAAcQ,IAAE,KAAK,SAAQ,CAAAT,QAAG;AAAC,UAAG,KAAK,QAAQ,QAAQ;AAAO,YAAMC,MAAE,KAAK,YAAWC,MAAE,IAAIC,IAAE,KAAK,UAASJ,KAAEC,KAAEC,KAAEE,GAAC,GAAEC,MAAE,IAAIF,GAAEA,KAAE,MAAKD,KAAE,KAAE;AAAE,WAAK,MAAM,OAAOG,GAAC;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,YAAW;AAAC,QAAG;AAAC,YAAM,QAAQ,IAAI,KAAK,QAAQ,QAAQ,KAAK,IAAI,CAAAJ,QAAG,KAAK,QAAQA,GAAC,CAAC,CAAC;AAAE,YAAMA,MAAE,IAAIE,GAAEH,GAAE,MAAM,KAAK,QAAQ,GAAE,MAAK,IAAG,IAAE;AAAE,WAAK,MAAM,OAAOC,GAAC;AAAA,IAAC,SAAOA,KAAE;AAAC,YAAM,QAAQ,MAAMA,GAAC,GAAEA;AAAA,IAAC;AAAA,EAAC;AAAC;;;ACAxlF,IAAMU,MAAN,cAAgBA,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEH,KAAEI,KAAE;AAAC,UAAM,GAAE,KAAK,YAAUH,KAAE,KAAK,UAAQC,KAAE,KAAK,QAAMC,KAAE,KAAK,QAAMH,KAAE,KAAK,OAAKI,KAAE,KAAK,UAAQ,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,KAAK,KAAK,GAAG,KAAK,MAAI,MAAI,EAAE,IAAG,KAAK,oBAAkB,GAAG,KAAK,MAAM,IAAI,YAAY,IAAI,KAAK,KAAK,GAAG,KAAK,MAAI,MAAI,EAAE;AAAA,EAAE;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,WAASC,GAAE,MAAM,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,MAAI,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK;AAAA,EAAI;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,YAAW;AAAC,WAAM,EAAC,MAAK,WAAU,SAAQ,KAAK,SAAQ,WAAU,MAAK,MAAK,KAAK,OAAM,MAAK,KAAK,KAAK,GAAE,QAAO,KAAK,MAAM,IAAG,KAAI,KAAK,IAAG;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,cAAcJ,KAAE;AAAC,QAAG,KAAK,MAAM,IAAI,OAAKA,IAAE,IAAI,IAAG;AAAC,YAAME,MAAE,CAAC;AAAE,eAAQF,MAAE,GAAEA,MAAE,KAAK,OAAO,QAAQ,GAAEA,MAAI,CAAAE,IAAE,KAAKF,GAAC;AAAE,YAAMD,MAAEM,GAAE,KAAK,KAAK,QAAOH,GAAC;AAAE,aAAOH,IAAE,uBAAuBC,IAAE,SAAS,GAAED;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAC;;;ACAsD,IAAMO,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,QAAG,MAAMF,IAAE,UAASC,KAAEC,GAAC,GAAE,KAAK,SAAO,CAAC,GAAE,CAACF,IAAE,aAAa,oBAAoB,OAAM,IAAI,MAAM,+EAA+E;AAAE,SAAK,SAAOG,GAAE,OAAOF,IAAE,QAAQ,MAAK,KAAK,UAASD,KAAE,IAAI,IAAIC,IAAE,QAAQ,eAAe,GAAE,KAAK,OAAM,MAAIA,IAAE,KAAK,gBAAgB;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAE,eAAUD,OAAK,KAAK,OAAO,CAAAA,IAAE,KAAK;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM,EAAC,sBAAqB,MAAG,iCAAgC,KAAE;AAAA,EAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ,QAAQ;AAAA,EAAe;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,QAAQ,KAAK;AAAA,EAAoB;AAAA,EAAC,MAAM,UAAUC,KAAEC,KAAE;AAAC,WAAO,EAAE,KAAK,iBAAgBA,IAAE,eAAe,KAAG,MAAM,KAAK,cAAcA,IAAE,eAAe,GAAE,KAAK,QAAQ,UAAQA,KAAE;AAAA,EAAE;AAAA,EAAC,MAAM,KAAKF,KAAE;AAAC,UAAMC,MAAE,MAAM,KAAK;AAAO,UAAMA,IAAE,aAAaD,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAE;AAAC,SAAK,OAAO,KAAK,CAAAC,QAAGA,IAAE,OAAOD,IAAE,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,cAAa;AAAA,EAAC;AAAA,EAAC,MAAM,cAAcA,KAAE;AAAC,YAAO,MAAM,KAAK,QAAQ,aAAaA,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMG,KAAN,MAAM,GAAC;AAAA,EAAC,aAAa,OAAOH,KAAEC,KAAEC,KAAEE,IAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,MAAM,QAAQ,IAAIP,IAAE,IAAI,CAAAA,QAAGQ,GAAER,KAAE,EAAC,cAAaE,IAAE,cAAa,qBAAoBA,IAAE,qBAAoB,qBAAoBI,IAAC,CAAC,CAAC,CAAC;AAAE,QAAG,MAAIC,IAAE,OAAO,OAAM,IAAI,MAAM,0FAA0F;AAAE,UAAK,CAACE,EAAC,IAAEF,KAAEG,MAAED,GAAE,OAAO,EAAE,IAAI,CAAAT,SAAI,EAAC,MAAKA,IAAE,MAAK,OAAMA,IAAE,MAAK,MAAKA,IAAE,MAAK,QAAOS,GAAE,mBAAmBT,IAAE,IAAI,EAAC,EAAE,GAAE,EAAC,qBAAoBQ,IAAC,IAAEN,IAAE,SAAS,aAAYS,KAAE,EAAE,SAAS,EAAC,QAAOD,KAAE,qBAAoBF,IAAC,CAAC,GAAEI,KAAE,IAAI,YAAY,MAAM,KAAKR,GAAE,OAAO,CAAC,EAAE,IAAI,CAAAJ,QAAGW,GAAE,IAAIX,GAAC,GAAG,MAAM,EAAE,OAAO,CAAAA,QAAG,QAAMA,GAAC,CAAC,GAAEa,KAAEX,IAAE,aAAa;AAAoB,QAAG,CAACW,GAAE,OAAM,IAAI,MAAM,iEAAiE;AAAE,WAAO,IAAI,GAAEZ,KAAE,MAAM,QAAQ,IAAIM,GAAC,GAAEI,IAAEC,IAAEP,KAAED,IAAES,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYb,KAAEE,KAAEE,IAAEC,KAAEC,KAAEC,KAAEE,IAAE;AAAC,SAAK,YAAUT,KAAE,KAAK,SAAOE,KAAE,KAAK,eAAaE,IAAE,KAAK,gBAAcC,KAAE,KAAK,SAAOC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,uBAAqBE,IAAE,KAAK,YAAU,GAAE,KAAK,SAAO,IAAI,EAAE,EAAC,aAAYA,IAAE,SAAQ,CAAAT,QAAG,KAAK,cAAcA,GAAC,EAAC,CAAC,GAAE,KAAK,mBAAiB,oBAAI;AAAA,EAAG;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK,OAAO,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,aAAaA,KAAE;AAAC,WAAO,KAAK,OAAO,KAAKA,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAE;AAAC,UAAMC,MAAE,KAAK,iBAAiB,IAAID,IAAE,EAAE;AAAE,QAAG,QAAMC,KAAE;AAAC,iBAAUD,OAAKC,IAAE,MAAK,OAAO,WAAWD,GAAC;AAAE,WAAK,iBAAiB,OAAOA,IAAE,EAAE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,cAAcA,KAAE;AAAC,UAAMC,MAAE,KAAK,UAAU,qBAAoBC,MAAEF,IAAE,MAAK,EAAC,MAAKI,IAAE,MAAKC,KAAE,MAAKC,KAAE,MAAKC,IAAC,IAAEO,GAAEZ,IAAE,QAAOD,GAAC;AAAE,QAAIQ,KAAE;AAAE,UAAMC,MAAE,EAAC,QAAOR,IAAE,QAAO,gBAAe,EAAC,MAAKE,IAAE,MAAKC,KAAE,MAAKC,KAAE,MAAKC,IAAC,GAAE,YAAWL,IAAE,OAAM,YAAW,KAAK,cAAa;AAAE,QAAG,QAAM,KAAK,qBAAqB,OAAK,MAAM,KAAK,KAAK,aAAaQ,IAAE,gBAAe,KAAK,eAAcV,IAAE,QAAO,CAAAC,QAAG;AAAC,UAAGD,IAAE,OAAO,QAAQ;AAAO,YAAMI,MAAE,IAAIF,IAAE,KAAK,WAAU,KAAK,cAAaD,KAAEQ,IAAE,KAAK,SAAS,GAAEJ,MAAE,IAAIH,IAAE,KAAK,WAAUE,KAAEF,KAAEO,MAAI,KAAE;AAAE,WAAK,aAAaP,KAAEG,GAAC;AAAA,IAAC,CAAC,IAAE,MAAM,KAAK,KAAK,cAAcK,KAAEV,IAAE,QAAO,CAAAC,QAAG;AAAC,UAAGD,IAAE,OAAO,QAAQ;AAAO,YAAMI,MAAE,IAAIF,IAAE,KAAK,WAAU,KAAK,cAAaD,KAAEQ,IAAE,KAAK,SAAS,GAAEJ,MAAE,IAAIH,IAAE,KAAK,WAAUE,KAAEF,KAAEO,MAAI,KAAE;AAAE,WAAK,aAAaP,KAAEG,GAAC;AAAA,IAAC,CAAC,GAAEL,IAAE,OAAO,QAAQ;AAAO,UAAMQ,MAAE,IAAIN,IAAE,KAAK,WAAU,MAAKA,KAAEO,MAAI,IAAE;AAAE,SAAK,aAAaP,KAAEM,GAAC;AAAA,EAAC;AAAA,EAAC,aAAaR,KAAEC,KAAE;AAAC,QAAIC,MAAE,KAAK,iBAAiB,IAAIF,IAAE,EAAE;AAAE,YAAME,QAAIA,MAAE,CAAC,GAAE,KAAK,iBAAiB,IAAIF,IAAE,IAAGE,GAAC,IAAGA,IAAE,KAAKD,IAAE,OAAO,GAAE,KAAK,OAAO,OAAOA,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,aAAaD,KAAE;AAAC,UAAMC,MAAE,IAAI,IAAID,GAAC,GAAEK,MAAEH,GAAED,KAAE,KAAK,gBAAgB;AAAE,QAAG,KAAK,mBAAiBc,GAAEV,KAAE,KAAK,gBAAgB,GAAEA,IAAE,KAAK,YAAUH,OAAK,KAAK,QAAO;AAAC,YAAMF,MAAE,MAAM,KAAKK,GAAC,EAAE,IAAI,CAAAL,QAAG,KAAK,aAAa,IAAIA,GAAC,GAAG,MAAM;AAAE,YAAME,IAAE,aAAa,IAAI,YAAYF,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,SAASc,GAAEd,KAAEC,KAAE;AAAC,QAAMC,MAAE,CAACF,IAAE,MAAKA,IAAE,MAAKA,IAAE,MAAKA,IAAE,IAAI,GAAEI,KAAE,EAAE,WAAW,EAAEF,KAAED,GAAC,CAAC,GAAEe,MAAE,EAAEZ,IAAEH,KAAE,EAAE,KAAK;AAAE,MAAG,CAACe,IAAE,QAAO;AAAK,QAAMD,MAAE,EAAE,IAAIf,MAAEgB,KAAE,OAAG,KAAE,GAAEL,KAAEI,IAAE,OAAO,OAAO,CAACf,KAAEC,QAAI,EAAEA,MAAE,EAAE,GAAEW,KAAEG,IAAE,OAAO,OAAO,CAACf,KAAEC,QAAIA,MAAE,CAAC;AAAE,SAAM,EAAC,MAAK,KAAK,IAAI,GAAGU,EAAC,GAAE,MAAK,KAAK,IAAI,GAAGC,EAAC,GAAE,MAAK,KAAK,IAAI,GAAGD,EAAC,GAAE,MAAK,KAAK,IAAI,GAAGC,EAAC,EAAC;AAAC;;;ACA36I,IAAMK,KAAE;AAAI,IAAMC,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,IAAEL,MAAE,KAAI;AAAC,QAAG,KAAK,yBAAuB,oBAAI,OAAI,KAAK,aAAW,GAAE,KAAK,aAAW,YAAY,IAAI,GAAE,KAAK,gBAAc,oBAAI,OAAI,KAAK,WAAS,CAAC,GAAE,KAAK,UAAQ,GAAE,KAAK,YAAUI,KAAE,KAAK,gBAAcC,IAAE,KAAK,QAAMH,KAAE,0BAAwBC,IAAE,KAAK,OAAM,IAAI,EAAE,gBAAe,uCAAuC;AAAE,SAAK,UAAQA,IAAE,WAAU,KAAK,gBAAcH,KAAE,KAAK,mBAAiB,KAAK,YAAUM;AAAA,EAAC;AAAA,EAAC,WAAWJ,KAAE;AAAC,SAAK,SAAS,KAAKA,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAE;AAAC,UAAMK,MAAE,KAAK,uBAAuB,IAAIL,GAAC;AAAE,QAAGK,IAAE,YAAUJ,OAAKI,IAAE,QAAQ,MAAK,SAAS,KAAKJ,GAAC;AAAA,EAAC;AAAA,EAAC,IAAII,KAAE;AAAC,QAAG,KAAK,kBAAiB;AAAC,YAAML,MAAE,KAAK,QAAQ;AAAE,MAAAK,IAAE,WAAW,KAAK,OAAO,IAAEL,KAAEK,IAAE,WAASL;AAAA,IAAC,MAAM,CAAAK,IAAE,WAASA,IAAE,WAAW,KAAK,OAAO;AAAE,UAAMC,MAAED,IAAE;AAAS,QAAG,KAAK,cAAc,IAAIC,KAAED,GAAC,GAAE,KAAK,UAAQ,KAAK,IAAI,KAAK,SAAQA,IAAE,WAAW,KAAK,UAAU,cAAc,CAAC,GAAE,CAAC,KAAK,UAAU,aAAa,QAAO,QAAM,KAAK,6BAA2B,KAAK,2BAAyB,IAAIL,GAAE,GAAG,IAAG,KAAK,KAAK,yBAAyB,QAAQM,GAAC;AAAE,UAAMJ,MAAEG,IAAE,WAAW,KAAK,UAAU,YAAY;AAAE,QAAG,CAAC,KAAK,uBAAuB,IAAIH,GAAC,GAAE;AAAC,YAAMG,MAAE,QAAM,KAAK,eAAe,kBAAgB,KAAK,cAAc,kBAAgBP,IAAEQ,MAAE,EAAED,KAAE,GAAEP,EAAC;AAAE,WAAK,uBAAuB,IAAII,KAAE,IAAIF,GAAEM,GAAC,CAAC;AAAA,IAAC;AAAC,UAAMH,KAAE,KAAK,uBAAuB,IAAID,GAAC,GAAEH,KAAEI,IAAG,QAAQG,GAAC;AAAE,YAAMP,OAAI,KAAK,cAAc,IAAIA,EAAC,IAAE,KAAK,cAAc,OAAOA,EAAC,IAAE,KAAK,SAAS,KAAKA,EAAC;AAAA,EAAE;AAAA,EAAC,kBAAiB;AAAC,UAAMC,MAAE,KAAK,UAAU,GAAEK,MAAE,KAAK,aAAa,GAAEJ,MAAE,YAAY,IAAI,GAAEK,MAAEL,MAAE,KAAK,YAAWH,MAAE,KAAK,IAAI;AAAE,IAAAQ,OAAG,KAAK,kBAAgB,KAAK,OAAOL,GAAC,GAAE,KAAK,aAAWA;AAAG,UAAMF,KAAE,CAAC;AAAE,QAAG,QAAMM,IAAE,YAAUH,OAAKG,KAAE;AAAC,YAAML,MAAE,KAAK,MAAM,WAAWE,GAAC;AAAE,cAAMF,OAAGD,GAAE,KAAKC,GAAC;AAAA,IAAC;AAAC,UAAMO,MAAE,CAAC;AAAE,QAAG,QAAMP,KAAE;AAAC,YAAMM,MAAE,IAAI,IAAID,OAAG,CAAC,CAAC;AAAE,iBAAUA,OAAKL,IAAE,CAAAM,IAAE,IAAID,IAAE,QAAQ,MAAIA,IAAE,WAAWA,EAAC,IAAEJ,KAAEI,IAAE,WAAWC,EAAC,IAAER,KAAE,KAAK,MAAM,IAAIO,GAAC,GAAEE,IAAE,KAAKF,GAAC;AAAA,IAAE;AAAC,WAAM,EAAE,CAACE,IAAE,UAAQ,CAACR,IAAG,YAAU,KAAK,MAAM,OAAOQ,KAAER,EAAC,GAAE;AAAA,EAAG;AAAA,EAAC,YAAW;AAAC,QAAG,CAAC,KAAK,cAAc,KAAK,QAAO;AAAK,UAAMC,MAAE,IAAI,MAAM,KAAK,cAAc,IAAI;AAAE,QAAIK,MAAE;AAAE,WAAO,KAAK,cAAc,QAAQ,CAAAJ,QAAGD,IAAEK,KAAG,IAAEJ,GAAC,GAAE,KAAK,cAAc,MAAM,GAAED;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAMA,MAAE,KAAK;AAAS,WAAO,KAAK,SAAS,UAAQ,KAAK,WAAS,CAAC,GAAEA,OAAG;AAAA,EAAI;AAAA,EAAC,UAAS;AAAC,UAAMA,MAAE,KAAK;AAAW,WAAO,KAAK,cAAY,KAAK,aAAW,KAAG,aAAW,GAAEA;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAE;AAAC,UAAMK,MAAE,KAAK;AAAc,YAAMA,QAAI,KAAK,yBAAyBA,GAAC,GAAE,KAAK,YAAYA,GAAC,GAAE,KAAK,oBAAoBL,KAAEK,GAAC,GAAE,KAAK,aAAa;AAAA,EAAE;AAAA,EAAC,yBAAyBL,KAAE;AAAC,QAAG,CAACA,IAAE,aAAa;AAAO,QAAIK,MAAE,KAAK,MAAM;AAAK,QAAGA,MAAEL,IAAE,cAAa;AAAC,UAAG,KAAK,UAAU;AAAa,mBAAUC,OAAK,KAAK,uBAAuB,OAAO,EAAE,KAAGI,MAAEL,IAAE,gBAAcC,IAAE,MAAK;AAAC,gBAAMD,MAAEC,IAAE,QAAQ;AAAE,eAAK,SAAS,KAAKD,GAAC,GAAEK;AAAA,QAAG;AAAA;AAAC,UAAG,QAAM,KAAK,0BAAyB;AAAC,YAAIJ,MAAEI,MAAEL,IAAE;AAAa,eAAKC,QAAK,KAAG;AAAC,gBAAMD,MAAE,KAAK,yBAAyB,QAAQ;AAAE,kBAAMA,OAAG,KAAK,SAAS,KAAKA,GAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,UAAMK,MAAE,KAAK,WAAW;AAAe,QAAG,CAACL,IAAE,OAAK,CAACK,IAAE;AAAO,UAAMJ,MAAE,KAAGD,IAAE,MAAI,KAAIM,MAAE,KAAK,UAAQL;AAAE,SAAK,MAAM,QAAQ,CAAAD,QAAG;AAAC,MAAAA,IAAE,WAAWK,GAAC,IAAEC,OAAG,KAAK,SAAS,KAAKN,IAAE,QAAQ;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAEK,KAAE;AAAC,QAAG,CAACA,IAAE,YAAY;AAAO,UAAMJ,MAAED,MAAE,KAAGK,IAAE,cAAY;AAAI,SAAK,MAAM,QAAQ,CAAAL,QAAG;AAAC,MAAAA,IAAE,WAAWK,EAAC,IAAEJ,OAAG,KAAK,SAAS,KAAKD,IAAE,QAAQ;AAAA,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,SAAK,uBAAuB,QAAQ,CAACA,KAAEK,QAAI;AAAC,YAAIL,IAAE,QAAM,KAAK,uBAAuB,OAAOK,GAAC;AAAA,IAAC,CAAC;AAAA,EAAC;AAAC;;;ACAxrG,IAAIG,MAAE,cAAc,EAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK,YAAY;AAAA,EAAgB;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,YAAY;AAAA,EAAW;AAAC;AAAE,WAAE,CAAC,EAAE,CAAC,GAAED,IAAE,WAAU,cAAa,MAAM,GAAE,WAAE,CAAC,EAAE,CAAC,GAAEA,IAAE,WAAU,oBAAmB,IAAI,GAAE,WAAE,CAAC,EAAE,CAAC,GAAEA,IAAE,WAAU,eAAc,IAAI,GAAEA,MAAE,WAAE,CAAC,EAAE,6DAA6D,CAAC,GAAEA,GAAC;;;ACAhiB,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAED,KAAE;AAAC,SAAK,YAAUC,KAAE,KAAK,YAAUD,KAAE,KAAK,qBAAmB,oBAAI;AAAA,EAAG;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK,mBAAmB;AAAA,EAAI;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAOE,GAAE,aAAa,CAAC,GAAG,KAAK,mBAAmB,OAAO,CAAC,GAAE,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,IAAID,KAAE;AAAC,SAAK,mBAAmB,IAAIA,IAAE,UAASA,GAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,SAAK,mBAAmB,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,UAAMD,MAAE,KAAK,mBAAmB,IAAIC,GAAC;AAAE,WAAOD,OAAG,KAAK,mBAAmB,OAAOC,GAAC,GAAED,OAAG;AAAA,EAAI;AAAA,EAAC,QAAO;AAAC,SAAK,qBAAmB,oBAAI;AAAA,EAAG;AAAA,EAAC,OAAOC,KAAED,KAAE;AAAC,SAAK,UAAUC,KAAG,UAAQ,CAAC;AAAA,EAAC;AAAC;;;ACArhB,IAAME,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,UAAQA,KAAE,KAAK,UAAQ,gBAAe,KAAK,oBAAkB;AAAA,EAAc;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,MAAK;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,YAAW;AAAC,WAAM,EAAC,MAAK,UAAS,SAAQ,KAAK,SAAQ,MAAK,KAAK,KAAK,GAAE,KAAI,KAAK,IAAG;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,cAAcA,KAAE;AAAC,UAAMF,MAAE,KAAK,sBAAsBE,IAAE,MAAM;AAAE,WAAOF,IAAE,uBAAuBE,IAAE,SAAS,GAAEF;AAAA,EAAC;AAAC;;;ACAqU,IAAMG,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAE;AAAC,UAAMF,IAAE,UAASC,KAAEC,GAAC,GAAE,KAAK,WAASF,KAAE,KAAK,mBAAiB,IAAIC,OAAE,KAAK,gBAAc,OAAG,KAAK,SAAO,IAAIE;AAAE,UAAK,EAAC,UAASC,GAAC,IAAE,KAAK,UAAS,EAAC,cAAaC,GAAC,IAAEJ,IAAE;AAAK,SAAK,gBAAc,IAAID,IAAE,KAAK,SAAS,8BAA8B,CAAC,EAAC,MAAKG,IAAE,OAAM,gBAAe,MAAK,oBAAmB,CAAC,CAAC,GAAE,CAAAJ,QAAG,KAAK,OAAO,KAAK,oBAAmBA,GAAC,CAAC,GAAE,KAAK,WAAS,IAAIO,GAAE,KAAK,eAAc,KAAK,SAAS,eAAcF,IAAEC,EAAC,GAAE,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,IAAI,QAAO;AAAC,WAAM,EAAC,sBAAqB,OAAG,iCAAgC,MAAE;AAAA,EAAC;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK,iBAAiB;AAAA,EAAgB;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,kBAAkB;AAAA,EAAW;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ,KAAK;AAAA,EAAe;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,QAAQ,KAAK;AAAA,EAAoB;AAAA,EAAC,MAAM,UAAUN,KAAEC,KAAE;AAAC,UAAMC,MAAE,QAAM,KAAK;AAAO,QAAGD,IAAE,yBAAuB,KAAK,iBAAgB;AAAC,UAAG,KAAK,kBAAgBA,IAAE,sBAAqB,CAAC,KAAK,SAAS,gBAAgB,KAAGC,OAAG,CAAC,KAAK,cAAc,QAAO,KAAK,OAAO,KAAK,MAAM,GAAE;AAAG,WAAK,WAAS,KAAK,MAAM,OAAO,KAAK,MAAM,GAAEF,IAAE,oBAAoB,IAAG,KAAK,gBAAc,OAAG,KAAK,SAAO,IAAIQ,GAAE,KAAK,cAAc,MAAM,GAAE,KAAK,MAAM,OAAO,KAAK,MAAM,GAAE,KAAK,OAAO,KAAK,MAAM;AAAA,IAAC;AAAC,WAAO,KAAK,QAAQ,UAAQP,KAAE;AAAA,EAAE;AAAA,EAAC,MAAM,KAAKD,KAAE;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAE;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,SAAK,oBAAkB,EAAE,KAAK,iBAAiB,GAAE,KAAK,iBAAiB,aAAW,MAAK,KAAK,eAAe,OAAO;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,QAAG,QAAM,KAAK,kBAAkB;AAAO,UAAK,EAAC,cAAaA,KAAE,kBAAiBE,IAAC,IAAE,KAAK,UAAS,EAAC,yBAAwBE,KAAE,yBAAwBI,KAAE,oBAAmBC,IAAE,sBAAqBF,IAAE,kBAAiBF,GAAC,IAAE,KAAK,QAAQ;AAAK,SAAK,oBAAkBG,GAAE,KAAK,SAAS,QAAON,KAAE,KAAK,SAAS,qBAAoBF,KAAEO,IAAEE,IAAEL,KAAEI,KAAEH,EAAC,GAAE,KAAK,gBAAcJ,GAAE,CAAC,KAAK,kBAAkB,GAAG,iBAAgB,CAAAD,QAAG,KAAK,WAAWA,GAAC,CAAC,GAAE,KAAK,kBAAkB,GAAG,oBAAmB,CAAAA,QAAG,KAAK,oBAAoBA,GAAC,CAAC,CAAC,CAAC,GAAE,KAAK,iBAAiB,aAAW,KAAK;AAAA,EAAiB;AAAA,EAAC,QAAO;AAAC,SAAK,SAAS,gBAAgB,GAAE,KAAK,cAAc,MAAM,GAAE,KAAK,gBAAc;AAAA,EAAE;AAAA,EAAC,uBAAuBA,KAAE;AAAC,SAAK,mBAAmB,uBAAuBA,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,mBAAmB,oBAAoBA,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,mBAAmB,oBAAoBA,GAAC;AAAA,EAAC;AAAA,EAAC,cAAa;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,QAAG,UAASA,IAAE,SAAOA,IAAE,MAAK;AAAA,MAAC,KAAI;AAAS,YAAGA,IAAE,UAAU,YAAUC,OAAKD,IAAE,UAAU,MAAK,SAAS,WAAWC,GAAC;AAAE,YAAGD,IAAE,SAAS,YAAUC,OAAKD,IAAE,SAAS,MAAK,SAAS,gBAAgBC,GAAC;AAAE;AAAA,MAAM,KAAI;AAAQ,aAAK,MAAM;AAAA,IAAC;AAAC,SAAK,OAAO,KAAK,oBAAmBD,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,QAAG;AAAC,WAAK,SAAS,IAAIA,GAAC,GAAE,KAAK,OAAO,KAAK,iBAAgBA,GAAC;AAAA,IAAC,SAAOC,KAAE;AAAA,IAAC;AAAA,EAAC;AAAC;;;ACAtpE,IAAMS,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,oBAAkBH,KAAE,KAAK,iBAAeC,KAAE,KAAK,cAAYC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,kBAAgB,IAAIC,GAAE,EAAC,WAAU,gBAAe,CAAC,GAAE,KAAK,QAAM,IAAIA;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAW,QAAQ,GAAE,KAAK,kBAAkB,QAAQ,GAAE,KAAK,iBAAiB,QAAQ,GAAE,KAAK,MAAM,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,UAAU;AAAA,EAAQ;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,QAAM,KAAK,oBAAkB,KAAK,qBAAqB,GAAE,KAAK;AAAA,EAAgB;AAAA,EAAC,IAAI,aAAY;AAAC,WAAOH,IAAE,KAAK,KAAK,KAAK;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,MAAM;AAAA,EAAU;AAAA,EAAC,IAAI,cAAa;AAAC,QAAG,CAAC,KAAK,cAAa;AAAC,UAAG,CAAC,KAAK,SAAO,CAAC,KAAK,UAAU,QAAO;AAAK,WAAK,eAAa,IAAI,EAAE,EAAC,cAAa,KAAK,OAAM,aAAY,KAAK,SAAS,aAAY,cAAa,KAAK,SAAS,cAAa,eAAc,KAAK,SAAS,eAAc,MAAK,OAAG,MAAK,OAAG,kBAAiB,KAAK,SAAS,qBAAoB,kBAAiB,KAAK,mBAAkB,UAAS,KAAK,SAAS,UAAS,sBAAqB,KAAK,WAAW,sBAAqB,iBAAgB,KAAK,WAAW,gBAAe,CAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,WAAU;AAAC,WAAM,aAAW,KAAK,QAAQ;AAAA,EAAI;AAAA,EAAC,IAAI,wBAAuB;AAAC,QAAG,CAAC,KAAK,QAAQ,QAAM;AAAG,YAAO,KAAK,QAAQ,MAAK;AAAA,MAAC,KAAI;AAAU,eAAO,QAAM,KAAK,QAAQ,SAAS,KAAK;AAAA,MAAkB,KAAI;AAAA,MAAU,KAAI;AAAS,eAAM;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,WAAO,MAAM,KAAK,KAAK,MAAM,OAAO,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAE;AAAC,UAAMC,MAAE,oBAAI,OAAIC,MAAE,oBAAI;AAAI,eAAUE,MAAKL,IAAE,MAAK,iBAAiB,IAAIK,EAAC,MAAI,KAAK,iBAAiB,IAAIA,EAAC,GAAEH,IAAE,IAAIG,EAAC;AAAG,eAAUA,MAAKJ,IAAE,MAAK,iBAAiB,OAAOI,EAAC,GAAEF,IAAE,IAAIE,EAAC;AAAE,SAAK,yBAAuB,KAAK,UAAU,mBAAmBH,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAkB;AAAC,SAAK,yBAAuB,MAAM,KAAK,gBAAgB,WAAW,KAAK,UAAU,iBAAiB,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,WAAO,KAAK,MAAM,QAAQ;AAAA,EAAC;AAAA,EAAC,YAAYH,KAAE;AAAC,QAAG,KAAK,YAAY,QAAQ,EAAC,MAAK,aAAY,MAAKA,IAAE,KAAK,GAAE,CAAC,GAAE,CAAC,KAAK,UAAU;AAAO,UAAMC,MAAE,KAAK,UAAU,KAAKD,GAAC;AAAE,IAAAC,IAAE,KAAK,MAAI,KAAK,YAAY,QAAQ,EAAC,MAAK,UAAS,MAAKD,IAAE,KAAK,GAAE,CAAC,CAAC,EAAE,MAAM,CAAAC,QAAG,KAAK,YAAY,QAAQ,EAAC,MAAK,SAAQ,MAAKD,IAAE,KAAK,IAAG,OAAMC,IAAC,CAAC,CAAC,GAAE,KAAK,gBAAgB,WAAWA,GAAC;AAAA,EAAC;AAAA,EAAC,SAASD,KAAE;AAAC,SAAK,gBAAgB,WAAW,EAAE,KAAK,WAAW,KAAKA,GAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,SAAK,YAAY,QAAQ,EAAC,MAAK,eAAc,MAAKA,IAAE,KAAK,GAAE,CAAC,GAAE,KAAK,WAAW,OAAOA,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,cAAcA,KAAE;AAAC,UAAM,KAAK,WAAW,cAAcA,GAAC;AAAA,EAAE;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,WAAW,mBAAmB;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOE,KAAEC,KAAE;AAAC,UAAME,KAAE,KAAK;AAAQ,QAAG,KAAK,UAAQH,KAAE,KAAK,eAAa,EAAE,KAAK,YAAY,GAAEG,MAAGA,GAAE,SAAOH,IAAE,KAAK,OAAM,IAAI,MAAM,6DAA6D;AAAE,UAAMI,MAAE,IAAIJ;AAAE,WAAM,CAACG,MAAG,EAAEA,GAAE,SAAQH,IAAE,OAAO,KAAGG,GAAE,SAAS,SAAOH,IAAE,SAAS,QAAM,EAAEA,IAAE,SAAS,MAAKG,GAAE,SAAS,IAAI,KAAG,CAAC,MAAM,KAAK,UAAU,UAAUC,KAAEJ,IAAE,SAAS,OAAO,KAAG,MAAM,KAAK,oBAAoB,KAAK,QAAQ,SAAQA,KAAEC,GAAC,GAAE,MAAM,KAAK,MAAM,OAAO,EAAC,UAAS,KAAK,UAAS,sBAAqB,KAAK,QAAQ,SAAS,KAAK,qBAAoB,CAAC,GAAE,QAAIG,IAAE;AAAA,EAAoB;AAAA,EAAC,6BAA6BN,KAAE;AAAC,kBAAY,KAAK,QAAQ,SAAO,KAAK,QAAQ,SAAS,KAAK,iBAAeA,KAAE,KAAK,UAAU,6BAA6B,IAAI,KAAKA,GAAC,CAAC;AAAA,EAAE;AAAA,EAAC,uBAAsB;AAAC,YAAM,KAAK,qBAAmB,KAAK,mBAAiB,IAAIK,GAAE,KAAK,WAAW;AAAA,EAAE;AAAA,EAAC,MAAM,mBAAmBL,KAAE;AAAC,UAAMC,MAAE,EAAC,gBAAeD,IAAE,gBAAe,UAAS,EAAC,YAAWA,IAAE,SAAS,WAAW,IAAIG,GAAE,QAAQ,GAAE,YAAWH,IAAE,SAAS,YAAW,QAAOA,IAAE,SAAS,OAAO,IAAIG,GAAE,QAAQ,GAAE,QAAOH,IAAE,SAAS,QAAO,SAAQA,IAAE,SAAS,QAAO,EAAC,GAAEE,MAAEF,IAAE,SAAS,gBAAeG,MAAE,MAAM,KAAK,wBAAwBD,GAAC;AAAE,QAAGC,IAAE,WAASD,IAAE,QAAO;AAAC,YAAMF,MAAE,IAAI,IAAIG,IAAE,IAAI,CAAAH,QAAGA,IAAE,QAAQ,CAAC;AAAE,iBAAUG,OAAKD,IAAE,CAAAF,IAAE,IAAIG,GAAC,KAAGF,IAAE,SAAS,WAAW,KAAKE,GAAC;AAAA,IAAC;AAAC,WAAOF,IAAE,SAAS,WAAW,KAAK,GAAGE,GAAC,GAAEF;AAAA,EAAC;AAAA,EAAC,MAAM,wBAAwBD,KAAE;AAAC,QAAG,MAAIA,IAAE,OAAO,QAAM,CAAC;AAAE,UAAMC,MAAE,CAAC,GAAEC,OAAG,MAAM,KAAK,UAAU,gBAAgBF,KAAE,CAAC,GAAG,CAAC,GAAG,UAAU;AAAE,WAAKE,IAAE,KAAK,IAAG,CAAAD,IAAE,KAAKC,IAAE,+BAA+B,CAAC;AAAE,WAAOD;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS;AAAc,QAAG,QAAMA,IAAE,OAAM,IAAI,MAAM,kFAAkF;AAAE,UAAMC,MAAE,KAAK,MAAM,0BAA0BF,KAAEC,GAAC,EAAE,OAAO;AAAE,WAAO,MAAM,KAAKC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,oBAAoBF,KAAEC,KAAEC,KAAE;AAAC,UAAMG,KAAE,KAAK,gBAAgBL,KAAEC,GAAC;AAAE,SAAK,YAAY,QAAQ,EAAC,MAAK,uBAAsB,OAAMI,GAAE,MAAK,CAAC;AAAE,UAAMC,MAAE,CAAC,CAAC,KAAK;AAAU,SAAK,MAAM,MAAM,GAAE,KAAK,WAAW,QAAQ,GAAE,KAAK,YAAUD,IAAE,IAAI,sBAAsB,KAAG,QAAQ,MAAM,WAAWH,GAAC,kCAAiC,EAAC,UAASG,GAAC,CAAC;AAAE,UAAMD,MAAE,MAAM,KAAK,KAAK,eAAe,OAAO,CAAC;AAAE,QAAG,CAACA,IAAE,OAAO,QAAO,KAAK,KAAK,YAAY,QAAQ,EAAC,MAAK,oBAAmB,CAAC;AAAE,UAAMG,KAAE,QAAQ,IAAIH,IAAE,IAAI,CAAAJ,QAAG,KAAK,UAAU,KAAKA,GAAC,EAAE,KAAK,MAAI,KAAK,YAAY,QAAQ,EAAC,MAAK,UAAS,MAAKA,IAAE,KAAK,GAAE,CAAC,CAAC,EAAE,MAAM,CAAAC,QAAG,KAAK,YAAY,QAAQ,EAAC,MAAK,SAAQ,MAAKD,IAAE,KAAK,IAAG,OAAMC,IAAC,CAAC,CAAC,CAAC,CAAC;AAAE,SAAK,gBAAgB,WAAWM,EAAC,GAAE,KAAK,UAAU,mBAAmB,KAAK,gBAAgB;AAAE,QAAG;AAAC,MAAAD,OAAG,MAAMC;AAAA,IAAC,SAAOC,IAAE;AAAC,MAAAC,GAAED,EAAC;AAAA,IAAC;AAAC,SAAK,YAAY,QAAQ,EAAC,MAAK,oBAAmB,CAAC,GAAE,IAAI,sBAAsB,KAAG,QAAQ,MAAM,WAAWN,GAAC,qCAAoC,EAAC,UAASG,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBL,KAAEC,KAAE;AAAC,UAAMC,MAAE,EAAC,YAAW,KAAK,aAAY,OAAM,KAAK,MAAK;AAAE,YAAOD,IAAE,MAAK;AAAA,MAAC,KAAI;AAAU,eAAO,KAAK,2BAA2BD,KAAEC,IAAE,UAASC,GAAC;AAAA,MAAE,KAAI;AAAU,eAAO,KAAK,2BAA2BF,KAAEC,IAAE,UAASC,GAAC;AAAA,MAAE,KAAI;AAAS,eAAO,KAAK,0BAA0BF,KAAEC,IAAE,UAASC,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BF,KAAEC,KAAEC,KAAE;AAAC,YAAOD,IAAE,MAAK;AAAA,MAAC,KAAI;AAAa,eAAO,IAAIG,IAAEJ,KAAEC,KAAEC,GAAC;AAAA,MAAE,KAAI;AAAa,eAAO,IAAIM,GAAER,KAAEC,KAAEC,GAAC;AAAA,MAAE,KAAI;AAAW,eAAO,IAAII,IAAEN,KAAEC,KAAEC,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BF,KAAEC,KAAEC,KAAE;AAAC,YAAOD,IAAE,MAAK;AAAA,MAAC,KAAI;AAAK,eAAO,IAAIS,GAAEV,KAAEC,KAAEC,GAAC;AAAA,MAAE,KAAI;AAAW,eAAO,IAAIS,IAAEX,KAAEC,KAAEC,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,IAAIM,GAAET,KAAEC,KAAEC,GAAC;AAAE,WAAO,KAAK,gBAAgB,WAASC,KAAEA;AAAA,EAAC;AAAC;;;ACAh9N,IAAMS,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,SAAK,OAAKD,KAAE,KAAK,UAAQC,KAAE,KAAK,mBAAiB,IAAI;AAAA,EAAe;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK,KAAK;AAAA,EAAG;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,iBAAiB;AAAA,EAAM;AAAA,EAAC,QAAO;AAAC,SAAK,iBAAiB,MAAM;AAAA,EAAC;AAAC;;;ACA+wB,IAAMC,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,QAAMA,KAAE,KAAK,WAAS,EAAE;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,oBAAkB,EAAC,qBAAoB,CAAAD,QAAG,KAAK,WAAW,gCAAgCA,GAAC,EAAC,GAAE,KAAK,iBAAe,oBAAI,OAAI,KAAK,mBAAiB,oBAAI,OAAI,KAAK,mBAAiB,OAAG,KAAK,oBAAkB,OAAG,KAAK,8BAA4B,CAAC,GAAE,KAAK,2BAAyB,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,eAAe,MAAM,GAAE,KAAK,YAAY,QAAQ,GAAE,KAAK,SAAS,QAAQ,GAAE,KAAK,UAAU,OAAO,GAAE,KAAK,0BAAwB,MAAK,KAAK,gBAAc;AAAA,EAAI;AAAA,EAAC,SAASA,KAAE;AAAC,QAAI,sBAAsB,KAAG,QAAQ,MAAM,mBAAmB;AAAE,UAAME,MAAE,KAAK,aAAYC,MAAE,EAAE,SAASH,IAAE,YAAY;AAAE,SAAK,gBAAc,IAAII,GAAED,GAAC,GAAE,KAAK,UAAQ,IAAIE,GAAE,KAAK,mBAAkB,KAAK,gBAAeH,KAAE,KAAK,gBAAgB,GAAE,KAAK,aAAW,IAAII,GAAEJ,KAAE,KAAK,OAAO,GAAE,KAAK,WAASK,GAAE,CAAC,KAAK,QAAQ,MAAM,OAAO,GAAG,WAAU,MAAI,KAAK,eAAe,CAAC,GAAE,KAAK,QAAQ,MAAM,OAAO,GAAG,WAAU,MAAI,KAAK,gBAAgB,CAAC,GAAE,EAAE,MAAI,KAAK,QAAQ,eAAe,UAAS,MAAI;AAAC,WAAK,eAAe,GAAE,EAAE,KAAK,YAAY,UAAU,YAAY,EAAC,QAAO,KAAK,QAAQ,eAAe,UAAS,UAAS,KAAE,CAAC,CAAC;AAAA,IAAC,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,QAAI,sBAAsB,KAAG,QAAQ,MAAM,mBAAmB,GAAE,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,aAAaP,KAAE;AAAC,SAAK,cAAY,IAAIO,GAAEP,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,UAAMO,MAAE,KAAK,SAAS;AAAY,QAAG,CAACA,IAAE,OAAM,IAAI,EAAE,kBAAiB,yBAAyB;AAAE,WAAOA;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,UAAMA,MAAE,KAAK,YAAY;AAAqB,QAAG,CAACA,IAAE,OAAM,IAAI,EAAE,kBAAiB,mCAAmC;AAAE,WAAOA;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAe;AAAA,EAAC,gBAAe;AAAC,WAAO,KAAK,QAAQ,aAAW,KAAK,WAAW;AAAA,EAAU;AAAA,EAAC,mBAAmBP,KAAE;AAAC,WAAO,KAAK,WAAW,mBAAmBA,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,WAAO,KAAK,WAAW,cAAcA,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BA,KAAE;AAAC,WAAO,KAAK,QAAQ,0BAA0BA,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,aAAaA,KAAEO,KAAE;AAAC,WAAO,IAAI,sBAAsB,KAAG,KAAK,wBAAsB,QAAQ,MAAM,wCAAwC,GAAE,KAAK,uBAAqB,IAAIR,GAAE,EAAC,QAAOC,KAAE,SAAQO,IAAC,CAAC,GAAE,KAAK,eAAe,GAAE,KAAK,qBAAqB,SAAS;AAAA,EAAO;AAAA,EAAC,oBAAoBP,KAAE;AAAC,UAAMO,MAAE,IAAIR,GAAEC,GAAC;AAAE,WAAO,KAAK,4BAA4B,KAAKO,GAAC,GAAE,KAAK,eAAe,GAAEA,IAAE,SAAS;AAAA,EAAO;AAAA,EAAC,gBAAgBP,KAAE;AAAC,UAAMO,MAAE,IAAIR,GAAEC,GAAC;AAAE,WAAO,KAAK,yBAAyB,KAAKO,GAAC,GAAE,KAAK,eAAe,GAAEA,IAAE,SAAS;AAAA,EAAO;AAAA,EAAC,MAAM,WAAWA,KAAE;AAAC,QAAG,QAAM,KAAK,wBAAwB,OAAM,IAAI,EAAE,gBAAe,4CAA4C;AAAE,SAAK,0BAAwB,IAAIR,GAAEQ,GAAC;AAAE,UAAML,MAAE,KAAK,wBAAwB,SAAS;AAAQ,WAAO,KAAK,eAAe,GAAEA;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,WAAO,KAAK,QAAQ,WAAW,OAAO;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAqBF,KAAEO,KAAE;AAAC,WAAO,KAAK,SAAS,aAAaP,KAAEO,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuBP,KAAE;AAAC,UAAMO,MAAE,KAAK,MAAMC,GAAER,IAAE,MAAM,CAAC;AAAE,QAAIE,MAAE,OAAO,mBAAkBC,MAAE,OAAO;AAAkB,UAAMM,MAAE,YAAU,OAAOT,IAAE,aAAYU,KAAEV,IAAE,eAAa,GAAEW,MAAE,MAAM,KAAK,KAAK,eAAe,OAAO,CAAC,GAAEH,MAAE,KAAK,QAAQ,OAAO,GAAEI,MAAEL,OAAG,GAAEM,KAAE,KAAG,KAAK,KAAGD,MAAGR,KAAE,IAAEG,KAAEO,MAAE,KAAK,KAAK,IAAEV,EAAC;AAAE,eAAUW,MAAKJ,KAAE;AAAC,YAAMJ,MAAEQ,GAAE,MAAKJ,MAAE,IAAI,aAAaG,MAAEA,GAAC;AAAE,iBAAUZ,OAAKM,KAAE;AAAC,cAAML,MAAED,IAAE,cAAcK,GAAC;AAAE,YAAG,CAACJ,IAAE;AAAS,cAAMK,MAAEL,IAAE,UAAU;AAAE,eAAKK,IAAE,KAAK,KAAG;AAAC,cAAID,MAAE;AAAE,cAAG,QAAMP,IAAE,OAAM;AAAC,kBAAME,MAAEM,IAAE,cAAcR,IAAE,KAAK;AAAE,YAAAO,MAAEE,MAAE,KAAG,CAACP,MAAE,CAACA,MAAEQ;AAAA,UAAC;AAAC,gBAAMR,MAAEM,IAAE,gBAAgB,IAAEJ,IAAED,MAAEK,IAAE,gBAAgB,IAAEJ,IAAEW,MAAE,KAAK,MAAMb,GAAC,GAAEc,KAAE,KAAK,MAAMb,GAAC;AAAE,cAAGY,MAAE,KAAGC,KAAE,KAAGD,OAAGD,OAAGE,MAAGF,IAAE;AAAS,gBAAMG,OAAI,MAAGF,MAAEb,OAAGE,OAAI,MAAI,MAAGY,KAAEb,OAAGC,OAAI;AAAE,cAAGa,KAAEL,IAAE;AAAS,gBAAMP,KAAEE,OAAGM,MAAG,IAAEI,KAAEL,QAAI;AAAG,UAAAD,IAAEK,KAAED,MAAED,GAAC,KAAGT;AAAA,QAAC;AAAA,MAAC;AAAC,eAAQL,MAAE,GAAEA,MAAEW,IAAE,QAAOX,MAAI,CAAAE,MAAE,KAAK,IAAIA,KAAES,IAAEX,GAAC,CAAC,GAAEG,MAAE,KAAK,IAAIA,KAAEQ,IAAEX,GAAC,CAAC;AAAA,IAAC;AAAC,WAAM,EAAC,KAAIG,KAAE,KAAID,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,kBAAkBF,KAAE;AAAC,UAAMO,MAAE,KAAK,QAAQ,OAAO;AAAE,QAAGA,IAAE,OAAO,CAACP,KAAEO,QAAIP,MAAEO,IAAE,KAAK,GAAE,CAAC,KAAGP,IAAE,iBAAgB;AAAC,UAAG,CAAC,KAAK,QAAQ,eAAe,UAAS;AAAC,cAAMA,MAAE,CAAC;AAAE,eAAO,KAAK,QAAQ,MAAM,cAAc,CAAAO,QAAGP,IAAE,KAAKO,IAAE,4BAA4B,CAAC,CAAC,GAAEP;AAAA,MAAC;AAAC,aAAO;AAAA,IAAI;AAAC,UAAME,MAAE,oBAAI,OAAIC,MAAE,CAAC,GAAEM,MAAEF,IAAE,IAAI,CAAAP,QAAGA,IAAE,OAAO,UAAU,CAAC,GAAEU,KAAE,IAAI,KAAEF,MAAE,IAAER,IAAE;AAAW,aAAQW,MAAE,GAAEA,MAAEH,OAAGL,IAAE,SAAOH,IAAE,YAAWW,OAAI;AAAC,YAAMX,MAAES,IAAEC,GAAE,YAAY,GAAEH,IAAE,SAAO,CAAC,CAAC;AAAE,UAAG,MAAIP,IAAE,QAAQ,EAAE;AAAS,YAAMW,MAAED,GAAE,YAAY,GAAEV,IAAE,QAAQ,IAAE,CAAC;AAAE,MAAAA,IAAE,SAASW,GAAC;AAAE,YAAMH,MAAER,IAAE,YAAY;AAAE,MAAAE,IAAE,IAAIM,GAAC,MAAIN,IAAE,IAAIM,GAAC,GAAEL,IAAE,KAAKH,IAAE,4BAA4B,CAAC;AAAA,IAAE;AAAC,WAAOG,IAAE,UAAQH,IAAE,aAAWG,MAAE;AAAA,EAAI;AAAA,EAAC,iBAAgB;AAAC,SAAK,qBAAmB,KAAK,mBAAiB,MAAGI,GAAE,MAAI,KAAK,oBAAoB,CAAC;AAAA,EAAE;AAAA,EAAC,kBAAiB;AAAC,SAAK,oBAAkB,MAAG,KAAK,eAAe;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,SAAK,qBAAmB,KAAK,mBAAiB,KAAK,iBAAeO,GAAE,KAAK,UAAU,CAAC,EAAE,QAAQ,MAAI;AAAC,WAAK,iBAAe,MAAK,KAAK,oBAAoB;AAAA,IAAC,CAAC,GAAE,KAAK,mBAAiB;AAAA,EAAI;AAAA,EAAC,WAAWd,KAAE;AAAC,UAAMO,MAAEP,IAAE;AAAO,QAAG,KAAK,eAAe,IAAIO,GAAC,EAAE;AAAO,QAAI,sBAAsB,KAAG,QAAQ,MAAM,QAAQA,GAAC,sBAAsB;AAAE,UAAML,MAAE,IAAIO,GAAE,KAAK,eAAcF,GAAC,GAAEJ,MAAE,IAAII,IAAEL,KAAEF,IAAE,OAAO;AAAE,SAAK,eAAe,IAAIO,KAAEJ,GAAC,GAAE,KAAK,QAAQ,YAAYA,GAAC,GAAE,KAAK,WAAW,YAAYA,GAAC;AAAA,EAAC;AAAA,EAAC,aAAaH,KAAE;AAAC,UAAMO,MAAE,KAAK,eAAe,IAAIP,GAAC;AAAE,IAAAO,QAAI,IAAI,sBAAsB,KAAG,QAAQ,MAAM,QAAQP,GAAC,wBAAwB,GAAEO,IAAE,MAAM,GAAE,KAAK,QAAQ,cAAcA,GAAC,GAAE,KAAK,WAAW,cAAcA,GAAC,GAAE,KAAK,eAAe,OAAOA,IAAE,IAAI,EAAE;AAAA,EAAE;AAAA,EAAC,MAAM,YAAW;AAAC,QAAG,IAAI,sBAAsB,KAAG,QAAQ,MAAM,yBAAyB,GAAE,MAAM,KAAK,YAAY,UAAU,YAAY,EAAC,QAAO,KAAK,QAAQ,eAAe,UAAS,UAAS,KAAE,CAAC,GAAE,KAAK,4BAA4B,QAAO;AAAC,YAAMP,MAAE,KAAK;AAA4B,WAAK,8BAA4B,CAAC;AAAE,iBAAUO,OAAKP,IAAE,MAAK,uBAAuBO,IAAE,KAAK,GAAEA,IAAE,SAAS,QAAQ;AAAA,IAAC;AAAC,QAAG,KAAK,yBAAyB,QAAO;AAAC,YAAMP,MAAE,KAAK,0BAAyBO,MAAE,oBAAI,OAAIL,MAAE,oBAAI;AAAI,iBAAUC,OAAKH,IAAE,YAAS,EAAC,UAASA,KAAE,gBAAeS,IAAC,KAAIN,IAAE,MAAM,WAAW,CAAAM,OAAGF,IAAE,IAAIP,GAAC,GAAEE,IAAE,OAAOF,GAAC,MAAIE,IAAE,IAAIF,GAAC,GAAEO,IAAE,OAAOP,GAAC;AAAG,WAAK,QAAQ,mBAAmBO,KAAEL,GAAC;AAAA,IAAC;AAAC,UAAMF,MAAE,KAAK;AAAqB,SAAK,uBAAqB;AAAK,QAAIO,MAAE;AAAG,QAAG,QAAMP,KAAE;AAAC,YAAK,EAAC,QAAOE,KAAE,SAAQC,IAAC,IAAEH,IAAE;AAAM,MAAAO,MAAE,MAAM,KAAK,gBAAgBL,KAAEC,GAAC;AAAA,IAAC;AAAC,SAAK,WAAW,qBAAqB,MAAII,MAAE,OAAI,KAAK,sBAAoBA,MAAE,MAAG,KAAK,oBAAkB,QAAIA,QAAI,KAAK,WAAW,WAAW,GAAE,MAAM,KAAK,YAAY,UAAU,kBAAkB,KAAK,WAAW,OAAO;AAAG,UAAML,MAAE,KAAK;AAAwB,QAAG,KAAK,0BAAwB,MAAK,QAAMA,KAAE;AAAC,UAAI,sBAAsB,KAAG,QAAQ,MAAM,0BAAyBA,IAAE,KAAK,GAAE,QAAMA,IAAE,MAAM,kBAAgB,KAAK,QAAQ,6BAA6BA,IAAE,MAAM,cAAc;AAAE,YAAMF,MAAE,MAAM,KAAK,QAAQ,mBAAmBE,IAAE,KAAK;AAAE,YAAM,KAAK,QAAQ,cAAcF,GAAC,GAAE,IAAI,sBAAsB,KAAG,QAAQ,MAAM,wBAAuBE,IAAE,KAAK;AAAA,IAAC;AAAC,QAAG,MAAM,KAAK,QAAQ,iBAAiB,GAAE,KAAK,yBAAyB,QAAO;AAAC,YAAMF,MAAE,KAAK;AAAyB,WAAK,2BAAyB,CAAC;AAAE,iBAAUO,OAAKP,IAAE,MAAK,WAAW,gBAAgBO,IAAE,KAAK,GAAEA,IAAE,SAAS,QAAQ;AAAA,IAAC;AAAC,UAAME,MAAE,KAAK,QAAQ,QAAQ;AAAE,SAAK,WAAW,aAAaA,GAAC;AAAE,QAAG;AAAC,YAAMT,MAAE,KAAK,QAAQ,mBAAmB;AAAE,UAAG,QAAMA,OAAG,KAAK,eAAe,MAAK;AAAC,YAAI,sBAAsB,KAAG,QAAQ,MAAM,oCAAoC,GAAE,MAAM,KAAK,YAAY,UAAU,iBAAiB;AAAE,YAAG;AAAC,gBAAM,KAAK,WAAW,oBAAoBA,GAAC;AAAA,QAAC,SAAOU,IAAE;AAAC,cAAI,sBAAsB,KAAG,QAAQ,MAAM,iBAAgBA,EAAC;AAAA,QAAC;AAAC,cAAM,KAAK,YAAY,UAAU,mBAAmB,GAAE,IAAI,sBAAsB,KAAG,QAAQ,MAAM,kCAAkC;AAAA,MAAC;AAAC,WAAK,eAAe,SAAO,IAAI,sBAAsB,KAAG,QAAQ,MAAM,4BAA4B,GAAE,MAAM,KAAK,WAAW,aAAa,GAAE,IAAI,sBAAsB,KAAG,QAAQ,MAAM,0BAA0B;AAAA,IAAE,SAAOA,IAAE;AAAC,MAAAX,GAAEW,EAAC;AAAA,IAAC;AAAC,YAAMR,OAAGA,IAAE,SAAS,QAAQ,GAAE,QAAMF,OAAGA,IAAE,SAAS,QAAQ,GAAE,QAAMA,OAAGO,OAAG,MAAM,KAAK,YAAY,UAAU,mBAAmB,GAAE,KAAK,YAAY,QAAQ,EAAC,MAAK,eAAc,YAAW,KAAK,cAAc,EAAC,CAAC,GAAE,KAAK,oBAAkB,IAAI,sBAAsB,KAAG,QAAQ,MAAM,8CAA8C,GAAE,MAAM,KAAK,YAAY,UAAU,YAAY,EAAC,QAAO,KAAK,QAAQ,eAAe,UAAS,UAAS,KAAE,CAAC,MAAI,IAAI,sBAAsB,KAAG,QAAQ,MAAM,4DAA4D,GAAE,MAAM,KAAK,YAAY,UAAU,YAAY,EAAC,QAAO,KAAK,QAAQ,eAAe,UAAS,UAAS,KAAK,iBAAgB,CAAC;AAAA,EAAE;AAAA,EAAC,MAAM,gBAAgBP,KAAEO,KAAE;AAAC,QAAI,sBAAsB,KAAG,QAAQ,MAAM,WAAWA,GAAC,0BAAyB,EAAC,QAAOP,IAAC,CAAC;AAAE,UAAME,MAAE,EAAC,UAAS,KAAK,eAAe,SAAQ,GAAEC,MAAE,MAAM,KAAK,QAAQ,OAAOH,IAAE,QAAOO,GAAC,GAAEE,MAAE,MAAM,KAAK,KAAK,eAAe,OAAO,CAAC,GAAEC,KAAE,KAAK,WAAW,OAAOV,KAAEO,KAAEL,KAAEC,KAAEM,GAAC;AAAE,WAAO,IAAI,sBAAsB,KAAG,QAAQ,MAAM,WAAWF,GAAC,sBAAsB,GAAEG;AAAA,EAAC;AAAA,EAAC,uBAAuBV,KAAE;AAAC,QAAI,sBAAsB,KAAG,QAAQ,MAAM,gCAA+BA,GAAC;AAAE,eAAUO,OAAKP,IAAE,UAAU,MAAK,WAAWO,GAAC;AAAE,eAAUA,OAAKP,IAAE,YAAY,MAAK,aAAaO,GAAC;AAAA,EAAC;AAAC;",
  "names": ["t", "e", "l", "r", "i", "n", "h", "o", "c", "a", "l", "f", "e", "u", "_", "d", "m", "p", "g", "t", "s", "s", "t", "e", "s", "l", "e", "t", "r", "o", "n", "s", "t", "e", "s", "r", "a", "i", "n", "s", "t", "e", "a", "r", "l", "t", "e", "s", "l", "r", "i", "a", "u", "n", "e", "t", "s", "h", "i", "o", "r", "a", "c", "s", "e", "o", "r", "n", "c", "t", "a", "s", "t", "r", "e", "i", "e", "s", "s", "i", "e", "r", "a", "t", "t", "e", "s", "i", "e", "r", "t", "s", "n", "u", "a", "e", "i", "t", "s", "r", "g", "t", "e", "y", "i", "s", "a", "n", "l", "d", "c", "p", "f", "r", "o", "u", "s", "t", "m", "y", "t", "e", "s", "i", "r", "a", "n", "l", "o", "d", "u", "c", "h", "x", "d", "t", "i", "e", "s", "r", "a", "o", "n", "u", "i", "P", "W", "t", "e", "s", "r", "z", "a", "o", "n", "l", "c", "d", "N", "f", "u", "L", "b", "t", "e", "s", "l", "r", "i", "o", "n", "h", "u", "p", "y", "d", "w", "_", "m", "I", "x", "S", "v", "M", "a", "c", "g", "t", "e", "n", "r", "o", "o", "a", "e", "t", "s", "n", "r", "e", "o", "i", "t", "o", "e", "n", "a", "s", "r", "t", "u", "i", "o", "h", "a", "c", "n", "r", "i", "t", "e", "s", "f", "o", "n", "i", "t", "a", "e", "c", "f", "d", "u", "p", "g", "h", "l", "m", "y", "I", "w", "b", "x", "L", "s", "C", "d", "u", "c", "l", "g", "e", "t", "_", "r", "n", "f", "s", "i", "y", "a", "h", "o", "m", "I", "p", "c", "t", "e", "m", "a", "p", "h", "d", "f", "l", "u", "r", "s", "i", "y", "o", "l", "e", "t", "r", "o", "u", "m", "b", "s", "i", "a", "n", "s", "l", "t", "h", "e", "i", "e", "t", "r", "s", "h", "a", "l", "e", "o", "t", "n", "s", "i", "h", "u", "r", "t", "i", "e", "r", "s", "l", "t", "o", "e", "c", "s", "r", "u", "a", "i", "l", "e", "t", "r", "m", "o", "u", "a", "s", "n", "u", "e", "s", "t", "i", "r", "a", "d", "o", "n", "h", "i", "e", "t", "r", "s", "u", "d", "y", "e", "t", "i", "_", "a", "s", "r", "n", "d", "o", "l", "h", "p", "f", "x", "u", "m", "d", "a", "t", "s", "r", "o", "_", "e", "i", "n", "s", "r", "t", "e", "u", "r", "i", "e", "m", "e", "t", "s", "n", "i", "c", "h", "a", "r", "o", "_", "e", "t", "r", "s", "n", "a", "i", "o", "c", "m", "y", "u", "t", "r", "m", "e", "y", "s", "i", "h", "_", "b", "t", "u", "r", "o", "n", "d", "c", "l", "a", "p", "g"]
}
