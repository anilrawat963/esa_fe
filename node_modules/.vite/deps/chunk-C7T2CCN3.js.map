{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/polygonUtils.js", "../../@arcgis/core/geometry/support/triangulationUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../core/mathUtils.js\";import{getMetersPerUnitForSR as r,getMetersPerVerticalUnitForSR as o}from\"../../core/unitUtils.js\";import{j as s}from\"../../chunks/vec32.js\";import{getNormal as a,create as n,fromManyPoints as c}from\"./plane.js\";function i(r,o,s){const n=m(e,r,o,s)?a(e):[0,0,1];return Math.abs(n[2])>Math.cos(t(80))?2:Math.abs(n[1])>Math.abs(n[0])?1:0}function m(t,a,n,i){const m=(t=>!Array.isArray(t[0]))(a)?(t,r)=>a[3*t+r]:(t,r)=>a[t][r],e=i?r(i)/o(i):1;return c(t,(t,r)=>s(t,m(r,0)*e,m(r,1)*e,m(r,2)),n)}const e=n();export{m as fitPlane,i as leastSignificantAxis};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{e as n}from\"../../chunks/earcut.js\";import{isClockwise as t}from\"./coordsUtils.js\";import{doubleSubArray as e,doubleArrayFrom as o,newDoubleArray as r}from\"./DoubleArray.js\";import{compactMeshIndices as s}from\"./Indices.js\";import{leastSignificantAxis as i}from\"./polygonUtils.js\";import{deduplicate as l}from\"./meshUtils/deduplicate.js\";function c(t){const r=h(t.rings,t.hasZ,1,t.spatialReference),i=new Array;let c=0,a=0;for(const o of r.polygons){const t=o.count,l=o.index,f=e(r.position,3*l,3*t),h=o.holeIndices.map(n=>n-l),g=s(n(f,h,3));i.push({position:f,faces:g}),c+=f.length,a+=g.length}const g=f(i,c,a),u=Array.isArray(g.position)?l(g.position,3,{originalIndices:g.faces}):l(g.position.buffer,6,{originalIndices:g.faces});return g.position=o(new Float64Array(u.buffer)),g.faces=u.indices,g}function f(n,t,e){if(1===n.length)return n[0];const o=r(t),i=new Array(e);let l=0,c=0,f=0;for(const r of n){for(let n=0;n<r.position.length;n++)o[l++]=r.position[n];for(const n of r.faces)i[c++]=n+f;f=l/3}return{position:o,faces:s(i)}}function h(n,t,e,o){const s=n.length,i=new Array(s),l=new Array(s),c=new Array(s);let f=0;for(let r=0;r<s;++r)f+=n[r].length;let h=0,u=0,p=0;const d=r(3*f);let m=0;for(let r=s-1;r>=0;r--){const f=n[r],y=1===e&&g(f,t,o);if(y&&1!==s)i[h++]=f;else{let n=f.length;for(let t=0;t<h;++t)n+=i[t].length;const e={index:m,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=f.length,f.length>0&&(c[p++]={index:m,count:f.length}),m=y?a(f,f.length-1,-1,d,m,f.length,t):a(f,0,1,d,m,f.length,t);for(let o=0;o<h;++o){const n=i[o];e.holeIndices[o]=m,e.pathLengths[o+1]=n.length,n.length>0&&(c[p++]={index:m,count:n.length}),m=a(n,0,1,d,m,n.length,t)}h=0,e.count>0&&(l[u++]=e)}}for(let r=0;r<h;++r){const n=i[r];n.length>0&&(c[p++]={index:m,count:n.length}),m=a(n,0,1,d,m,n.length,t)}return l.length=u,c.length=p,{position:d,polygons:l,outlines:c}}function a(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i&&s[2]?s[2]:0,t+=e}return r/3}function g(n,e,o){if(!e)return!t(n);const r=n.length-1;switch(i(n,r,o)){case 0:return!t(n,1,2);case 1:return!t(n,0,2);case 2:return!t(n,0,1)}}export{g as isCounterClockwise,h as ringsToTriangulationInfo,c as triangulate};\n"],
  "mappings": "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",
  "names": ["i", "o", "s", "e", "t", "a", "m", "t", "h", "i", "c", "a", "o", "f", "g", "e", "n", "s", "m"]
}
