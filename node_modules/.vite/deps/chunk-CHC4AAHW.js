import {
  d,
  o,
  x2 as x
} from "./chunk-I4DSU5MJ.js";
import {
  d as d2,
  e,
  o2
} from "./chunk-BZBDEPRV.js";
import {
  n,
  t
} from "./chunk-CFXCM2NO.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js
function n2(n3, u) {
  n3.include(d2, u), n3.include(x, u), n3.fragment.include(e);
  const { output: f, oitPass: d3, discardInvisibleFragments: m, snowCover: p } = u, c = 10 === f, g = d(f), C = o(f) && 1 === d3, h = o(f) && 1 !== d3;
  let v = 0;
  (h || g || C) && n3.outputs.add("fragColor", "vec4", v++), g && n3.outputs.add("fragEmission", "vec4", v++), C && n3.outputs.add("fragAlpha", "float", v++), n3.fragment.code.add(t`
    void outputColorHighlightOID(vec4 finalColor, const in vec3 vWorldPosition, vec3 emissiveSymbolColor ${n(p, ", float snow")}) {
      ${n(c, "finalColor.a = 1.0;")}

      ${n(m, `if (finalColor.a < ${t.float(o2)}) { discard; }`)}

      finalColor = applySlice(finalColor, vWorldPosition);
      ${n(C, t`fragColor = premultiplyAlpha(finalColor);
             fragAlpha = finalColor.a;`)}
      ${n(h, "fragColor = finalColor;")}
      ${n(g, `fragEmission = ${n(p, "mix(finalColor.a * getEmissions(emissiveSymbolColor), vec4(0.0), snow);", "finalColor.a * getEmissions(emissiveSymbolColor);")}`)}
      calculateOcclusionAndOutputHighlight();
      ${n(c, "outputObjectAndLayerIdColor();")}
    }
  `);
}

export {
  n2 as n
};
//# sourceMappingURL=chunk-CHC4AAHW.js.map
