{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/interactive/editingTools/isSupportedObjectUtils.js", "../../@arcgis/core/views/3d/interactive/editingTools/reshape/isSupportedObject.js", "../../@arcgis/core/views/3d/interactive/editingTools/transform/isSupportedGraphic.js", "../../@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js", "../../@arcgis/core/views/interactive/snapping/SnappingOptions.js", "../../@arcgis/core/views/support/geodesicLengthMeasurementUtils.js", "../../@arcgis/core/views/interactive/snapping/SnappingManager.js", "../../@arcgis/core/views/support/euclideanAreaMeasurementUtils.js", "../../@arcgis/core/views/support/geodesicAreaMeasurementUtils.js", "../../@arcgis/core/views/support/automaticAreaMeasurementUtils.js", "../../@arcgis/core/views/support/automaticLengthMeasurementUtils.js", "../../@arcgis/core/widgets/Sketch/adapters/layer/GraphicsLayerAdapter.js", "../../@arcgis/core/widgets/Sketch/adapters/layer/MapNotesLayerAdapter.js", "../../@arcgis/core/widgets/Sketch/support/OperationHandle.js", "../../@arcgis/core/widgets/Sketch/support/sketchUtils.js", "../../@arcgis/core/widgets/Sketch/SketchViewModel.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";function e(e){switch(e){case 0:break;case 1:return\"not owned by a graphics layer\";case 2:return\"no geometry\";case 3:return\"the geometry type is not supported\";case 4:return\"the symbol type is not supported\"}return\"\"}export{e as isSupportedObjectResultMessage};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction r(r){return t(r).result}function t(r){if(r.graphic&&\"graphics\"!==r.graphic.layer?.type)return{result:1};if(!r.operations)return{result:2};const t=r.operations.data.type,e=r.operations.data.geometry;return\"point\"===t||\"mesh\"===t||\"polyline\"===t||\"polygon\"===t?{result:0,geometry:e}:{result:3}}export{r as isSupportedObject};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";function e(e){if(\"graphics\"!==e.layer?.type)return 1;if(null==e.geometry)return 2;switch(e.geometry.type){case\"point\":break;case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":case\"mesh\":return 0;default:return 3}const t=null!=e.symbol&&\"point-3d\"===e.symbol.type&&e.symbol.symbolLayers;return t&&t.some(e=>\"object\"===e.type)?0:4}export{e as isSupportedGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import i from\"../../../core/Logger.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let u=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.gridEnabled=!1,this.attributeRulesEnabled=!1,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveGridEnabled(){return this.effectiveEnabled&&this.gridEnabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(c)&&i.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(d),s=this._get(\"_effectiveFeatureSources\")?.filter(c)??new o;for(const r of t){const e=s.find(e=>e.layer===r.layer.parent);if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),s.add(e)}}for(const r of s){const e=r.sublayerSources.filter(e=>!t.includes(e));r.sublayerSources.removeMany(e)}s.removeMany(s.filter(e=>0===e.sublayerSources.length));const a=e.filter(p),l=this._get(\"_effectiveFeatureSources\")??new o,{added:u,removed:f}=r(l.toArray(),[...a,...s]);return l.removeMany(f),l.addMany(u),l}};function c(e){return\"subtype-group\"===e.layer.type}function p(e){return\"subtype-group\"!==e.layer.type}function d(e){return\"subtype-sublayer\"===e.layer.type}e([s()],u.prototype,\"enabled\",void 0),e([s()],u.prototype,\"enabledToggled\",void 0),e([s()],u.prototype,\"forceDisabled\",void 0),e([s()],u.prototype,\"selfEnabled\",void 0),e([s()],u.prototype,\"featureEnabled\",void 0),e([s()],u.prototype,\"gridEnabled\",void 0),e([s()],u.prototype,\"attributeRulesEnabled\",void 0),e([s({type:o.ofType(n)})],u.prototype,\"featureSources\",void 0),e([s()],u.prototype,\"distance\",void 0),e([s()],u.prototype,\"touchSensitivityMultiplier\",void 0),e([s({readOnly:!0})],u.prototype,\"effectiveEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveGridEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveSelfEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveFeatureEnabled\",null),e([s({readOnly:!0})],u.prototype,\"_effectiveFeatureSources\",null),u=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],u);export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createLength as e}from\"../../core/quantityUtils.js\";import{create as t}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import r from\"../../geometry/Polyline.js\";import{l as n,e as s}from\"../../chunks/geodeticLengthOperator.js\";import{inverseGeodeticSolver as i,InverseGeodeticSolverResult as o,geodesicLengths as c}from\"../../geometry/support/geodesicUtils.js\";import{equals as a}from\"../../geometry/support/spatialReferenceUtils.js\";import{geodesicMeasure as u}from\"./geodesicMeasurementUtils.js\";function m(e){const{spatialReference:t}=e;return u(t,j,h,e)}function f(e,t){if(!a(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,U[0]=t.x,U[1]=t.y,U[2]=t.hasZ?t.z:0,p(x,U,r)}function p(e,t,r){return u(r,y,d,e,t,r)}const l={geodesicLength:m,geodesicDistanceBetweenPoints:f,geodesicDistance:p};async function g(){return await n(),l}function y(t,r,n){return e(i(w,t,r,n).distance,\"meters\")}function d(t,r,n){return e(s(R(t,r,n),{unit:\"meters\"}),\"meters\")}function j(t){return e(c([t],\"meters\")[0],\"meters\")}function h(t){return e(s(t,{unit:\"meters\"}),\"meters\")}function R(e,t,n){return new r({spatialReference:n,paths:[[[...e],[...t]]]})}const w=new o,x=t(),U=t();export{g as loadGeodesicLengthMeasurementUtils};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{createTask as t}from\"../../../core/asyncUtils.js\";import{EventedAccessor as n}from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{throwIfAborted as i,isAborted as s}from\"../../../core/promiseUtils.js\";import{watch as a,syncAndInitial as r,sync as o}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as c,initializeProjection as l}from\"../../../geometry/projectionUtils.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as u,markAsTarget as f,toElevationAlignedDehydratedPoint as g}from\"../sketch/normalizedPoint.js\";import{defaults as _}from\"./Settings.js\";import S from\"./SnappingOptions.js\";import{sortCandidatesInPlace as m,squaredScreenDistance as v}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as y}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as w}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as C}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as P}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as T}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as E}from\"./candidates/RightAngleSnappingCandidate.js\";import{RightAngleTriangleSnappingCandidate as j}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as R}from\"../support/viewUtils.js\";import{loadGeodesicLengthMeasurementUtils as M}from\"../../support/geodesicLengthMeasurementUtils.js\";let q=class extends n{constructor(e){super(e),this.options=new S,this._engineCache=new Map,this._loadTask=null,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=0}initialize(){this.addHandles([a(()=>{const{distance:e,touchSensitivityMultiplier:t,effectiveSelfEnabled:n,effectiveFeatureEnabled:i,effectiveGridEnabled:s}=this.options;return{selfEnabled:n,featureEnabled:i,gridEnabled:\"2d\"===this.view.type&&s,viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,distance:e,touchSensitivityMultiplier:t}},(e,n)=>{n&&(this.doneSnapping(),this.emit(\"changed\")),this._loadTask?.abort(),this._loadTask=t(t=>this._updateEngines(e,n,t))},r),a(()=>this.options,e=>{for(const t of this._engines)t.options=e},o)])}destroy(){this._loadTask?.abort(),this._destroyEngines()}get updating(){return this._engines.some(e=>e.updating)||!this._loadTask?.finished}_destroyEngines(){this._engineCache.forEach(e=>e.destroy()),this._engineCache.clear(),this._engines=[]}async _updateEngines(e,t,n){if(!e.viewReady)return void this._destroyEngines();t?.viewSpatialReference!==e.viewSpatialReference&&this._destroyEngines();const i=this._engineCache,s=await Promise.allSettled([e.featureEnabled&&!i.has(\"feature\")?this._createFeatureSnappingEngine(n):void 0,e.selfEnabled&&!i.has(\"self\")?this._createSelfSnappingEngine(n):void 0,e.gridEnabled&&!i.has(\"grid\")?this._createGridSnappingEngine(n):void 0]);if(n.aborted)for(const a of s)\"fulfilled\"===a.status&&a.value?.engine.destroy();else{for(const e of s)\"fulfilled\"===e.status&&e.value&&i.set(e.value.type,e.value.engine);this._engines=Array.from(i.values())}}async _createSelfSnappingEngine(e){const[{SelfSnappingEngine:t},n]=await Promise.all([import(\"./SelfSnappingEngine.js\"),M()]);return i(e),{type:\"self\",engine:new t({view:this.view,options:this.options,geodesicLengthMeasurementUtils:n})}}async _createGridSnappingEngine(e){const{view:t}=this;if(\"2d\"!==t.type)return;const{GridSnappingEngine:n}=await import(\"./GridSnappingEngine.js\");return i(e),{type:\"grid\",engine:new n({view:t,options:this.options})}}async _createFeatureSnappingEngine(e){const{FeatureSnappingEngine:t}=await import(\"./FeatureSnappingEngine.js\");i(e);const{view:n,options:s}=this,{spatialReference:a}=n;return{type:\"feature\",engine:new t({view:n,options:s,spatialReference:a})}}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,n=e*t;return n*n}snap(e){return O(e)?this._snapMultiPoint(e):this._snapSinglePoint(e)}update(e){const{point:t,context:n}=e;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return t;const s=this._selectUpdateInput(e);if(null==s)return t;const{spatialReference:a}=n,r=c(s,a);if(null==r)return t;const{view:o}=this,{elevationInfo:p,visualizer:d}=n,l=[],h=u(r,o,p),_=i.constraint.closestTo(h);if(!this._arePointsWithinScreenThreshold(h,_,n)||!z(i,n.drawConstraints))return this._resetSnappingState(),t;i.targetPoint=f(_),l.push(...i.hints);for(const c of this._currentOtherActiveCandidates)z(c,n.drawConstraints)&&(c.targetPoint=f(_),l.push(...c.hints));return null!=d&&this.addHandles(d.draw(l,{spatialReference:a,elevationInfo:H(n),view:o,selfSnappingZ:n.selfSnappingZ}),b),g(_,o,t,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:e,scenePoint:t}){switch(this._currentSnappedType){case 0:return e;case 1:return t}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=0}_removeVisualization(){this.removeHandles(b)}async _snapSinglePoint({point:e,context:t,signal:n}){const{view:i}=this,{elevationInfo:s}=t,a=u(e,i,s),r=await this._fetchCandidates(a,3,t,n);return this._createSnapResult(a,0,r,i,e,t,n)}async _snapMultiPoint({point:e,scenePoint:t,context:n,signal:i}){const{view:s}=this,{coordinateHelper:a,elevationInfo:r,spatialReference:o}=n;await l(t.spatialReference,o);const p=c(t,o),d=u(p,s,r),h=await this._fetchCandidates(d,1,n,i);if(h.length>0){const e=await this._fetchCandidates(d,2,n,i);return this._createSnapResult(d,1,[...h,...e],s,p,n,i)}const f=u(e,s,r),g=await this._fetchCandidates(f,2,n,i);return this._createSnapResult(f,0,g,s,{z:a.hasZ()&&e.hasZ?e.z??0:void 0,m:a.hasM()&&e.hasM?e.m??0:void 0},n,i)}async _fetchCandidates(e,t,n,i){return(await Promise.all(this._engines.map(s=>s.fetchCandidates(e,t,n,i)))).flat()}_createSnapResult(e,t,n,i,a,r,o){return{get valid(){return!s(o)},apply:()=>{const{spatialReference:s}=r,{snappedPoint:o,hints:p}=this._processCandidates(e,t,n,r);return this._removeVisualization(),null!=r.visualizer&&this.addHandles(r.visualizer.draw(p,{spatialReference:s,elevationInfo:h,view:i,selfSnappingZ:r.selfSnappingZ}),b),g(o,i,a,r)}}}_processCandidates(e,t,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:e,hints:[]};this._currentSnappedType!==t&&this._resetSnappingState(),m(e,n);const s=this._currentMainCandidate;if(null!=s){const a=U(s,n);if(a>=0){if(!(n[a]instanceof C))return this._intersectWithOtherCandidates(a,n,e,t,i);if(this._arePointsWithinScreenThreshold(e,s.targetPoint,i))return this._updateSnappingCandidate(s,t,n,i)}}return this._intersectWithOtherCandidates(0,n,e,t,i)}_intersectWithOtherCandidates(e,t,n,i,s){const{coordinateHelper:a}=s,r=t[e],o=[];for(let p=0;p<t.length;++p){if(p===e)continue;const i=t[p],s=r.constraint.intersect(i.constraint);if(s)for(const e of s.closestPoints(r.targetPoint))o.push([new C(f(e),r,i,i.isDraped),this._squaredScreenDistance(n,e,a)])}return o.length>0&&(o.sort((e,t)=>e[1]-t[1]),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,t,s):z(r,s.drawConstraints)?this._updateSnappingCandidate(r,i,t,s):{snappedPoint:n,hints:[]}}_updateSnappingCandidate(e,t,n,i){this.doneSnapping(),this._currentMainCandidate=e,this._currentSnappedType=t;const s=this._currentMainCandidate.targetPoint,a=[];a.push(...e.hints);for(const r of n){if(e instanceof C){if(r.constraint.equals(e.first.constraint)||r.constraint.equals(e.second.constraint))continue}else if(r.constraint.equals(e.constraint))continue;const t=r.constraint.closestTo(s);this._squaredScreenDistance(t,s,i.coordinateHelper)<x()&&(r.targetPoint=s,this._currentOtherActiveCandidates.push(r),a.push(...r.hints))}return{snappedPoint:s,hints:a}}_squaredPointProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(e,t,n){return this._squaredScreenDistance(e,t,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(e,t,n){return v(this._toScreen(e,n),this._toScreen(t,n))}_toScreen(e,t){return R(e,t.spatialReference,h,this.view)}get test(){}};e([p({constructOnly:!0})],q.prototype,\"view\",void 0),e([p()],q.prototype,\"options\",void 0),e([p({readOnly:!0})],q.prototype,\"updating\",null),e([p()],q.prototype,\"_loadTask\",void 0),e([p()],q.prototype,\"_engines\",void 0),e([p()],q.prototype,\"_squaredMouseProximityThreshold\",null),e([p()],q.prototype,\"_squaredTouchProximityThreshold\",null),q=e([d(\"esri.views.interactive.snapping.SnappingManager\")],q);const b=\"visualization-handle\";function x(){return _.satisfiesConstraintScreenThreshold*_.satisfiesConstraintScreenThreshold}function z(e,t){return!t||null==t.direction&&null==t.distance||!(e instanceof y||e instanceof w||e instanceof P||e instanceof T||e instanceof j)&&(!(e instanceof E)||null==t.direction&&1===e.selfSnappingType)}function U(e,t){return e instanceof C?I(t,e.first)>=0&&I(t,e.second)>=0?0:-1:I(t,e)}function I(e,t){let n=-1;for(let i=0;i<e.length;++i)if(t.constraint.equals(e[i].constraint)){n=i;break}return n}function O(e){return null!=e.scenePoint}function H({coordinateHelper:e,elevationInfo:t}){return e.hasZ()?h:t}export{q as SnappingManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createArea as t}from\"../../core/quantityUtils.js\";import{areaUnitFromSpatialReference as o}from\"../../core/unitUtils.js\";import{e as r}from\"../../chunks/earcut.js\";import{j as n,c as e,m as s}from\"../../chunks/vec32.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as c}from\"../../geometry/projection/projectVectorToVector.js\";import{fromPoints as f,wrap as l,getNormal as u,projectPointLocal as m}from\"../../geometry/support/plane.js\";import{areaPoints2d as p}from\"../../geometry/support/triangle.js\";import{computeEuclideanMeasurementSR as a}from\"./measurementUtils.js\";function g(t,o=U()){return h(t,o)}function j(t,o=U()){return h(t,o,!1)}function h(r,g,j=r.hasZ){const h=a(r.spatialReference),U=o(h);if(null==U)return null;const v=(t,o)=>!(o.length<2)&&(n(t,o[0],o[1],j&&o[2]||0),!0);let x=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:a}=g;for(;a.length<o;)a.push(i());const j=y,U=n(d,0,0,0),C=1/o;for(let n=0;n<o;n++){if(!v(j,t[n]))return null;if(!c(j,r.spatialReference,a[n],h))return null;e(U,U,a[n],C)}const R=f(a[0],a[1],U,l());if(0===s(u(R)))continue;for(let t=0;t<o;t++)m(R,U,a[t],a[t]);const V=k(a);for(let t=0;t<V.length;t+=3)x+=p(a[V[t]],a[V[t+1]],a[V[t+2]])}return t(x,U)}const y=i(),d=i();function U(){return{positionsWorldCoords:[]}}function k(t){return r(v(t),[],2)}function v(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],e=2*r;o[e]=n[0],o[e+1]=n[1]}return o}export{h as computeEuclideanPlanarArea,U as createEuclideanPlanarAreaCache,j as euclideanHorizontalPlanarArea,g as euclideanPlanarArea,k as triangulate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createArea as e}from\"../../core/quantityUtils.js\";import{geodesicAreas as r}from\"../../geometry/support/geodesicUtils.js\";import{geodesicMeasure as t}from\"./geodesicMeasurementUtils.js\";const s=e=>({geodesicArea(r){const{spatialReference:s}=r;return t(s,n,r=>a(e,r),r)}});async function o(){const e=await import(\"../../geometry/geometryEngine.js\");return s(e)}function n(t){return e(Math.abs(r([t],\"square-meters\")[0]),\"square-meters\")}function a(r,t){try{return e(Math.abs(r.geodesicArea(t,\"square-meters\")),\"square-meters\")}catch(s){return null}}export{o as loadGeodesicAreaMeasurementUtils};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createEuclideanPlanarAreaCache as e,euclideanHorizontalPlanarArea as t,euclideanPlanarArea as r}from\"./euclideanAreaMeasurementUtils.js\";import{loadGeodesicAreaMeasurementUtils as o}from\"./geodesicAreaMeasurementUtils.js\";const n=o=>({autoAreaByElevationMode(n,a,u=e()){if(\"on-the-ground\"===a){const e=o.geodesicArea(n);return null!=e?e:t(n,u)}return r(n,u)},autoArea2D(t,r=e()){return this.autoAreaByElevationMode(t,\"on-the-ground\",r)}});let a=null;async function u(){return a||(a=n(await o())),a}export{u as loadAutomaticAreaMeasurementUtils};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{euclideanHorizontalDistance as t,euclideanHorizontalDistanceBetweenPoints as n,euclideanHorizontalLength as i}from\"./euclideanLengthMeasurementUtils.js\";import{loadGeodesicLengthMeasurementUtils as o}from\"./geodesicLengthMeasurementUtils.js\";function s(e){return{autoLength2D:t=>e.geodesicLength(t)??i(t),autoDistanceBetweenPoints2D:(t,i)=>e.geodesicDistanceBetweenPoints(t,i)??n(t,i),autoDistance2D:(n,i,o)=>(r[0]=n[0],r[1]=n[1],r[2]=3===n.length?n[2]:0,a[0]=i[0],a[1]=i[1],a[2]=3===i.length?i[2]:0,e.geodesicDistance(r,a,o)??t(r,a,o))}}async function c(){return s(await o())}const r=e(),a=e();export{c as loadAutomaticLengthMeasurementUtils};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{on as e}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";class t{constructor(r){this.layer=r}get elevationInfo(){return this.layer.elevationInfo}add(r){this.layer.add(r)}addMany(r){this.layer.addMany(r)}onGraphicsChange(r){const{layer:o}=this;return e(()=>o.graphics,\"change\",e=>r(e))}has(r){return r.layer===this.layer}remove(r){this.layer.remove(r)}removeMany(r){this.layer.removeMany(r)}removeAll(){this.layer.removeAll()}}r([o()],t.prototype,\"elevationInfo\",null);export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{handlesGroup as e}from\"../../../../core/handleUtils.js\";import{on as o}from\"../../../../core/reactiveUtils.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";class a{constructor(r){this.layer=r}get elevationInfo(){}add(r,e){const o=this._getSublayerForCreateTool(e)??this._getSublayerForGraphic(r);o?.add(r)}addMany(r,e){if(e){const o=this._getSublayerForCreateTool(e);if(o)return void o.addMany(r)}r.forEach(r=>this._getSublayerForGraphic(r)?.add(r))}onGraphicsChange(r){const{layer:t}=this;if(t.sublayers?.length)return e(t.sublayers?.toArray().map(e=>o(()=>e.graphics,\"change\",e=>r(e))))}has(r){const{layer:e}=this;return r.layer===e||r.sourceLayer===e||!!e.sublayers?.some(e=>r.layer===e||r.sourceLayer===e)}remove(r){this._getSublayerForGraphic(r)?.remove(r)}removeMany(r){r.forEach(r=>this._getSublayerForGraphic(r)?.remove(r))}removeAll(){this.layer.sublayers?.forEach(r=>r.removeAll())}_getSublayerForCreateTool(r){const{layer:e}=this;switch(r){case\"point\":return e.pointLayer;case\"polyline\":return e.polylineLayer;case\"polygon\":return e.polygonLayer;case\"multipoint\":return e.multipointLayer;case\"text\":return e.textLayer}}_getSublayerForGraphic(r){const{layer:e}=this;if(r?.geometry)switch(r.geometry.type){case\"point\":return\"text\"===r.symbol?.type?e.textLayer:e.pointLayer;case\"polyline\":return e.polylineLayer;case\"polygon\":return e.polygonLayer;case\"multipoint\":return e.multipointLayer}}}r([t()],a.prototype,\"elevationInfo\",null);export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../../core/has.js\";import{EventedAccessor as t}from\"../../../core/Evented.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(e){super(e),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){const{activeComponent:e}=this;if(!e)return null;switch(e.type){case\"graphic-mover\":case\"move-3d\":return\"move\";case\"box\":case\"transform-3d\":return\"transform\";case\"reshape\":case\"reshape-3d\":return\"reshape\";case\"draw-2d\":return\"text\"===e.graphicSymbol?.type?\"text\":e.geometryType;case\"draw-3d\":return e.geometryType}return null}addToHistory(e){this.history.redo=[],this.history.undo.push(e)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit(\"complete\")}cancel(){this.cancelled=!0,this.complete()}_reset(){this.activeComponent?.reset()}refreshComponent(){const e=this.activeComponent;e&&(\"box\"!==e.type&&\"reshape\"!==e.type&&\"graphic-mover\"!==e.type||e.refresh())}set undo(e){this._set(\"undo\",()=>{this.canUndo()&&e()})}set redo(e){this._set(\"redo\",()=>{this.canRedo()&&e()})}};e([o()],s.prototype,\"activeComponent\",void 0),e([o()],s.prototype,\"cancelled\",void 0),e([o()],s.prototype,\"history\",void 0),e([o()],s.prototype,\"tool\",null),e([o()],s.prototype,\"type\",void 0),e([o()],s.prototype,\"canUndo\",null),e([o()],s.prototype,\"canRedo\",null),e([o()],s.prototype,\"onEnd\",void 0),e([o()],s.prototype,\"undo\",null),e([o()],s.prototype,\"redo\",null),e([o()],s.prototype,\"toggleTool\",void 0),e([o()],s.prototype,\"addToSelection\",void 0),e([o()],s.prototype,\"removeFromSelection\",void 0),s=e([r(\"esri.widgets.Sketch.support.OperationHandle\")],s);let p=class extends s{};e([o()],p.prototype,\"activeComponent\",void 0),p=e([r(\"esri.widgets.Sketch.support.OperationHandle.CreateOperationHandle\")],p);let n=class extends s{};e([o()],n.prototype,\"activeComponent\",void 0),n=e([r(\"esri.widgets.Sketch.support.OperationHandle.UpdateOperationHandle\")],n);export{p as CreateOperationHandle,s as OperationHandle,n as UpdateOperationHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e,n){if(\"freehandPolygon\"===n||\"freehandPolyline\"===n)return\"freehand\";return e??(\"rectangle\"===n||\"circle\"===n?\"hybrid\":\"click\")}function n(e){switch(e){case\"freehandPolygon\":return\"polygon\";case\"freehandPolyline\":return\"polyline\";case\"text\":return\"point\";default:return e}}function t(e){return!!e&&(\"draw-2d\"===e.type||\"draw-3d\"===e.type)}function r(e){if(e.length>1)return!1;const n=e.at(0)?.geometry;return\"point\"===n?.type||\"multipoint\"===n?.type&&n.points.length<2}export{n as getDrawToolGeometryTypeFromCreateTool,e as getModeFromCreateOptions,r as graphicsHaveTooFewVerticesForBox,t as isDrawGraphicTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{isSome as t}from\"../../core/arrayUtils.js\";import o from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{EventedAccessor as i}from\"../../core/Evented.js\";import{drainHandles as r}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n,abortMaybe as p}from\"../../core/maybe.js\";import{createAbortError as l,whenOrAbort as h,ignoreAbortErrors as c}from\"../../core/promiseUtils.js\";import{watch as d,syncAndInitial as u,on as m,when as y,whenOnce as g}from\"../../core/reactiveUtils.js\";import{property as v}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as _}from\"../../core/support/UpdatingHandles.js\";import{getReferenceEllipsoid as b}from\"../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as w,isLoaded as G,load as O,project as T}from\"../../geometry/projectionUtils.js\";import{geometryToCoordinates as S}from\"../../geometry/support/coordsUtils.js\";import{equals as E}from\"../../geometry/support/spatialReferenceUtils.js\";import A from\"../../layers/GraphicsLayer.js\";import{isIntegratedMeshLayer as M}from\"../../layers/support/layerUtils.js\";import C from\"../../symbols/FillSymbol3DLayer.js\";import k from\"../../symbols/MeshSymbol3D.js\";import H from\"../../symbols/SimpleFillSymbol.js\";import j from\"../../symbols/SimpleLineSymbol.js\";import U from\"../../symbols/SimpleMarkerSymbol.js\";import D from\"../../symbols/TextSymbol.js\";import{symbolTypes as I}from\"../../symbols/support/typeUtils.js\";import{isSupportedObjectResultMessage as R}from\"../../views/3d/interactive/editingTools/isSupportedObjectUtils.js\";import{isSupportedObject as x}from\"../../views/3d/interactive/editingTools/move/isSupportedObject.js\";import{isSupportedObject as P}from\"../../views/3d/interactive/editingTools/reshape/isSupportedObject.js\";import{isSupportedGraphic as L}from\"../../views/3d/interactive/editingTools/transform/isSupportedGraphic.js\";import{addUniqueLayer as F}from\"../../views/draw/support/layerUtils.js\";import{ViewEventPriorities as V}from\"../../views/input/InputManager.js\";import{sketchKeys as K}from\"../../views/interactive/keybindings.js\";import W from\"../../views/interactive/sketch/SketchLabelOptions.js\";import Z from\"../../views/interactive/sketch/SketchOptions.js\";import q from\"../../views/interactive/sketch/SketchTooltipOptions.js\";import N from\"../../views/interactive/sketch/SketchValueOptions.js\";import{SnappingManager as z}from\"../../views/interactive/snapping/SnappingManager.js\";import B from\"../../views/interactive/snapping/SnappingOptions.js\";import{setupSnappingToggleHandles as $}from\"../../views/interactive/snapping/snappingUtils.js\";import{loadAutomaticAreaMeasurementUtils as Y}from\"../../views/support/automaticAreaMeasurementUtils.js\";import{loadAutomaticLengthMeasurementUtils as J}from\"../../views/support/automaticLengthMeasurementUtils.js\";import{defaultHighlightName as Q}from\"../../views/support/HighlightDefaults.js\";import{findFirstGraphicHit as X}from\"../../views/support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as ee}from\"../../views/support/screenUtils.js\";import te from\"./adapters/layer/GraphicsLayerAdapter.js\";import oe from\"./adapters/layer/MapNotesLayerAdapter.js\";import{CreateOperationHandle as ae,UpdateOperationHandle as ie}from\"./support/OperationHandle.js\";import{getModeFromCreateOptions as re,getDrawToolGeometryTypeFromCreateTool as se,graphicsHaveTooFewVerticesForBox as ne}from\"./support/sketchUtils.js\";const pe={defaultZ:0},le={reshapeOptions:{edgeOperation:\"split\",shapeOperation:\"move\",vertexOperation:\"move\"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,highlightOptions:{enabled:!0,name:Q},tool:\"transform\"},he=Symbol(),ce=Symbol();let de=class extends i{constructor(e){super(e),this._defaultSnappingManager=null,this._internalGraphicsLayer=new A({listMode:\"hide\",internal:!0,title:\"SVM Internal\"}),this._operationHandle=null,this._updatingHandles=new _,this._viewHandlesKey=\"viewHandles\",this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new U({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new H({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new j({color:[130,130,130,1],width:2}),this.meshSymbol=new k({symbolLayers:new o([new C])}),this.textSymbol=new D({text:\"text\"}),this.updateGraphics=new o,this.updateOnGraphicClick=!0,this.creationMode=\"single\",this.vertexSymbol=new U({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.sketchOptions=new Z,this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._sketchContinuationFlag=!1,this._onLayerAdapterChange=async()=>{const{_layerAdapter:e}=this;if(this.removeHandles(ce),!e)return;const o=[e.onGraphicsChange(e=>this._onLayerGraphicsChangeCallback(e)),d(()=>e.elevationInfo,e=>{e!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=e)},u)].filter(t);this.addHandles(o,ce)},this._originalPopupEnabled=null,this.defaultCreateOptions=pe,this.defaultUpdateOptions=le,this.snappingOptions=e?.snappingManager?.options??e?.snappingOptions??new B}initialize(){this.addHandles([m(()=>this.view?.map?.layers,\"change\",e=>{this.layer&&e.removed.includes(this.layer)&&this.cancel()}),d(()=>this._layerAdapter,()=>this._onLayerAdapterChange(),u),d(()=>this.view,e=>{this._defaultSnappingManager=n(this._defaultSnappingManager),e&&(this.snappingManager||(this._defaultSnappingManager=new z({view:e,options:this.snappingOptions})),\"2d\"===e.type?import(\"../../views/2d/interactive/editingTools.js\"):\"3d\"===e.type&&(import(\"../../views/3d/interactive/editingTools.js\"),import(\"../../views/3d/layers/GraphicsLayerView3D.js\")))},u),d(()=>this.view?.spatialReference,(e,t)=>{e&&t&&!e.equals(t)&&this.cancel()})]),$(this)}destroy(){this.cancel(),this._removeDefaultLayer(),this._defaultSnappingManager=n(this._defaultSnappingManager),this._set(\"snappingManager\",null),this._set(\"view\",null),this._updatingHandles.destroy(),this.emit(\"destroy\")}get _layerAdapter(){const{layer:e}=this;switch(e?.type){case\"graphics\":return new te(e);case\"map-notes\":return new oe(e);default:return null}}get activeTool(){return this._operationHandle?.tool??null}get activeCreateToolDrawMode(){return\"create\"===this._operationHandle?.type&&this._operationHandle.activeComponent&&\"mode\"in this._operationHandle.activeComponent?this._operationHandle.activeComponent.mode:null}get activeTooltip(){const{activeComponent:e,destroyed:t}=this,o=!t&&e&&\"tooltip\"in e?e.tooltip:null;return o?.visible?o:null}get activeComponent(){return this._operationHandle?.activeComponent??null}get createGraphic(){return null==this.activeComponent||\"draw-3d\"!==this.activeComponent.type&&\"draw-2d\"!==this.activeComponent.type?this._get(\"createGraphic\"):this.activeComponent.graphic}get defaultCreateOptions(){return this._get(\"defaultCreateOptions\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...pe,...e})}get defaultUpdateOptions(){return this._get(\"defaultUpdateOptions\")}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...le,...e,reshapeOptions:{...le.reshapeOptions,...e?.reshapeOptions},highlightOptions:{...le.highlightOptions,...e?.highlightOptions}})}get labelOptions(){return this.sketchOptions.labels}set labelOptions(e){this.sketchOptions.labels=e}get snappingOptions(){return this.snappingManager?.options??this._get(\"snappingOptions\")}set snappingOptions(e){null!=this._defaultSnappingManager&&(this._defaultSnappingManager.options=e),this._set(\"snappingOptions\",e)}get snappingManager(){return this._isOverridden(\"snappingManager\")&&this._get(\"snappingManager\"),this._defaultSnappingManager}set snappingManager(e){if(e)this._isOverridden(\"snappingManager\")||(this._defaultSnappingManager=n(this._defaultSnappingManager)),this._override(\"snappingManager\",e);else{const{view:e}=this;!this._defaultSnappingManager&&e&&(this._defaultSnappingManager=new z({options:this.snappingOptions,view:e})),this._clearOverride(\"snappingManager\")}}get state(){const e=!(!this.view?.ready||!this.layer),t=this._operationHandle;return e&&t?\"active\":e?\"ready\":\"disabled\"}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(e){this.sketchOptions.tooltips=e}get updating(){return!(!this._updatingHandles.updating&&!this.snappingManager?.updating)}get valueOptions(){return this.sketchOptions.values}set valueOptions(e){this.sketchOptions.values=e}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:o}=t;e&&this._clearCursor(),o?.remove(this._internalGraphicsLayer),this.removeHandles(this._viewHandlesKey),this.cancel()}const o=\"view-ready\";this.removeHandles(o),e&&this.addHandles(y(()=>e.ready,t=>{this.removeHandles(this._viewHandlesKey),t&&this.addHandles(this._generateViewHandles(e),this._viewHandlesKey)},u),o),this._set(\"view\",e)}addGraphic(e){this._layerAdapter?.add(e)}addGraphics(e){this._layerAdapter?.addMany(e)}hasGraphic(e){return!!this._layerAdapter?.has(e)}removeGraphic(e){this._layerAdapter?.remove(e)}removeGraphics(e){this._layerAdapter?.removeMany(e)}removeAllGraphics(){this._layerAdapter?.removeAll()}cancel(){this._moduleLoaderAbortController=p(this._moduleLoaderAbortController),this._viewReadyAbortController=p(this._viewReadyAbortController),this._sketchContinuationFlag=!0,this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle?.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e}=this,o=t.toArray();this.removeGraphics(o),this.cancel(),this._emitDeleteEvent({graphics:o,tool:e})}}duplicate(){if(\"active\"===this.state&&this.updateGraphics.length){const e=this.updateGraphics.map(e=>e.clone()).toArray();return this.addGraphics(e),this.emit(\"duplicate\",{graphics:e,type:\"duplicate\"}),e}return[]}async create(e,t){this.cancel(),await this._waitViewReady();const{view:o,layer:a}=this;if(!o||\"disabled\"===this.state)throw a||this._logMissingLayer(),l();if(null!=o.activeTool&&(o.activeTool=null),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");F(o,this._internalGraphicsLayer);const i=await this._updatingHandles.addPromise(this._setupCreateOperation(e,t));if(null==i||this.destroyed)return void o.map?.remove(this._internalGraphicsLayer);const r=()=>{if(i===this._operationHandle){const o=this.createGraphic,a=this._operationHandle.cancelled;if(this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view?.map?.remove(this._internalGraphicsLayer),i.cancelled||null==o||this.addGraphic(o),this._sketchContinuationFlag=!1,this.emit(\"create\",{graphic:o,state:a?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"}),a||this._sketchContinuationFlag)return;const{creationMode:r}=this;if(\"continuous\"===r){if(t?.geometryToPlace)return;this._updatingHandles.addPromise(c(this.create(e,t)))}else\"update\"===r&&o&&this._updatingHandles.addPromise(c(this.update([o])))}};i.on(\"complete\",r),this._operationHandle=i,o.ready&&o.focus()}async place(e,t){return await e.load(),this.create(\"mesh\",{mode:\"click\",hasZ:e.hasZ,geometryToPlace:e,...t})}async update(e,t){this.cancel(),await this._waitViewReady();const{layer:o,view:a,state:i}=this;if(!a||\"disabled\"===i)throw o||this._logMissingLayer(),l();null!=a.activeTool&&(a.activeTool=null);const r=Array.isArray(e)?e:[e];if(null==e||!r?.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(r.some(e=>this.hasGraphic(e)?null==e.geometry&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0):(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0)))return;const s=await this._updatingHandles.addPromise(this._setupUpdateOperation(r,t));this.destroyed||null==s||Ge(s)||(F(a,this._internalGraphicsLayer),this._setUpdateOperationHandle(s,t),this.emit(\"update\",{graphics:r,state:\"start\",aborted:!1,tool:s.tool,toolEventInfo:null,type:\"update\"}))}async _updateSpatialReference(e){const t=this.view;if(t){e=Array.isArray(e)?e:[e];for(const o of e)null==o.geometry||\"mesh\"===o.geometry.type||E(o.geometry.spatialReference,t.spatialReference)||(w(o.geometry.spatialReference,t.spatialReference)||G()||await O(),o.geometry=T(o.geometry,t.spatialReference))}else this._logMissingView()}undo(){this.canUndo()&&this._operationHandle?.undo()}redo(){this.canRedo()&&this._operationHandle?.redo()}canUndo(){return!!this._operationHandle?.canUndo()}canRedo(){return!!this._operationHandle?.canRedo()}toggleUpdateTool(){this._operationHandle?.toggleTool()}async _getFirstHit(e){const t=this.view;if(!t)return this._logMissingView(),null;if(\"2d\"===t.type){const o=[];t.map.allLayers.forEach(e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)});const a=await t.hitTest(e,{exclude:o});return X(a.results)}const o=[t.map.ground];t.map.allLayers.forEach(e=>{M(e)&&o.push(e)});const a=await t.hitTest(e,{exclude:o});if(a.results.length>0){const e=a.results[0];if(null!=e&&\"graphic\"===e.type&&e.graphic&&(!a.ground.mapPoint||t.map.ground.opacity<1||a.ground.distance-(e.distance??0)>-Math.min(3*a.ground.distance,\"global\"===t.viewingMode?b(t.renderCoordsHelper.spatialReference).radius/t.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return e}return null}_generateViewHandles(e){return[e.on(\"immediate-click\",async e=>{const t=\"active\"===this.state&&\"create\"===this._operationHandle?.type;\"disabled\"!==this.state&&!t&&this.updateOnGraphicClick&&await this._updatingHandles.addPromise(this._handleImmediateClick(e))},V.WIDGET)]}async _handleImmediateClick(e){const t=await e.defer(()=>this._getFirstHit(ee(e)));let o=null;if(null!=t){const a=t.graphic;this.updateGraphics.includes(a)||this.hasGraphic(a)?(e.stopPropagation(),o=a):\"2d\"!==this.view?.type||this._isComponentGraphic(a)||\"active\"!==this.state||this.cancel()}else\"active\"===this.state&&this.cancel();null==o||this.updateGraphics.includes(o)||await this.update([o],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}})}async _setupCreateOperation(e,t){const o=this.view;if(!o)return this._logMissingView(),null;const a={hasZ:\"3d\"===o.type,...this.defaultCreateOptions,...t},i=await this._setupDrawGraphicTool(e,o,a);return null==i?null:(o.tools.add(i),o.activeTool=i,this._setupCreateOperationHandle(i,e))}async _setupDrawGraphicTool(e,t,o){if(\"multipoint\"===e&&\"3d\"===t.type)return this._logError(\"sketch:create\",\"Multipoint geometries are not supported in SceneView.\"),null;if(!t)return this._logMissingView(),null;const{cursor:a,defaultZ:i,hasZ:r,geometryToPlace:s,graphicProperties:n,mode:p,preserveAspectRatio:l}=o,h=re(p,e),c=se(e),d=o?.optionsPerTool?.has(e)?o.optionsPerTool.get(e):{},u=d?.preserveAspectRatio??l??\"rectangle\"!==e,m={centered:\"rectangle\"!==e&&!(\"circle\"===e&&!u),cursor:a,defaultZ:i,forceUniformSize:u,graphicProperties:{...n,attributes:{...n?.attributes}},geometryToPlace:s,geometryType:c,mode:h,graphicSymbol:this._getGraphicSymbolFromTool(e),hasZ:r,snappingManager:this.snappingManager,snapToScene:!1,view:t,...d};return\"2d\"===t.type?this._makeDrawGraphicTool2D(m):this._makeDrawGraphicTool3D(m)}async _makeDrawGraphicTool2D(e){const[t,o,a]=await Promise.all([this._requireModule(import(\"../../views/2d/interactive/editingTools.js\")),Y(),J()]);return Ge(t)||this.destroyed?null:new t.module.DrawGraphicTool2D({...e,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:ye(e.geometryType)?this.activeFillSymbol:null,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:o,automaticLengthMeasurementUtils:a})}async _makeDrawGraphicTool3D(e){const[t,o,a]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),Y(),J()]);return Ge(t)||this.destroyed?null:new t.module.DrawGraphicTool3D({...e,elevationInfo:this._layerAdapter?.elevationInfo,snapToScene:!0,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:o,automaticLengthMeasurementUtils:a})}_setupCreateOperationHandle(e,t){const o=this.view;if(!o)return this._logMissingView(),null;let a=null;const i=e.forceUniformSize,s=e.centered,n=[o.on(\"key-down\",t=>{if(t.key===K.pan)t.stopPropagation(),t.repeat||(e.enabled=!1);else if(t.key===K.complete)t.stopPropagation(),e.completeCreateOperation();else if(t.key!==K.vertexAdd||t.repeat)t.key===K.undo?(t.stopPropagation(),p.undo()):t.key===K.redo?(t.stopPropagation(),p.redo()):t.key!==K.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType||t.repeat?t.key===K.center&&(t.repeat||(e.centered=!s,t.stopPropagation())):(e.forceUniformSize=!i,t.stopPropagation());else{const o=e.drawOperation.geometryType;\"polyline\"!==o&&\"polygon\"!==o&&\"multipoint\"!==o||(t.stopPropagation(),e.drawOperation.commitStagedVertex())}},V.WIDGET),o.on(\"key-up\",t=>{t.key===K.pan?e.enabled=!0:t.key!==K.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType?t.key===K.center&&(e.centered=s,t.stopPropagation()):(e.forceUniformSize=i,t.stopPropagation())},V.WIDGET),e.on(\"vertex-add\",t=>{switch(a=null==a?\"start\":\"active\",t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:a,tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}}),e.on(\"cursor-update\",t=>{e.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:t.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})}),e.on(\"vertex-remove\",t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}}),e.on(\"complete\",e=>{this._set(\"createGraphic\",e.graphic),a=\"complete\",e.aborted?p&&p.cancel():p&&p.complete()}),d(()=>this._getGraphicSymbolFromTool(t),t=>{e.graphicSymbol=t})],p=new ae({activeComponent:e,type:\"create\",onEnd:()=>{r(n),o.tools?.remove(e)},undo:()=>{e.canUndo&&e.undo()},redo:()=>{e.canRedo&&e.redo()},canUndo:()=>e.canUndo,canRedo:()=>e.canRedo});return p}_getGraphicSymbolFromTool(e){switch(e){case\"point\":case\"multipoint\":return this.pointSymbol;case\"polyline\":case\"freehandPolyline\":return this.polylineSymbol;case\"circle\":case\"rectangle\":case\"polygon\":case\"freehandPolygon\":return this.polygonSymbol;case\"mesh\":return this.meshSymbol;case\"text\":return this.textSymbol}}async _setupUpdateOperation(e,t){const{view:o}=this;if(!o)return this._logMissingView(),null;const a={...this.defaultUpdateOptions,...t,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...t?.reshapeOptions},highlightOptions:{...this.defaultUpdateOptions.highlightOptions,...t?.highlightOptions}};let i=a.tool??le.tool;if(this.removeGraphics(e),this.addGraphics(e),\"3d\"===o.type){if(0===e.length)return null;switch(i){case\"move\":return this._setupMove3DOperation(e,a,o,i);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupReshape3DOperation(e[0],a,o);case\"transform\":return this._setupGraphicTransform3DOperation(e,a,o)}}switch(i){case\"move\":return this._setupMove2DOperation(e,a,o);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupTransformOrReshape2DOperation(e,i,a,o);case\"transform\":return ne(e)&&(i=\"reshape\"),this._setupTransformOrReshape2DOperation(e,i,a,o)}}async _setupMove3DOperation(e,t,o,a,i=!1){const[s,n]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),J()]);if(Ge(s))return s;const{ManipulatedObject3DGraphic:p,MoveTool3D:l}=s.module,h=new Map,c=()=>{h.forEach(e=>e.destroy()),h.clear()};for(const r of e){const e=new p({view:o,graphic:r}),t=x(e);if(0!==t)return c(),this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${R(t)}).`),null;h.set(r,e)}const d=new l({view:o,enableZ:t.enableZ,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,autoLengthMeasurementUtils:n});o.tools.add(d),d.objects.addMany(Array.from(h.values())),i||this.updateGraphics.addMany(e);const u=[],m=new ie({activeComponent:d,tool:a,type:\"update\",onEnd:()=>{r(u),we(o,d),c()},undo:()=>{_e(this.view,d),ge(m,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:a})},redo:()=>{ve(m,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:a})},addToSelection:e=>{this.updateGraphics.push(e);const t=new p({view:o,graphic:e});h.set(e,t),d.objects.push(t),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);if(m.history.undo.forEach(e=>e.updates.splice(t,1)),m.history.redo.forEach(e=>e.updates.splice(t,1)),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0===this.updateGraphics.length)return void m.complete();const o=h.get(e);o&&(d.objects.remove(o),o.destroy(),h.delete(e))},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==a)return;const e=this.updateGraphics.at(0),i=await this._setupReshape3DOperation(e,t,o,!0);i&&!Ge(i)&&(m.onEnd(),m.destroy(),this._setUpdateOperationHandle(i,t))}});return u.push(...this._getHandlesForComponent(m,t),o.on(\"immediate-click\",e=>this._getCommonUpdateOperationClickHandlers(m,e,t),V.WIDGET),o.on(\"key-down\",e=>{this._getCommonUpdateOperationKeyDownHandlers(m,e)},V.WIDGET)),m}_setupGraphicTransform3DOperation(e,t,o,a=!1){if(1===e.length&&0===L(e[0])){const i=e[0],r=i.geometry;if(null!=r&&(\"point\"===r.type||\"mesh\"===r.type))return this._setupPointTransform3DOperation(i,t,o);if(null!=r&&(\"polygon\"===r.type||\"polyline\"===r.type))return this._setupPolyTransform3DOperation(i,t,o,a)}return this._setupMove3DOperation(e,t,o,\"transform\",a)}async _setupPointTransform3DOperation(e,t,o){const a=\"transform\",{enableRotation:i,enableScaling:s,enableZ:n}=t,p=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(Ge(p))return p;const{TransformTool3D:l,ManipulatedObject3DGraphic:h}=p.module,c=new h({graphic:e,view:o}),d=new l({object:c,view:o,enableRotation:i,enableScaling:s,enableZ:n,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(d),this.updateGraphics.add(e);const u=[],m=new ie({activeComponent:d,tool:a,type:\"update\",onEnd:()=>{r(u),we(o,d),c.destroy()},undo:()=>{_e(this.view,d),ge(m,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:a})},redo:()=>{ve(m,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:a})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),m.onEnd(),m.destroy();const a=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);Ge(a)||this._setUpdateOperationHandle(a,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),m.complete()},toggleTool:()=>{}});return u.push(...this._getHandlesForComponent(m,t),o.on(\"immediate-click\",e=>this._getCommonUpdateOperationClickHandlers(m,e,t),V.WIDGET),o.on(\"key-down\",e=>{this._getCommonUpdateOperationKeyDownHandlers(m,e)},V.WIDGET)),m}async _setupPolyTransform3DOperation(e,t,o,a=!1){const i=\"transform\",{enableRotation:s,enableScaling:n,enableZ:p,preserveAspectRatio:l}=t,[h,c]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),J()]);if(Ge(h))return h;const{ManipulatedObject3DGraphic:d,ExtentTransformTool:u}=h.module,m=this.view?.inputManager?.isModifierKeyDown(K.constraint),y=new d({view:o,graphic:e}),g=new u({object:y,view:o,enableRotation:s,enableScaling:n,enableZ:p,preserveAspectRatio:!!l!=!!m,sketchOptions:this.sketchOptions,automaticLengthMeasurementUtils:c});o.tools.add(g),a||this.updateGraphics.add(e);const v=[],f=new ie({activeComponent:g,tool:i,type:\"update\",onEnd:()=>{r(v),we(o,g),y.destroy()},canUndo:()=>!g.destroyed&&g.canUndo,undo:()=>{g.destroyed||(g.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i}))},canRedo:()=>!g.destroyed&&g.canRedo,redo:()=>{g.destroyed||(g.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),f.onEnd(),f.destroy();const a=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);Ge(a)||this._setUpdateOperationHandle(a,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),f.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;const a=await this._setupReshape3DOperation(e,t,o,!0);a&&!Ge(a)&&(f.onEnd(),f.destroy(),this._setUpdateOperationHandle(a,t))}});return v.push(...this._getHandlesForComponent(f,t),o.on(\"immediate-click\",e=>this._getCommonUpdateOperationClickHandlers(f,e,t),V.WIDGET),o.on(\"key-down\",e=>this._getCommonUpdateOperationKeyDownHandlers(f,e),V.WIDGET),o.on(\"key-down\",e=>{e.key!==K.constraint||e.repeat||(g.preserveAspectRatio=!g.preserveAspectRatio,e.stopPropagation())},V.WIDGET),o.on(\"key-up\",e=>{e.key===K.constraint&&(g.preserveAspectRatio=!g.preserveAspectRatio,e.stopPropagation())},V.WIDGET)),f}async _setupMove2DOperation(e,t,o){const a=\"move\";this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const i=await this._getGraphicMover(e,t,o);if(Ge(i))return i;const s=new ie({activeComponent:i,tool:a,type:\"update\",onEnd:()=>{this._clearCursor(),r(l),r(p),i.destroy(),this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const e=this.updateGraphics.toArray();ge(s,e),s.refreshComponent(),this._emitUndoEvent({graphics:e,tool:a})},redo:()=>{const e=this.updateGraphics.toArray();ve(s,e),s.refreshComponent(),this._emitRedoEvent({graphics:e,tool:a})},addToSelection:async e=>{await this._updatingHandles.addPromise(this._updateSpatialReference(e)),this.updateGraphics.push(e),i.graphics=this.updateGraphics.toArray(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);s.history.undo.forEach(e=>e.updates.splice(t,1)),s.history.redo.forEach(e=>e.updates.splice(t,1)),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?i.graphics=o:s.complete()}});let n=!1;const p=[o.on(\"immediate-click\",e=>this._getCommonUpdateOperationClickHandlers(s,e,t),V.WIDGET),o.on(\"key-down\",e=>{this._getCommonUpdateOperationKeyDownHandlers(s,e),e.key!==K.constraint||e.repeat||(n=!0,i.enableMoveAllGraphics=!i.enableMoveAllGraphics)},V.WIDGET),o.on(\"key-up\",e=>{e.key===K.constraint&&n&&(n=!1,i.enableMoveAllGraphics=!i.enableMoveAllGraphics)},V.WIDGET)],l=this._getHandlesForComponent(s,t);return s}async _setupReshape3DOperation(e,t,o,a=!1){const i=\"reshape\",[s,n,p]=await Promise.all([this._requireModule(import(\"../../views/3d/interactive/editingTools.js\")),Y(),J()]);if(Ge(s))return s;const{ManipulatedObject3DGraphic:l,ReshapeTool3D:h}=s.module,c=new l({view:o,graphic:e}),d=P(c);if(0!==d)return c.destroy(),this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${R(d)}).`),null;const u=t.reshapeOptions,m=new h({view:o,object:c,enableZVertex:t.enableZ&&\"move\"===u?.vertexOperation,enableZShape:t.enableZ&&\"move\"===u?.shapeOperation,enableMoveObject:\"move\"===u?.shapeOperation||\"move-xy\"===u?.shapeOperation,enableMidpoints:\"split\"===u?.edgeOperation,enableEdgeOffset:\"offset\"===u?.edgeOperation,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:n,automaticLengthMeasurementUtils:p});o.tools.add(m),a||this.updateGraphics.add(c.graphic);const y=[],g=new ie({activeComponent:m,tool:i,type:\"update\",onEnd:()=>{r(y),we(o,m),c.destroy()},canUndo:()=>!m.destroyed&&m.canUndo,undo:()=>{m.destroyed||(m.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i}))},canRedo:()=>!m.destroyed&&m.canRedo,redo:()=>{m.destroyed||(m.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),g.onEnd(),g.destroy();const a=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);Ge(a)||this._setUpdateOperationHandle(a,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),g.complete()},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;g.onEnd(),g.destroy();const e=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),t,o,!0);Ge(e)||this._setUpdateOperationHandle(e,t)}});return y.push(...this._getHandlesForComponent(g,t),o.on(\"immediate-click\",e=>this._getCommonUpdateOperationClickHandlers(g,e,t),V.WIDGET),o.on(\"key-down\",e=>{this._getCommonUpdateOperationKeyDownHandlers(g,e)},V.WIDGET)),g}async _setupTransformOrReshape2DOperation(e,t,o,a){this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const i=\"transform\"===t?await this._getBox(e,o,a):await this._getReshape(e,o,a);if(Ge(i))return i;const s=new ie({activeComponent:i,type:\"update\",onEnd:()=>{r(p),r(n),s.activeComponent&&!s.activeComponent.destroyed&&s.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{ge(s,this.updateGraphics.toArray()),s.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s.tool})},redo:()=>{ve(s,this.updateGraphics.toArray()),s.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s.tool})},addToSelection:async e=>{let t=s.activeComponent;if(\"reshape\"===t?.type){const t=[...this.updateGraphics,e];this.updateGraphics.removeAll(),s.onEnd(),s.destroy();const i=await this._setupTransformOrReshape2DOperation(t,\"transform\",o,a);if(Ge(i))return;this._setUpdateOperationHandle(i,o)}else this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),s.resetHistory();this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);s.history.undo.forEach(e=>e.updates.splice(t,1)),s.history.redo.forEach(e=>e.updates.splice(t,1)),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();0===o.length?s.complete():ne(o)?s.toggleTool():s.activeComponent.graphics=o,this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"})},toggleTool:async()=>{if(this.updateGraphics.length>1)return;const e=this.updateGraphics.at(0),t=e.geometry;if(null!=t&&(\"reshape\"===s.tool&&\"point\"===t.type||\"transform\"===s.tool&&\"extent\"===t.type))return;let i=null;\"transform\"===s.tool?i=await this._getReshape([e],o,a):\"reshape\"===s.tool&&(i=await this._getBox([e],o,a)),Ge(i)||(s.activeComponent?.destroy(),s.activeComponent=i,s.activeComponent&&(r(p),p=this._getHandlesForComponent(s,o)))}}),n=[a.on(\"immediate-click\",e=>this._getCommonUpdateOperationClickHandlers(s,e,o),V.WIDGET),a.on(\"key-down\",e=>{if(this._getCommonUpdateOperationKeyDownHandlers(s,e),e.key===K.constraint&&!e.repeat&&s){const e=s.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}},V.WIDGET),a.on(\"key-up\",e=>{if(e.key===K.constraint&&s){const e=s.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}},V.WIDGET)];let p=this._getHandlesForComponent(s,o);return s}async _getGraphicMover(e,t,o){const{enableMoveAllGraphics:a,highlightOptions:i}=t,r=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return Ge(r)?r:new r.module.default({enableMoveAllGraphics:a,highlightName:i?.name,highlightsEnabled:!!i?.enabled,indicatorsEnabled:!1,graphics:e,view:o,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:o})=>{this._displayCursor(\"grabbing\"),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:o})=>{this._displayCursor(\"pointer\"),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayCursor(\"move\"),onGraphicPointerOut:()=>this._clearCursor()}})}async _getBox(e,t,o){const{enableRotation:a,enableScaling:i,highlightOptions:r,preserveAspectRatio:s}=t,[n,p]=await Promise.all([this._requireModule(import(\"../../views/draw/support/Box.js\")),J()]);if(Ge(n))return n;const l=this.view?.inputManager?.isModifierKeyDown(K.constraint);return new n.module.default({graphics:e,enableRotation:a,enableScaling:i,highlightName:r?.name,highlightsEnabled:!!r?.enabled,preserveAspectRatio:!!s!=!!l,layer:this._internalGraphicsLayer,view:o,sketchOptions:this.sketchOptions,automaticLengthMeasurementUtils:p,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,o){const{highlightOptions:a,reshapeOptions:i}=t,r=\"split\"===i?.edgeOperation,s=\"move\"===i?.shapeOperation,n=!!i?.enableCreateCurveFromStraightEdge,[p,l,h]=await Promise.all([this._requireModule(import(\"../../views/draw/support/Reshape.js\")),Y(),J()]);return Ge(p)?p:new p.module.default({enableMidpoints:r,enableMovement:s,enableCurveOnMidpoint:n,graphic:e[0],highlightName:a?.name,highlightsEnabled:!!a?.enabled,layer:this._internalGraphicsLayer,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,automaticAreaMeasurementUtils:l,automaticLengthMeasurementUtils:h,view:o,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:o,type:a})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:a},type:\"update\"}),onMove:({dx:e,dy:t,mover:o,type:a})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:a},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:o,type:a})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:a},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:o})=>{const a=e.map(e=>S(e.geometry));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:a,vertices:o,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:o})=>{const a=e.map(e=>S(e.geometry));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:a,vertices:o,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const o=e.activeComponent;if(!o)return[];switch(o.type){case\"graphic-mover\":return[o.on(\"graphic-click\",({graphic:o,viewEvent:a})=>{a.native?.shiftKey&&t.multipleSelectionEnabled&&(a.stopPropagation(),e.removeFromSelection(o))}),o.on(\"graphic-move-start\",t=>e.addToHistory(be(t.allGraphics)))];case\"box\":return[o.on(\"graphic-click\",o=>this._onTransformOrReshape2DGraphicClick(e,t,o)),o.on(\"move-start\",t=>e.addToHistory(be(t.graphics))),o.on(\"rotate-start\",t=>e.addToHistory(be(t.graphics))),o.on(\"scale-start\",t=>e.addToHistory(be(t.graphics)))];case\"reshape\":return[o.on(\"graphic-click\",o=>this._onTransformOrReshape2DGraphicClick(e,t,o)),o.on(\"move-start\",t=>e.addToHistory(be([t.mover]))),o.on(\"reshape-start\",t=>e.addToHistory(be([t.graphic]))),o.on(\"vertex-add\",t=>e.addToHistory(be([t.oldGraphic]))),o.on(\"vertex-remove\",t=>e.addToHistory(be([t.oldGraphic])))];case\"move-3d\":return[o.events.on(\"record-undo\",({updates:t})=>{e.addToHistory({updates:t})}),o.events.on(\"move-start\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-start\"},type:\"update\"})}),o.events.on(\"move\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move\"},type:\"update\"})}),o.events.on(\"move-stop\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-stop\"},type:\"update\"})}),o.events.on(\"immediate-click\",o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()})];case\"transform-3d\":return[o.events.on(\"record-undo\",({updates:t})=>{e.addToHistory({updates:t})}),o.events.on(\"translate-start\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-start\"},type:\"update\"})}),o.events.on(\"translate-stop\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})}),o.events.on(\"rotate-start\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-start\"},type:\"update\"})}),o.events.on(\"rotate-stop\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})}),o.events.on(\"scale-start\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-start\"},type:\"update\"})}),o.events.on(\"scale-stop\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-stop\"},type:\"update\"})}),o.events.on(\"translate\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})}),o.events.on(\"rotate\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})}),o.events.on(\"scale\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale\"},type:\"update\"})}),o.events.on(\"immediate-click\",o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()})];case\"reshape-3d\":return[o.events.on(\"reshape\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})}),o.events.on(\"move\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})}),o.events.on(\"vertex-add\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})}),o.events.on(\"vertex-remove\",e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})}),o.events.on(\"immediate-click\",o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()})]}}_onTransformOrReshape2DGraphicClick(e,t,o){const{graphic:a,viewEvent:i}=o;return i.native?.shiftKey&&this.hasGraphic(a)?(i.stopPropagation(),e.removeFromSelection(a)):t.toggleToolOnClick?(i.stopPropagation(),e.toggleTool()):void 0}_setUpdateOperationHandle(e,t){this._operationHandle=e;const o=this.view?.map;this._disablePopup(t);const a=()=>{if(e===this._operationHandle){const a=this.updateGraphics.toArray(),i=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),o&&o.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:a,state:\"complete\",aborted:e.cancelled,tool:i,toolEventInfo:null,type:\"update\"})}};e.on(\"complete\",a)}async _getCommonUpdateOperationClickHandlers(e,t,o){const a=ee(t),i=await t.defer(()=>this._getFirstHit(a));if(null==i)return void e.complete();if(t.native.shiftKey&&this._toggleSelection([i.graphic],e,o))return void t.stopPropagation();this.updateGraphics.includes(i.graphic)?t.stopPropagation():e.complete()}_toggleSelection(e,t,o){const a=!!o.multipleSelectionEnabled;return e.some(e=>null!=e&&(!(!a||!this.hasGraphic(e))&&(this.updateGraphics.includes(e)?t.removeFromSelection(e):t.addToSelection(e),!0)))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const o=t.key;o===K.undo&&e.canUndo()?(t.stopPropagation(),e.undo()):o===K.redo&&e.canRedo()?(t.stopPropagation(),e.redo()):o===K.cancel?(t.stopPropagation(),e.cancel()):this.allowDeleteKey&&K.delete.includes(o)&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent,o=this.updateGraphics.toArray();null!=t&&(\"reshape\"!==t.type||1===o.length&&\"point\"===o[0].geometry?.type)&&(e.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view?.map?.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=n(this._internalGraphicsLayer))}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||null==t)&&(e.attributes?.esriSketchTool||\"draw-2d\"===t.type&&t.graphic===e||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_clearCursor(){this.removeHandles(he)}_displayCursor(e){this.removeHandles(he),this.view?.container&&null!=e&&this.addHandles(this.view.acquireCursor(e,\"high\"),he)}_logError(e,t,o){s.getLogger(this).error(new a(e,t,o))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const o=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:o}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}_onLayerGraphicsChangeCallback(e){if(null!=this._operationHandle){const{updateGraphics:t}=this;for(const o of e.removed)if(t.includes(o)){if(!(t.length>1)){this._operationHandle.cancel();break}this._operationHandle.removeFromSelection(o)}}}get test(){}wait(){return g(()=>!this.updating)}_disablePopupEnabled(e){return\"3d\"!==this.view?.type||this.updateOnGraphicClick||(e?.toggleToolOnClick??!1)}_disablePopup(e){this._disablePopupEnabled(e)&&this.view&&null==this._originalPopupEnabled&&(this._originalPopupEnabled=this.view.popupEnabled,this.view.popupEnabled=!1)}_restorePopup(e){this._disablePopupEnabled(e)&&this.view&&null!=this._originalPopupEnabled&&(this.view.popupEnabled=this._originalPopupEnabled,this._originalPopupEnabled=null)}async _waitViewReady(){const e=this.view;e?(p(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await h(g(()=>e?.ready),this._viewReadyAbortController.signal)):this._logMissingView()}_logMissingView(){this._logError(\"sketch:missing-property\",me(\"view\"))}_logMissingLayer(){this._logError(ue,me(\"layer\"))}};e([v()],de.prototype,\"_defaultSnappingManager\",void 0),e([v()],de.prototype,\"_layerAdapter\",null),e([v()],de.prototype,\"_operationHandle\",void 0),e([v({readOnly:!0})],de.prototype,\"_updatingHandles\",void 0),e([v({readOnly:!0})],de.prototype,\"activeTool\",null),e([v({readOnly:!0})],de.prototype,\"activeCreateToolDrawMode\",null),e([v()],de.prototype,\"activeTooltip\",null),e([v({types:I})],de.prototype,\"activeFillSymbol\",void 0),e([v()],de.prototype,\"activeLineSymbol\",void 0),e([v()],de.prototype,\"activeVertexSymbol\",void 0),e([v()],de.prototype,\"allowDeleteKey\",void 0),e([v({readOnly:!0})],de.prototype,\"createGraphic\",null),e([v()],de.prototype,\"defaultCreateOptions\",null),e([v()],de.prototype,\"defaultUpdateOptions\",null),e([v({type:W,nonNullable:!0})],de.prototype,\"labelOptions\",null),e([v()],de.prototype,\"layer\",void 0),e([v({types:I})],de.prototype,\"pointSymbol\",void 0),e([v({types:I})],de.prototype,\"polygonSymbol\",void 0),e([v({types:I})],de.prototype,\"polylineSymbol\",void 0),e([v()],de.prototype,\"meshSymbol\",void 0),e([v()],de.prototype,\"textSymbol\",void 0),e([v({type:B,nonNullable:!0})],de.prototype,\"snappingOptions\",null),e([v()],de.prototype,\"snappingManager\",null),e([v({readOnly:!0})],de.prototype,\"state\",null),e([v({type:q,nonNullable:!0})],de.prototype,\"tooltipOptions\",null),e([v({readOnly:!0})],de.prototype,\"updateGraphics\",void 0),e([v()],de.prototype,\"updateOnGraphicClick\",void 0),e([v()],de.prototype,\"updating\",null),e([v()],de.prototype,\"creationMode\",void 0),e([v({type:N,nonNullable:!0})],de.prototype,\"valueOptions\",null),e([v({types:I})],de.prototype,\"vertexSymbol\",void 0),e([v({value:null})],de.prototype,\"view\",null),e([v({constructOnly:!0,type:Z})],de.prototype,\"sketchOptions\",void 0),de=e([f(\"esri.widgets.Sketch.SketchViewModel\")],de);const ue=\"sketch:missing-property\",me=e=>`Property '${e}' is missing on SketchViewModel.`;function ye(e){return\"polygon\"===e||\"rectangle\"===e||\"circle\"===e}function ge(e,t){fe(\"undo\",e.history.undo,e.history.redo,t)}function ve(e,t){fe(\"redo\",e.history.redo,e.history.undo,t)}function fe(e,t,o,a){const i=t.pop();if(!i)return;const r=i.updates,s=[];a.forEach((t,o)=>{const a=r[o];null!=a&&(\"geometry\"in a&&null!=a.geometry&&(s.push({geometry:t.geometry}),t.geometry=a.geometry),\"symbol\"in a&&null!=a.symbol&&(s.push({symbol:t.symbol}),t.symbol=a.symbol),\"undo\"in a&&(s.push(a),a[e](t)))}),o.push({updates:s})}function _e(e,t){null!=e&&t.hasGrabbedManipulators&&(e.activeTool=null)}function be(e){return{updates:e.map(({geometry:e})=>\"mesh\"===e?.type?{geometry:e.cloneShallow()}:{geometry:e})}}function we(e,t){e.tools?.remove(t),t.destroyed||t.destroy()}function Ge(e){return\"requireError\"in e&&\"aborted\"===e.requireError}export{de as default};\n"],
  "mappings": "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",
  "names": ["e", "r", "t", "e", "e", "t", "i", "o", "u", "e", "p", "c", "t", "d", "s", "r", "i", "a", "l", "f", "m", "e", "t", "j", "h", "f", "r", "x", "U", "p", "y", "d", "l", "g", "n", "a", "q", "w", "R", "b", "q", "e", "u", "l", "t", "n", "i", "s", "d", "a", "g", "O", "r", "o", "p", "h", "c", "b", "N", "f", "U", "y", "x", "g", "t", "o", "U", "h", "j", "r", "l", "v", "x", "a", "y", "d", "n", "R", "w", "T", "k", "e", "s", "e", "r", "t", "n", "a", "o", "l", "v", "n", "o", "a", "u", "U", "e", "j", "g", "t", "r", "s", "e", "t", "a", "i", "m", "n", "o", "r", "c", "g", "t", "r", "o", "a", "e", "a", "r", "e", "o", "t", "s", "e", "p", "n", "e", "n", "r", "e", "n", "c", "de", "e", "n", "u", "m", "a", "d", "l", "o", "q", "t", "v", "i", "r", "s", "f", "p", "h", "y", "g"]
}
