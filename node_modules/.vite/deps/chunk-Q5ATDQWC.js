import {
  A as A2,
  f as f2
} from "./chunk-YYXR3KOD.js";
import {
  _ as _2
} from "./chunk-QNVJVDYZ.js";
import {
  _
} from "./chunk-XL5QPCXN.js";
import {
  H2 as H,
  nt,
  tt
} from "./chunk-V2H77UEV.js";
import {
  f2 as f,
  s as s2
} from "./chunk-GNMPGHLQ.js";
import {
  s2 as s
} from "./chunk-QY7XKUIV.js";
import {
  A2 as A,
  U2 as U,
  l2 as l,
  m,
  t2 as t
} from "./chunk-AL6YUTZM.js";

// node_modules/@arcgis/core/chunks/vec2.js
function o(e, t2) {
  n(e.typedBuffer, t2.typedBuffer, e.typedBufferStride, t2.typedBufferStride);
}
function n(o3, n3, l4 = 2, u3 = l4) {
  const i2 = n3.length / 2;
  let a = 0, d = 0;
  if (!m(n3) || l(n3)) {
    for (let e = 0; e < i2; ++e) o3[a] = n3[d], o3[a + 1] = n3[d + 1], a += l4, d += u3;
    return;
  }
  const c = U(n3);
  if (A(n3)) for (let e = 0; e < i2; ++e) o3[a] = Math.max(n3[d] / c, -1), o3[a + 1] = Math.max(n3[d + 1] / c, -1), a += l4, d += u3;
  else for (let e = 0; e < i2; ++e) o3[a] = n3[d] / c, o3[a + 1] = n3[d + 1] / c, a += l4, d += u3;
}
function l2(e, t2, r, f4) {
  const o3 = e.typedBuffer, n3 = e.typedBufferStride, l4 = f4?.count ?? e.count;
  let u3 = (f4?.dstIndex ?? 0) * n3;
  for (let i2 = 0; i2 < l4; ++i2) o3[u3] = t2, o3[u3 + 1] = r, u3 += n3;
}
var u = Object.freeze(Object.defineProperty({ __proto__: null, fill: l2, normalizeIntegerBuffer: n, normalizeIntegerBufferView: o }, Symbol.toStringTag, { value: "Module" }));

// node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js
var l3 = class {
  constructor(r) {
    this._streamDataRequester = r;
  }
  async loadJSON(r, e) {
    return this._load(0, r, e);
  }
  async loadBinary(r, e) {
    return tt(r) ? (s2(e), nt(r)) : this._load(1, r, e);
  }
  async loadImage(r, e) {
    return this._load(2, r, e);
  }
  async _load(o3, a, i2) {
    if (null == this._streamDataRequester) return (await H(a, { responseType: n2[o3] })).data;
    const l4 = await _(this._streamDataRequester.request(a, o3, i2));
    if (true === l4.ok) return l4.value;
    throw f(l4.error), new s("glt-loader-request-error", `Request for resource failed: ${l4.error}`);
  }
};
var n2 = { 2: "image", 1: "array-buffer", 0: "json", 3: void 0 };

// node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js
function o2(r, t2) {
  switch (t2) {
    case _2.TRIANGLES:
      return f3(r);
    case _2.TRIANGLE_STRIP:
      return u2(r);
    case _2.TRIANGLE_FAN:
      return i(r);
  }
}
function f3(t2) {
  return "number" == typeof t2 ? A2(t2) : t(t2) ? new Uint16Array(t2) : t2;
}
function u2(r) {
  const e = "number" == typeof r ? r : r.length;
  if (e < 3) return [];
  const n3 = e - 2, o3 = f2(3 * n3);
  if ("number" == typeof r) {
    let r2 = 0;
    for (let t2 = 0; t2 < n3; t2 += 1) t2 % 2 == 0 ? (o3[r2++] = t2, o3[r2++] = t2 + 1, o3[r2++] = t2 + 2) : (o3[r2++] = t2 + 1, o3[r2++] = t2, o3[r2++] = t2 + 2);
  } else {
    let t2 = 0;
    for (let e2 = 0; e2 < n3; e2 += 1) e2 % 2 == 0 ? (o3[t2++] = r[e2], o3[t2++] = r[e2 + 1], o3[t2++] = r[e2 + 2]) : (o3[t2++] = r[e2 + 1], o3[t2++] = r[e2], o3[t2++] = r[e2 + 2]);
  }
  return o3;
}
function i(r) {
  const t2 = "number" == typeof r ? r : r.length;
  if (t2 < 3) return new Uint16Array(0);
  const e = t2 - 2, n3 = e <= 65536 ? new Uint16Array(3 * e) : new Uint32Array(3 * e);
  if ("number" == typeof r) {
    let r2 = 0;
    for (let t3 = 0; t3 < e; ++t3) n3[r2++] = 0, n3[r2++] = t3 + 1, n3[r2++] = t3 + 2;
    return n3;
  }
  const o3 = r[0];
  let f4 = r[1], u3 = 0;
  for (let i2 = 0; i2 < e; ++i2) {
    const t3 = r[i2 + 2];
    n3[u3++] = o3, n3[u3++] = f4, n3[u3++] = t3, f4 = t3;
  }
  return n3;
}

export {
  o,
  n,
  l2 as l,
  l3 as l2,
  o2
};
//# sourceMappingURL=chunk-Q5ATDQWC.js.map
