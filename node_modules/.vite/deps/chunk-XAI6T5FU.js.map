{
  "version": 3,
  "sources": ["../../@arcgis/core/rest/query/operations/queryUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getJsonType as e}from\"../../../geometry/support/jsonUtils.js\";import{srToRESTValue as t}from\"../../../geometry/support/spatialReferenceUtils.js\";function i(e,t){if(t&&\"extent\"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&\"point\"===e.type)return`${e.x},${e.y}`;const i=e.toJSON();return delete i.spatialReference,JSON.stringify(i)}function r(r,n,a){const{geometry:l}=r,s=r.compactGeometryEnabled??!1,o=r.toJSON();delete o.compactGeometryEnabled,delete o.defaultSpatialReferenceEnabled;const u=o;let d,c,y;if(l&&(c=l.spatialReference,y=t(c),u.geometryType=e(l),u.geometry=i(l,s),u.inSR=y),o.groupByFieldsForStatistics&&(u.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds)switch(a?.uniqueIdFields?.length){case void 0:u.objectIds=o.objectIds.join(\",\");break;case 1:u.uniqueIds=JSON.stringify(o.objectIds),delete u.objectIds;break;default:u.uniqueIds=JSON.stringify(o.objectIds.map(e=>JSON.parse(e))),delete u.objectIds}if(o.orderByFields&&(u.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(n?.returnCountOnly||n?.returnExtentOnly||n?.returnIdsOnly)?delete u.outFields:o.outFields.includes(\"*\")?u.outFields=\"*\":u.outFields=o.outFields.join(\",\"),o.outSR?(u.outSR=t(o.outSR),d=r.outSpatialReference):l&&(o.returnGeometry||o.returnCentroid)&&(u.outSR=u.inSR,d=c),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(u.outStatistics=JSON.stringify(o.outStatistics)),o.fullText&&(u.fullText=JSON.stringify(o.fullText)),o.pixelSize&&(u.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(r.defaultSpatialReferenceEnabled&&null!=c&&null!=r.quantizationParameters?.extent&&c.equals(r.quantizationParameters.extent.spatialReference)&&delete o.quantizationParameters.extent.spatialReference,u.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(u.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(u.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(u.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const e=o.timeExtent,{start:t,end:i}=e;null==t&&null==i||(u.time=t===i?t:`${t??\"null\"},${i??\"null\"}`),delete o.timeExtent}return r.defaultSpatialReferenceEnabled&&null!=c&&null!=d&&c.equals(d)&&(u.defaultSR=u.inSR,delete u.inSR,delete u.outSR),u}export{i as encodeGeometry,r as queryLikeToQueryStringParameters};\n"],
  "mappings": "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",
  "names": ["i", "r"]
}
