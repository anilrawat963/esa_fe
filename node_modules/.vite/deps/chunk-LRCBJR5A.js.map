{
  "version": 3,
  "sources": ["../../@arcgis/core/support/collectionUtils.js", "../../@arcgis/core/support/LayersMixin.js", "../../@arcgis/core/support/TablesMixin.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../core/CollectionFlattener.js\";function t(t){return new e({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return\"tables\"in e&&t.push(e.tables),\"layers\"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&\"tables\"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}export{t as createFlattenedTablesCollection,n as destroyMap};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import o from\"../core/Logger.js\";import{isPromiseLike as s}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"../layers/Layer.js\";function d(e,r,t){let o,s;if(e)for(let a=0,i=e.length;a<i;a++){if(o=e.at(a),o?.[r]===t)return o;if(\"group\"===o?.type&&(s=d(o.layers,r,t),s))return s}}const n=n=>{const y=n;let h=class extends y{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&e.removeFromParent()},s=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||o.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on(\"before-add\",e=>{if(e.item===this)return e.preventDefault(),void o.getLogger(this).error(\"#add()\",\"Cannot add layer to itself.\");t(e.item)}),this.layers.on(\"after-add\",e=>s(e.item)),this.layers.on(\"after-remove\",e=>a(e.item))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}removeChildLayer(e){this.layers.remove(e),super.removeChildLayer?.(e)}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof l){const o=e;o.parent===this?this.reorder(o,r):t.add(o,r)}else s(e)?e.then(e=>{this.destroyed||this.add(e,r)}):o.getLogger(this).error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;let o=t.getNextIndex(r);e.slice().forEach(e=>{e.parent!==this?(t.add(e,o),o+=1):this.reorder(e,o)})}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([a()],h.prototype,\"layers\",null),h=e([i(\"esri.support.LayersMixin\")],h),h};export{n as LayersMixin};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import o from\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";const a=new Set([\"feature\",\"subtype-group\"]);function l(t,e,r){if(t)for(let o=0,s=t.length;o<s;o++){const s=t.at(o);if(s[e]===r)return s;if(\"group\"===s?.type){const t=l(s.tables,e,r);if(t)return t}}}const n=n=>{const p=n;let c=class extends p{constructor(...t){super(...t),this.tables=new e,this.addHandles([this.tables.on(\"after-add\",t=>{const e=t.item;e.parent&&e.parent!==this&&e.removeFromParent(),e.parent=this,a.has(e.type)||o.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on(\"after-remove\",t=>{t.item.parent=null})])}destroy(){const t=this.tables.toArray();for(const e of t)e.destroy();this.tables.destroy()}removeChildLayer(t){this.tables.remove(t),super.removeChildLayer?.(t)}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return l(this.tables,\"id\",t)}findTableByUid(t){return l(this.tables,\"uid\",t)}};return t([s()],c.prototype,\"tables\",null),c=t([i(\"esri.support.TablesMixin\")],c),c};export{n as TablesMixin,a as allowedTableTypes};\n"],
  "mappings": "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",
  "names": ["t", "n", "t", "a", "i", "n", "e", "a", "l", "t", "s", "n"]
}
