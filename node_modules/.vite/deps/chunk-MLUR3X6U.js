import {
  e as e3
} from "./chunk-I7PJIK77.js";
import {
  R,
  q
} from "./chunk-VHCNEAMV.js";
import {
  $,
  B as B2,
  D,
  F,
  M,
  d as d5,
  g as g2,
  h as h3,
  j,
  p,
  w as w3,
  x,
  y as y2,
  z
} from "./chunk-V4S4W4OB.js";
import {
  c as c5,
  i as i3,
  s as s5,
  v as v2
} from "./chunk-IGRCAVBL.js";
import {
  t as t4
} from "./chunk-GD72EK2J.js";
import {
  d as d4
} from "./chunk-EOQ2S5UA.js";
import {
  t as t3
} from "./chunk-BZLHV37L.js";
import {
  d as d6
} from "./chunk-4VQDBNTM.js";
import {
  o as o2
} from "./chunk-HOJHSMLY.js";
import {
  J as J2,
  g,
  y
} from "./chunk-VYMBX5H5.js";
import {
  h as h2
} from "./chunk-BPTFV5VM.js";
import {
  a as a2,
  n as n5
} from "./chunk-5ONGWFJ3.js";
import {
  s as s3
} from "./chunk-MUBG7EZN.js";
import {
  B,
  c as c2,
  e as e2
} from "./chunk-TMVLBQMP.js";
import {
  L,
  i2 as i,
  n2 as n,
  v
} from "./chunk-6IHS6RYH.js";
import {
  d as d3
} from "./chunk-XL5QPCXN.js";
import {
  c,
  m as m3
} from "./chunk-UDHS2MGH.js";
import {
  N,
  _ as _2,
  n as n3,
  t as t2
} from "./chunk-75XOUSSS.js";
import {
  w as w2
} from "./chunk-PZ5RULLK.js";
import {
  n as n4
} from "./chunk-3OVERDFX.js";
import {
  I
} from "./chunk-AZXJIEZ6.js";
import {
  U as U2,
  f,
  h,
  l as l2,
  w
} from "./chunk-2OFHDVO5.js";
import {
  l
} from "./chunk-TFJXG32O.js";
import {
  c as c4,
  i as i2
} from "./chunk-CSMCPN64.js";
import {
  P as P2
} from "./chunk-SMWUT52Z.js";
import {
  _,
  d as d2
} from "./chunk-AXZMNHTN.js";
import {
  f as f2
} from "./chunk-5T3MJDSR.js";
import {
  C,
  J,
  K,
  T3 as T2,
  fe
} from "./chunk-NMQNUPE4.js";
import {
  c as c3,
  d,
  n as n2,
  r,
  s as s4
} from "./chunk-7DGJB37R.js";
import {
  b,
  m
} from "./chunk-5EI5H4QX.js";
import {
  a2 as a
} from "./chunk-ZIE53VIV.js";
import {
  __decorate
} from "./chunk-SS5CLIUY.js";
import {
  P,
  U
} from "./chunk-R54Q5TGA.js";
import {
  T,
  e,
  m2,
  o4 as o,
  s as s2,
  t,
  u2 as u
} from "./chunk-GNMPGHLQ.js";
import {
  s2 as s
} from "./chunk-QY7XKUIV.js";

// node_modules/@arcgis/core/geometry/coordinateFormatter.js
function _4() {
  return r();
}
function E() {
  return n2();
}
function w4(n17, e6) {
  const r4 = k(e6), o4 = n17.replaceAll(/[\u00B0\u00BA]/g, "^").replaceAll("′", "'").replaceAll("″", '"'), i7 = [];
  return d.dmsToGeog(r4, 1, [o4], i7) ? new _(i7[0][0], i7[0][1], e6 || f2.WGS84) : null;
}
function g3(n17) {
  return n17 && _4() ? m3(n17) ?? w4(`0° 0' 0" N | ${n17}`)?.longitude ?? w4(`0 N | ${n17}`)?.longitude ?? null : null;
}
function m4(n17) {
  return n17 && _4() ? m3(n17) ?? w4(`${n17} | 0° 0' 0" E`)?.latitude ?? w4(`${n17} | 0 E`)?.latitude ?? null : null;
}
function k(e6) {
  if (e6 ??= f2.WGS84, e6.wkid) {
    const t7 = c3.geogcs(e6.wkid);
    if (!t7) throw new s("coordinate-formatter:invalid-spatial-reference", "wkid is not valid");
    return t7;
  }
  const t6 = e6.wkt2 ?? e6.wkt;
  if (t6) {
    const e7 = c3.fromString(s4.PE_TYPE_GEOGCS, t6);
    if (!e7) throw new s("coordinate-formatter:invalid-spatial-reference", "wkt is not valid");
    return e7;
  }
  throw new s("coordinate-formatter:invalid-spatial-reference", "wkid and wkt are missing");
}

// node_modules/@arcgis/core/views/interactive/tooltip/css.js
var e4 = "esri-tooltip";
var t5 = `${e4}-content`;
var n6 = `${e4}-content--input`;
var _5 = `${e4}-content__header`;
var a3 = `${e4}-content__header__spacer`;
var o3 = `${e4}-content__header__actions`;
var s6 = `${e4}-draw-header-actions`;
var c6 = `${e4}-table`;
var $2 = `${e4}-help-message`;
var r2 = `${e4}-help-message__text`;
var h4 = `${e4}-help-message__icon`;

// node_modules/@arcgis/core/views/interactive/tooltip/components/TooltipField.js
var p2 = `${e4}-field`;
var d7 = { base: p2, inputMode: `${p2}--input`, title: `${p2}__title`, value: `${p2}__value` };
var a4 = class extends B {
  constructor() {
    super(...arguments), this.hidden = false, this.mode = "feedback";
  }
  render() {
    return n("div", { class: this.classes({ [d7.base]: true, [d7.inputMode]: "input" === this.mode }) }, n("div", { class: d7.title, key: "title" }, this.title), n("div", { class: d7.value, key: "value" }, this.value));
  }
};
__decorate([m()], a4.prototype, "hidden", void 0), __decorate([m()], a4.prototype, "mode", void 0), __decorate([m()], a4.prototype, "title", void 0), __decorate([m()], a4.prototype, "value", void 0), a4 = __decorate([a("esri.views.interactive.tooltip.components.TooltipField")], a4);

// node_modules/@arcgis/core/views/interactive/tooltip/components/ValueByValue.js
var p3 = { base: `${e4}-value-by-value` };
var a5 = class extends B {
  constructor() {
    super(...arguments), this.divider = "×";
  }
  render() {
    return n("div", { class: p3.base }, n("span", null, this.left), n("span", null, this.divider), n("span", null, this.right));
  }
};
__decorate([m()], a5.prototype, "left", void 0), __decorate([m()], a5.prototype, "divider", void 0), __decorate([m()], a5.prototype, "right", void 0), a5 = __decorate([a("esri.views.interactive.tooltip.components.ValueByValue")], a5);

// node_modules/@arcgis/core/core/quantityFormatUtils.js
function d8(r4, e6, n17, u2 = 2, i7 = "abbr") {
  return p(r4, s5(e6, n17).value, n17, u2, i7);
}
function M3(r4, e6, a6, n17 = 2, u2 = "abbr") {
  return D(r4, s5(e6, a6).value, a6, n17, u2);
}
function w5(r4, t6, e6 = 2, a6 = "abbr") {
  return x(r4, t6.value, t6.unit, e6, a6);
}
function I2(r4, t6, e6 = 2, a6 = "abbr") {
  return F(r4, t6.value, t6.unit, e6, a6);
}
function V(r4, t6, e6 = 2, a6 = "abbr") {
  return y2(r4, t6.value, t6.unit, e6, a6);
}
function R2(r4, t6, e6 = 2, a6 = "abbr") {
  return d5(r4, t6.value, t6.unit, e6, a6);
}
function y3(r4, t6, e6 = 2, a6 = "abbr") {
  return B2(r4, t6.value, t6.unit, e6, a6);
}
function D3(r4, t6, e6 = 2, a6 = "abbr") {
  return h3(r4, t6.value, t6.unit, e6, a6);
}
function A2(r4, t6, e6 = 2, a6 = "abbr") {
  return M(r4, t6.value, t6.unit, e6, a6);
}
function T3(r4, t6, e6 = 2, a6 = "abbr") {
  return $(r4, t6.value, t6.unit, e6, a6);
}
function U4(r4, t6, e6 = 2, a6 = "abbr") {
  return j(r4, t6.value, t6.unit, e6, a6);
}
function q2(r4, t6, e6 = 2, a6 = "abbr") {
  return w3(r4, t6.value, t6.unit, e6, a6);
}
function F2(t6, a6, n17, u2 = a2, i7 = true) {
  return z(t6.value, t6.unit, t6.rotationType, a6, n17, u2, i7);
}
function k2(r4, t6, e6, a6, n17 = "abbr") {
  switch (a6 = a6 ?? 2, e6) {
    case "imperial":
      return D3(r4, t6, a6, n17);
    case "metric":
      return w5(r4, t6, a6, n17);
    default:
      return d8(r4, t6, e6, a6, n17);
  }
}
function z2(r4, t6, e6, a6 = 2, n17 = "abbr") {
  switch (e6) {
    case "imperial":
      return A2(r4, t6, a6, n17);
    case "metric":
      return I2(r4, t6, a6, n17);
    default:
      return M3(r4, t6, e6, a6, n17);
  }
}
function B3(r4, t6, e6, a6 = 2, n17 = "abbr") {
  switch (e6) {
    case "imperial":
      return T3(r4, t6, a6, n17);
    case "metric":
      return V(r4, t6, a6, n17);
    default:
      return d8(r4, t6, e6, a6, n17);
  }
}
function E2(r4, t6, e6, a6 = 2, n17 = "abbr") {
  switch (e6) {
    case "imperial":
      return U4(r4, t6, a6, n17);
    case "metric":
      return R2(r4, t6, a6, n17);
    default:
      return M3(r4, t6, e6, a6, n17);
  }
}
function G(r4, t6, e6, a6 = 2, n17 = "abbr") {
  switch (e6) {
    case "imperial":
      return q2(r4, t6, a6, n17);
    case "metric":
      return y3(r4, t6, a6, n17);
    default:
      return d8(r4, t6, e6, a6, n17);
  }
}

// node_modules/@arcgis/core/views/interactive/tooltip/fields/parsingAndFormattingUtils.js
var v3 = 1;
var y4 = 6;
function D4(t6, l4) {
  return { angleRelative: x2, direction: j2, directionRelative: R3, directionRelativeBilateral: $3, latitudeDecimalDegrees: L2, longitudeDecimalDegrees: F3, area: (n17, e6) => G(t6, n17, e6 ?? l4.area), length: (n17, e6, i7) => k2(t6, n17, e6 ?? l4.length, i7), lengthRelative: (n17, e6) => z2(t6, n17, e6 ?? l4.length), totalLength: (n17, e6) => k2(t6, n17, e6 ?? l4.length), verticalLength: (n17, r4) => B3(t6, n17, r4 ?? l4.verticalLength), verticalLengthRelative: (e6, r4) => E2(t6, e6, r4 ?? l4.verticalLength), percentage: z3, scalar: Z2, scale: T4 };
}
function x2(t6) {
  return c(t6, { signDisplay: "exceptZero", ...b2(v3) });
}
function j2(t6) {
  return F2(t6, t6.rotationType, v3);
}
function R3(t6) {
  const n17 = R(t6);
  return c(n17, { style: "unit", unitDisplay: "narrow", unit: "degree", signDisplay: n17 > 0 ? "never" : "exceptZero", ...b2(v3) });
}
function $3(t6) {
  return F2(t6, t6.rotationType, v3);
}
function F3(t6) {
  return U5(t6, N3);
}
function L2(t6) {
  return U5(t6, O);
}
function w6(t6) {
  return q3(t6, N3);
}
function A3(t6) {
  return q3(t6, O);
}
function U5(t6, n17) {
  const e6 = false, r4 = "geographic";
  return F2(s5(t6, "degrees"), r4, y4, n17, e6);
}
function q3(t6, n17) {
  const e6 = false, r4 = n17.normalize(s5(t6, "degrees").value, void 0, e6);
  return Z2(i3(r4), y4);
}
function z3(t6) {
  return c(t6.value, { style: "percent" });
}
function T4(t6) {
  return c(t6, { style: "percent", maximumFractionDigits: 0 });
}
function Z2(t6, n17) {
  return c(t6.value, b2(n17));
}
function b2(t6) {
  return { minimumFractionDigits: t6, maximumFractionDigits: t6 };
}
function B4({ createQuantity: t6, sanitize: n17 }) {
  return (e6, r4) => {
    if (null == e6) return null;
    n17 && (e6 = n17(e6));
    const i7 = m3(e6);
    return null == i7 ? null : t6(i7, r4);
  };
}
function C2(t6) {
  return t6.replaceAll(/[*^~°º]/g, "");
}
var E3 = (t6) => {
  let n17 = `[-+]?[0-9${t6.thousands}]+`;
  return "" !== t6.decimal && (n17 += `${t6.decimal}[0-9]+`), new RegExp(`^(${n17}\\s*)${t6.separator}(\\s*${n17})$`, "i");
};
var I3 = " ";
var M4 = [];
for (const P5 of [",", "\\|", "\\s+"]) for (const t6 of ["\\.", ",", ""]) for (const n17 of ["", ",", "\\.", I3, "\\s+"]) P5 !== t6 && P5 !== n17 && t6 !== n17 && M4.push({ separator: P5, decimal: t6, thousands: n17, pattern: E3({ decimal: t6, thousands: n17, separator: P5 }) });
function Q(t6) {
  for (const { decimal: n17, thousands: e6, pattern: r4 } of M4) {
    r4.lastIndex = 0;
    const i7 = t6.match(r4);
    if (!i7) continue;
    const o4 = m3(k3(i7[1], n17, e6)), l4 = m3(k3(i7[2], n17, e6));
    if (null != o4 && null != l4) return { x: i3(o4), y: i3(l4) };
  }
  return null;
}
function k3(t6, n17, e6) {
  let r4 = t6.replaceAll(/[\s+]/g, "");
  return "" !== e6 && (r4 = r4.replaceAll(e6, "")), "" !== n17 && (r4 = r4.replaceAll(n17, ".")), r4;
}
function G2(t6) {
  if (!t6 || null != m3(t6) || !_4()) return null;
  const n17 = w4(t6), e6 = K2(n17?.latitude), r4 = K2(n17?.longitude);
  return null != r4 && null != e6 ? { latitude: e6, longitude: r4 } : null;
}
function H(t6) {
  return K2(g3(t6));
}
function J3(t6) {
  return K2(m4(t6));
}
function K2(t6) {
  return null != t6 ? c5(t6, "degrees", "geographic") : null;
}
var N3 = new n5(-180, 180);
var O = new n5(-90, 90);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContent.js
var E4 = Symbol("dragHandles");
var S2 = class extends B {
  constructor() {
    super(...arguments), this._focusAbortController = new AbortController(), this._transitionInfo = null, this._mode = "feedback", this._getFormatters = t4(D4), this._onHeaderPointerDown = (t6) => {
      const e6 = t6.target;
      e6 instanceof HTMLElement && "calcite-button" !== e6?.tagName?.toLowerCase() && (this.removeHandles(E4), t6.preventDefault(), t6.stopPropagation(), e6.setPointerCapture(t6.pointerId), this.tooltip.onDragStart(t6.clientX, t6.clientY), this.addHandles([o(e6, "pointermove", ({ clientX: t7, clientY: e7 }) => {
        this.tooltip.onDrag(t7, e7);
      }), o(e6, ["pointerup", "pointercancel"], (o4) => {
        this.removeHandles(E4), e6.releasePointerCapture(t6.pointerId), this.tooltip.onDragEnd();
      }), o(e6, "touchstart", (t7) => t7.preventDefault())], E4));
    }, this._onDiscard = () => {
      this.destroyed || (this.tooltip.emit("discard"), this.info.clearInputValues(), this.exitInputMode());
    }, this._onCommit = (t6, e6) => {
      if (this.destroyed) return;
      if (this.tooltip.emit("commit", { type: e6 }), "commit-and-exit" === e6) return void this.exitInputMode();
      if ("commit-on-blur" === e6) return;
      const o4 = this._getFocusableElements(), i7 = o4.length, s15 = o4.indexOf(t6);
      if (-1 === s15) return void this.exitInputMode();
      const n17 = ((s15 + ("commit-and-next" === e6 ? 1 : -1)) % i7 + i7) % i7;
      L3(o4.at(n17));
    }, this._onKeyDown = (t6) => {
      switch (t6.code) {
        case d6.next:
          return this._onNextKey(t6);
        case d6.discard:
          return t6.stopPropagation(), this._onDiscard();
      }
    };
  }
  get mode() {
    return this._mode;
  }
  get _displayUnits() {
    const { displayUnits: t6 } = this.info.sketchOptions.values, e6 = e3(this.tooltip.view);
    return { length: t6.length ?? e6, verticalLength: t6.verticalLength ?? e6, area: t6.area ?? e6 };
  }
  get _inputUnitInfos() {
    const t6 = this._messagesUnits, e6 = (e7) => ({ unit: e7, abbreviation: g2(t6, e7, "abbr") }), { inputUnits: o4 } = this.info.sketchOptions.values, i7 = e3(this.tooltip.view), s15 = o4.length ?? i7, n17 = o4.verticalLength ?? i7, r4 = o4.area ?? i7;
    return { length: e6(J(s15)), verticalLength: e6(T2(n17)), area: e6(K(r4)), angle: e6("degrees") };
  }
  get _formatters() {
    return this._getFormatters(this._messagesUnits, this._displayUnits);
  }
  get fieldContext() {
    return { formatters: this._formatters, inputUnitInfos: this._inputUnitInfos, messages: this._messagesTooltip, sketchOptions: this.info.sketchOptions, onCommit: this._onCommit, onDiscard: this._onDiscard };
  }
  render() {
    const { visibleElements: t6 } = this.info.sketchOptions.tooltips, e6 = this._renderedContent, o4 = this._renderedActions, i7 = this._renderedHelpMessage, s15 = e6.length > 0, n17 = s15 || !!i7, r4 = "input" === this.mode;
    return n("div", { class: v(t5, r4 && n6), onkeydown: this._onKeyDown, tabIndex: -1 }, r4 && n17 && t6.header ? n("div", { class: _5, "data-testid": "tooltip-header", key: "header", onpointerdown: this._onHeaderPointerDown }, n("calcite-button", { appearance: "transparent", "data-testid": "tooltip-back-button", iconFlipRtl: "both", iconStart: "chevron-left", key: "discard-button", kind: "neutral", onclick: this._onDiscard, scale: "s", tabIndex: -1 }), o4.length > 0 ? n(i, null, n("div", { class: a3, key: "spacer" }), n("div", { class: o3, key: "actions" }, o4)) : null) : null, s15 ? n("div", { class: c6, key: "content" }, ...e6) : null, i7);
  }
  destroy() {
    this._focusAbortController.abort(), this._transitionInfo?.transition.skipTransition();
  }
  _renderActions() {
    return null;
  }
  loadDependencies() {
    return c2({ button: () => import("./calcite-button-MKDUFM5F.js"), icon: () => import("./calcite-icon-YAZUXSRW.js"), input: () => import("./calcite-input-L7IBNUSF.js") });
  }
  async enterInputMode(t6, e6) {
    try {
      await this._transitionTo("input", e6), await this._focusField(t6);
    } catch (o4) {
      m2(o4);
    }
  }
  async exitInputMode({ focusOnView: t6 = true } = {}) {
    try {
      const { container: e6, info: o4 } = this;
      o4.clearInputValues();
      const i7 = t6 ? e6?.closest(".esri-view")?.querySelector(".esri-view-surface") : null;
      await this._transitionTo("feedback"), i7 instanceof HTMLElement && i7.focus();
    } catch (e6) {
      m2(e6);
    }
  }
  _onNextKey(t6) {
    const e6 = this._getFocusableElements(), o4 = e6.at(0), i7 = e6.at(-1);
    o4 && i7 && (t6.shiftKey ? document.activeElement === o4 && (t6.preventDefault(), t6.stopPropagation(), L3(i7)) : document.activeElement === i7 && (t6.preventDefault(), t6.stopPropagation(), L3(o4)));
  }
  get _renderedContent() {
    return N4(this._renderContent());
  }
  get _renderedActions() {
    return N4(this._renderActions());
  }
  get _renderedHelpMessage() {
    const { sketchOptions: t6, visibleElements: e6 } = this.info;
    if (!e6.helpMessage) return null;
    const o4 = t6.tooltips.helpMessage ?? this._defaultHelpMessage;
    if (!o4) return null;
    const i7 = t6.tooltips.helpMessageIcon ?? "information";
    return n("div", { class: $2, key: "help-message" }, i7 ? n("calcite-icon", { class: h4, icon: i7, scale: "s" }) : null, n("div", { class: r2 }, o4));
  }
  get _defaultHelpMessage() {
    const { helpMessage: t6, viewType: e6 } = this.info;
    if (null == t6) return null;
    const o4 = "3d" === e6 ? "helpMessages3d" : "helpMessages2d";
    return this._messagesTooltip?.sketch?.[o4]?.[t6];
  }
  async _focusField(t6) {
    this._focusAbortController?.abort(), this._focusAbortController = new AbortController();
    const { signal: e6 } = this._focusAbortController;
    await this._waitForInputs(), s2(e6);
    const o4 = this._getFocusableInputs(), i7 = t6 ? o4.find((e7) => e7.getAttribute("data-field-name") === t6) : o4.at(0);
    await L3(i7);
  }
  async _transitionTo(t6, o4) {
    if (this._mode === t6 && !this._transitionInfo) return;
    if (this._transitionInfo?.mode === t6) return this._transitionInfo.transition.finished;
    this._transitionInfo?.transition.skipTransition();
    const i7 = async () => {
      this.destroyed || (this._mode = t6, await P(), this.destroyed || (this.renderNow(), await P(), this.destroyed || o4?.()));
    };
    if (!this.domNode?.firstChild || !document.startViewTransition || o2()) return void await i7();
    this.autoRenderingEnabled = false;
    const s15 = this._transitionInfo = { transition: document.startViewTransition(async () => {
      this.destroyed || s15 !== this._transitionInfo || (this.autoRenderingEnabled = true, await i7());
    }), mode: t6 };
    try {
      await s15.transition.finished;
    } finally {
      s15 === this._transitionInfo && (this._transitionInfo = null);
    }
  }
  async _waitForInputs() {
    const t6 = () => Array.from(this.domNode?.querySelectorAll("calcite-input") ?? []);
    for (; 0 === t6().length; ) await T(O2);
    await U();
  }
  _getFocusableInputs() {
    return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])") ?? []);
  }
  _getFocusableElements() {
    const t6 = this.domNode?.querySelector(`.${s6}`);
    return [...Array.from(t6?.querySelectorAll(`.${o3} calcite-button:not([disabled])`) ?? []), ...this._getFocusableInputs()];
  }
};
async function L3(t6) {
  await t6?.setFocus();
}
function N4(t6) {
  return (Array.isArray(t6) ? t6 : [t6]).flat(10).filter((t7) => !!t7);
}
__decorate([e2("esri/core/t9n/Units"), m()], S2.prototype, "_messagesUnits", void 0), __decorate([e2("esri/views/interactive/tooltip/t9n/Tooltip"), m()], S2.prototype, "_messagesTooltip", void 0), __decorate([m()], S2.prototype, "info", void 0), __decorate([m()], S2.prototype, "tooltip", void 0), __decorate([m()], S2.prototype, "_mode", void 0), __decorate([m()], S2.prototype, "mode", null), __decorate([m()], S2.prototype, "_displayUnits", null), __decorate([m()], S2.prototype, "_inputUnitInfos", null), __decorate([m()], S2.prototype, "_formatters", null), __decorate([m()], S2.prototype, "fieldContext", null), __decorate([m()], S2.prototype, "_renderedContent", null), __decorate([m()], S2.prototype, "_renderedActions", null), __decorate([m()], S2.prototype, "_renderedHelpMessage", null), __decorate([m()], S2.prototype, "_defaultHelpMessage", null), S2 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContent")], S2);
var O2 = 20;

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawCircle.js
var n7 = class extends S2 {
  _renderContent() {
    const { area: t6, radius: o4, xSize: s15, ySize: n17, visibleElements: a6 } = this.info, p6 = this._messagesTooltip.sketch, m6 = this._formatters;
    return n(i, null, a6.radius && null != o4 ? n(a4, { title: p6.radius, value: m6.length(o4) }) : null, a6.size && null != s15 && null != n17 ? n(a4, { title: p6.size, value: n(a5, { left: m6.length(s15), right: m6.length(n17) }) }) : null, a6.area ? n(a4, { title: p6.area, value: m6.area(t6) }) : null);
  }
};
n7 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")], n7);

// node_modules/@arcgis/core/views/interactive/tooltip/components/TooltipEditableField.js
var p4 = `${e4}-editable-field`;
var d9 = { base: p4, inputMode: `${p4}--input`, feedbackMode: `${p4}--feedback`, readOnly: `${p4}--read-only`, locked: `${p4}--locked`, title: `${p4}__title`, value: `${p4}__value`, valueContent: `${p4}__value__content`, valueContentReadOnly: `${p4}__value__content--read-only`, lockIcon: `${p4}__lock-icon`, input: `${p4}__input`, inputWrapper: `${p4}__input-wrapper`, inputMessage: `${p4}__input-message`, inputSuffix: `${p4}__input-suffix`, button: `${p4}__button` };
var h5 = { lock: "lock", unlock: "unlock" };
var _6 = class extends B {
  constructor() {
    super(...arguments), this._input = null, this._lock = null, this._onLockClick = () => {
      this.field.toggleLock(this.context);
    }, this._onLockAfterCreate = (t6) => {
      this._lock = t6;
    }, this._onLockAfterRemoved = () => {
      this._lock = null;
    }, this._onKeyDown = (t6) => {
      t6.key === d6.discard && "input" === this.mode && this._input && this.context.onDiscard(this._input);
    }, this._onInputKeyDown = (t6) => {
      const e6 = this._input;
      if (e6) switch (t6.key) {
        case d6.commit:
          return this.field.onCommit("commit-and-exit", e6, this.context);
        case d6.next: {
          t6.preventDefault(), t6.stopPropagation();
          const i7 = t6.shiftKey ? "commit-and-previous" : "commit-and-next";
          return this.field.onCommit(i7, e6, this.context);
        }
      }
    }, this._onInput = (t6) => {
      this.field.onInput(t6.currentTarget.value);
    }, this._onInputBlur = (t6) => {
      const e6 = this._input;
      e6 && t6.relatedTarget !== this._lock && this.field.onCommit("commit-on-blur", e6, this.context);
    }, this._selectText = () => {
      const t6 = () => {
        this._input === document.activeElement && this._input?.selectText();
      };
      t6(), U().then(t6);
    }, this._onAfterCreate = (t6) => {
      this._input = t6, t6.addEventListener("paste", this._onPaste), t6.addEventListener("beforeinput", this._onBeforeInput);
    }, this._onAfterRemoved = (t6) => {
      t6.removeEventListener("paste", this._onPaste), t6.removeEventListener("beforeinput", this._onBeforeInput);
    }, this._onPaste = (t6) => {
      const e6 = t6.clipboardData?.getData("text");
      if (!e6) return;
      null != this.field.parse(e6, this.context) && (t6.stopPropagation(), this.field.onInput(e6));
    }, this._onBeforeInput = (t6) => {
      ("historyUndo" === t6.inputType || "historyRedo" === t6.inputType) && !this.field.dirty && t6.preventDefault();
    };
  }
  initialize() {
    this.addHandles(l2(() => this._rawDisplayValue, () => {
      const { committed: t6, inputValue: e6 } = this.field;
      t6 || e6 || this._input !== document.activeElement || this._selectText();
    }));
  }
  loadDependencies() {
    return c2({ button: () => import("./calcite-button-MKDUFM5F.js"), icon: () => import("./calcite-icon-YAZUXSRW.js"), input: () => import("./calcite-input-L7IBNUSF.js"), "input-message": () => import("./calcite-input-message-3KSB2FC2.js") });
  }
  render() {
    const { field: t6, mode: e6 } = this, i7 = "input" === e6, { locked: o4, readOnly: n17 } = t6;
    return n("div", { class: this.classes({ [d9.base]: true, [d9.feedbackMode]: "feedback" === e6, [d9.inputMode]: "input" === e6, [d9.locked]: o4, [d9.readOnly]: n17 }) }, n("div", { class: d9.title, key: "title" }, this._title), n("div", { class: d9.value, key: "value", onkeydown: this._onKeyDown }, i7 ? this._renderValueInputMode() : this._renderValueFeedbackMode()));
  }
  get _formattedValue() {
    return this.field.getFormattedValue(this.context) || m5;
  }
  get _rawDisplayValue() {
    return this.field.getRawDisplayValue(this.context);
  }
  get _suffix() {
    return this.field.getSuffix(this.context);
  }
  get _title() {
    const { title: t6 } = this.field;
    return "string" == typeof t6 ? t6 : t6(this.context);
  }
  get _messages() {
    return this.context?.messages.sketch ?? {};
  }
  _renderValueFeedbackMode() {
    return n(i, null, n("div", { class: d9.valueContent, key: "value-feedback" }, this._formattedValue), this.field.locked && "input" !== this.mode ? n("calcite-icon", { class: d9.lockIcon, icon: h5.lock, key: "icon", scale: "s" }) : null);
  }
  _renderValueInputMode() {
    return this.field.readOnly ? this._renderValueReadOnly() : this._renderValueWritable();
  }
  _renderValueReadOnly() {
    return n("div", { class: this.classes(d9.valueContent, d9.valueContentReadOnly), key: "value-read-only" }, this._formattedValue);
  }
  _renderValueWritable() {
    const { field: t6 } = this, e6 = this._messages, { name: i7, invalid: o4 } = t6;
    return n(i, null, n("div", { class: d9.inputWrapper, key: "value-input" }, n("calcite-input", { afterCreate: this._onAfterCreate, afterRemoved: this._onAfterRemoved, class: d9.input, "data-field-name": i7, "data-testid": `tooltip-field-${i7}`, key: "input", onblur: this._onInputBlur, onfocus: this._selectText, onkeydown: this._onInputKeyDown, scale: "s", status: o4 ? "invalid" : "idle", type: "text", value: this._rawDisplayValue ?? m5, onCalciteInputInput: this._onInput }), o4 ? n("calcite-input-message", { class: d9.inputMessage, scale: "s", status: "invalid" }, e6.invalidValue) : null), n("div", { class: d9.inputSuffix, key: "suffix" }, this._suffix), this._renderedLockButton);
  }
  get _renderedLockButton() {
    const { name: t6, locked: e6, lockable: i7 } = this.field;
    if (!i7) return n("div", { key: "no-lock-button" });
    const o4 = this._messages, n17 = e6 ? o4.unlockConstraint : o4.lockConstraint;
    return n("calcite-button", { afterCreate: this._onLockAfterCreate, afterRemoved: this._onLockAfterRemoved, alignment: "center", appearance: "transparent", class: d9.button, "data-testid": `tooltip-field-${t6}-lock`, iconStart: e6 ? h5.lock : h5.unlock, key: "lock-button", kind: "neutral", label: n17, onclick: this._onLockClick, scale: "s", tabIndex: -1, title: n17 });
  }
};
__decorate([m()], _6.prototype, "field", void 0), __decorate([m()], _6.prototype, "context", void 0), __decorate([m()], _6.prototype, "mode", void 0), __decorate([m()], _6.prototype, "_input", void 0), __decorate([m()], _6.prototype, "_lock", void 0), __decorate([m()], _6.prototype, "_formattedValue", null), __decorate([m()], _6.prototype, "_rawDisplayValue", null), __decorate([m()], _6.prototype, "_suffix", null), __decorate([m()], _6.prototype, "_title", null), __decorate([m()], _6.prototype, "_messages", null), __decorate([m()], _6.prototype, "_renderedLockButton", null), _6 = __decorate([a("esri.views.interactive.tooltip.components.TooltipEditableField")], _6);
var m5 = "—";

// node_modules/@arcgis/core/views/interactive/tooltip/content/Fields.js
function i4(i7) {
  const l4 = i7.fields.filter((t6) => true === t6?.visible);
  return 0 === l4.length ? null : n(i, null, l4.map((e6) => n(_6, { context: i7.context, field: e6, key: e6.id, mode: i7.mode })));
}

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawMesh.js
var s7 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: i7 } = this, { visibleElements: s15 } = t6;
    return n(i4, { context: o4, fields: [s15.coordinates ? t6.effectiveX : void 0, s15.coordinates ? t6.effectiveY : void 0, s15.elevation ? t6.elevation : void 0, s15.orientation ? t6.orientation : void 0, s15.scale ? t6.scale : void 0], mode: i7 });
  }
};
s7 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")], s7);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawPoint.js
var s8 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: r4 } = this, { elevation: s15, visibleElements: n17 } = t6;
    return n(i4, { context: o4, fields: [n17.coordinates ? t6.effectiveX : void 0, n17.coordinates ? t6.effectiveY : void 0, n17.elevation ? s15 : void 0], mode: r4 });
  }
};
s8 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")], s8);

// node_modules/@arcgis/core/views/interactive/tooltip/components/directionModeIcons.js
var e5 = { absolute: "absolute-direction", relative: "relative-direction" };

// node_modules/@arcgis/core/views/interactive/tooltip/components/DrawHeaderActions.js
var p5 = class extends B {
  constructor(t6) {
    super(t6), this.visibleElements = {};
  }
  render() {
    return n("div", { class: s6 }, this._isElementVisible("direction") ? n(l3, { messages: this.messages, sketchOptions: this.sketchOptions }) : null);
  }
  loadDependencies() {
    return c2({ button: () => import("./calcite-button-MKDUFM5F.js"), dropdown: () => import("./calcite-dropdown-TXGNA67F.js"), "dropdown-item": () => import("./calcite-dropdown-item-IPFRVOTU.js"), "dropdown-group": () => import("./calcite-dropdown-group-Z6D3HXTN.js") });
  }
  _isElementVisible(t6) {
    return this.visibleElements?.[t6] ?? this.sketchOptions.tooltips.visibleElements[t6];
  }
};
function l3(t6) {
  const { directionMode: e6 } = t6.sketchOptions.values, o4 = t6.messages?.sketch, i7 = o4?.directionModeSelect?.title, r4 = "absolute", c8 = "relative";
  return n("calcite-dropdown", { key: "direction-mode", placement: "bottom-end", scale: "s", widthScale: "s", onCalciteDropdownSelect: (e7) => {
    const o5 = e7.currentTarget.selectedItems?.[0]?.getAttribute("data-mode");
    t6.sketchOptions.values.directionMode = o5 ?? "absolute";
  } }, n("calcite-button", { alignment: "end", appearance: "transparent", iconStart: e5[e6], kind: "neutral", label: i7, scale: "s", slot: "trigger", title: i7 }), n("calcite-dropdown-group", { selectionMode: "single" }, n("calcite-dropdown-item", { "data-mode": c8, "data-testid": "tooltip-direction-mode-relative", iconStart: e5.relative, key: "relative", selected: e6 === c8 }, o4?.directionModeSelect?.relative), n("calcite-dropdown-item", { "data-mode": r4, "data-testid": "tooltip-direction-mode-absolute", iconStart: e5.absolute, key: "absolute", selected: e6 === r4 }, o4?.directionModeSelect?.absolute)));
}
__decorate([e2("esri/views/interactive/tooltip/t9n/Tooltip"), m()], p5.prototype, "messages", void 0), __decorate([m()], p5.prototype, "sketchOptions", void 0), __decorate([m()], p5.prototype, "visibleElements", void 0), p5 = __decorate([a("esri.views.interactive.tooltip.components.DrawHeaderActions")], p5);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawPolygon.js
var n8 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: e6 } = this, { xyMode: r4, visibleElements: n17 } = t6;
    return n(i4, { context: o4, fields: [..."direction-distance" === r4 ? [n17.direction ? t6.direction : void 0, n17.distance ? t6.distance : void 0] : [n17.coordinates ? t6.effectiveX : void 0, n17.coordinates ? t6.effectiveY : void 0], n17.elevation ? t6.elevation : void 0, n17.area ? t6.area : void 0], mode: e6 });
  }
  _renderActions() {
    const { xyMode: o4, sketchOptions: t6 } = this.info;
    return n(p5, { sketchOptions: t6, visibleElements: { direction: "direction-distance" === o4 } });
  }
};
n8 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")], n8);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawPolyline.js
var n9 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: e6 } = this, { xyMode: r4, visibleElements: n17 } = t6;
    return n(i4, { context: o4, fields: [..."direction-distance" === r4 ? [n17.direction ? t6.direction : void 0, n17.distance ? t6.distance : void 0] : [n17.coordinates ? t6.effectiveX : void 0, n17.coordinates ? t6.effectiveY : void 0], n17.elevation ? t6.elevation : void 0, n17.totalLength ? t6.totalLength : void 0], mode: e6 });
  }
  _renderActions() {
    const { xyMode: o4, sketchOptions: t6 } = this.info;
    return n(p5, { sketchOptions: t6, visibleElements: { direction: "direction-distance" === o4 } });
  }
};
n9 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")], n9);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawRectangle.js
var n10 = class extends S2 {
  _renderContent() {
    const { area: t6, xSize: o4, ySize: s15, visibleElements: n17 } = this.info, p6 = this._messagesTooltip.sketch, a6 = this._formatters;
    return n(i, null, n17.size && null != o4 && null != s15 ? n(a4, { title: p6.size, value: n(a5, { left: a6.length(o4), right: a6.length(s15) }) }) : null, n17.area ? n(a4, { title: p6.area, value: a6.area(t6) }) : null);
  }
};
n10 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")], n10);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentElevation.js
var s9 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: r4 } = this, { visibleElements: s15 } = t6;
    return n(i4, { context: o4, fields: [s15.elevation ? t6.elevation : void 0], mode: r4 });
  }
};
s9 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentElevation")], s9);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentExtentRotate.js
var n11 = class extends S2 {
  _renderContent() {
    const { angle: t6, visibleElements: o4 } = this.info, e6 = this._messagesTooltip.sketch;
    return n(i, null, o4.rotation ? n(a4, { title: e6.rotation, value: this._formatters.angleRelative(t6) }) : null);
  }
};
n11 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")], n11);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentExtentScale.js
var n12 = class extends S2 {
  _renderContent() {
    const t6 = this.info, { visibleElements: e6 } = t6, r4 = this._messagesTooltip.sketch, n17 = this._formatters;
    return n(i, null, e6.size ? n(a4, { title: r4.size, value: n(a5, { left: n17.length(t6.xSize), right: n17.length(t6.ySize) }) }) : null, e6.scale ? n(a4, { title: r4.scale, value: n(a5, { left: n17.scale(t6.xScale), right: n17.scale(t6.yScale) }) }) : null);
  }
};
n12 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentExtentScale")], n12);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentMovePoint.js
var s10 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: i7 } = this, { visibleElements: s15 } = t6;
    return n(i4, { context: o4, fields: [s15.coordinates ? t6.effectiveX : void 0, s15.coordinates ? t6.effectiveY : void 0, s15.elevation ? t6.elevation : void 0], mode: i7 });
  }
};
s10 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentMovePoint")], s10);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentReshapeEdgeOffset.js
var i5 = class extends S2 {
  _renderContent() {
    const { fieldContext: t6, info: o4, mode: r4 } = this, { visibleElements: i7 } = o4;
    return n(i4, { context: t6, fields: [i7.distance ? o4.distance : void 0, i7.area ? o4.area : void 0, i7.totalLength ? o4.totalLength : void 0], mode: r4 });
  }
};
i5 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")], i5);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentSelectedVertex.js
var s11 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: e6, mode: r4 } = this, { visibleElements: s15 } = e6;
    return n(i4, { context: o4, fields: [s15.coordinates ? e6.effectiveX : void 0, s15.coordinates ? e6.effectiveY : void 0, s15.elevation ? e6.elevation : void 0, s15.area && "polygon" === e6.geometryType ? e6.area : null, s15.totalLength && "polyline" === e6.geometryType ? e6.totalLength : null], mode: r4 });
  }
};
s11 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")], s11);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTransformMesh.js
var s12 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: i7 } = this, { visibleElements: s15 } = t6;
    return n(i4, { context: o4, fields: [s15.coordinates ? t6.effectiveX : void 0, s15.coordinates ? t6.effectiveY : void 0, s15.elevation ? t6.elevation : void 0, s15.orientation ? t6.orientation : void 0, s15.scale ? t6.scale : void 0], mode: i7 });
  }
};
s12 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")], s12);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTransformPoint.js
var s13 = class extends S2 {
  _renderContent() {
    const { fieldContext: o4, info: t6, mode: i7 } = this, { visibleElements: s15 } = t6;
    return n(i4, { context: o4, fields: [s15.coordinates ? t6.effectiveX : void 0, s15.coordinates ? t6.effectiveY : void 0, s15.elevation ? t6.elevation : void 0, s15.orientation ? t6.orientation : void 0, s15.size ? t6.size : void 0], mode: i7 });
  }
};
s13 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")], s13);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslate.js
var n13 = class extends S2 {
  _renderContent() {
    const { info: t6 } = this, { visibleElements: o4 } = t6, r4 = this._messagesTooltip.sketch, n17 = this._formatters;
    return n(i, null, o4.distance ? n(a4, { title: r4.distance, value: n17.length(t6.distance) }) : null);
  }
};
n13 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentTranslate")], n13);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateVertex.js
var s14 = class extends S2 {
  _renderContent() {
    const { distance: t6, elevation: e6, area: l4, totalLength: s15, visibleElements: a6 } = this.info, n17 = this._messagesTooltip.sketch, p6 = this._formatters;
    return n(i, null, a6.distance ? n(a4, { title: n17.distance, value: p6.length(t6) }) : null, a6.elevation && null != e6?.actual ? n(a4, { title: n17.elevation, value: p6.verticalLength(e6.actual) }) : null, a6.area && null != l4 ? n(a4, { title: n17.area, value: p6.area(l4) }) : null, a6.totalLength && null != s15 ? n(a4, { title: n17.totalLength, value: p6.length(s15) }) : null);
  }
};
s14 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")], s14);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateXY.js
var n14 = class extends S2 {
  _renderContent() {
    const { info: t6 } = this, { visibleElements: o4 } = t6, r4 = this._messagesTooltip.sketch, n17 = this._formatters;
    return n(i, null, o4.distance ? n(a4, { title: r4.distance, value: n17.length(t6.distance) }) : null);
  }
};
n14 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")], n14);

// node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateZ.js
var n15 = class extends S2 {
  _renderContent() {
    const { info: t6 } = this, { visibleElements: o4 } = t6, s15 = this._messagesTooltip.sketch;
    return n(i, null, o4.distance ? n(a4, { title: s15.distance, value: this._formatters.verticalLengthRelative(t6.distance) }) : null);
  }
};
n15 = __decorate([a("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")], n15);

// node_modules/@arcgis/core/views/interactive/tooltip/content/tooltipContentFactory.js
function d10(d11, x4) {
  if (null == x4) return null;
  const h6 = document.createElement("div");
  switch (x4.type) {
    case "draw-point":
    case "draw-multipoint":
      return new s8({ tooltip: d11, info: x4, container: h6 });
    case "draw-polygon":
      return new n8({ tooltip: d11, info: x4, container: h6 });
    case "draw-polyline":
      return new n9({ tooltip: d11, info: x4, container: h6 });
    case "draw-mesh":
      return new s7({ tooltip: d11, info: x4, container: h6 });
    case "draw-rectangle":
      return new n10({ tooltip: d11, info: x4, container: h6 });
    case "draw-circle":
      return new n7({ tooltip: d11, info: x4, container: h6 });
    case "elevation":
      return new s9({ tooltip: d11, info: x4, container: h6 });
    case "extent-rotate":
      return new n11({ tooltip: d11, info: x4, container: h6 });
    case "extent-scale":
      return new n12({ tooltip: d11, info: x4, container: h6 });
    case "move-point":
      return new s10({ tooltip: d11, info: x4, container: h6 });
    case "selected-vertex":
      return new s11({ tooltip: d11, info: x4, container: h6 });
    case "transform-point":
      return new s13({ tooltip: d11, info: x4, container: h6 });
    case "transform-mesh":
      return new s12({ tooltip: d11, info: x4, container: h6 });
    case "translate":
      return new n13({ tooltip: d11, info: x4, container: h6 });
    case "translate-vertex":
      return new s14({ tooltip: d11, info: x4, container: h6 });
    case "translate-z":
      return new n15({ tooltip: d11, info: x4, container: h6 });
    case "translate-xy":
      return new n14({ tooltip: d11, info: x4, container: h6 });
    case "reshape-edge-offset":
      return new i5({ tooltip: d11, info: x4, container: h6 });
  }
}

// node_modules/@arcgis/core/views/interactive/Tooltip.js
var v4 = { base: `${e4}`, ltr: `${e4}--ltr`, rtl: `${e4}--rtl`, debug: `${e4}--debug` };
var _7 = 20;
var C3 = 16;
var b3 = "bottom-end";
var P3 = class extends l {
  constructor(t6) {
    super(t6), this.info = null, this.options = null, this.position = null, this.content = null, this._focused = false, this.outerContainer = document.createElement("div"), this.debug = false, this._updatingHandles = new h2(), this._lastPosition = null, this._rtl = false, this._prevXY = [0, 0];
  }
  initialize() {
    const { outerContainer: t6 } = this;
    this.addHandles([l2(() => this.view.overlay?.surface, (e6) => {
      t6.remove(), e6?.appendChild(t6), this._rtl = L(e6);
    }, w), l2(() => this.info, (e6, o4) => {
      if (null != this.content && null != e6 && null != o4 && e6.type === o4.type) this.content.info = e6;
      else {
        u(this.content);
        const o5 = d10(this, e6);
        o5 ? (this.content = o5, o5.container && t6.appendChild(o5.container), this.exitInputMode()) : this.content = null;
      }
    }, w), l2(() => ({ container: this.outerContainer, style: this._outerContainerStyle }), ({ container: t7, style: e6 }) => {
      Object.assign(t7.style, e6);
    }, h), l2(() => ({ outerContainer: this.outerContainer, placement: this.effectivePlacement, effectiveOffset: this._effectiveOffset, rtl: this._rtl, debug: this.debug }), ({ outerContainer: t7, placement: e6, effectiveOffset: o4, rtl: n17, debug: i7 }) => {
      const { classList: s15 } = t7;
      s15.add(v4.base), s15.toggle(v4.rtl, n17), s15.toggle(v4.ltr, !n17), s15.toggle(v4.debug, i7), this.outerContainer.style.setProperty("--offset", `${o4}px`), s3(t7), x3(t7, e6);
    }, h), f(() => "feedback" === this.mode, () => {
      this.position = null, this._clearOverride("effectivePlacement");
    }, U2), o(this.outerContainer, "paste", (t7) => {
      this.emit("paste", t7);
    }), o(this.outerContainer, ["focusin", "focusout"], () => {
      this._focused = this.content?.container?.contains(document.activeElement) ?? false;
    })]);
  }
  destroy() {
    this.info = null, this.content = u(this.content), this.outerContainer.remove(), this._updatingHandles.destroy();
  }
  get mode() {
    return this.content?.mode ?? "feedback";
  }
  get focused() {
    return this._focused;
  }
  get visible() {
    return "none" !== this._outerContainerStyle.display;
  }
  get contentContainer() {
    return this.content?.container;
  }
  get effectivePlacement() {
    const t6 = this.options?.placement;
    return "auto" === t6 ? "bottom-end" : t6 ?? b3;
  }
  get updating() {
    return this._updatingHandles.updating;
  }
  get _screenPoint() {
    const { inputManager: t6 } = this.view;
    return t6?.multiTouchActive ? null : t6?.latestPointerInfo?.location;
  }
  get _effectiveOffset() {
    return this.options?.offset ?? _7;
  }
  get _outerContainerStyle() {
    const t6 = this.position ?? this._screenPoint;
    if (this._lastPosition = c4(t6), null != t6 && null != this.content) {
      return { display: "block", transform: `translate(${Math.round(t6.x)}px, ${Math.round(t6.y)}px)` };
    }
    return { display: "none", transform: "none" };
  }
  clear() {
    this.info = null;
  }
  async enterInputMode(t6) {
    const e6 = this.position ?? this._lastPosition ?? this._screenPoint, o4 = this.position = c4(e6), { effectivePlacement: n17 } = this;
    this._override("effectivePlacement", n17);
    const i7 = () => {
      o4 && (this.position = j3(this.contentContainer, o4, this._effectiveOffset, this.view), Object.assign(this.outerContainer.style, this._outerContainerStyle));
    };
    await this._updatingHandles.addPromise(this.content?.enterInputMode(t6, i7));
  }
  async exitInputMode(t6) {
    await this._updatingHandles.addPromise(this.content?.exitInputMode(t6));
  }
  onDragStart(t6, e6) {
    this._prevXY = [t6, e6];
  }
  onDrag(t6, e6) {
    const o4 = t6 - this._prevXY[0], n17 = e6 - this._prevXY[1];
    this._prevXY = [t6, e6];
    const { position: i7 } = this;
    if (i7) {
      const { view: s15 } = this, r4 = t6 - s15.position[0], l4 = e6 - s15.position[1];
      if (r4 < 0 || r4 > s15.width || l4 < 0 || l4 > s15.height - C3) return;
      this.position = i2(i7.x + o4, i7.y + n17);
    }
  }
  onDragEnd() {
    this._prevXY = [0, 0];
  }
};
function j3(t6, e6, o4, n17) {
  if (!t6 || !n17.container) return e6;
  const i7 = t6.getBoundingClientRect(), { left: s15, top: r4 } = n17.container.getBoundingClientRect();
  let { x: l4, y: a6 } = e6;
  const c8 = i7.left - s15 - o4;
  c8 < 0 && (l4 -= c8);
  const u2 = i7.right - s15 + o4 - n17.width;
  u2 > 0 && (l4 -= u2);
  const d11 = i7.top - r4 - o4;
  d11 < 0 && (a6 -= d11);
  const h6 = i7.bottom - r4 + o4 - n17.height;
  return h6 > 0 && (a6 -= h6), i2(l4, a6);
}
__decorate([m({ nonNullable: true })], P3.prototype, "view", void 0), __decorate([m()], P3.prototype, "info", void 0), __decorate([m()], P3.prototype, "options", void 0), __decorate([m()], P3.prototype, "position", void 0), __decorate([m()], P3.prototype, "content", void 0), __decorate([m({ readOnly: true })], P3.prototype, "mode", null), __decorate([m()], P3.prototype, "_focused", void 0), __decorate([m({ readOnly: true })], P3.prototype, "focused", null), __decorate([m({ readOnly: true })], P3.prototype, "outerContainer", void 0), __decorate([m({ readOnly: true })], P3.prototype, "contentContainer", null), __decorate([m({ readOnly: true })], P3.prototype, "effectivePlacement", null), __decorate([m()], P3.prototype, "debug", void 0), __decorate([m()], P3.prototype, "updating", null), __decorate([m()], P3.prototype, "_lastPosition", void 0), __decorate([m()], P3.prototype, "_screenPoint", null), __decorate([m()], P3.prototype, "_rtl", void 0), __decorate([m()], P3.prototype, "_effectiveOffset", null), __decorate([m()], P3.prototype, "_outerContainerStyle", null), P3 = __decorate([a("esri.views.interactive.Tooltip")], P3);
var O3 = ["top", "bottom", "leading", "trailing"].flatMap((t6) => [w7(`${t6}-start`), w7(t6), w7(`${t6}-end`)]);
function w7(t6) {
  return `${v4.base}--${t6}`;
}
function x3({ classList: t6 }, e6) {
  O3.forEach((e7) => t6.remove(e7)), t6.add(w7(e6));
}
var $4 = P3;

// node_modules/@arcgis/core/views/interactive/tooltip/tooltipCommonUtils.js
function R4(t6) {
  const o4 = new $4(t6());
  return o4.addHandles(l2(() => t6(), ({ view: t7, options: e6, info: n17 }) => {
    o4.view = t7, void 0 !== e6 && (o4.options = e6), void 0 !== n17 && (o4.info = n17);
  })), o4;
}
function V2(t6, o4) {
  const e6 = t3(o4.vertexSpace), { scale: n17, orientation: l4 } = t6, { transform: a6 } = o4, s15 = T5(a6);
  e6 && null != s15 ? (l4.actual = c5(s15, "degrees", "arithmetic"), l4.visible = true) : (l4.actual = null, l4.visible = false), e6 ? (n17.actual = i3(G3(a6)), n17.visible = true) : (n17.actual = null, n17.visible = false);
}
function z4(t6, o4, e6) {
  if (!o4 || !t3(o4.vertexSpace)) return;
  const n17 = o4.transform ??= new d4();
  D5(t6, n17, e6), P4(t6, n17, e6);
}
function D5(t6, o4, e6) {
  const r4 = q(t6.orientation.actual), i7 = q4(o4.rotationAxis);
  if (null == r4 || null == i7) return;
  const l4 = r4 - 90, a6 = o4.rotationAngle, s15 = l4 * i7, u2 = s15 - a6;
  P2(a6, s15) || (e6?.onRotateStart(0), o4.rotationAngle = s15, e6?.onRotate(u2), e6?.onRotateStop(u2));
}
function P4(t6, o4, e6) {
  const n17 = t6.scale.actual?.value, r4 = G3(o4);
  if (null == n17 || n17 === r4) return;
  const { scale: i7 } = o4;
  let l4;
  if (0 === r4) l4 = t2(_2);
  else {
    const t7 = n17 / r4;
    l4 = g(n3(), i7, t7);
  }
  e6?.onScaleStart(i7[0], i7[1], i7[2]), o4.scale = l4, e6?.onScale(l4[0], l4[1], l4[2]), e6?.onScaleStop(l4[0], l4[1], l4[2]);
}
function F4(t6, o4) {
  const { x: e6, y: r4, z: i7 } = o4, { x: l4, y: a6, z: s15 } = E5(t6, o4.spatialReference);
  return { dx: null == l4 || P2(l4, e6) ? 0 : l4 - e6, dy: null == a6 || P2(a6, r4) ? 0 : a6 - r4, dz: null == s15 || null == i7 || P2(s15, i7) ? 0 : s15 - i7 };
}
function E5(t6, o4) {
  let e6, n17;
  t6.geographic ? (e6 = R(t6.longitude.actual), n17 = R(t6.latitude.actual), C(o4) && (null != e6 && null != n17 ? [e6, n17] = d2(e6, n17, I4) : null != e6 ? e6 = d2(e6, 0, I4)[0] : null != n17 && (n17 = d2(0, n17, I4)[1]))) : (e6 = t6.x.actual?.value, n17 = t6.y.actual?.value);
  const r4 = t6.elevation.actual, i7 = fe(o4);
  return { x: e6, y: n17, z: null != i7 && null != r4 ? v2(r4, i7) : void 0 };
}
var I4 = [0, 0];
function T5(t6) {
  const o4 = 90;
  if (!t6) return o4;
  const e6 = q4(t6.rotationAxis) ?? 1;
  return null != e6 ? o4 + e6 * t6.rotationAngle : null;
}
function q4(t6) {
  return J2(t6, N) ? 1 : J2(t6, B5) ? -1 : null;
}
var B5 = y(n3(), N);
function G3(t6) {
  return t6 ? Math.max(...t6.scale) : 1;
}
function H2(t6, o4) {
  return !("key-down" !== t6.type || t6.key !== d6.enterInputMode || !o4 || !O4(o4.info)) && (o4.enterInputMode(), t6.preventDefault(), t6.stopPropagation(), true);
}
function O4(t6) {
  const o4 = t6?.sketchOptions;
  if (!o4) return false;
  const { inputEnabled: e6, visibleElements: n17 } = o4.tooltips;
  return e6 && true === t6.editableFields.some(({ name: t7 }) => "x" === t7 || "y" === t7 ? n17.coordinates : n17[t7]);
}
function C4(n17, r4) {
  let i7 = null;
  return t([n17.on("paste", (o4) => {
    i7?.abort(), i7 = d3(async () => {
      _4() || await E(), J4(o4, n17.info, r4);
    });
  }), d3(() => E()), e(() => i7?.abort())]);
}
function J4(t6, o4, e6) {
  if (!o4 || !("geographic" in o4)) return;
  const n17 = t6.clipboardData?.getData("text");
  if (!n17) return;
  const r4 = (o5) => {
    t6.stopPropagation(), t6.preventDefault(), e6?.onBeforePaste(), o5(), e6?.onAfterPaste();
  };
  if (o4.geographic) {
    const t7 = G2(n17);
    t7 && r4(() => {
      o4.longitude.applyValue(t7.longitude), o4.latitude.applyValue(t7.latitude);
    });
  } else {
    const t7 = Q(n17);
    t7 && r4(() => {
      o4.x.applyValue(t7.x), o4.y.applyValue(t7.y);
    });
  }
}

// node_modules/@arcgis/core/views/interactive/tooltip/infos/SketchTooltipInfo.js
var r3 = class extends b {
  constructor(e6) {
    super(e6), this.helpMessage = void 0, this.viewType = void 0;
  }
  get visibleElements() {
    return this.sketchOptions.tooltips.visibleElements;
  }
  get allFields() {
    return [];
  }
  get editableFields() {
    return this.allFields.filter((e6) => e6.visible && !e6.readOnly);
  }
  clearInputValues() {
    this.allFields.forEach((e6) => e6.clearInputValue());
  }
};
__decorate([m()], r3.prototype, "sketchOptions", void 0), __decorate([m()], r3.prototype, "visibleElements", null), __decorate([m()], r3.prototype, "helpMessage", void 0), __decorate([m()], r3.prototype, "viewType", void 0), __decorate([m()], r3.prototype, "allFields", null), __decorate([m()], r3.prototype, "editableFields", null), r3 = __decorate([a("esri.views.interactive.tooltip.infos.SketchTooltipInfo")], r3);

// node_modules/@arcgis/core/geometry/support/curves/rotate.js
function c7(r4, c8, i7, n17) {
  const [s15, a6, m6, e6, f3, l4, p6] = c8.a, u2 = f3 ?? 0, h6 = l4 ?? Math.hypot(s15[0] - a6[0], s15[1] - a6[1]), b4 = p6 ?? 1, j4 = Math.cos(n17), x4 = Math.sin(n17), [M5, g4] = i7, v5 = n4(j4, x4, 0, -x4, j4, 0, M5 - j4 * M5 + x4 * g4, g4 - x4 * M5 - j4 * g4, 1);
  return w2(r4, { a: [s15, a6, m6, e6, u2, h6, b4] }, v5);
}
function i6(t6, o4, c8) {
  const [i7, n17, s15] = t6.b, a6 = [...i7], m6 = [...n17], e6 = [...s15];
  return I(a6, a6, o4, c8), I(m6, m6, o4, c8), I(e6, e6, o4, c8), { b: [a6, m6, e6] };
}
function n16(t6, o4, c8) {
  const [i7, n17] = t6.c, s15 = [...i7], a6 = [...n17];
  return I(s15, s15, o4, c8), I(a6, a6, o4, c8), { c: [s15, a6] };
}

export {
  E,
  F2 as F,
  k2 as k,
  w6 as w,
  A3 as A,
  B4 as B,
  C2 as C,
  H,
  J3 as J,
  K2 as K,
  R4 as R,
  V2 as V,
  z4 as z,
  F4 as F2,
  H2,
  C4 as C2,
  J4 as J2,
  r3 as r,
  c7 as c,
  i6 as i,
  n16 as n
};
//# sourceMappingURL=chunk-MLUR3X6U.js.map
