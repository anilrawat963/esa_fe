{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/displayFilterUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatGreaterThan as e,floatLessThan as n,floatEqualAbsolute as t,floatGreaterThanOrEqual as r}from\"../../core/mathUtils.js\";import{sqlOr as o}from\"../../core/sql.js\";function i(e,n){return{...n,filterMode:e.mode}}function u(e,n){return l(e,n).next().value??null}function c(t,r,i){const u=f(t);if(u&&(e(r,u[0])||n(i,u[1])))return\"\";const c=Array.from(l(t,r,i)),m=a(c,r,i)?\"1=1\":c.map(e=>e.where||\"1=1\").reduce((e,n)=>o(e,n),\"\");return m&&\"1=1\"!==m?m:\"\"}function f(e){if(\"manual\"===s(e))return null;const n=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:r}of e.filters)n[0]=Math.max(n[0],I(t)),n[1]=Math.min(n[1],d(r));return n}function*l(e,n,t){if(\"manual\"===s(e)){const n=e.filters.find(n=>n.id===e.activeFilterId);n&&(yield n)}else{\"object\"==typeof n&&(n=n.scale);for(const r of e.filters)m(r.minScale,r.maxScale,n,t)&&(yield r)}}function a(t,r,o){if(0===t.length)return!0;const i=I(t.at(0)?.minScale),u=d(t.at(-1)?.maxScale);if(n(i,r)||e(u,o))return!0;for(let e=0;e<t.length-1;e++){const r=t[e],o=t[e+1];if(n(I(o.minScale),d(r.maxScale)))return!0}return!1}function m(e,n,o,i){return e=I(e),o=I(o),n=d(n),!(!t(o,e)&&(i??o)>e)&&(!r(n,o)&&(void 0===i||!t(i,e)))}function s(e){return\"mode\"in e?e.mode:e.filterMode}function I(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}export{i as createDisplayFilterJSONContext,c as getClauseForScaleRange,u as getEffectiveDisplayFilter};\n"],
  "mappings": ";;;;;;;;;;;AAI6K,SAAS,EAAE,GAAE,GAAE;AAAC,SAAM,EAAC,GAAG,GAAE,YAAW,EAAE,KAAI;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,SAAO,EAAE,GAAE,CAAC,EAAE,KAAK,EAAE,SAAO;AAAI;AAAC,SAAS,EAAE,GAAEA,IAAEC,IAAE;AAAC,QAAMC,KAAE,EAAE,CAAC;AAAE,MAAGA,OAAI,EAAEF,IAAEE,GAAE,CAAC,CAAC,KAAG,EAAED,IAAEC,GAAE,CAAC,CAAC,GAAG,QAAM;AAAG,QAAMC,KAAE,MAAM,KAAK,EAAE,GAAEH,IAAEC,EAAC,CAAC,GAAEG,KAAE,EAAED,IAAEH,IAAEC,EAAC,IAAE,QAAME,GAAE,IAAI,OAAG,EAAE,SAAO,KAAK,EAAE,OAAO,CAAC,GAAE,MAAI,EAAE,GAAE,CAAC,GAAE,EAAE;AAAE,SAAOC,MAAG,UAAQA,KAAEA,KAAE;AAAE;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,aAAW,EAAE,CAAC,EAAE,QAAO;AAAK,QAAM,IAAE,CAAC,OAAO,mBAAkB,OAAO,iBAAiB;AAAE,aAAS,EAAC,UAAS,GAAE,UAASJ,GAAC,KAAI,EAAE,QAAQ,GAAE,CAAC,IAAE,KAAK,IAAI,EAAE,CAAC,GAAE,EAAE,CAAC,CAAC,GAAE,EAAE,CAAC,IAAE,KAAK,IAAI,EAAE,CAAC,GAAE,EAAEA,EAAC,CAAC;AAAE,SAAO;AAAC;AAAC,UAAS,EAAE,GAAE,GAAE,GAAE;AAAC,MAAG,aAAW,EAAE,CAAC,GAAE;AAAC,UAAMK,KAAE,EAAE,QAAQ,KAAK,CAAAA,OAAGA,GAAE,OAAK,EAAE,cAAc;AAAE,IAAAA,OAAI,MAAMA;AAAA,EAAE,OAAK;AAAC,gBAAU,OAAO,MAAI,IAAE,EAAE;AAAO,eAAUL,MAAK,EAAE,QAAQ,CAAAI,GAAEJ,GAAE,UAASA,GAAE,UAAS,GAAE,CAAC,MAAI,MAAMA;AAAA,EAAE;AAAC;AAAC,SAAS,EAAE,GAAEA,IAAE,GAAE;AAAC,MAAG,MAAI,EAAE,OAAO,QAAM;AAAG,QAAMC,KAAE,EAAE,EAAE,GAAG,CAAC,GAAG,QAAQ,GAAEC,KAAE,EAAE,EAAE,GAAG,EAAE,GAAG,QAAQ;AAAE,MAAG,EAAED,IAAED,EAAC,KAAG,EAAEE,IAAE,CAAC,EAAE,QAAM;AAAG,WAAQ,IAAE,GAAE,IAAE,EAAE,SAAO,GAAE,KAAI;AAAC,UAAMF,KAAE,EAAE,CAAC,GAAEM,KAAE,EAAE,IAAE,CAAC;AAAE,QAAG,EAAE,EAAEA,GAAE,QAAQ,GAAE,EAAEN,GAAE,QAAQ,CAAC,EAAE,QAAM;AAAA,EAAE;AAAC,SAAM;AAAE;AAAC,SAASI,GAAE,GAAE,GAAE,GAAEH,IAAE;AAAC,SAAO,IAAE,EAAE,CAAC,GAAE,IAAE,EAAE,CAAC,GAAE,IAAE,EAAE,CAAC,GAAE,EAAE,CAAC,EAAE,GAAE,CAAC,MAAIA,MAAG,KAAG,OAAK,CAAC,EAAE,GAAE,CAAC,MAAI,WAASA,MAAG,CAAC,EAAEA,IAAE,CAAC;AAAG;AAAC,SAAS,EAAE,GAAE;AAAC,SAAM,UAAS,IAAE,EAAE,OAAK,EAAE;AAAU;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,KAAG,OAAO;AAAiB;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,KAAG;AAAC;",
  "names": ["r", "i", "u", "c", "m", "n", "o"]
}
