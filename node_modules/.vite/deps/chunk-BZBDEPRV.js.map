{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2BindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DUintBindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js", "../../@arcgis/core/webscene/support/AlphaCutoff.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class e extends r{constructor(r,e){super(r,\"ivec2\",0,(o,s)=>o.setUniform2iv(r,e(s)))}}export{e as Integer2BindUniform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class o extends r{constructor(r,o){super(r,\"int\",0,(s,t)=>s.setUniform1i(r,o(t)))}}export{o as IntegerBindUniform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class e extends r{constructor(r,e){super(r,\"usampler2D\",0,(s,o)=>s.bindTexture(r,e(o)))}}export{e as Texture2DUintBindUniform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{HighlightReadBitmap as i}from\"../HighlightReadBitmap.glsl.js\";import{glsl as e}from\"../../shaderModules/glsl.js\";import{Integer2BindUniform as t}from\"../../shaderModules/Integer2BindUniform.js\";import{IntegerBindUniform as h}from\"../../shaderModules/IntegerBindUniform.js\";import{Texture2DBindUniform as l}from\"../../shaderModules/Texture2DBindUniform.js\";import{Texture2DUintBindUniform as g}from\"../../shaderModules/Texture2DUintBindUniform.js\";function d(d,o){const{fragment:u}=d,{output:r,draped:c,hasHighlightMixTexture:n}=o;9===r?(u.uniforms.add(new h(\"highlightLevel\",i=>i.highlightLevel??0),new t(\"highlightMixOrigin\",i=>i.highlightMixOrigin)),d.outputs.add(\"fragHighlight\",\"uvec2\",0),d.include(i),n?u.uniforms.add(new g(\"highlightMixTexture\",i=>i.highlightMixTexture)).code.add(e`uvec2 getAccumulatedHighlight() {\nreturn texelFetch(highlightMixTexture, ivec2(gl_FragCoord.xy) - highlightMixOrigin, 0).rg;\n}\nvoid outputHighlight(bool occluded) {\nif (highlightLevel == 0) {\nuint bits = occluded ? 3u : 1u;\nfragHighlight = uvec2(bits, 0);\n} else {\nint ll = (highlightLevel & 3) << 1;\nint li = (highlightLevel >> 2) & 3;\nuint bits;\nif (occluded) {\nbits = 3u << ll;\n} else {\nbits = 1u << ll;\n}\nuvec2 combinedHighlight = getAccumulatedHighlight();\ncombinedHighlight[li] |= bits;\nfragHighlight = combinedHighlight;\n}\n}`):u.code.add(e`void outputHighlight(bool occluded) {\nuint bits = occluded ? 3u : 1u;\nfragHighlight = uvec2(bits, 0);\n}`),c?u.code.add(e`bool isHighlightOccluded() {\nreturn false;\n}`):u.uniforms.add(new l(\"depthTexture\",i=>i.mainDepth)).code.add(e`bool isHighlightOccluded() {\nfloat sceneDepth = texelFetch(depthTexture, ivec2(gl_FragCoord.xy), 0).x;\nreturn gl_FragCoord.z > sceneDepth + 5e-7;\n}`),u.code.add(e`void calculateOcclusionAndOutputHighlight() {\noutputHighlight(isHighlightOccluded());\n}`)):u.code.add(e`void calculateOcclusionAndOutputHighlight() {}`)}export{d as OutputHighlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst o=1/255.5;export{o as alphaCutoff};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as c}from\"../../shaderModules/glsl.js\";function e(e){e.code.add(c`vec4 premultiplyAlpha(vec4 v) {\nreturn vec4(v.rgb * v.a, v.a);\n}\nvec3 rgb2hsv(vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\nvec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n}\nvec3 hsv2rgb(vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nfloat rgb2v(vec3 c) {\nreturn max(c.x, max(c.y, c.z));\n}`)}export{e as ColorConversion};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class t extends r{constructor(r,t,o){super(r,\"mat3\",1,(s,e,m)=>s.setUniformMatrix3fv(r,t(e,m),o))}}export{t as Matrix3PassUniform};\n"],
  "mappings": ";;;;;;;;;;;;;;AAIuD,IAAMA,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAY,GAAEA,IAAE;AAAC,UAAM,GAAE,SAAQ,GAAE,CAACC,IAAE,MAAIA,GAAE,cAAc,GAAED,GAAE,CAAC,CAAC,CAAC;AAAA,EAAC;AAAC;;;ACArF,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,YAAY,GAAEE,IAAE;AAAC,UAAM,GAAE,OAAM,GAAE,CAAC,GAAEC,OAAI,EAAE,aAAa,GAAED,GAAEC,EAAC,CAAC,CAAC;AAAA,EAAC;AAAC;;;ACAlF,IAAMC,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAY,GAAEA,IAAE;AAAC,UAAM,GAAE,cAAa,GAAE,CAAC,GAAEC,OAAI,EAAE,YAAY,GAAED,GAAEC,EAAC,CAAC,CAAC;AAAA,EAAC;AAAC;;;ACAuT,SAAS,EAAEC,IAAEC,IAAE;AAAC,QAAK,EAAC,UAAS,EAAC,IAAED,IAAE,EAAC,QAAO,GAAE,QAAO,GAAE,wBAAuB,EAAC,IAAEC;AAAE,QAAI,KAAG,EAAE,SAAS,IAAI,IAAI,EAAE,kBAAiB,CAAAC,OAAGA,GAAE,kBAAgB,CAAC,GAAE,IAAIC,GAAE,sBAAqB,CAAAD,OAAGA,GAAE,kBAAkB,CAAC,GAAEF,GAAE,QAAQ,IAAI,iBAAgB,SAAQ,CAAC,GAAEA,GAAE,QAAQ,CAAC,GAAE,IAAE,EAAE,SAAS,IAAI,IAAIG,GAAE,uBAAsB,CAAAD,OAAGA,GAAE,mBAAmB,CAAC,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoBxxB,IAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,EAGb,GAAE,IAAE,EAAE,KAAK,IAAI;AAAA;AAAA,EAEf,IAAE,EAAE,SAAS,IAAI,IAAI,EAAE,gBAAe,CAAAA,OAAGA,GAAE,SAAS,CAAC,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,EAGhE,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA,EAEb,KAAG,EAAE,KAAK,IAAI,iDAAiD;AAAC;;;AC9BlE,IAAME,KAAE,IAAE;;;ACAyC,SAASC,GAAEA,IAAE;AAAC,EAAAA,GAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkB1E;AAAC;;;AClBoD,IAAMC,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAY,GAAEA,IAAEC,IAAE;AAAC,UAAM,GAAE,QAAO,GAAE,CAAC,GAAEC,IAAE,MAAI,EAAE,oBAAoB,GAAEF,GAAEE,IAAE,CAAC,GAAED,EAAC,CAAC;AAAA,EAAC;AAAC;",
  "names": ["e", "o", "o", "t", "e", "o", "d", "o", "i", "e", "o", "e", "t", "o", "e"]
}
